!function(){"use strict";var t={819:function(t,e){function r(t){return"object"!=typeof t||"toString"in t?t:Object.prototype.toString.call(t).slice(8,-1)}Object.defineProperty(e,"__esModule",{value:!0});var n="object"==typeof process&&!0;function o(t,e){if(!t){if(n)throw new Error("Invariant failed");throw new Error(e())}}e.invariant=o;var a=Object.prototype.hasOwnProperty,i=Array.prototype.splice,c=Object.prototype.toString;function u(t){return c.call(t).slice(8,-1)}var s=Object.assign||function(t,e){return f(e).forEach((function(r){a.call(e,r)&&(t[r]=e[r])})),t},f="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function p(t){return Array.isArray(t)?s(t.constructor(t.length),t):"Map"===u(t)?new Map(t):"Set"===u(t)?new Set(t):t&&"object"==typeof t?s(Object.create(Object.getPrototypeOf(t)),t):t}var l=function(){function t(){this.commands=s({},d),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var r=this,n="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(n)||o(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),o("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(r.commands).join(", ")+"."}));var i=t;return f(n).forEach((function(e){if(a.call(r.commands,e)){var o=t===i;i=r.commands[e](n[e],i,n,t),o&&r.isEquals(i,t)&&(i=t)}else{var c="Map"===u(t)?r.update(t.get(e),n[e]):r.update(t[e],n[e]),s="Map"===u(i)?i.get(e):i[e];r.isEquals(c,s)&&(void 0!==c||a.call(t,e))||(i===t&&(i=p(t)),"Map"===u(i)?i.set(e,c):i[e]=c)}})),i},t}();e.Context=l;var d={$push:function(t,e,r){return h(e,r,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,r){return h(e,r,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,a){return function(t,e){o(Array.isArray(t),(function(){return"Expected $splice target to be an array; got "+r(t)})),g(e.$splice)}(e,n),t.forEach((function(t){g(t),e===a&&t.length&&(e=p(a)),i.apply(e,t)})),e},$set:function(t,e,r){return function(t){o(1===Object.keys(t).length,(function(){return"Cannot have more than one key in an object with $set"}))}(r),t},$toggle:function(t,e){y(t,"$toggle");var r=t.length?p(e):e;return t.forEach((function(t){r[t]=!e[t]})),r},$unset:function(t,e,r,n){return y(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===n&&(e=p(n)),delete e[t])})),e},$add:function(t,e,r,n){return v(e,"$add"),y(t,"$add"),"Map"===u(e)?t.forEach((function(t){var r=t[0],o=t[1];e===n&&e.get(r)!==o&&(e=p(n)),e.set(r,o)})):t.forEach((function(t){e!==n||e.has(t)||(e=p(n)),e.add(t)})),e},$remove:function(t,e,r,n){return v(e,"$remove"),y(t,"$remove"),t.forEach((function(t){e===n&&e.has(t)&&(e=p(n)),e.delete(t)})),e},$merge:function(t,e,n,a){var i,c;return i=e,o((c=t)&&"object"==typeof c,(function(){return"update(): $merge expects a spec of type 'object'; got "+r(c)})),o(i&&"object"==typeof i,(function(){return"update(): $merge expects a target of type 'object'; got "+r(i)})),f(t).forEach((function(r){t[r]!==e[r]&&(e===a&&(e=p(a)),e[r]=t[r])})),e},$apply:function(t,e){var n;return o("function"==typeof(n=t),(function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."})),t(e)}},m=new l;function h(t,e,n){o(Array.isArray(t),(function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(t)+"."})),y(e[n],n)}function y(t,e){o(Array.isArray(t),(function(){return"update(): expected spec of "+r(e)+" to be an array; got "+r(t)+". Did you forget to wrap your parameter in an array?"}))}function g(t){o(Array.isArray(t),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(t)+". Did you forget to wrap your parameters in an array?"}))}function v(t,e){var n=u(t);o("Map"===n||"Set"===n,(function(){return"update(): "+r(e)+" expects a target of type Set or Map; got "+r(n)}))}e.isEquals=m.update.isEquals,e.extend=m.extend,e.default=m.update,e.default.default=t.exports=s(e.default,e)},339:function(t){var e=Object.prototype.hasOwnProperty;function r(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function n(t,n){if(r(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(var i=0;i<o.length;i++)if(!e.call(n,o[i])||!r(t[o[i]],n[o[i]]))return!1;return!0}t.exports=function(t,e,r){return!n(t.props,e)||!n(t.state,r)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,r){return!r||"object"!==o(r)&&"function"!=typeof r?e(t):r}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=function(t){return!!t&&Object.keys(t).filter((function(e){return!!t[e]})).map((function(t){return"".concat(t)})).join(" ")},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="string"==typeof t?t:u(t),n=u(e),o=n?"".concat(r," ").concat(n):r;return o},f=r(819),p=r.n(f),l=react,d=r.n(l),m=r(339),h=r.n(m),y="show",g=function(t){var e=t.dragItem,r=t.children,n=t.dragLayerRef,o=document.getElementById(e.id);return d().createElement("div",{className:"nestable-drag-layer"},d().createElement("ol",{className:"nestable-list",ref:n,style:{width:o.clientWidth}},r))},v=function(t){var e=t.onDragStart;return d().createElement("div",{className:"list__drag",onDragStart:e,draggable:!0},d().createElement("i",{className:"material-icons"},"drag_indicator"))},b=function t(e){var r=e.item,n=e.isCopy,o=e.index,a=e.onMouseEnter,i=e.onDragStart,c=e.dragItem,u=e.renderItem,f=e.childrenProp,p=!n&&c&&c.id===r.id,l=r[f],m=r[f]&&r[f].length,h=s("nestable-item".concat(n?"-copy":""),{"is-dragging":p,"nestable-item-parent":l});return d().createElement("li",{className:h,id:r.id},d().createElement("div",{className:"nestable-item-name",onMouseEnter:function(t){return a(t,r)}},d().createElement(u,{item:r,index:o,DragHandler:function(){return d().createElement(v,{onDragStart:function(t){return i(t,r)}})}},l&&m?d().createElement("ol",{className:"nestable-list"},r[f].map((function(e,r){return d().createElement(t,{key:e.id,index:r,item:e,isCopy:n,dragItem:c,renderItem:u,childrenProp:f,onMouseEnter:a,onDragStart:i})}))):null)))};b.defaultProps={dragItem:null,isCopy:!1};var O=b,P=function t(e){var r=e.id,n=e.items,o=e.childrenProp,a=[];return n.forEach((function(e,n){if(e.id===r)a.push(n);else if(e[o]){var i=t({childrenProp:o,id:r,items:e[o]});i.length&&(a=a.concat(n).concat(i))}})),a};function j(t){var e=t.path,r=t.items,n=t.childrenProp,o=null;return e.forEach((function(t){var e=o?o[n]:r;o=e[t]})),o}var E,w=new Uint8Array(16);function x(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(w)}for(var S=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,I=function(t){return"string"==typeof t&&S.test(t)},D=[],M=0;M<256;++M)D.push((M+256).toString(16).substr(1));var $=function(t,e,r){var n=(t=t||{}).random||(t.rng||x)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(D[t[e+0]]+D[t[e+1]]+D[t[e+2]]+D[t[e+3]]+"-"+D[t[e+4]]+D[t[e+5]]+"-"+D[t[e+6]]+D[t[e+7]]+"-"+D[t[e+8]]+D[t[e+9]]+"-"+D[t[e+10]]+D[t[e+11]]+D[t[e+12]]+D[t[e+13]]+D[t[e+14]]+D[t[e+15]]).toLowerCase();if(!I(r))throw TypeError("Stringified UUID is invalid");return r}(n)};function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var R=function t(e,r){return e.map((function(e){return A(A({},e),{},c({id:e.id||$()},r,e[r]?t(e[r],r):null))}))};function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=e.numToRemove||0,o=e.itemsToInsert||[],a=t.length-1,i=r;return t.forEach((function(t,r){if(r===a)i.$splice=[[t,n].concat(C(o))];else{var u={};i[t]=c({},e.childrenProp,u),i=u}})),r};function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var q=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(b,r);var o,u,f,m,v=(f=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=i(f);if(m){var r=i(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return a(this,t)});function b(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),c(e(r=v.call(this,t)),"state",void 0),c(e(r),"el",void 0),c(e(r),"dragLayerRef",void 0),c(e(r),"mouse",void 0),c(e(r),"startTrackMouse",(function(){document.addEventListener("mousemove",r.onMouseMove),document.addEventListener("mouseup",r.onDragEnd)})),c(e(r),"stopTrackMouse",(function(){document.removeEventListener("mousemove",r.onMouseMove),document.removeEventListener("mouseup",r.onDragEnd)})),c(e(r),"onMouseEnter",(function(t,e){t.preventDefault(),t.stopPropagation();var n=r.state,o=n.dragItem,a=n.items,i=r.props.childrenProp;if(o&&o.id!==e.id){var c=P({childrenProp:i,id:o.id,items:a}),u=P({childrenProp:i,id:e.id,items:a}),s=N(N({},o),{},{status:y});r.moveItem({dragItem:s,pathFrom:c,pathTo:u})}})),c(e(r),"onMouseMove",(function(t){var e,n=r.props.childrenProp,o=r.state,a=o.dragItem,i=o.items,c=t.clientX,u=(e=t.clientY-50,{transform:"translate(".concat(c-30,"px, ").concat(e,"px)")}),s=r.dragLayerRef.current;Object.keys(u).forEach((function(t){Object.prototype.hasOwnProperty.call(u,t)&&s&&s.style&&(s.style[t]=u[t])}));var f=c-r.mouse.last.x;if(f>=0&&r.mouse.shift.x>=0||f<=0&&r.mouse.shift.x<=0?r.mouse.shift.x+=f:r.mouse.shift.x=0,r.mouse.last.x=c,a&&Math.abs(r.mouse.shift.x)){var p={childrenProp:n,dragItem:a,items:i},l=r.mouse.shift.x>0?function(t){var e=t.dragItem,r=t.items,n=t.childrenProp;if(e){var o=P({childrenProp:n,id:e.id,items:r}),a=o[o.length-1];if(a>0){var i=j({childrenProp:n,items:r,path:o.slice(0,-1).concat(a-1)});if(i[n]&&!i[n].length){var c=o.slice(0,-1).concat(a-1).concat(i[n].length);return{dragItem:e,pathFrom:o,pathTo:c}}}}}(p):function(t){var e=t.dragItem,r=t.items,n=t.childrenProp,o=P({childrenProp:n,id:e.id,items:r}),a=o[o.length-1];if(o.length>1&&a+1===j({childrenProp:n,items:r,path:o.slice(0,-1)})[n].length){var i=o.slice(0,-1);return i[i.length-1]+=1,{dragItem:e,pathFrom:o,pathTo:i}}}(p);l&&r.moveItem(l),r.mouse.shift.x=0}})),c(e(r),"onDragEnd",(function(t){t&&t.preventDefault(),r.stopTrackMouse(),r.el=null,r.dragApply()})),c(e(r),"onDragStart",(function(t,e){t.preventDefault(),t.stopPropagation(),r.el=function(t,e){for(;t;){if(t.matches&&t.matches(".nestable-item-parent"))return t;t=t.parentNode}return null}(t.target),r.startTrackMouse(),r.onMouseMove(t);var n=N(N({},e),{},{status:"hide"});r.setState({dragItem:n})})),r.state={dragItem:null,isDirty:!1,items:[]},r.dragLayerRef=(0,l.createRef)(),r.el=null,r.mouse={last:{x:0},shift:{x:0}},r}return o=b,(u=[{key:"componentDidMount",value:function(){var t=this.props.items,e=this.props.childrenProp;t=R(t,e),this.setState({items:t})}},{key:"componentDidUpdate",value:function(t){var e=this.props,r=e.items,n=e.childrenProp;h()({props:this.props,state:{}},t,{})&&(this.stopTrackMouse(),this.updateProps(r,n))}},{key:"componentWillUnmount",value:function(){this.stopTrackMouse()}},{key:"updateProps",value:function(t,e){this.setState({dragItem:null,isDirty:!1,items:R(t,e)})}},{key:"moveItem",value:function(t){var e=t.dragItem,r=t.pathFrom,n=t.pathTo,o=this.props,a=o.childrenProp,i=o.confirmChange,c=this.state.items,u=function(t){var e=t.prevPath,r=t.nextPath,n=t.items,o=t.childrenProp,a=e.length-1,i=r.length-1;if(e.length<r.length){var c=!1;return r.map((function(t,n){return c?n===i?t+1:t:"number"!=typeof e[n]?t:r[n]>e[n]&&n===a?(c=!0,t-1):t}))}if(e.length===r.length&&r[i]>e[i]){var u=j({childrenProp:o,items:n,path:r});if(u[o]&&u[o].length)return r.slice(0,-1).concat(r[i]-1).concat(0)}return r}({childrenProp:a,items:c,nextPath:n,prevPath:r});if(i(e,j({childrenProp:a,items:c,path:u.length>n.length?n:n.slice(0,-1)}))){var s=_(r,{childrenProp:a,numToRemove:1}),f=_(u,{childrenProp:a,itemsToInsert:[e],numToRemove:0});c=p()(c,s),c=p()(c,f),this.setState({isDirty:!0,items:c})}}},{key:"resetItems",value:function(t){var e=this;return t.map((function(t){return t.items&&(t.items=e.resetItems(t.items)),t.status=y,t}))}},{key:"dragApply",value:function(){var t=this.props.onChange,e=this.state,r=e.items,n=e.isDirty,o=e.dragItem;this.setState({dragItem:null,isDirty:!1});var a=this.resetItems(r);this.setState({items:a}),t&&n&&t(a,o)}},{key:"render",value:function(){var t=this,e=this.state,r=e.items,n=e.dragItem,o=this.props,a=o.renderItem,i=o.childrenProp,c=s("nestable",{"is-dragging":n});return d().createElement("div",{className:c},d().createElement("ol",{className:"nestable-list nestable-group"},r.map((function(e,r){return d().createElement(O,{dragItem:n,renderItem:a,childrenProp:i,onMouseEnter:t.onMouseEnter,onDragStart:t.onDragStart,key:e.id,index:r,item:e})}))),n&&d().createElement(g,{dragLayerRef:this.dragLayerRef,dragItem:n},d().createElement(O,{dragItem:n,renderItem:a,childrenProp:i,onMouseEnter:this.onMouseEnter,onDragStart:this.onDragStart,item:n,isCopy:!0})))}}])&&t(o.prototype,u),b}(l.Component);c(q,"defaultProps",{childrenProp:"children",confirmChange:function(){return!0},items:[],onChange:function(){},renderItem:function(t){return t.item.toString()}})}()}();