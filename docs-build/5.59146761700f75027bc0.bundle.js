(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{2294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",function(){return isDisposable}),__webpack_require__.d(__webpack_exports__,"f",function(){return dispose}),__webpack_require__.d(__webpack_exports__,"e",function(){return combinedDisposable}),__webpack_require__.d(__webpack_exports__,"h",function(){return toDisposable}),__webpack_require__.d(__webpack_exports__,"b",function(){return DisposableStore}),__webpack_require__.d(__webpack_exports__,"a",function(){return Disposable}),__webpack_require__.d(__webpack_exports__,"d",function(){return MutableDisposable}),__webpack_require__.d(__webpack_exports__,"c",function(){return ImmortalReference});var _iterator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2341);const TRACK_DISPOSABLES=!1,__is_disposable_tracked__="__is_disposable_tracked__";function markTracked(x){if(TRACK_DISPOSABLES&&x&&x!==Disposable.None)try{x[__is_disposable_tracked__]=!0}catch(_a){}}function trackDisposable(x){if(!TRACK_DISPOSABLES)return x;const stack=new Error("Potentially leaked disposable").stack;return setTimeout(()=>{x[__is_disposable_tracked__]||console.log(stack)},3e3),x}class MultiDisposeError extends Error{constructor(errors){super(`Encounter errors while disposing of store. Errors: [${errors.join(", ")}]`),this.errors=errors}}function isDisposable(thing){return"function"==typeof thing.dispose&&0===thing.dispose.length}function dispose(arg){if(_iterator_js__WEBPACK_IMPORTED_MODULE_0__.a.is(arg)){let errors=[];for(const d of arg)if(d){markTracked(d);try{d.dispose()}catch(e){errors.push(e)}}if(1===errors.length)throw errors[0];if(errors.length>1)throw new MultiDisposeError(errors);return Array.isArray(arg)?[]:arg}if(arg)return markTracked(arg),arg.dispose(),arg}function combinedDisposable(...disposables){return disposables.forEach(markTracked),trackDisposable({dispose:()=>dispose(disposables)})}function toDisposable(fn){const self=trackDisposable({dispose:()=>{markTracked(self),fn()}});return self}class DisposableStore{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(markTracked(this),this._isDisposed=!0,this.clear())}clear(){try{dispose(this._toDispose.values())}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return markTracked(t),this._isDisposed?DisposableStore.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}}DisposableStore.DISABLE_DISPOSED_WARNING=!1;class Disposable{constructor(){this._store=new DisposableStore,trackDisposable(this)}dispose(){markTracked(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}}Disposable.None=Object.freeze({dispose(){}});class MutableDisposable{constructor(){this._isDisposed=!1,trackDisposable(this)}get value(){return this._isDisposed?void 0:this._value}set value(value){this._isDisposed||value===this._value||(this._value&&this._value.dispose(),value&&markTracked(value),this._value=value)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,markTracked(this),this._value&&this._value.dispose(),this._value=void 0}}class ImmortalReference{constructor(object){this.object=object}dispose(){}}},2295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Range});var _position_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2303);class Range{constructor(startLineNumber,startColumn,endLineNumber,endColumn){startLineNumber>endLineNumber||startLineNumber===endLineNumber&&startColumn>endColumn?(this.startLineNumber=endLineNumber,this.startColumn=endColumn,this.endLineNumber=startLineNumber,this.endColumn=startColumn):(this.startLineNumber=startLineNumber,this.startColumn=startColumn,this.endLineNumber=endLineNumber,this.endColumn=endColumn)}isEmpty(){return Range.isEmpty(this)}static isEmpty(range){return range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn}containsPosition(position){return Range.containsPosition(this,position)}static containsPosition(range,position){return!(position.lineNumber<range.startLineNumber||position.lineNumber>range.endLineNumber)&&(!(position.lineNumber===range.startLineNumber&&position.column<range.startColumn)&&!(position.lineNumber===range.endLineNumber&&position.column>range.endColumn))}containsRange(range){return Range.containsRange(this,range)}static containsRange(range,otherRange){return!(otherRange.startLineNumber<range.startLineNumber||otherRange.endLineNumber<range.startLineNumber)&&(!(otherRange.startLineNumber>range.endLineNumber||otherRange.endLineNumber>range.endLineNumber)&&(!(otherRange.startLineNumber===range.startLineNumber&&otherRange.startColumn<range.startColumn)&&!(otherRange.endLineNumber===range.endLineNumber&&otherRange.endColumn>range.endColumn)))}strictContainsRange(range){return Range.strictContainsRange(this,range)}static strictContainsRange(range,otherRange){return!(otherRange.startLineNumber<range.startLineNumber||otherRange.endLineNumber<range.startLineNumber)&&(!(otherRange.startLineNumber>range.endLineNumber||otherRange.endLineNumber>range.endLineNumber)&&(!(otherRange.startLineNumber===range.startLineNumber&&otherRange.startColumn<=range.startColumn)&&!(otherRange.endLineNumber===range.endLineNumber&&otherRange.endColumn>=range.endColumn)))}plusRange(range){return Range.plusRange(this,range)}static plusRange(a,b){let startLineNumber,startColumn,endLineNumber,endColumn;return b.startLineNumber<a.startLineNumber?(startLineNumber=b.startLineNumber,startColumn=b.startColumn):b.startLineNumber===a.startLineNumber?(startLineNumber=b.startLineNumber,startColumn=Math.min(b.startColumn,a.startColumn)):(startLineNumber=a.startLineNumber,startColumn=a.startColumn),b.endLineNumber>a.endLineNumber?(endLineNumber=b.endLineNumber,endColumn=b.endColumn):b.endLineNumber===a.endLineNumber?(endLineNumber=b.endLineNumber,endColumn=Math.max(b.endColumn,a.endColumn)):(endLineNumber=a.endLineNumber,endColumn=a.endColumn),new Range(startLineNumber,startColumn,endLineNumber,endColumn)}intersectRanges(range){return Range.intersectRanges(this,range)}static intersectRanges(a,b){let resultStartLineNumber=a.startLineNumber,resultStartColumn=a.startColumn,resultEndLineNumber=a.endLineNumber,resultEndColumn=a.endColumn,otherStartLineNumber=b.startLineNumber,otherStartColumn=b.startColumn,otherEndLineNumber=b.endLineNumber,otherEndColumn=b.endColumn;return resultStartLineNumber<otherStartLineNumber?(resultStartLineNumber=otherStartLineNumber,resultStartColumn=otherStartColumn):resultStartLineNumber===otherStartLineNumber&&(resultStartColumn=Math.max(resultStartColumn,otherStartColumn)),resultEndLineNumber>otherEndLineNumber?(resultEndLineNumber=otherEndLineNumber,resultEndColumn=otherEndColumn):resultEndLineNumber===otherEndLineNumber&&(resultEndColumn=Math.min(resultEndColumn,otherEndColumn)),resultStartLineNumber>resultEndLineNumber?null:resultStartLineNumber===resultEndLineNumber&&resultStartColumn>resultEndColumn?null:new Range(resultStartLineNumber,resultStartColumn,resultEndLineNumber,resultEndColumn)}equalsRange(other){return Range.equalsRange(this,other)}static equalsRange(a,b){return!!a&&!!b&&a.startLineNumber===b.startLineNumber&&a.startColumn===b.startColumn&&a.endLineNumber===b.endLineNumber&&a.endColumn===b.endColumn}getEndPosition(){return Range.getEndPosition(this)}static getEndPosition(range){return new _position_js__WEBPACK_IMPORTED_MODULE_0__.a(range.endLineNumber,range.endColumn)}getStartPosition(){return Range.getStartPosition(this)}static getStartPosition(range){return new _position_js__WEBPACK_IMPORTED_MODULE_0__.a(range.startLineNumber,range.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(endLineNumber,endColumn){return new Range(this.startLineNumber,this.startColumn,endLineNumber,endColumn)}setStartPosition(startLineNumber,startColumn){return new Range(startLineNumber,startColumn,this.endLineNumber,this.endColumn)}collapseToStart(){return Range.collapseToStart(this)}static collapseToStart(range){return new Range(range.startLineNumber,range.startColumn,range.startLineNumber,range.startColumn)}static fromPositions(start,end=start){return new Range(start.lineNumber,start.column,end.lineNumber,end.column)}static lift(range){return range?new Range(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn):null}static isIRange(obj){return obj&&"number"==typeof obj.startLineNumber&&"number"==typeof obj.startColumn&&"number"==typeof obj.endLineNumber&&"number"==typeof obj.endColumn}static areIntersectingOrTouching(a,b){return!(a.endLineNumber<b.startLineNumber||a.endLineNumber===b.startLineNumber&&a.endColumn<b.startColumn)&&!(b.endLineNumber<a.startLineNumber||b.endLineNumber===a.startLineNumber&&b.endColumn<a.startColumn)}static areIntersecting(a,b){return!(a.endLineNumber<b.startLineNumber||a.endLineNumber===b.startLineNumber&&a.endColumn<=b.startColumn)&&!(b.endLineNumber<a.startLineNumber||b.endLineNumber===a.startLineNumber&&b.endColumn<=a.startColumn)}static compareRangesUsingStarts(a,b){if(a&&b){const aStartLineNumber=0|a.startLineNumber,bStartLineNumber=0|b.startLineNumber;if(aStartLineNumber===bStartLineNumber){const aStartColumn=0|a.startColumn,bStartColumn=0|b.startColumn;if(aStartColumn===bStartColumn){const aEndLineNumber=0|a.endLineNumber,bEndLineNumber=0|b.endLineNumber;if(aEndLineNumber===bEndLineNumber){return(0|a.endColumn)-(0|b.endColumn)}return aEndLineNumber-bEndLineNumber}return aStartColumn-bStartColumn}return aStartLineNumber-bStartLineNumber}return(a?1:0)-(b?1:0)}static compareRangesUsingEnds(a,b){return a.endLineNumber===b.endLineNumber?a.endColumn===b.endColumn?a.startLineNumber===b.startLineNumber?a.startColumn-b.startColumn:a.startLineNumber-b.startLineNumber:a.endColumn-b.endColumn:a.endLineNumber-b.endLineNumber}static spansMultipleLines(range){return range.endLineNumber>range.startLineNumber}}},2296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Event}),__webpack_require__.d(__webpack_exports__,"a",function(){return Emitter}),__webpack_require__.d(__webpack_exports__,"d",function(){return PauseableEmitter}),__webpack_require__.d(__webpack_exports__,"c",function(){return EventBufferer}),__webpack_require__.d(__webpack_exports__,"e",function(){return Relay});var Event,_errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2302),_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_linkedList_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2359);!function(Event){function once(event){return(listener,thisArgs=null,disposables)=>{let result,didFire=!1;return result=event(e=>{if(!didFire)return result?result.dispose():didFire=!0,listener.call(thisArgs,e)},null,disposables),didFire&&result.dispose(),result}}function map(event,map){return snapshot((listener,thisArgs=null,disposables)=>event(i=>listener.call(thisArgs,map(i)),null,disposables))}function forEach(event,each){return snapshot((listener,thisArgs=null,disposables)=>event(i=>{each(i),listener.call(thisArgs,i)},null,disposables))}function filter(event,filter){return snapshot((listener,thisArgs=null,disposables)=>event(e=>filter(e)&&listener.call(thisArgs,e),null,disposables))}function reduce(event,merge,initial){let output=initial;return map(event,e=>output=merge(output,e))}function snapshot(event){let listener;const emitter=new Emitter({onFirstListenerAdd(){listener=event(emitter.fire,emitter)},onLastListenerRemove(){listener.dispose()}});return emitter.event}function debounce(event,merge,delay=100,leading=!1,leakWarningThreshold){let subscription,output=void 0,handle=void 0,numDebouncedCalls=0;const emitter=new Emitter({leakWarningThreshold:leakWarningThreshold,onFirstListenerAdd(){subscription=event(cur=>{numDebouncedCalls++,output=merge(output,cur),leading&&!handle&&(emitter.fire(output),output=void 0),clearTimeout(handle),handle=setTimeout(()=>{const _output=output;output=void 0,handle=void 0,(!leading||numDebouncedCalls>1)&&emitter.fire(_output),numDebouncedCalls=0},delay)})},onLastListenerRemove(){subscription.dispose()}});return emitter.event}function latch(event){let cache,firstCall=!0;return filter(event,value=>{const shouldEmit=firstCall||value!==cache;return firstCall=!1,cache=value,shouldEmit})}Event.None=()=>_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a.None,Event.once=once,Event.map=map,Event.forEach=forEach,Event.filter=filter,Event.signal=function signal(event){return event},Event.any=function any(...events){return(listener,thisArgs=null,disposables)=>Object(_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.e)(...events.map(event=>event(e=>listener.call(thisArgs,e),null,disposables)))},Event.reduce=reduce,Event.snapshot=snapshot,Event.debounce=debounce,Event.stopwatch=function stopwatch(event){const start=(new Date).getTime();return map(once(event),_=>(new Date).getTime()-start)},Event.latch=latch,Event.buffer=function buffer(event,nextTick=!1,_buffer=[]){let buffer=_buffer.slice(),listener=event(e=>{buffer?buffer.push(e):emitter.fire(e)});const flush=()=>{buffer&&buffer.forEach(e=>emitter.fire(e)),buffer=null},emitter=new Emitter({onFirstListenerAdd(){listener||(listener=event(e=>emitter.fire(e)))},onFirstListenerDidAdd(){buffer&&(nextTick?setTimeout(flush):flush())},onLastListenerRemove(){listener&&listener.dispose(),listener=null}});return emitter.event};class ChainableEvent{constructor(event){this.event=event}map(fn){return new ChainableEvent(map(this.event,fn))}forEach(fn){return new ChainableEvent(forEach(this.event,fn))}filter(fn){return new ChainableEvent(filter(this.event,fn))}reduce(merge,initial){return new ChainableEvent(reduce(this.event,merge,initial))}latch(){return new ChainableEvent(latch(this.event))}debounce(merge,delay=100,leading=!1,leakWarningThreshold){return new ChainableEvent(debounce(this.event,merge,delay,leading,leakWarningThreshold))}on(listener,thisArgs,disposables){return this.event(listener,thisArgs,disposables)}once(listener,thisArgs,disposables){return once(this.event)(listener,thisArgs,disposables)}}Event.chain=function chain(event){return new ChainableEvent(event)},Event.fromNodeEventEmitter=function fromNodeEventEmitter(emitter,eventName,map=(id=>id)){const fn=(...args)=>result.fire(map(...args)),result=new Emitter({onFirstListenerAdd:()=>emitter.on(eventName,fn),onLastListenerRemove:()=>emitter.removeListener(eventName,fn)});return result.event},Event.fromDOMEventEmitter=function fromDOMEventEmitter(emitter,eventName,map=(id=>id)){const fn=(...args)=>result.fire(map(...args)),result=new Emitter({onFirstListenerAdd:()=>emitter.addEventListener(eventName,fn),onLastListenerRemove:()=>emitter.removeEventListener(eventName,fn)});return result.event},Event.fromPromise=function fromPromise(promise){const emitter=new Emitter;let shouldEmit=!1;return promise.then(void 0,()=>null).then(()=>{shouldEmit?emitter.fire(void 0):setTimeout(()=>emitter.fire(void 0),0)}),shouldEmit=!0,emitter.event},Event.toPromise=function toPromise(event){return new Promise(c=>once(event)(c))}}(Event||(Event={}));let _globalLeakWarningThreshold=-1;class LeakageMonitor{constructor(customThreshold,name=Math.random().toString(18).slice(2,5)){this.customThreshold=customThreshold,this.name=name,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(listenerCount){let threshold=_globalLeakWarningThreshold;if("number"==typeof this.customThreshold&&(threshold=this.customThreshold),threshold<=0||listenerCount<threshold)return;this._stacks||(this._stacks=new Map);const stack=(new Error).stack.split("\n").slice(3).join("\n"),count=this._stacks.get(stack)||0;if(this._stacks.set(stack,count+1),this._warnCountdown-=1,this._warnCountdown<=0){let topStack;this._warnCountdown=.5*threshold;let topCount=0;for(const[stack,count]of this._stacks)(!topStack||topCount<count)&&(topStack=stack,topCount=count);console.warn(`[${this.name}] potential listener LEAK detected, having ${listenerCount} listeners already. MOST frequent listener (${topCount}):`),console.warn(topStack)}return()=>{const count=this._stacks.get(stack)||0;this._stacks.set(stack,count-1)}}}class Emitter{constructor(options){this._disposed=!1,this._options=options,this._leakageMon=_globalLeakWarningThreshold>0?new LeakageMonitor(this._options&&this._options.leakWarningThreshold):void 0}get event(){return this._event||(this._event=(listener,thisArgs,disposables)=>{this._listeners||(this._listeners=new _linkedList_js__WEBPACK_IMPORTED_MODULE_2__.a);const firstListener=this._listeners.isEmpty();firstListener&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const remove=this._listeners.push(thisArgs?[listener,thisArgs]:listener);let removeMonitor,result;return firstListener&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,listener,thisArgs),this._leakageMon&&(removeMonitor=this._leakageMon.check(this._listeners.size)),result={dispose:()=>{if(removeMonitor&&removeMonitor(),result.dispose=Emitter._noop,!this._disposed&&(remove(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}}},disposables instanceof _lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b?disposables.add(result):Array.isArray(disposables)&&disposables.push(result),result}),this._event}fire(event){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new _linkedList_js__WEBPACK_IMPORTED_MODULE_2__.a);for(let listener of this._listeners)this._deliveryQueue.push([listener,event]);for(;this._deliveryQueue.size>0;){const[listener,event]=this._deliveryQueue.shift();try{"function"==typeof listener?listener.call(void 0,event):listener[0].call(listener[1],event)}catch(e){Object(_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e)}}}}dispose(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0}}Emitter._noop=function(){};class PauseableEmitter extends Emitter{constructor(options){super(options),this._isPaused=0,this._eventQueue=new _linkedList_js__WEBPACK_IMPORTED_MODULE_2__.a,this._mergeFn=options&&options.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const events=this._eventQueue.toArray();this._eventQueue.clear(),super.fire(this._mergeFn(events))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(event){this._listeners&&(0!==this._isPaused?this._eventQueue.push(event):super.fire(event))}}class EventBufferer{constructor(){this.buffers=[]}wrapEvent(event){return(listener,thisArgs,disposables)=>event(i=>{const buffer=this.buffers[this.buffers.length-1];buffer?buffer.push(()=>listener.call(thisArgs,i)):listener.call(thisArgs,i)},void 0,disposables)}bufferEvents(fn){const buffer=[];this.buffers.push(buffer);const r=fn();return this.buffers.pop(),buffer.forEach(flush=>flush()),r}}class Relay{constructor(){this.listening=!1,this.inputEvent=Event.None,this.inputEventListener=_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a.None,this.emitter=new Emitter({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(event){this.inputEvent=event,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=event(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},2297:function(module,__webpack_exports__,__webpack_require__){"use strict";function localize(data,message,...args){return function _format(message,args){let result;return result=0===args.length?message:message.replace(/\{(\d+)\}/g,function(match,rest){const index=rest[0];return void 0!==args[index]?args[index]:match})}(message,args)}__webpack_require__.d(__webpack_exports__,"a",function(){return localize})},2298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"s",function(){return clearNode}),__webpack_require__.d(__webpack_exports__,"S",function(){return removeNode}),__webpack_require__.d(__webpack_exports__,"N",function(){return isInDOM}),__webpack_require__.d(__webpack_exports__,"I",function(){return hasClass}),__webpack_require__.d(__webpack_exports__,"e",function(){return addClass}),__webpack_require__.d(__webpack_exports__,"f",function(){return addClasses}),__webpack_require__.d(__webpack_exports__,"Q",function(){return removeClass}),__webpack_require__.d(__webpack_exports__,"R",function(){return removeClasses}),__webpack_require__.d(__webpack_exports__,"ab",function(){return toggleClass}),__webpack_require__.d(__webpack_exports__,"i",function(){return addDisposableListener}),__webpack_require__.d(__webpack_exports__,"n",function(){return addStandardDisposableListener}),__webpack_require__.d(__webpack_exports__,"m",function(){return addStandardDisposableGenericMouseDownListner}),__webpack_require__.d(__webpack_exports__,"g",function(){return addDisposableGenericMouseDownListner}),__webpack_require__.d(__webpack_exports__,"h",function(){return addDisposableGenericMouseUpListner}),__webpack_require__.d(__webpack_exports__,"j",function(){return addDisposableNonBubblingMouseOutListener}),__webpack_require__.d(__webpack_exports__,"k",function(){return addDisposableNonBubblingPointerOutListener}),__webpack_require__.d(__webpack_exports__,"W",function(){return runAtThisOrScheduleAtNextAnimationFrame}),__webpack_require__.d(__webpack_exports__,"Y",function(){return scheduleAtNextAnimationFrame}),__webpack_require__.d(__webpack_exports__,"l",function(){return addDisposableThrottledListener}),__webpack_require__.d(__webpack_exports__,"z",function(){return getComputedStyle}),__webpack_require__.d(__webpack_exports__,"y",function(){return getClientArea}),__webpack_require__.d(__webpack_exports__,"F",function(){return getTopLeftOffset}),__webpack_require__.d(__webpack_exports__,"C",function(){return getDomNodePagePosition}),__webpack_require__.d(__webpack_exports__,"d",function(){return StandardWindow}),__webpack_require__.d(__webpack_exports__,"H",function(){return getTotalWidth}),__webpack_require__.d(__webpack_exports__,"B",function(){return getContentWidth}),__webpack_require__.d(__webpack_exports__,"A",function(){return getContentHeight}),__webpack_require__.d(__webpack_exports__,"G",function(){return getTotalHeight}),__webpack_require__.d(__webpack_exports__,"L",function(){return isAncestor}),__webpack_require__.d(__webpack_exports__,"w",function(){return findParentWithClass}),__webpack_require__.d(__webpack_exports__,"J",function(){return hasParentWithClass}),__webpack_require__.d(__webpack_exports__,"O",function(){return isInShadowDOM}),__webpack_require__.d(__webpack_exports__,"E",function(){return getShadowRoot}),__webpack_require__.d(__webpack_exports__,"x",function(){return getActiveElement}),__webpack_require__.d(__webpack_exports__,"v",function(){return createStyleSheet}),__webpack_require__.d(__webpack_exports__,"u",function(){return createCSSRule}),__webpack_require__.d(__webpack_exports__,"P",function(){return removeCSSRulesContainingSelector}),__webpack_require__.d(__webpack_exports__,"M",function(){return isHTMLElement}),__webpack_require__.d(__webpack_exports__,"c",function(){return EventType}),__webpack_require__.d(__webpack_exports__,"b",function(){return EventHelper}),__webpack_require__.d(__webpack_exports__,"X",function(){return saveParentsScrollTop}),__webpack_require__.d(__webpack_exports__,"V",function(){return restoreParentsScrollTop}),__webpack_require__.d(__webpack_exports__,"bb",function(){return trackFocus}),__webpack_require__.d(__webpack_exports__,"p",function(){return append}),__webpack_require__.d(__webpack_exports__,"U",function(){return reset}),__webpack_require__.d(__webpack_exports__,"a",function(){return $}),__webpack_require__.d(__webpack_exports__,"Z",function(){return show}),__webpack_require__.d(__webpack_exports__,"K",function(){return hide}),__webpack_require__.d(__webpack_exports__,"T",function(){return removeTabIndexAndUpdateFocus}),__webpack_require__.d(__webpack_exports__,"D",function(){return getElementsByTagName}),__webpack_require__.d(__webpack_exports__,"t",function(){return computeScreenAwareSize}),__webpack_require__.d(__webpack_exports__,"cb",function(){return windowOpenNoOpener}),__webpack_require__.d(__webpack_exports__,"o",function(){return animate}),__webpack_require__.d(__webpack_exports__,"r",function(){return asDomUri}),__webpack_require__.d(__webpack_exports__,"q",function(){return asCSSUrl});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2326),_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2347),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2342),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2339),_common_async_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2306),_common_errors_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2302),_common_event_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2296),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2294),_common_platform_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2305),_common_arrays_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2309),_common_network_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2330),_canIUse_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2383);function clearNode(node){for(;node.firstChild;)node.removeChild(node.firstChild)}function removeNode(node){node.parentNode&&node.parentNode.removeChild(node)}function isInDOM(node){for(;node;){if(node===document.body)return!0;node=node.parentNode||node.host}return!1}const _classList=new class{hasClass(node,className){return Boolean(className)&&node.classList&&node.classList.contains(className)}addClasses(node,...classNames){classNames.forEach(nameValue=>nameValue.split(" ").forEach(name=>this.addClass(node,name)))}addClass(node,className){className&&node.classList&&node.classList.add(className)}removeClass(node,className){className&&node.classList&&node.classList.remove(className)}removeClasses(node,...classNames){classNames.forEach(nameValue=>nameValue.split(" ").forEach(name=>this.removeClass(node,name)))}toggleClass(node,className,shouldHaveIt){node.classList&&node.classList.toggle(className,shouldHaveIt)}},hasClass=_classList.hasClass.bind(_classList),addClass=_classList.addClass.bind(_classList),addClasses=_classList.addClasses.bind(_classList),removeClass=_classList.removeClass.bind(_classList),removeClasses=_classList.removeClasses.bind(_classList),toggleClass=_classList.toggleClass.bind(_classList);class DomListener{constructor(node,type,handler,options){this._node=node,this._type=type,this._handler=handler,this._options=options||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function addDisposableListener(node,type,handler,useCaptureOrOptions){return new DomListener(node,type,handler,useCaptureOrOptions)}function _wrapAsStandardMouseEvent(handler){return function(e){return handler(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.a(e))}}let addStandardDisposableListener=function addStandardDisposableListener(node,type,handler,useCapture){let wrapHandler=handler;return"click"===type||"mousedown"===type?wrapHandler=_wrapAsStandardMouseEvent(handler):"keydown"!==type&&"keypress"!==type&&"keyup"!==type||(wrapHandler=function _wrapAsStandardKeyboardEvent(handler){return function(e){return handler(new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__.a(e))}}(handler)),addDisposableListener(node,type,wrapHandler,useCapture)},addStandardDisposableGenericMouseDownListner=function addStandardDisposableListener(node,handler,useCapture){return addDisposableGenericMouseDownListner(node,_wrapAsStandardMouseEvent(handler),useCapture)};function addDisposableGenericMouseDownListner(node,handler,useCapture){return addDisposableListener(node,_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_11__.a.pointerEvents?EventType.POINTER_DOWN:EventType.MOUSE_DOWN,handler,useCapture)}function addDisposableGenericMouseUpListner(node,handler,useCapture){return addDisposableListener(node,_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_11__.a.pointerEvents?EventType.POINTER_UP:EventType.MOUSE_UP,handler,useCapture)}function addDisposableNonBubblingMouseOutListener(node,handler){return addDisposableListener(node,"mouseout",e=>{let toElement=e.relatedTarget;for(;toElement&&toElement!==node;)toElement=toElement.parentNode;toElement!==node&&handler(e)})}function addDisposableNonBubblingPointerOutListener(node,handler){return addDisposableListener(node,"pointerout",e=>{let toElement=e.relatedTarget;for(;toElement&&toElement!==node;)toElement=toElement.parentNode;toElement!==node&&handler(e)})}let runAtThisOrScheduleAtNextAnimationFrame,scheduleAtNextAnimationFrame,_animationFrame=null;class AnimationFrameQueueItem{constructor(runner,priority=0){this._runner=runner,this.priority=priority,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Object(_common_errors_js__WEBPACK_IMPORTED_MODULE_5__.e)(e)}}static sort(a,b){return b.priority-a.priority}}!function(){let NEXT_QUEUE=[],CURRENT_QUEUE=null,animFrameRequested=!1,inAnimationFrameRunner=!1,animationFrameRunner=()=>{for(animFrameRequested=!1,CURRENT_QUEUE=NEXT_QUEUE,NEXT_QUEUE=[],inAnimationFrameRunner=!0;CURRENT_QUEUE.length>0;){CURRENT_QUEUE.sort(AnimationFrameQueueItem.sort),CURRENT_QUEUE.shift().execute()}inAnimationFrameRunner=!1};scheduleAtNextAnimationFrame=(runner,priority=0)=>{let item=new AnimationFrameQueueItem(runner,priority);return NEXT_QUEUE.push(item),animFrameRequested||(animFrameRequested=!0,function doRequestAnimationFrame(callback){if(!_animationFrame){const emulatedRequestAnimationFrame=callback=>setTimeout(()=>callback((new Date).getTime()),0);_animationFrame=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||emulatedRequestAnimationFrame}return _animationFrame.call(self,callback)}(animationFrameRunner)),item},runAtThisOrScheduleAtNextAnimationFrame=(runner,priority)=>{if(inAnimationFrameRunner){let item=new AnimationFrameQueueItem(runner,priority);return CURRENT_QUEUE.push(item),item}return scheduleAtNextAnimationFrame(runner,priority)}}();const MINIMUM_TIME_MS=16,DEFAULT_EVENT_MERGER=function(lastEvent,currentEvent){return currentEvent};class TimeoutThrottledDomListener extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.a{constructor(node,type,handler,eventMerger=DEFAULT_EVENT_MERGER,minimumTimeMs=MINIMUM_TIME_MS){super();let lastEvent=null,lastHandlerTime=0,timeout=this._register(new _common_async_js__WEBPACK_IMPORTED_MODULE_4__.e),invokeHandler=()=>{lastHandlerTime=(new Date).getTime(),handler(lastEvent),lastEvent=null};this._register(addDisposableListener(node,type,e=>{lastEvent=eventMerger(lastEvent,e);let elapsedTime=(new Date).getTime()-lastHandlerTime;elapsedTime>=minimumTimeMs?(timeout.cancel(),invokeHandler()):timeout.setIfNotSet(invokeHandler,minimumTimeMs-elapsedTime)}))}}function addDisposableThrottledListener(node,type,handler,eventMerger,minimumTimeMs){return new TimeoutThrottledDomListener(node,type,handler,eventMerger,minimumTimeMs)}function getComputedStyle(el){return document.defaultView.getComputedStyle(el,null)}function getClientArea(element){if(element!==document.body)return new Dimension(element.clientWidth,element.clientHeight);if(_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.c&&window.visualViewport){const width=window.visualViewport.width,height=window.visualViewport.height-(_browser_js__WEBPACK_IMPORTED_MODULE_0__.k?24:0);return new Dimension(width,height)}if(window.innerWidth&&window.innerHeight)return new Dimension(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Dimension(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Dimension(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class SizeUtils{static convertToPixels(element,value){return parseFloat(value)||0}static getDimension(element,cssPropertyName,jsPropertyName){let computedStyle=getComputedStyle(element),value="0";return computedStyle&&(value=computedStyle.getPropertyValue?computedStyle.getPropertyValue(cssPropertyName):computedStyle.getAttribute(jsPropertyName)),SizeUtils.convertToPixels(element,value)}static getBorderLeftWidth(element){return SizeUtils.getDimension(element,"border-left-width","borderLeftWidth")}static getBorderRightWidth(element){return SizeUtils.getDimension(element,"border-right-width","borderRightWidth")}static getBorderTopWidth(element){return SizeUtils.getDimension(element,"border-top-width","borderTopWidth")}static getBorderBottomWidth(element){return SizeUtils.getDimension(element,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(element){return SizeUtils.getDimension(element,"padding-left","paddingLeft")}static getPaddingRight(element){return SizeUtils.getDimension(element,"padding-right","paddingRight")}static getPaddingTop(element){return SizeUtils.getDimension(element,"padding-top","paddingTop")}static getPaddingBottom(element){return SizeUtils.getDimension(element,"padding-bottom","paddingBottom")}static getMarginLeft(element){return SizeUtils.getDimension(element,"margin-left","marginLeft")}static getMarginTop(element){return SizeUtils.getDimension(element,"margin-top","marginTop")}static getMarginRight(element){return SizeUtils.getDimension(element,"margin-right","marginRight")}static getMarginBottom(element){return SizeUtils.getDimension(element,"margin-bottom","marginBottom")}}class Dimension{constructor(width,height){this.width=width,this.height=height}}function getTopLeftOffset(element){let offsetParent=element.offsetParent,top=element.offsetTop,left=element.offsetLeft;for(;null!==(element=element.parentNode)&&element!==document.body&&element!==document.documentElement;){top-=element.scrollTop;const c=isShadowRoot(element)?null:getComputedStyle(element);c&&(left-="rtl"!==c.direction?element.scrollLeft:-element.scrollLeft),element===offsetParent&&(left+=SizeUtils.getBorderLeftWidth(element),top+=SizeUtils.getBorderTopWidth(element),top+=element.offsetTop,left+=element.offsetLeft,offsetParent=element.offsetParent)}return{left:left,top:top}}function getDomNodePagePosition(domNode){let bb=domNode.getBoundingClientRect();return{left:bb.left+StandardWindow.scrollX,top:bb.top+StandardWindow.scrollY,width:bb.width,height:bb.height}}const StandardWindow=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function getTotalWidth(element){let margin=SizeUtils.getMarginLeft(element)+SizeUtils.getMarginRight(element);return element.offsetWidth+margin}function getContentWidth(element){let border=SizeUtils.getBorderLeftWidth(element)+SizeUtils.getBorderRightWidth(element),padding=SizeUtils.getPaddingLeft(element)+SizeUtils.getPaddingRight(element);return element.offsetWidth-border-padding}function getContentHeight(element){let border=SizeUtils.getBorderTopWidth(element)+SizeUtils.getBorderBottomWidth(element),padding=SizeUtils.getPaddingTop(element)+SizeUtils.getPaddingBottom(element);return element.offsetHeight-border-padding}function getTotalHeight(element){let margin=SizeUtils.getMarginTop(element)+SizeUtils.getMarginBottom(element);return element.offsetHeight+margin}function isAncestor(testChild,testAncestor){for(;testChild;){if(testChild===testAncestor)return!0;testChild=testChild.parentNode}return!1}function findParentWithClass(node,clazz,stopAtClazzOrNode){for(;node&&node.nodeType===node.ELEMENT_NODE;){if(hasClass(node,clazz))return node;if(stopAtClazzOrNode)if("string"==typeof stopAtClazzOrNode){if(hasClass(node,stopAtClazzOrNode))return null}else if(node===stopAtClazzOrNode)return null;node=node.parentNode}return null}function hasParentWithClass(node,clazz,stopAtClazzOrNode){return!!findParentWithClass(node,clazz,stopAtClazzOrNode)}function isShadowRoot(node){return node&&!!node.host&&!!node.mode}function isInShadowDOM(domNode){return!!getShadowRoot(domNode)}function getShadowRoot(domNode){for(;domNode.parentNode;){if(domNode===document.body)return null;domNode=domNode.parentNode}return isShadowRoot(domNode)?domNode:null}function getActiveElement(){let result=document.activeElement;for(;null==result?void 0:result.shadowRoot;)result=result.shadowRoot.activeElement;return result}function createStyleSheet(container=document.getElementsByTagName("head")[0]){let style=document.createElement("style");return style.type="text/css",style.media="screen",container.appendChild(style),style}let _sharedStyleSheet=null;function getSharedStyleSheet(){return _sharedStyleSheet||(_sharedStyleSheet=createStyleSheet()),_sharedStyleSheet}function createCSSRule(selector,cssText,style=getSharedStyleSheet()){style&&cssText&&style.sheet.insertRule(selector+"{"+cssText+"}",0)}function removeCSSRulesContainingSelector(ruleName,style=getSharedStyleSheet()){if(!style)return;let rules=function getDynamicStyleSheetRules(style){return style&&style.sheet&&style.sheet.rules?style.sheet.rules:style&&style.sheet&&style.sheet.cssRules?style.sheet.cssRules:[]}(style),toDelete=[];for(let i=0;i<rules.length;i++){-1!==rules[i].selectorText.indexOf(ruleName)&&toDelete.push(i)}for(let i=toDelete.length-1;i>=0;i--)style.sheet.deleteRule(toDelete[i])}function isHTMLElement(o){return"object"==typeof HTMLElement?o instanceof HTMLElement:o&&"object"==typeof o&&1===o.nodeType&&"string"==typeof o.nodeName}const EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:_browser_js__WEBPACK_IMPORTED_MODULE_0__.f?"mousewheel":"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:_browser_js__WEBPACK_IMPORTED_MODULE_0__.l?"webkitAnimationStart":"animationstart",ANIMATION_END:_browser_js__WEBPACK_IMPORTED_MODULE_0__.l?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:_browser_js__WEBPACK_IMPORTED_MODULE_0__.l?"webkitAnimationIteration":"animationiteration"},EventHelper={stop:function(e,cancelBubble){e.preventDefault?e.preventDefault():e.returnValue=!1,cancelBubble&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function saveParentsScrollTop(node){let r=[];for(let i=0;node&&node.nodeType===node.ELEMENT_NODE;i++)r[i]=node.scrollTop,node=node.parentNode;return r}function restoreParentsScrollTop(node,state){for(let i=0;node&&node.nodeType===node.ELEMENT_NODE;i++)node.scrollTop!==state[i]&&(node.scrollTop=state[i]),node=node.parentNode}class FocusTracker extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.a{constructor(element){super(),this._onDidFocus=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidBlur=this._onDidBlur.event;let hasFocus=isAncestor(document.activeElement,element),loosingFocus=!1;const onFocus=()=>{loosingFocus=!1,hasFocus||(hasFocus=!0,this._onDidFocus.fire())},onBlur=()=>{hasFocus&&(loosingFocus=!0,window.setTimeout(()=>{loosingFocus&&(loosingFocus=!1,hasFocus=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{isAncestor(document.activeElement,element)!==hasFocus&&(hasFocus?onBlur():onFocus())},this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_1__.a)(element,EventType.FOCUS,!0)(onFocus)),this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_1__.a)(element,EventType.BLUR,!0)(onBlur))}}function trackFocus(element){return new FocusTracker(element)}function append(parent,...children){return children.forEach(child=>parent.appendChild(child)),children[children.length-1]}const SELECTOR_REGEX=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function reset(parent,...children){parent.innerText="",Object(_common_arrays_js__WEBPACK_IMPORTED_MODULE_9__.d)(children).forEach(child=>{child instanceof Node?parent.appendChild(child):parent.appendChild(document.createTextNode(child))})}var Namespace;function _$(namespace,description,attrs,...children){let match=SELECTOR_REGEX.exec(description);if(!match)throw new Error("Bad use of emmet");attrs=Object.assign({},attrs||{});let result,tagName=match[1]||"div";return result=namespace!==Namespace.HTML?document.createElementNS(namespace,tagName):document.createElement(tagName),match[3]&&(result.id=match[3]),match[4]&&(result.className=match[4].replace(/\./g," ").trim()),Object.keys(attrs).forEach(name=>{const value=attrs[name];void 0!==value&&(/^on\w+$/.test(name)?result[name]=value:"selected"===name?value&&result.setAttribute(name,"true"):result.setAttribute(name,value))}),Object(_common_arrays_js__WEBPACK_IMPORTED_MODULE_9__.d)(children).forEach(child=>{child instanceof Node?result.appendChild(child):result.appendChild(document.createTextNode(child))}),result}function $(description,attrs,...children){return _$(Namespace.HTML,description,attrs,...children)}function show(...elements){for(let element of elements)element.style.display="",element.removeAttribute("aria-hidden")}function hide(...elements){for(let element of elements)element.style.display="none",element.setAttribute("aria-hidden","true")}function removeTabIndexAndUpdateFocus(node){if(node&&node.hasAttribute("tabIndex")){if(document.activeElement===node){let parentFocusable=function findParentWithAttribute(node,attribute){for(;node&&node.nodeType===node.ELEMENT_NODE;){if(node instanceof HTMLElement&&node.hasAttribute(attribute))return node;node=node.parentNode}return null}(node.parentElement,"tabIndex");parentFocusable&&parentFocusable.focus()}node.removeAttribute("tabindex")}}function getElementsByTagName(tag){return Array.prototype.slice.call(document.getElementsByTagName(tag),0)}function computeScreenAwareSize(cssPx){const screenPx=window.devicePixelRatio*cssPx;return Math.max(1,Math.floor(screenPx))/window.devicePixelRatio}function windowOpenNoOpener(url){if(_common_platform_js__WEBPACK_IMPORTED_MODULE_8__.g||_browser_js__WEBPACK_IMPORTED_MODULE_0__.g)window.open(url);else{let newTab=window.open();newTab&&(newTab.opener=null,newTab.location.href=url)}}function animate(fn){const step=()=>{fn(),stepDisposable=scheduleAtNextAnimationFrame(step)};let stepDisposable=scheduleAtNextAnimationFrame(step);return Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_7__.h)(()=>stepDisposable.dispose())}function asDomUri(uri){return uri&&_common_network_js__WEBPACK_IMPORTED_MODULE_10__.b.vscodeRemote===uri.scheme?_common_network_js__WEBPACK_IMPORTED_MODULE_10__.a.rewrite(uri):uri}function asCSSUrl(uri){return uri?`url('${asDomUri(uri).toString(!0).replace(/'/g,"%27")}')`:"url('')"}!function(Namespace){Namespace.HTML="http://www.w3.org/1999/xhtml",Namespace.SVG="http://www.w3.org/2000/svg"}(Namespace||(Namespace={})),$.SVG=function(description,attrs,...children){return _$(Namespace.SVG,description,attrs,...children)},_common_network_js__WEBPACK_IMPORTED_MODULE_10__.a.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http")},2299:function(module,__webpack_exports__,__webpack_require__){"use strict";function isFalsyOrWhitespace(str){return!str||"string"!=typeof str||0===str.trim().length}function pad(n,l,char="0"){const str=""+n,r=[str];for(let i=str.length;i<l;i++)r.push(char);return r.reverse().join("")}__webpack_require__.d(__webpack_exports__,"D",function(){return isFalsyOrWhitespace}),__webpack_require__.d(__webpack_exports__,"M",function(){return pad}),__webpack_require__.d(__webpack_exports__,"x",function(){return format}),__webpack_require__.d(__webpack_exports__,"u",function(){return escape}),__webpack_require__.d(__webpack_exports__,"v",function(){return escapeRegExpCharacters}),__webpack_require__.d(__webpack_exports__,"W",function(){return trim}),__webpack_require__.d(__webpack_exports__,"K",function(){return ltrim}),__webpack_require__.d(__webpack_exports__,"Q",function(){return rtrim}),__webpack_require__.d(__webpack_exports__,"p",function(){return convertSimple2RegExpPattern}),__webpack_require__.d(__webpack_exports__,"V",function(){return stripWildcards}),__webpack_require__.d(__webpack_exports__,"S",function(){return startsWith}),__webpack_require__.d(__webpack_exports__,"s",function(){return endsWith}),__webpack_require__.d(__webpack_exports__,"q",function(){return createRegExp}),__webpack_require__.d(__webpack_exports__,"P",function(){return regExpLeadsToEndlessLoop}),__webpack_require__.d(__webpack_exports__,"O",function(){return regExpFlags}),__webpack_require__.d(__webpack_exports__,"w",function(){return firstNonWhitespaceIndex}),__webpack_require__.d(__webpack_exports__,"z",function(){return getLeadingWhitespace}),__webpack_require__.d(__webpack_exports__,"J",function(){return lastNonWhitespaceIndex}),__webpack_require__.d(__webpack_exports__,"f",function(){return compare}),__webpack_require__.d(__webpack_exports__,"h",function(){return compareSubstring}),__webpack_require__.d(__webpack_exports__,"g",function(){return compareIgnoreCase}),__webpack_require__.d(__webpack_exports__,"i",function(){return compareSubstringIgnoreCase}),__webpack_require__.d(__webpack_exports__,"H",function(){return isLowerAsciiLetter}),__webpack_require__.d(__webpack_exports__,"I",function(){return isUpperAsciiLetter}),__webpack_require__.d(__webpack_exports__,"t",function(){return equalsIgnoreCase}),__webpack_require__.d(__webpack_exports__,"T",function(){return startsWithIgnoreCase}),__webpack_require__.d(__webpack_exports__,"d",function(){return commonPrefixLength}),__webpack_require__.d(__webpack_exports__,"e",function(){return commonSuffixLength}),__webpack_require__.d(__webpack_exports__,"F",function(){return isHighSurrogate}),__webpack_require__.d(__webpack_exports__,"G",function(){return isLowSurrogate}),__webpack_require__.d(__webpack_exports__,"j",function(){return computeCodePoint}),__webpack_require__.d(__webpack_exports__,"A",function(){return getNextCodePoint}),__webpack_require__.d(__webpack_exports__,"L",function(){return nextCharLength}),__webpack_require__.d(__webpack_exports__,"N",function(){return prevCharLength}),__webpack_require__.d(__webpack_exports__,"r",function(){return decodeUTF8}),__webpack_require__.d(__webpack_exports__,"m",function(){return containsRTL}),__webpack_require__.d(__webpack_exports__,"k",function(){return containsEmoji}),__webpack_require__.d(__webpack_exports__,"B",function(){return isBasicASCII}),__webpack_require__.d(__webpack_exports__,"a",function(){return UNUSUAL_LINE_TERMINATORS}),__webpack_require__.d(__webpack_exports__,"n",function(){return containsUnusualLineTerminators}),__webpack_require__.d(__webpack_exports__,"l",function(){return containsFullWidthCharacter}),__webpack_require__.d(__webpack_exports__,"E",function(){return isFullWidthCharacter}),__webpack_require__.d(__webpack_exports__,"C",function(){return isEmojiImprecise}),__webpack_require__.d(__webpack_exports__,"b",function(){return UTF8_BOM_CHARACTER}),__webpack_require__.d(__webpack_exports__,"U",function(){return startsWithUTF8BOM}),__webpack_require__.d(__webpack_exports__,"o",function(){return containsUppercaseCharacter}),__webpack_require__.d(__webpack_exports__,"R",function(){return singleLetterHash}),__webpack_require__.d(__webpack_exports__,"y",function(){return getGraphemeBreakType}),__webpack_require__.d(__webpack_exports__,"c",function(){return breakBetweenGraphemeBreakType});const _formatRegexp=/{(\d+)}/g;function format(value,...args){return 0===args.length?value:value.replace(_formatRegexp,function(match,group){const idx=parseInt(group,10);return isNaN(idx)||idx<0||idx>=args.length?match:args[idx]})}function escape(html){return html.replace(/[<>&]/g,function(match){switch(match){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return match}})}function escapeRegExpCharacters(value){return value.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function trim(haystack,needle=" "){return rtrim(ltrim(haystack,needle),needle)}function ltrim(haystack,needle){if(!haystack||!needle)return haystack;const needleLen=needle.length;if(0===needleLen||0===haystack.length)return haystack;let offset=0;for(;haystack.indexOf(needle,offset)===offset;)offset+=needleLen;return haystack.substring(offset)}function rtrim(haystack,needle){if(!haystack||!needle)return haystack;const needleLen=needle.length,haystackLen=haystack.length;if(0===needleLen||0===haystackLen)return haystack;let offset=haystackLen,idx=-1;for(;-1!==(idx=haystack.lastIndexOf(needle,offset-1))&&idx+needleLen===offset;){if(0===idx)return"";offset=idx}return haystack.substring(0,offset)}function convertSimple2RegExpPattern(pattern){return pattern.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function stripWildcards(pattern){return pattern.replace(/\*/g,"")}function startsWith(haystack,needle){if(haystack.length<needle.length)return!1;if(haystack===needle)return!0;for(let i=0;i<needle.length;i++)if(haystack[i]!==needle[i])return!1;return!0}function endsWith(haystack,needle){const diff=haystack.length-needle.length;return diff>0?haystack.indexOf(needle,diff)===diff:0===diff&&haystack===needle}function createRegExp(searchString,isRegex,options={}){if(!searchString)throw new Error("Cannot create regex from empty string");isRegex||(searchString=escapeRegExpCharacters(searchString)),options.wholeWord&&(/\B/.test(searchString.charAt(0))||(searchString="\\b"+searchString),/\B/.test(searchString.charAt(searchString.length-1))||(searchString+="\\b"));let modifiers="";return options.global&&(modifiers+="g"),options.matchCase||(modifiers+="i"),options.multiline&&(modifiers+="m"),options.unicode&&(modifiers+="u"),new RegExp(searchString,modifiers)}function regExpLeadsToEndlessLoop(regexp){if("^"===regexp.source||"^$"===regexp.source||"$"===regexp.source||"^\\s*$"===regexp.source)return!1;return!(!regexp.exec("")||0!==regexp.lastIndex)}function regExpFlags(regexp){return(regexp.global?"g":"")+(regexp.ignoreCase?"i":"")+(regexp.multiline?"m":"")+(regexp.unicode?"u":"")}function firstNonWhitespaceIndex(str){for(let i=0,len=str.length;i<len;i++){const chCode=str.charCodeAt(i);if(32!==chCode&&9!==chCode)return i}return-1}function getLeadingWhitespace(str,start=0,end=str.length){for(let i=start;i<end;i++){const chCode=str.charCodeAt(i);if(32!==chCode&&9!==chCode)return str.substring(start,i)}return str.substring(start,end)}function lastNonWhitespaceIndex(str,startIndex=str.length-1){for(let i=startIndex;i>=0;i--){const chCode=str.charCodeAt(i);if(32!==chCode&&9!==chCode)return i}return-1}function compare(a,b){return a<b?-1:a>b?1:0}function compareSubstring(a,b,aStart=0,aEnd=a.length,bStart=0,bEnd=b.length){for(;aStart<aEnd&&bStart<bEnd;aStart++,bStart++){let codeA=a.charCodeAt(aStart),codeB=b.charCodeAt(bStart);if(codeA<codeB)return-1;if(codeA>codeB)return 1}const aLen=aEnd-aStart,bLen=bEnd-bStart;return aLen<bLen?-1:aLen>bLen?1:0}function compareIgnoreCase(a,b){return compareSubstringIgnoreCase(a,b,0,a.length,0,b.length)}function compareSubstringIgnoreCase(a,b,aStart=0,aEnd=a.length,bStart=0,bEnd=b.length){for(;aStart<aEnd&&bStart<bEnd;aStart++,bStart++){let codeA=a.charCodeAt(aStart),codeB=b.charCodeAt(bStart);if(codeA===codeB)continue;const diff=codeA-codeB;if((32!==diff||!isUpperAsciiLetter(codeB))&&(-32!==diff||!isUpperAsciiLetter(codeA)))return isLowerAsciiLetter(codeA)&&isLowerAsciiLetter(codeB)?diff:compareSubstring(a.toLowerCase(),b.toLowerCase(),aStart,aEnd,bStart,bEnd)}const aLen=aEnd-aStart,bLen=bEnd-bStart;return aLen<bLen?-1:aLen>bLen?1:0}function isLowerAsciiLetter(code){return code>=97&&code<=122}function isUpperAsciiLetter(code){return code>=65&&code<=90}function isAsciiLetter(code){return isLowerAsciiLetter(code)||isUpperAsciiLetter(code)}function equalsIgnoreCase(a,b){return a.length===b.length&&doEqualsIgnoreCase(a,b)}function doEqualsIgnoreCase(a,b,stopAt=a.length){for(let i=0;i<stopAt;i++){const codeA=a.charCodeAt(i),codeB=b.charCodeAt(i);if(codeA!==codeB)if(isAsciiLetter(codeA)&&isAsciiLetter(codeB)){const diff=Math.abs(codeA-codeB);if(0!==diff&&32!==diff)return!1}else if(String.fromCharCode(codeA).toLowerCase()!==String.fromCharCode(codeB).toLowerCase())return!1}return!0}function startsWithIgnoreCase(str,candidate){const candidateLength=candidate.length;return!(candidate.length>str.length)&&doEqualsIgnoreCase(str,candidate,candidateLength)}function commonPrefixLength(a,b){let i,len=Math.min(a.length,b.length);for(i=0;i<len;i++)if(a.charCodeAt(i)!==b.charCodeAt(i))return i;return len}function commonSuffixLength(a,b){let i,len=Math.min(a.length,b.length);const aLastIndex=a.length-1,bLastIndex=b.length-1;for(i=0;i<len;i++)if(a.charCodeAt(aLastIndex-i)!==b.charCodeAt(bLastIndex-i))return i;return len}function isHighSurrogate(charCode){return 55296<=charCode&&charCode<=56319}function isLowSurrogate(charCode){return 56320<=charCode&&charCode<=57343}function computeCodePoint(highSurrogate,lowSurrogate){return lowSurrogate-56320+(highSurrogate-55296<<10)+65536}function getNextCodePoint(str,len,offset){const charCode=str.charCodeAt(offset);if(isHighSurrogate(charCode)&&offset+1<len){const nextCharCode=str.charCodeAt(offset+1);if(isLowSurrogate(nextCharCode))return computeCodePoint(charCode,nextCharCode)}return charCode}function getPrevCodePoint(str,offset){const charCode=str.charCodeAt(offset-1);if(isLowSurrogate(charCode)&&offset>1){const prevCharCode=str.charCodeAt(offset-2);if(isHighSurrogate(prevCharCode))return computeCodePoint(prevCharCode,charCode)}return charCode}function nextCharLength(str,offset){const graphemeBreakTree=GraphemeBreakTree.getInstance(),initialOffset=offset,len=str.length,initialCodePoint=getNextCodePoint(str,len,offset);offset+=initialCodePoint>=65536?2:1;let graphemeBreakType=graphemeBreakTree.getGraphemeBreakType(initialCodePoint);for(;offset<len;){const nextCodePoint=getNextCodePoint(str,len,offset),nextGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(nextCodePoint);if(breakBetweenGraphemeBreakType(graphemeBreakType,nextGraphemeBreakType))break;offset+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}return offset-initialOffset}function prevCharLength(str,offset){const graphemeBreakTree=GraphemeBreakTree.getInstance(),initialOffset=offset,initialCodePoint=getPrevCodePoint(str,offset);offset-=initialCodePoint>=65536?2:1;let graphemeBreakType=graphemeBreakTree.getGraphemeBreakType(initialCodePoint);for(;offset>0;){const prevCodePoint=getPrevCodePoint(str,offset),prevGraphemeBreakType=graphemeBreakTree.getGraphemeBreakType(prevCodePoint);if(breakBetweenGraphemeBreakType(prevGraphemeBreakType,graphemeBreakType))break;offset-=prevCodePoint>=65536?2:1,graphemeBreakType=prevGraphemeBreakType}return initialOffset-offset}function decodeUTF8(buffer){const len=buffer.byteLength,result=[];let offset=0;for(;offset<len;){const v0=buffer[offset];let codePoint;if((codePoint=v0>=240&&offset+3<len?(7&buffer[offset++])<<18>>>0|(63&buffer[offset++])<<12>>>0|(63&buffer[offset++])<<6>>>0|(63&buffer[offset++])<<0>>>0:v0>=224&&offset+2<len?(15&buffer[offset++])<<12>>>0|(63&buffer[offset++])<<6>>>0|(63&buffer[offset++])<<0>>>0:v0>=192&&offset+1<len?(31&buffer[offset++])<<6>>>0|(63&buffer[offset++])<<0>>>0:buffer[offset++])>=0&&codePoint<=55295||codePoint>=57344&&codePoint<=65535)result.push(String.fromCharCode(codePoint));else if(codePoint>=65536&&codePoint<=1114111){const uPrime=codePoint-65536,w1=55296+((1047552&uPrime)>>>10),w2=56320+((1023&uPrime)>>>0);result.push(String.fromCharCode(w1)),result.push(String.fromCharCode(w2))}else result.push(String.fromCharCode(65533))}return result.join("")}const CONTAINS_RTL=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function containsRTL(str){return CONTAINS_RTL.test(str)}const CONTAINS_EMOJI=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;function containsEmoji(str){return CONTAINS_EMOJI.test(str)}const IS_BASIC_ASCII=/^[\t\n\r\x20-\x7E]*$/;function isBasicASCII(str){return IS_BASIC_ASCII.test(str)}const UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function containsUnusualLineTerminators(str){return UNUSUAL_LINE_TERMINATORS.test(str)}function containsFullWidthCharacter(str){for(let i=0,len=str.length;i<len;i++)if(isFullWidthCharacter(str.charCodeAt(i)))return!0;return!1}function isFullWidthCharacter(charCode){return(charCode=+charCode)>=11904&&charCode<=55215||charCode>=63744&&charCode<=64255||charCode>=65281&&charCode<=65374}function isEmojiImprecise(x){return x>=127462&&x<=127487||x>=9728&&x<=10175||x>=127744&&x<=128591||x>=128640&&x<=128764||x>=128992&&x<=129003||x>=129280&&x<=129535||x>=129648&&x<=129651||x>=129656&&x<=129666||x>=129680&&x<=129685}const UTF8_BOM_CHARACTER=String.fromCharCode(65279);function startsWithUTF8BOM(str){return!!(str&&str.length>0&&65279===str.charCodeAt(0))}function containsUppercaseCharacter(target,ignoreEscapedChars=!1){return!!target&&(ignoreEscapedChars&&(target=target.replace(/\\./g,"")),target.toLowerCase()!==target)}function singleLetterHash(n){return(n%=52)<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function getGraphemeBreakType(codePoint){return GraphemeBreakTree.getInstance().getGraphemeBreakType(codePoint)}function breakBetweenGraphemeBreakType(breakTypeA,breakTypeB){return 0===breakTypeA?5!==breakTypeB&&7!==breakTypeB:(2!==breakTypeA||3!==breakTypeB)&&(4===breakTypeA||2===breakTypeA||3===breakTypeA||(4===breakTypeB||2===breakTypeB||3===breakTypeB||(8!==breakTypeA||8!==breakTypeB&&9!==breakTypeB&&11!==breakTypeB&&12!==breakTypeB)&&((11!==breakTypeA&&9!==breakTypeA||9!==breakTypeB&&10!==breakTypeB)&&((12!==breakTypeA&&10!==breakTypeA||10!==breakTypeB)&&(5!==breakTypeB&&13!==breakTypeB&&(7!==breakTypeB&&(1!==breakTypeA&&((13!==breakTypeA||14!==breakTypeB)&&(6!==breakTypeA||6!==breakTypeB)))))))))}class GraphemeBreakTree{constructor(){this._data=function getGraphemeBreakRawData(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}()}static getInstance(){return GraphemeBreakTree._INSTANCE||(GraphemeBreakTree._INSTANCE=new GraphemeBreakTree),GraphemeBreakTree._INSTANCE}getGraphemeBreakType(codePoint){if(codePoint<32)return 10===codePoint?3:13===codePoint?2:4;if(codePoint<127)return 0;const data=this._data,nodeCount=data.length/3;let nodeIndex=1;for(;nodeIndex<=nodeCount;)if(codePoint<data[3*nodeIndex])nodeIndex*=2;else{if(!(codePoint>data[3*nodeIndex+1]))return data[3*nodeIndex+2];nodeIndex=2*nodeIndex+1}return 0}}GraphemeBreakTree._INSTANCE=null},2300:function(module,__webpack_exports__,__webpack_require__){"use strict";var _util;__webpack_require__.d(__webpack_exports__,"b",function(){return _util}),__webpack_require__.d(__webpack_exports__,"a",function(){return IInstantiationService}),__webpack_require__.d(__webpack_exports__,"c",function(){return createDecorator}),__webpack_require__.d(__webpack_exports__,"d",function(){return optional}),function(_util){_util.serviceIds=new Map,_util.DI_TARGET="$di$target",_util.DI_DEPENDENCIES="$di$dependencies",_util.getServiceDependencies=function getServiceDependencies(ctor){return ctor[_util.DI_DEPENDENCIES]||[]}}(_util||(_util={}));const IInstantiationService=createDecorator("instantiationService");function storeServiceDependency(id,target,index,optional){target[_util.DI_TARGET]===target?target[_util.DI_DEPENDENCIES].push({id:id,index:index,optional:optional}):(target[_util.DI_DEPENDENCIES]=[{id:id,index:index,optional:optional}],target[_util.DI_TARGET]=target)}function createDecorator(serviceId){if(_util.serviceIds.has(serviceId))return _util.serviceIds.get(serviceId);const id=function(target,key,index){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");storeServiceDependency(id,target,index,!1)};return id.toString=()=>serviceId,_util.serviceIds.set(serviceId,id),id}function optional(serviceIdentifier){return function(target,key,index){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");storeServiceDependency(serviceIdentifier,target,index,!0)}}},2301:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Command}),__webpack_require__.d(__webpack_exports__,"e",function(){return MultiCommand}),__webpack_require__.d(__webpack_exports__,"c",function(){return EditorCommand}),__webpack_require__.d(__webpack_exports__,"b",function(){return EditorAction}),__webpack_require__.d(__webpack_exports__,"f",function(){return MultiEditorAction}),__webpack_require__.d(__webpack_exports__,"o",function(){return registerLanguageCommand}),__webpack_require__.d(__webpack_exports__,"j",function(){return registerDefaultLanguageCommand}),__webpack_require__.d(__webpack_exports__,"p",function(){return registerModelAndPositionCommand}),__webpack_require__.d(__webpack_exports__,"q",function(){return registerModelCommand}),__webpack_require__.d(__webpack_exports__,"l",function(){return registerEditorCommand}),__webpack_require__.d(__webpack_exports__,"k",function(){return registerEditorAction}),__webpack_require__.d(__webpack_exports__,"r",function(){return registerMultiEditorAction}),__webpack_require__.d(__webpack_exports__,"n",function(){return registerInstantiatedEditorAction}),__webpack_require__.d(__webpack_exports__,"m",function(){return registerEditorContribution}),__webpack_require__.d(__webpack_exports__,"d",function(){return EditorExtensionsRegistry}),__webpack_require__.d(__webpack_exports__,"i",function(){return UndoCommand}),__webpack_require__.d(__webpack_exports__,"g",function(){return RedoCommand}),__webpack_require__.d(__webpack_exports__,"h",function(){return SelectAllCommand});var EditorExtensionsRegistry,_nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2302),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2313),_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2317),_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2303),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2336),_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2385),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2323),_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2318),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2307),_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2367),_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2324),_platform_telemetry_common_telemetry_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2368),_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2314);class Command{constructor(opts){this.id=opts.id,this.precondition=opts.precondition,this._kbOpts=opts.kbOpts,this._menuOpts=opts.menuOpts,this._description=opts.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let kbWhen=this._kbOpts.kbExpr;this.precondition&&(kbWhen=kbWhen?_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_9__.a.and(kbWhen,this.precondition):this.precondition),_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_10__.a.registerCommandAndKeybindingRule({id:this.id,handler:(accessor,args)=>this.runCommand(accessor,args),weight:this._kbOpts.weight,args:this._kbOpts.args,when:kbWhen,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_8__.a.registerCommand({id:this.id,handler:(accessor,args)=>this.runCommand(accessor,args),description:this._description})}_registerMenuItem(item){_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.d.appendMenuItem(item.menuId,{group:item.group,command:{id:this.id,title:item.title,icon:item.icon},when:item.when,order:item.order})}}class MultiCommand extends Command{constructor(){super(...arguments),this._implementations=[]}addImplementation(priority,implementation){return this._implementations.push([priority,implementation]),this._implementations.sort((a,b)=>b[0]-a[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===implementation)return void this._implementations.splice(i,1)}}}runCommand(accessor,args){for(const impl of this._implementations)if(impl[1](accessor,args))return}}class ProxyCommand extends Command{constructor(command,opts){super(opts),this.command=command}runCommand(accessor,args){return this.command.runCommand(accessor,args)}}class EditorCommand extends Command{static bindToContribution(controllerGetter){return class EditorControllerCommandImpl extends EditorCommand{constructor(opts){super(opts),this._callback=opts.handler}runEditorCommand(accessor,editor,args){controllerGetter(editor)&&this._callback(controllerGetter(editor),args)}}}runCommand(accessor,args){const codeEditorService=accessor.get(_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__.a),editor=codeEditorService.getFocusedCodeEditor()||codeEditorService.getActiveCodeEditor();if(editor)return editor.invokeWithinContext(editorAccessor=>{if(editorAccessor.get(_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_9__.b).contextMatchesRules(Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.n)(this.precondition)))return this.runEditorCommand(editorAccessor,editor,args)})}}class EditorAction extends EditorCommand{constructor(opts){super(EditorAction.convertOptions(opts)),this.label=opts.label,this.alias=opts.alias}static convertOptions(opts){let menuOpts;function withDefaults(item){return item.menuId||(item.menuId=_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.EditorContext),item.title||(item.title=opts.label),item.when=_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_9__.a.and(opts.precondition,item.when),item}return menuOpts=Array.isArray(opts.menuOpts)?opts.menuOpts:opts.menuOpts?[opts.menuOpts]:[],Array.isArray(opts.contextMenuOpts)?menuOpts.push(...opts.contextMenuOpts.map(withDefaults)):opts.contextMenuOpts&&menuOpts.push(withDefaults(opts.contextMenuOpts)),opts.menuOpts=menuOpts,opts}runEditorCommand(accessor,editor,args){return this.reportTelemetry(accessor,editor),this.run(accessor,editor,args||{})}reportTelemetry(accessor,editor){accessor.get(_platform_telemetry_common_telemetry_js__WEBPACK_IMPORTED_MODULE_12__.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class MultiEditorAction extends EditorAction{constructor(opts){super(opts),this._implementations=[]}runEditorCommand(accessor,editor,args){this.reportTelemetry(accessor,editor);for(const impl of this._implementations)if(impl[1](accessor,args))return;return this.run(accessor,editor,args||{})}}function registerLanguageCommand(id,handler){_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_8__.a.registerCommand(id,(accessor,args)=>handler(accessor,args||{}))}function registerDefaultLanguageCommand(id,handler){registerLanguageCommand(id,function(accessor,args){const{resource:resource,position:position}=args;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)("resource");if(!_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__.a.isIPosition(position))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)("position");const model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_5__.a).getModel(resource);if(model){const editorPosition=_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__.a.lift(position);return handler(model,editorPosition,args)}return accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_6__.a).createModelReference(resource).then(reference=>new Promise((resolve,reject)=>{try{resolve(handler(reference.object.textEditorModel,_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__.a.lift(position),args))}catch(err){reject(err)}}).finally(()=>{reference.dispose()}))})}function registerModelAndPositionCommand(id,handler){_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_8__.a.registerCommand(id,function(accessor,...args){const[resource,position]=args;Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.b)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.isUri(resource)),Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.b)(_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__.a.isIPosition(position));const model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_5__.a).getModel(resource);if(model){const editorPosition=_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__.a.lift(position);return handler(model,editorPosition,...args.slice(2))}return accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_6__.a).createModelReference(resource).then(reference=>new Promise((resolve,reject)=>{try{resolve(handler(reference.object.textEditorModel,_common_core_position_js__WEBPACK_IMPORTED_MODULE_4__.a.lift(position),args.slice(2)))}catch(err){reject(err)}}).finally(()=>{reference.dispose()}))})}function registerModelCommand(id,handler){_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_8__.a.registerCommand(id,function(accessor,...args){const[resource]=args;Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_13__.b)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.isUri(resource));const model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_5__.a).getModel(resource);return model?handler(model,...args.slice(1)):accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_6__.a).createModelReference(resource).then(reference=>new Promise((resolve,reject)=>{try{resolve(handler(reference.object.textEditorModel,args.slice(1)))}catch(err){reject(err)}}).finally(()=>{reference.dispose()}))})}function registerEditorCommand(editorCommand){return EditorContributionRegistry.INSTANCE.registerEditorCommand(editorCommand),editorCommand}function registerEditorAction(ctor){const action=new ctor;return EditorContributionRegistry.INSTANCE.registerEditorAction(action),action}function registerMultiEditorAction(action){return EditorContributionRegistry.INSTANCE.registerEditorAction(action),action}function registerInstantiatedEditorAction(editorAction){EditorContributionRegistry.INSTANCE.registerEditorAction(editorAction)}function registerEditorContribution(id,ctor){EditorContributionRegistry.INSTANCE.registerEditorContribution(id,ctor)}!function(EditorExtensionsRegistry){EditorExtensionsRegistry.getEditorCommand=function getEditorCommand(commandId){return EditorContributionRegistry.INSTANCE.getEditorCommand(commandId)},EditorExtensionsRegistry.getEditorActions=function getEditorActions(){return EditorContributionRegistry.INSTANCE.getEditorActions()},EditorExtensionsRegistry.getEditorContributions=function getEditorContributions(){return EditorContributionRegistry.INSTANCE.getEditorContributions()},EditorExtensionsRegistry.getSomeEditorContributions=function getSomeEditorContributions(ids){return EditorContributionRegistry.INSTANCE.getEditorContributions().filter(c=>ids.indexOf(c.id)>=0)},EditorExtensionsRegistry.getDiffEditorContributions=function getDiffEditorContributions(){return EditorContributionRegistry.INSTANCE.getDiffEditorContributions()}}(EditorExtensionsRegistry||(EditorExtensionsRegistry={}));class EditorContributionRegistry{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(id,ctor){this.editorContributions.push({id:id,ctor:ctor})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(action){action.register(),this.editorActions.push(action)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(editorCommand){editorCommand.register(),this.editorCommands[editorCommand.id]=editorCommand}getEditorCommand(commandId){return this.editorCommands[commandId]||null}}function registerCommand(command){return command.register(),command}EditorContributionRegistry.INSTANCE=new EditorContributionRegistry,_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_11__.a.add("editor.contributions",EditorContributionRegistry.INSTANCE);const UndoCommand=registerCommand(new MultiCommand({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.MenubarEditMenu,group:"1_do",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.CommandPalette,group:"",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("undo","Undo"),order:1}]}));registerCommand(new ProxyCommand(UndoCommand,{id:"default:undo",precondition:void 0}));const RedoCommand=registerCommand(new MultiCommand({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.MenubarEditMenu,group:"1_do",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.CommandPalette,group:"",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("redo","Redo"),order:1}]}));registerCommand(new ProxyCommand(RedoCommand,{id:"default:redo",precondition:void 0}));const SelectAllCommand=registerCommand(new MultiCommand({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.MenubarSelectionMenu,group:"1_basic",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.CommandPalette,group:"",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectAll","Select All"),order:1}]}))},2302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return onUnexpectedError}),__webpack_require__.d(__webpack_exports__,"f",function(){return onUnexpectedExternalError}),__webpack_require__.d(__webpack_exports__,"g",function(){return transformErrorForSerialization}),__webpack_require__.d(__webpack_exports__,"d",function(){return isPromiseCanceledError}),__webpack_require__.d(__webpack_exports__,"a",function(){return canceled}),__webpack_require__.d(__webpack_exports__,"b",function(){return illegalArgument}),__webpack_require__.d(__webpack_exports__,"c",function(){return illegalState});const errorHandler=new class ErrorHandler{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}emit(e){this.listeners.forEach(listener=>{listener(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function onUnexpectedError(e){isPromiseCanceledError(e)||errorHandler.onUnexpectedError(e)}function onUnexpectedExternalError(e){isPromiseCanceledError(e)||errorHandler.onUnexpectedExternalError(e)}function transformErrorForSerialization(error){if(error instanceof Error){let{name:name,message:message}=error;return{$isError:!0,name:name,message:message,stack:error.stacktrace||error.stack}}return error}const canceledName="Canceled";function isPromiseCanceledError(error){return error instanceof Error&&error.name===canceledName&&error.message===canceledName}function canceled(){const error=new Error(canceledName);return error.name=error.message,error}function illegalArgument(name){return name?new Error(`Illegal argument: ${name}`):new Error("Illegal argument")}function illegalState(name){return name?new Error(`Illegal state: ${name}`):new Error("Illegal state")}},2303:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Position});class Position{constructor(lineNumber,column){this.lineNumber=lineNumber,this.column=column}with(newLineNumber=this.lineNumber,newColumn=this.column){return newLineNumber===this.lineNumber&&newColumn===this.column?this:new Position(newLineNumber,newColumn)}delta(deltaLineNumber=0,deltaColumn=0){return this.with(this.lineNumber+deltaLineNumber,this.column+deltaColumn)}equals(other){return Position.equals(this,other)}static equals(a,b){return!a&&!b||!!a&&!!b&&a.lineNumber===b.lineNumber&&a.column===b.column}isBefore(other){return Position.isBefore(this,other)}static isBefore(a,b){return a.lineNumber<b.lineNumber||!(b.lineNumber<a.lineNumber)&&a.column<b.column}isBeforeOrEqual(other){return Position.isBeforeOrEqual(this,other)}static isBeforeOrEqual(a,b){return a.lineNumber<b.lineNumber||!(b.lineNumber<a.lineNumber)&&a.column<=b.column}static compare(a,b){let aLineNumber=0|a.lineNumber,bLineNumber=0|b.lineNumber;if(aLineNumber===bLineNumber){return(0|a.column)-(0|b.column)}return aLineNumber-bLineNumber}clone(){return new Position(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(pos){return new Position(pos.lineNumber,pos.column)}static isIPosition(obj){return obj&&"number"==typeof obj.lineNumber&&"number"==typeof obj.column}}},2304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return IThemeService}),__webpack_require__.d(__webpack_exports__,"h",function(){return themeColorFromId}),__webpack_require__.d(__webpack_exports__,"e",function(){return ThemeIcon}),__webpack_require__.d(__webpack_exports__,"b",function(){return HIGH_CONTRAST}),__webpack_require__.d(__webpack_exports__,"f",function(){return getThemeTypeSelector}),__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions}),__webpack_require__.d(__webpack_exports__,"g",function(){return registerThemingParticipant}),__webpack_require__.d(__webpack_exports__,"d",function(){return Themable});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2324),_base_common_event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2296);const IThemeService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("themeService");function themeColorFromId(id){return{id:id}}var ThemeIcon;!function(ThemeIcon){ThemeIcon.isThemeIcon=function isThemeIcon(obj){return obj&&"object"==typeof obj&&"string"==typeof obj.id};const _regexFromString=/^\$\(([a-z.]+\/)?([a-z-~]+)\)$/i;ThemeIcon.fromString=function fromString(str){const match=_regexFromString.exec(str);if(!match)return;let[,owner,name]=match;return owner||(owner="codicon/"),{id:owner+name}};const _regexAsClassName=/^(codicon\/)?([a-z-]+)(~[a-z]+)?$/i;ThemeIcon.asClassName=function asClassName(icon){const match=_regexAsClassName.exec(icon.id);if(!match)return;let[,,name,modifier]=match,className=`codicon codicon-${name}`;return modifier&&(className+=` ${modifier.substr(1)}`),className}}(ThemeIcon||(ThemeIcon={}));const DARK="dark",HIGH_CONTRAST="hc";function getThemeTypeSelector(type){switch(type){case DARK:return"vs-dark";case HIGH_CONTRAST:return"hc-black";default:return"vs"}}const Extensions={ThemingContribution:"base.contributions.theming"};let themingRegistry=new class ThemingRegistry{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a}onColorThemeChange(participant){return this.themingParticipants.push(participant),this.onThemingParticipantAddedEmitter.fire(participant),Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.h)(()=>{const idx=this.themingParticipants.indexOf(participant);this.themingParticipants.splice(idx,1)})}getThemingParticipants(){return this.themingParticipants}};function registerThemingParticipant(participant){return themingRegistry.onColorThemeChange(participant)}_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a.add(Extensions.ThemingContribution,themingRegistry);class Themable extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(themeService){super(),this.themeService=themeService,this.theme=themeService.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(theme=>this.onThemeChange(theme)))}onThemeChange(theme){this.theme=theme,this.updateStyles()}updateStyles(){}}},2305:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process,global){__webpack_require__.d(__webpack_exports__,"i",function(){return isWindows}),__webpack_require__.d(__webpack_exports__,"f",function(){return isMacintosh}),__webpack_require__.d(__webpack_exports__,"d",function(){return isLinux}),__webpack_require__.d(__webpack_exports__,"g",function(){return isNative}),__webpack_require__.d(__webpack_exports__,"h",function(){return isWeb}),__webpack_require__.d(__webpack_exports__,"c",function(){return isIOS}),__webpack_require__.d(__webpack_exports__,"b",function(){return globals}),__webpack_require__.d(__webpack_exports__,"j",function(){return setImmediate}),__webpack_require__.d(__webpack_exports__,"a",function(){return OS}),__webpack_require__.d(__webpack_exports__,"e",function(){return isLittleEndian});let _isWindows=!1,_isMacintosh=!1,_isLinux=!1,_isNative=!1,_isWeb=!1,_isIOS=!1,_locale=void 0,_language="en",_translationsConfigFile=void 0,_userAgent=void 0;const isElectronRenderer=void 0!==process&&void 0!==process.versions&&void 0!==process.versions.electron&&"renderer"===process.type;if("object"!=typeof navigator||isElectronRenderer){if("object"==typeof process){_isWindows="win32"===process.platform,_isMacintosh="darwin"===process.platform,_isLinux="linux"===process.platform,_locale="en",_language="en";const rawNlsConfig=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).VSCODE_NLS_CONFIG;if(rawNlsConfig)try{const nlsConfig=JSON.parse(rawNlsConfig),resolved=nlsConfig.availableLanguages["*"];_locale=nlsConfig.locale,_language=resolved||"en",_translationsConfigFile=nlsConfig._translationsConfigFile}catch(e){}_isNative=!0}}else _isWindows=(_userAgent=navigator.userAgent).indexOf("Windows")>=0,_isMacintosh=_userAgent.indexOf("Macintosh")>=0,_isIOS=(_userAgent.indexOf("Macintosh")>=0||_userAgent.indexOf("iPad")>=0||_userAgent.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_isLinux=_userAgent.indexOf("Linux")>=0,_isWeb=!0,_language=_locale=navigator.language;let _platform=0;_isMacintosh?_platform=1:_isWindows?_platform=3:_isLinux&&(_platform=2);const isWindows=_isWindows,isMacintosh=_isMacintosh,isLinux=_isLinux,isNative=_isNative,isWeb=_isWeb,isIOS=_isIOS,globals="object"==typeof self?self:"object"==typeof global?global:{},setImmediate=function defineSetImmediate(){if(globals.setImmediate)return globals.setImmediate.bind(globals);if("function"==typeof globals.postMessage&&!globals.importScripts){let pending=[];globals.addEventListener("message",e=>{if(e.data&&e.data.vscodeSetImmediateId)for(let i=0,len=pending.length;i<len;i++){const candidate=pending[i];if(candidate.id===e.data.vscodeSetImmediateId)return pending.splice(i,1),void candidate.callback()}});let lastId=0;return callback=>{const myId=++lastId;pending.push({id:myId,callback:callback}),globals.postMessage({vscodeSetImmediateId:myId},"*")}}if(void 0!==process&&"function"==typeof process.nextTick)return process.nextTick.bind(process);const _promise=Promise.resolve();return callback=>_promise.then(callback)}(),OS=_isMacintosh||_isIOS?2:_isWindows?1:3;let _isLittleEndian=!0,_isLittleEndianComputed=!1;function isLittleEndian(){if(!_isLittleEndianComputed){_isLittleEndianComputed=!0;const test=new Uint8Array(2);test[0]=1,test[1]=2;const view=new Uint16Array(test.buffer);_isLittleEndian=513===view[0]}return _isLittleEndian}}).call(this,__webpack_require__(301),__webpack_require__(13))},2306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return isThenable}),__webpack_require__.d(__webpack_exports__,"f",function(){return createCancelablePromise}),__webpack_require__.d(__webpack_exports__,"j",function(){return raceCancellation}),__webpack_require__.d(__webpack_exports__,"a",function(){return Delayer}),__webpack_require__.d(__webpack_exports__,"l",function(){return timeout}),__webpack_require__.d(__webpack_exports__,"g",function(){return disposableTimeout}),__webpack_require__.d(__webpack_exports__,"h",function(){return first}),__webpack_require__.d(__webpack_exports__,"e",function(){return TimeoutTimer}),__webpack_require__.d(__webpack_exports__,"c",function(){return IntervalTimer}),__webpack_require__.d(__webpack_exports__,"d",function(){return RunOnceScheduler}),__webpack_require__.d(__webpack_exports__,"k",function(){return runWhenIdle}),__webpack_require__.d(__webpack_exports__,"b",function(){return IdleValue});var _cancellation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2315),_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2302),_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2294);function isThenable(obj){return obj&&"function"==typeof obj.then}function createCancelablePromise(callback){const source=new _cancellation_js__WEBPACK_IMPORTED_MODULE_0__.b,thenable=callback(source.token),promise=new Promise((resolve,reject)=>{source.token.onCancellationRequested(()=>{reject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.a())}),Promise.resolve(thenable).then(value=>{source.dispose(),resolve(value)},err=>{source.dispose(),reject(err)})});return new class{cancel(){source.cancel()}then(resolve,reject){return promise.then(resolve,reject)}catch(reject){return this.then(void 0,reject)}finally(onfinally){return promise.finally(onfinally)}}}function raceCancellation(promise,token,defaultValue){return Promise.race([promise,new Promise(resolve=>token.onCancellationRequested(()=>resolve(defaultValue)))])}class Delayer{constructor(defaultDelay){this.defaultDelay=defaultDelay,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(task,delay=this.defaultDelay){return this.task=task,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((c,e)=>{this.doResolve=c,this.doReject=e}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const task=this.task;return this.task=null,task()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},delay),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.a()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}function timeout(millis,token){return token?new Promise((resolve,reject)=>{const handle=setTimeout(resolve,millis);token.onCancellationRequested(()=>{clearTimeout(handle),reject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.a())})}):createCancelablePromise(token=>timeout(millis,token))}function disposableTimeout(handler,timeout=0){const timer=setTimeout(handler,timeout);return Object(_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.h)(()=>clearTimeout(timer))}function first(promiseFactories,shouldStop=(t=>!!t),defaultValue=null){let index=0;const len=promiseFactories.length,loop=()=>{if(index>=len)return Promise.resolve(defaultValue);const factory=promiseFactories[index++];return Promise.resolve(factory()).then(result=>shouldStop(result)?Promise.resolve(result):loop())};return loop()}class TimeoutTimer{constructor(runner,timeout){this._token=-1,"function"==typeof runner&&"number"==typeof timeout&&this.setIfNotSet(runner,timeout)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(runner,timeout){this.cancel(),this._token=setTimeout(()=>{this._token=-1,runner()},timeout)}setIfNotSet(runner,timeout){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,runner()},timeout))}}class IntervalTimer{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(runner,interval){this.cancel(),this._token=setInterval(()=>{runner()},interval)}}class RunOnceScheduler{constructor(runner,timeout){this.timeoutToken=-1,this.runner=runner,this.timeout=timeout,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(delay=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,delay)}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let runWhenIdle;!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){const dummyIdle=Object.freeze({didTimeout:!0,timeRemaining:()=>15});runWhenIdle=runner=>{const handle=setTimeout(()=>runner(dummyIdle));let disposed=!1;return{dispose(){disposed||(disposed=!0,clearTimeout(handle))}}}}else runWhenIdle=(runner,timeout)=>{const handle=requestIdleCallback(runner,"number"==typeof timeout?{timeout:timeout}:void 0);let disposed=!1;return{dispose(){disposed||(disposed=!0,cancelIdleCallback(handle))}}}}();class IdleValue{constructor(executor){this._didRun=!1,this._executor=()=>{try{this._value=executor()}catch(err){this._error=err}finally{this._didRun=!0}},this._handle=runWhenIdle(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}},2307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ContextKeyExpr}),__webpack_require__.d(__webpack_exports__,"c",function(){return RawContextKey}),__webpack_require__.d(__webpack_exports__,"b",function(){return IContextKeyService}),__webpack_require__.d(__webpack_exports__,"d",function(){return SET_CONTEXT_COMMAND_ID});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2300),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305);const STATIC_VALUES=new Map;STATIC_VALUES.set("false",!1),STATIC_VALUES.set("true",!0),STATIC_VALUES.set("isMac",_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f),STATIC_VALUES.set("isLinux",_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.d),STATIC_VALUES.set("isWindows",_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.i),STATIC_VALUES.set("isWeb",_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.h),STATIC_VALUES.set("isMacNative",_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f&&!_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.h);const hasOwnProperty=Object.prototype.hasOwnProperty;class ContextKeyExpr{static has(key){return ContextKeyDefinedExpr.create(key)}static equals(key,value){return ContextKeyEqualsExpr.create(key,value)}static regex(key,value){return ContextKeyRegexExpr.create(key,value)}static not(key){return ContextKeyNotExpr.create(key)}static and(...expr){return ContextKeyAndExpr.create(expr)}static or(...expr){return ContextKeyOrExpr.create(expr)}static deserialize(serialized,strict=!1){if(serialized)return this._deserializeOrExpression(serialized,strict)}static _deserializeOrExpression(serialized,strict){let pieces=serialized.split("||");return ContextKeyOrExpr.create(pieces.map(p=>this._deserializeAndExpression(p,strict)))}static _deserializeAndExpression(serialized,strict){let pieces=serialized.split("&&");return ContextKeyAndExpr.create(pieces.map(p=>this._deserializeOne(p,strict)))}static _deserializeOne(serializedOne,strict){if((serializedOne=serializedOne.trim()).indexOf("!=")>=0){let pieces=serializedOne.split("!=");return ContextKeyNotEqualsExpr.create(pieces[0].trim(),this._deserializeValue(pieces[1],strict))}if(serializedOne.indexOf("==")>=0){let pieces=serializedOne.split("==");return ContextKeyEqualsExpr.create(pieces[0].trim(),this._deserializeValue(pieces[1],strict))}if(serializedOne.indexOf("=~")>=0){let pieces=serializedOne.split("=~");return ContextKeyRegexExpr.create(pieces[0].trim(),this._deserializeRegexValue(pieces[1],strict))}if(serializedOne.indexOf(" in ")>=0){let pieces=serializedOne.split(" in ");return ContextKeyInExpr.create(pieces[0].trim(),pieces[1].trim())}return/^\!\s*/.test(serializedOne)?ContextKeyNotExpr.create(serializedOne.substr(1).trim()):ContextKeyDefinedExpr.create(serializedOne)}static _deserializeValue(serializedValue,strict){if("true"===(serializedValue=serializedValue.trim()))return!0;if("false"===serializedValue)return!1;let m=/^'([^']*)'$/.exec(serializedValue);return m?m[1].trim():serializedValue}static _deserializeRegexValue(serializedValue,strict){if(Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.D)(serializedValue)){if(strict)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let start=serializedValue.indexOf("/"),end=serializedValue.lastIndexOf("/");if(start===end||start<0){if(strict)throw new Error(`bad regexp-value '${serializedValue}', missing /-enclosure`);return console.warn(`bad regexp-value '${serializedValue}', missing /-enclosure`),null}let value=serializedValue.slice(start+1,end),caseIgnoreFlag="i"===serializedValue[end+1]?"i":"";try{return new RegExp(value,caseIgnoreFlag)}catch(e){if(strict)throw new Error(`bad regexp-value '${serializedValue}', parse error: ${e}`);return console.warn(`bad regexp-value '${serializedValue}', parse error: ${e}`),null}}}function cmp(a,b){return a.cmp(b)}class ContextKeyFalseExpr{constructor(){this.type=0}cmp(other){return this.type-other.type}equals(other){return other.type===this.type}evaluate(context){return!1}serialize(){return"false"}keys(){return[]}negate(){return ContextKeyTrueExpr.INSTANCE}}ContextKeyFalseExpr.INSTANCE=new ContextKeyFalseExpr;class ContextKeyTrueExpr{constructor(){this.type=1}cmp(other){return this.type-other.type}equals(other){return other.type===this.type}evaluate(context){return!0}serialize(){return"true"}keys(){return[]}negate(){return ContextKeyFalseExpr.INSTANCE}}ContextKeyTrueExpr.INSTANCE=new ContextKeyTrueExpr;class ContextKeyDefinedExpr{constructor(key){this.key=key,this.type=2}static create(key){const staticValue=STATIC_VALUES.get(key);return"boolean"==typeof staticValue?staticValue?ContextKeyTrueExpr.INSTANCE:ContextKeyFalseExpr.INSTANCE:new ContextKeyDefinedExpr(key)}cmp(other){return other.type!==this.type?this.type-other.type:this.key<other.key?-1:this.key>other.key?1:0}equals(other){return other.type===this.type&&this.key===other.key}evaluate(context){return!!context.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return ContextKeyNotExpr.create(this.key)}}class ContextKeyEqualsExpr{constructor(key,value){this.key=key,this.value=value,this.type=4}static create(key,value){if("boolean"==typeof value)return value?ContextKeyDefinedExpr.create(key):ContextKeyNotExpr.create(key);const staticValue=STATIC_VALUES.get(key);if("boolean"==typeof staticValue){return value===(staticValue?"true":"false")?ContextKeyTrueExpr.INSTANCE:ContextKeyFalseExpr.INSTANCE}return new ContextKeyEqualsExpr(key,value)}cmp(other){return other.type!==this.type?this.type-other.type:this.key<other.key?-1:this.key>other.key?1:this.value<other.value?-1:this.value>other.value?1:0}equals(other){return other.type===this.type&&(this.key===other.key&&this.value===other.value)}evaluate(context){return context.getValue(this.key)==this.value}serialize(){return this.key+" == '"+this.value+"'"}keys(){return[this.key]}negate(){return ContextKeyNotEqualsExpr.create(this.key,this.value)}}class ContextKeyInExpr{constructor(key,valueKey){this.key=key,this.valueKey=valueKey,this.type=10}static create(key,valueKey){return new ContextKeyInExpr(key,valueKey)}cmp(other){return other.type!==this.type?this.type-other.type:this.key<other.key?-1:this.key>other.key?1:this.valueKey<other.valueKey?-1:this.valueKey>other.valueKey?1:0}equals(other){return other.type===this.type&&(this.key===other.key&&this.valueKey===other.valueKey)}evaluate(context){const source=context.getValue(this.valueKey),item=context.getValue(this.key);return Array.isArray(source)?source.indexOf(item)>=0:"string"==typeof item&&"object"==typeof source&&null!==source&&hasOwnProperty.call(source,item)}serialize(){return this.key+" in '"+this.valueKey+"'"}keys(){return[this.key,this.valueKey]}negate(){return ContextKeyNotInExpr.create(this)}}class ContextKeyNotInExpr{constructor(_actual){this._actual=_actual,this.type=11}static create(actual){return new ContextKeyNotInExpr(actual)}cmp(other){return other.type!==this.type?this.type-other.type:this._actual.cmp(other._actual)}equals(other){return other.type===this.type&&this._actual.equals(other._actual)}evaluate(context){return!this._actual.evaluate(context)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class ContextKeyNotEqualsExpr{constructor(key,value){this.key=key,this.value=value,this.type=5}static create(key,value){if("boolean"==typeof value)return value?ContextKeyNotExpr.create(key):ContextKeyDefinedExpr.create(key);const staticValue=STATIC_VALUES.get(key);if("boolean"==typeof staticValue){return value===(staticValue?"true":"false")?ContextKeyFalseExpr.INSTANCE:ContextKeyTrueExpr.INSTANCE}return new ContextKeyNotEqualsExpr(key,value)}cmp(other){return other.type!==this.type?this.type-other.type:this.key<other.key?-1:this.key>other.key?1:this.value<other.value?-1:this.value>other.value?1:0}equals(other){return other.type===this.type&&(this.key===other.key&&this.value===other.value)}evaluate(context){return context.getValue(this.key)!=this.value}serialize(){return this.key+" != '"+this.value+"'"}keys(){return[this.key]}negate(){return ContextKeyEqualsExpr.create(this.key,this.value)}}class ContextKeyNotExpr{constructor(key){this.key=key,this.type=3}static create(key){const staticValue=STATIC_VALUES.get(key);return"boolean"==typeof staticValue?staticValue?ContextKeyFalseExpr.INSTANCE:ContextKeyTrueExpr.INSTANCE:new ContextKeyNotExpr(key)}cmp(other){return other.type!==this.type?this.type-other.type:this.key<other.key?-1:this.key>other.key?1:0}equals(other){return other.type===this.type&&this.key===other.key}evaluate(context){return!context.getValue(this.key)}serialize(){return"!"+this.key}keys(){return[this.key]}negate(){return ContextKeyDefinedExpr.create(this.key)}}class ContextKeyRegexExpr{constructor(key,regexp){this.key=key,this.regexp=regexp,this.type=7}static create(key,regexp){return new ContextKeyRegexExpr(key,regexp)}cmp(other){if(other.type!==this.type)return this.type-other.type;if(this.key<other.key)return-1;if(this.key>other.key)return 1;const thisSource=this.regexp?this.regexp.source:"",otherSource=other.regexp?other.regexp.source:"";return thisSource<otherSource?-1:thisSource>otherSource?1:0}equals(other){if(other.type===this.type){const thisSource=this.regexp?this.regexp.source:"",otherSource=other.regexp?other.regexp.source:"";return this.key===other.key&&thisSource===otherSource}return!1}evaluate(context){let value=context.getValue(this.key);return!!this.regexp&&this.regexp.test(value)}serialize(){const value=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${value}`}keys(){return[this.key]}negate(){return ContextKeyNotRegexExpr.create(this)}}class ContextKeyNotRegexExpr{constructor(_actual){this._actual=_actual,this.type=8}static create(actual){return new ContextKeyNotRegexExpr(actual)}cmp(other){return other.type!==this.type?this.type-other.type:this._actual.cmp(other._actual)}equals(other){return other.type===this.type&&this._actual.equals(other._actual)}evaluate(context){return!this._actual.evaluate(context)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class ContextKeyAndExpr{constructor(expr){this.expr=expr,this.type=6}static create(_expr){return ContextKeyAndExpr._normalizeArr(_expr)}cmp(other){if(other.type!==this.type)return this.type-other.type;if(this.expr.length<other.expr.length)return-1;if(this.expr.length>other.expr.length)return 1;for(let i=0,len=this.expr.length;i<len;i++){const r=cmp(this.expr[i],other.expr[i]);if(0!==r)return r}return 0}equals(other){if(other.type===this.type){if(this.expr.length!==other.expr.length)return!1;for(let i=0,len=this.expr.length;i<len;i++)if(!this.expr[i].equals(other.expr[i]))return!1;return!0}return!1}evaluate(context){for(let i=0,len=this.expr.length;i<len;i++)if(!this.expr[i].evaluate(context))return!1;return!0}static _normalizeArr(arr){const expr=[];let hasTrue=!1;for(const e of arr)if(e)if(1!==e.type){if(0===e.type)return ContextKeyFalseExpr.INSTANCE;6!==e.type?expr.push(e):expr.push(...e.expr)}else hasTrue=!0;if(0===expr.length&&hasTrue)return ContextKeyTrueExpr.INSTANCE;if(0!==expr.length){if(1===expr.length)return expr[0];for(expr.sort(cmp);expr.length>1;){const lastElement=expr[expr.length-1];if(9!==lastElement.type)break;expr.pop();const secondToLastElement=expr.pop(),resultElement=ContextKeyOrExpr.create(lastElement.expr.map(el=>ContextKeyAndExpr.create([el,secondToLastElement])));resultElement&&(expr.push(resultElement),expr.sort(cmp))}return new ContextKeyAndExpr(expr)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const result=[];for(let expr of this.expr)result.push(...expr.keys());return result}negate(){let result=[];for(let expr of this.expr)result.push(expr.negate());return ContextKeyOrExpr.create(result)}}class ContextKeyOrExpr{constructor(expr){this.expr=expr,this.type=9}static create(_expr){const expr=ContextKeyOrExpr._normalizeArr(_expr);if(0!==expr.length)return 1===expr.length?expr[0]:new ContextKeyOrExpr(expr)}cmp(other){if(other.type!==this.type)return this.type-other.type;if(this.expr.length<other.expr.length)return-1;if(this.expr.length>other.expr.length)return 1;for(let i=0,len=this.expr.length;i<len;i++){const r=cmp(this.expr[i],other.expr[i]);if(0!==r)return r}return 0}equals(other){if(other.type===this.type){if(this.expr.length!==other.expr.length)return!1;for(let i=0,len=this.expr.length;i<len;i++)if(!this.expr[i].equals(other.expr[i]))return!1;return!0}return!1}evaluate(context){for(let i=0,len=this.expr.length;i<len;i++)if(this.expr[i].evaluate(context))return!0;return!1}static _normalizeArr(arr){let expr=[],hasFalse=!1;if(arr){for(let i=0,len=arr.length;i<len;i++){const e=arr[i];if(e)if(0!==e.type){if(1===e.type)return[ContextKeyTrueExpr.INSTANCE];9!==e.type?expr.push(e):expr=expr.concat(e.expr)}else hasFalse=!0}if(0===expr.length&&hasFalse)return[ContextKeyFalseExpr.INSTANCE];expr.sort(cmp)}return expr}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const result=[];for(let expr of this.expr)result.push(...expr.keys());return result}negate(){let result=[];for(let expr of this.expr)result.push(expr.negate());const terminals=node=>9===node.type?node.expr:[node];for(;result.length>1;){const LEFT=result.shift(),RIGHT=result.shift(),all=[];for(const left of terminals(LEFT))for(const right of terminals(RIGHT))all.push(ContextKeyExpr.and(left,right));result.unshift(ContextKeyExpr.or(...all))}return result[0]}}class RawContextKey extends ContextKeyDefinedExpr{constructor(key,defaultValue){super(key),this._defaultValue=defaultValue}bindTo(target){return target.createKey(this.key,this._defaultValue)}getValue(target){return target.getContextKeyValue(this.key)}toNegated(){return ContextKeyExpr.not(this.key)}}const IContextKeyService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("contextKeyService"),SET_CONTEXT_COMMAND_ID="setContext"},2308:function(module,__webpack_exports__,__webpack_require__){"use strict";var uri=__webpack_require__(2313),range=__webpack_require__(2295),common_event=__webpack_require__(2296),lifecycle=__webpack_require__(2294),glob=__webpack_require__(2465),path=__webpack_require__(2352);function score(selector,candidateUri,candidateLanguage,candidateIsSynchronized){if(Array.isArray(selector)){let ret=0;for(const filter of selector){const value=score(filter,candidateUri,candidateLanguage,candidateIsSynchronized);if(10===value)return value;value>ret&&(ret=value)}return ret}if("string"==typeof selector)return candidateIsSynchronized?"*"===selector?5:selector===candidateLanguage?10:0:0;if(selector){const{language:language,pattern:pattern,scheme:scheme,hasAccessToAllModels:hasAccessToAllModels}=selector;if(!candidateIsSynchronized&&!hasAccessToAllModels)return 0;let ret=0;if(scheme)if(scheme===candidateUri.scheme)ret=10;else{if("*"!==scheme)return 0;ret=5}if(language)if(language===candidateLanguage)ret=10;else{if("*"!==language)return 0;ret=Math.max(ret,5)}if(pattern){let normalizedPattern;if((normalizedPattern="string"==typeof pattern?pattern:Object.assign(Object.assign({},pattern),{base:Object(path.d)(pattern.base)}))!==candidateUri.fsPath&&!Object(glob.a)(normalizedPattern,candidateUri.fsPath))return 0;ret=10}return ret}return 0}var modelService=__webpack_require__(2336);function isExclusive(selector){return"string"!=typeof selector&&(Array.isArray(selector)?selector.every(isExclusive):!!selector.exclusive)}class languageFeatureRegistry_LanguageFeatureRegistry{constructor(){this._clock=0,this._entries=[],this._onDidChange=new common_event.a}get onDidChange(){return this._onDidChange.event}register(selector,provider){let entry={selector:selector,provider:provider,_score:-1,_time:this._clock++};return this._entries.push(entry),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(lifecycle.h)(()=>{if(entry){let idx=this._entries.indexOf(entry);idx>=0&&(this._entries.splice(idx,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),entry=void 0)}})}has(model){return this.all(model).length>0}all(model){if(!model)return[];this._updateScores(model);const result=[];for(let entry of this._entries)entry._score>0&&result.push(entry.provider);return result}ordered(model){const result=[];return this._orderedForEach(model,entry=>result.push(entry.provider)),result}orderedGroups(model){const result=[];let lastBucket,lastBucketScore;return this._orderedForEach(model,entry=>{lastBucket&&lastBucketScore===entry._score?lastBucket.push(entry.provider):(lastBucketScore=entry._score,lastBucket=[entry.provider],result.push(lastBucket))}),result}_orderedForEach(model,callback){if(model){this._updateScores(model);for(const entry of this._entries)entry._score>0&&callback(entry)}}_updateScores(model){let candidate={uri:model.uri.toString(),language:model.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==candidate.language||this._lastCandidate.uri!==candidate.uri){this._lastCandidate=candidate;for(let entry of this._entries)if(entry._score=score(entry.selector,model.uri,model.getLanguageIdentifier().language,Object(modelService.b)(model)),isExclusive(entry.selector)&&entry._score>0){for(let entry of this._entries)entry._score=0;entry._score=1e3;break}this._entries.sort(languageFeatureRegistry_LanguageFeatureRegistry._compareByScoreAndTime)}}static _compareByScoreAndTime(a,b){return a._score<b._score?1:a._score>b._score?-1:a._time<b._time?1:a._time>b._time?-1:0}}var codicons=__webpack_require__(2316);__webpack_require__.d(__webpack_exports__,"r",function(){return LanguageIdentifier}),__webpack_require__.d(__webpack_exports__,"B",function(){return TokenMetadata}),__webpack_require__.d(__webpack_exports__,"F",function(){return completionKindToCssClass}),__webpack_require__.d(__webpack_exports__,"E",function(){return completionKindFromString}),__webpack_require__.d(__webpack_exports__,"z",function(){return SignatureHelpTriggerKind}),__webpack_require__.d(__webpack_exports__,"h",function(){return DocumentHighlightKind}),__webpack_require__.d(__webpack_exports__,"G",function(){return isLocationLink}),__webpack_require__.d(__webpack_exports__,"A",function(){return modes_SymbolKinds}),__webpack_require__.d(__webpack_exports__,"n",function(){return FoldingRangeKind}),__webpack_require__.d(__webpack_exports__,"v",function(){return ReferenceProviderRegistry}),__webpack_require__.d(__webpack_exports__,"w",function(){return RenameProviderRegistry}),__webpack_require__.d(__webpack_exports__,"d",function(){return CompletionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"y",function(){return SignatureHelpProviderRegistry}),__webpack_require__.d(__webpack_exports__,"p",function(){return HoverProviderRegistry}),__webpack_require__.d(__webpack_exports__,"m",function(){return DocumentSymbolProviderRegistry}),__webpack_require__.d(__webpack_exports__,"i",function(){return DocumentHighlightProviderRegistry}),__webpack_require__.d(__webpack_exports__,"u",function(){return OnTypeRenameProviderRegistry}),__webpack_require__.d(__webpack_exports__,"f",function(){return DefinitionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"e",function(){return DeclarationProviderRegistry}),__webpack_require__.d(__webpack_exports__,"q",function(){return ImplementationProviderRegistry}),__webpack_require__.d(__webpack_exports__,"D",function(){return TypeDefinitionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"b",function(){return CodeLensProviderRegistry}),__webpack_require__.d(__webpack_exports__,"a",function(){return CodeActionProviderRegistry}),__webpack_require__.d(__webpack_exports__,"g",function(){return DocumentFormattingEditProviderRegistry}),__webpack_require__.d(__webpack_exports__,"j",function(){return DocumentRangeFormattingEditProviderRegistry}),__webpack_require__.d(__webpack_exports__,"t",function(){return OnTypeFormattingEditProviderRegistry}),__webpack_require__.d(__webpack_exports__,"s",function(){return LinkProviderRegistry}),__webpack_require__.d(__webpack_exports__,"c",function(){return ColorProviderRegistry}),__webpack_require__.d(__webpack_exports__,"x",function(){return SelectionRangeRegistry}),__webpack_require__.d(__webpack_exports__,"o",function(){return FoldingRangeProviderRegistry}),__webpack_require__.d(__webpack_exports__,"l",function(){return DocumentSemanticTokensProviderRegistry}),__webpack_require__.d(__webpack_exports__,"k",function(){return DocumentRangeSemanticTokensProviderRegistry}),__webpack_require__.d(__webpack_exports__,"C",function(){return TokenizationRegistry});class LanguageIdentifier{constructor(language,id){this.language=language,this.id=id}}class TokenMetadata{static getLanguageId(metadata){return(255&metadata)>>>0}static getTokenType(metadata){return(1792&metadata)>>>8}static getFontStyle(metadata){return(14336&metadata)>>>11}static getForeground(metadata){return(8372224&metadata)>>>14}static getBackground(metadata){return(4286578688&metadata)>>>23}static getClassNameFromMetadata(metadata){let className="mtk"+this.getForeground(metadata),fontStyle=this.getFontStyle(metadata);return 1&fontStyle&&(className+=" mtki"),2&fontStyle&&(className+=" mtkb"),4&fontStyle&&(className+=" mtku"),className}static getInlineStyleFromMetadata(metadata,colorMap){const foreground=this.getForeground(metadata),fontStyle=this.getFontStyle(metadata);let result=`color: ${colorMap[foreground]};`;return 1&fontStyle&&(result+="font-style: italic;"),2&fontStyle&&(result+="font-weight: bold;"),4&fontStyle&&(result+="text-decoration: underline;"),result}}const completionKindToCssClass=function(){let data=Object.create(null);return data[0]="symbol-method",data[1]="symbol-function",data[2]="symbol-constructor",data[3]="symbol-field",data[4]="symbol-variable",data[5]="symbol-class",data[6]="symbol-struct",data[7]="symbol-interface",data[8]="symbol-module",data[9]="symbol-property",data[10]="symbol-event",data[11]="symbol-operator",data[12]="symbol-unit",data[13]="symbol-value",data[14]="symbol-constant",data[15]="symbol-enum",data[16]="symbol-enum-member",data[17]="symbol-keyword",data[27]="symbol-snippet",data[18]="symbol-text",data[19]="symbol-color",data[20]="symbol-file",data[21]="symbol-reference",data[22]="symbol-customcolor",data[23]="symbol-folder",data[24]="symbol-type-parameter",data[25]="account",data[26]="issues",function(kind){const name=data[kind];let codicon=name&&codicons.c.get(name);return codicon||(console.info("No codicon found for CompletionItemKind "+kind),codicon=codicons.a.symbolProperty),codicon.classNames}}();let completionKindFromString=function(){let data=Object.create(null);return data.method=0,data.function=1,data.constructor=2,data.field=3,data.variable=4,data.class=5,data.struct=6,data.interface=7,data.module=8,data.property=9,data.event=10,data.operator=11,data.unit=12,data.value=13,data.constant=14,data.enum=15,data["enum-member"]=16,data.enumMember=16,data.keyword=17,data.snippet=27,data.text=18,data.color=19,data.file=20,data.reference=21,data.customcolor=22,data.folder=23,data["type-parameter"]=24,data.typeParameter=24,data.account=25,data.issue=26,function(value,strict){let res=data[value];return void 0!==res||strict||(res=9),res}}();var SignatureHelpTriggerKind,DocumentHighlightKind,modes_SymbolKinds;function isLocationLink(thing){return thing&&uri.a.isUri(thing.uri)&&range.a.isIRange(thing.range)&&(range.a.isIRange(thing.originSelectionRange)||range.a.isIRange(thing.targetSelectionRange))}!function(SignatureHelpTriggerKind){SignatureHelpTriggerKind[SignatureHelpTriggerKind.Invoke=1]="Invoke",SignatureHelpTriggerKind[SignatureHelpTriggerKind.TriggerCharacter=2]="TriggerCharacter",SignatureHelpTriggerKind[SignatureHelpTriggerKind.ContentChange=3]="ContentChange"}(SignatureHelpTriggerKind||(SignatureHelpTriggerKind={})),function(DocumentHighlightKind){DocumentHighlightKind[DocumentHighlightKind.Text=0]="Text",DocumentHighlightKind[DocumentHighlightKind.Read=1]="Read",DocumentHighlightKind[DocumentHighlightKind.Write=2]="Write"}(DocumentHighlightKind||(DocumentHighlightKind={})),function(SymbolKinds){const byName=new Map;byName.set("file",0),byName.set("module",1),byName.set("namespace",2),byName.set("package",3),byName.set("class",4),byName.set("method",5),byName.set("property",6),byName.set("field",7),byName.set("constructor",8),byName.set("enum",9),byName.set("interface",10),byName.set("function",11),byName.set("variable",12),byName.set("constant",13),byName.set("string",14),byName.set("number",15),byName.set("boolean",16),byName.set("array",17),byName.set("object",18),byName.set("key",19),byName.set("null",20),byName.set("enum-member",21),byName.set("struct",22),byName.set("event",23),byName.set("operator",24),byName.set("type-parameter",25);const byKind=new Map;byKind.set(0,"file"),byKind.set(1,"module"),byKind.set(2,"namespace"),byKind.set(3,"package"),byKind.set(4,"class"),byKind.set(5,"method"),byKind.set(6,"property"),byKind.set(7,"field"),byKind.set(8,"constructor"),byKind.set(9,"enum"),byKind.set(10,"interface"),byKind.set(11,"function"),byKind.set(12,"variable"),byKind.set(13,"constant"),byKind.set(14,"string"),byKind.set(15,"number"),byKind.set(16,"boolean"),byKind.set(17,"array"),byKind.set(18,"object"),byKind.set(19,"key"),byKind.set(20,"null"),byKind.set(21,"enum-member"),byKind.set(22,"struct"),byKind.set(23,"event"),byKind.set(24,"operator"),byKind.set(25,"type-parameter"),SymbolKinds.fromString=function fromString(value){return byName.get(value)},SymbolKinds.toString=function toString(kind){return byKind.get(kind)},SymbolKinds.toCssClassName=function toCssClassName(kind,inline){const symbolName=byKind.get(kind);let codicon=symbolName&&codicons.c.get("symbol-"+symbolName);return codicon||(console.info("No codicon found for SymbolKind "+kind),codicon=codicons.a.symbolProperty),`${inline?"inline":"block"} ${codicon.classNames}`}}(modes_SymbolKinds||(modes_SymbolKinds={}));class FoldingRangeKind{constructor(value){this.value=value}}FoldingRangeKind.Comment=new FoldingRangeKind("comment"),FoldingRangeKind.Imports=new FoldingRangeKind("imports"),FoldingRangeKind.Region=new FoldingRangeKind("region");const ReferenceProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,RenameProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,CompletionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,SignatureHelpProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,HoverProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentSymbolProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentHighlightProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,OnTypeRenameProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DefinitionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DeclarationProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,ImplementationProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,TypeDefinitionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,CodeLensProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,CodeActionProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentFormattingEditProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentRangeFormattingEditProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,OnTypeFormattingEditProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,LinkProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,ColorProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,SelectionRangeRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,FoldingRangeProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentSemanticTokensProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,DocumentRangeSemanticTokensProviderRegistry=new languageFeatureRegistry_LanguageFeatureRegistry,TokenizationRegistry=new class tokenizationRegistry_TokenizationRegistryImpl{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(languages){this._onDidChange.fire({changedLanguages:languages,changedColorMap:!1})}register(language,support){return this._map.set(language,support),this.fire([language]),Object(lifecycle.h)(()=>{this._map.get(language)===support&&(this._map.delete(language),this.fire([language]))})}registerPromise(language,supportPromise){let registration=null,isDisposed=!1;return this._promises.set(language,supportPromise.then(support=>{this._promises.delete(language),!isDisposed&&support&&(registration=this.register(language,support))})),Object(lifecycle.h)(()=>{isDisposed=!0,registration&&registration.dispose()})}getPromise(language){const support=this.get(language);if(support)return Promise.resolve(support);const promise=this._promises.get(language);return promise?promise.then(_=>this.get(language)):null}get(language){return this._map.get(language)||null}setColorMap(colorMap){this._colorMap=colorMap,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},2309:function(module,__webpack_exports__,__webpack_require__){"use strict";function tail(array,n=0){return array[array.length-(1+n)]}function tail2(arr){if(0===arr.length)throw new Error("Invalid tail call");return[arr.slice(0,arr.length-1),arr[arr.length-1]]}function equals(one,other,itemEquals=((a,b)=>a===b)){if(one===other)return!0;if(!one||!other)return!1;if(one.length!==other.length)return!1;for(let i=0,len=one.length;i<len;i++)if(!itemEquals(one[i],other[i]))return!1;return!0}function binarySearch(array,key,comparator){let low=0,high=array.length-1;for(;low<=high;){const mid=(low+high)/2|0,comp=comparator(array[mid],key);if(comp<0)low=mid+1;else{if(!(comp>0))return mid;high=mid-1}}return-(low+1)}function findFirstInSorted(array,p){let low=0,high=array.length;if(0===high)return 0;for(;low<high;){const mid=Math.floor((low+high)/2);p(array[mid])?high=mid:low=mid+1}return low}function mergeSort(data,compare){return function _sort(a,compare,lo,hi,aux){if(hi<=lo)return;const mid=lo+(hi-lo)/2|0;_sort(a,compare,lo,mid,aux);_sort(a,compare,mid+1,hi,aux);if(compare(a[mid],a[mid+1])<=0)return;!function _merge(a,compare,lo,mid,hi,aux){let leftIdx=lo,rightIdx=mid+1;for(let i=lo;i<=hi;i++)aux[i]=a[i];for(let i=lo;i<=hi;i++)leftIdx>mid?a[i]=aux[rightIdx++]:rightIdx>hi?a[i]=aux[leftIdx++]:compare(aux[rightIdx],aux[leftIdx])<0?a[i]=aux[rightIdx++]:a[i]=aux[leftIdx++]}(a,compare,lo,mid,hi,aux)}(data,compare,0,data.length-1,[]),data}function groupBy(data,compare){const result=[];let currentGroup=void 0;for(const element of mergeSort(data.slice(0),compare))currentGroup&&0===compare(currentGroup[0],element)?currentGroup.push(element):(currentGroup=[element],result.push(currentGroup));return result}function coalesce(array){return array.filter(e=>!!e)}function isFalsyOrEmpty(obj){return!Array.isArray(obj)||0===obj.length}function isNonEmptyArray(obj){return Array.isArray(obj)&&obj.length>0}function distinct(array,keyFn){if(!keyFn)return array.filter((element,position)=>array.indexOf(element)===position);const seen=Object.create(null);return array.filter(elem=>{const key=keyFn(elem);return!seen[key]&&(seen[key]=!0,!0)})}function distinctES6(array){const seen=new Set;return array.filter(element=>!seen.has(element)&&(seen.add(element),!0))}function firstIndex(array,fn){for(let i=0;i<array.length;i++){if(fn(array[i]))return i}return-1}function first(array,fn,notFoundValue){const index=firstIndex(array,fn);return index<0?notFoundValue:array[index]}function firstOrDefault(array,notFoundValue){return array.length>0?array[0]:notFoundValue}function flatten(arr){return[].concat(...arr)}function range(arg,to){let from="number"==typeof to?arg:0;"number"==typeof to?from=arg:(from=0,to=arg);const result=[];if(from<=to)for(let i=from;i<to;i++)result.push(i);else for(let i=from;i>to;i--)result.push(i);return result}function arrayInsert(target,insertIndex,insertArr){const before=target.slice(0,insertIndex),after=target.slice(insertIndex);return before.concat(insertArr,after)}function pushToStart(arr,value){const index=arr.indexOf(value);index>-1&&(arr.splice(index,1),arr.unshift(value))}function pushToEnd(arr,value){const index=arr.indexOf(value);index>-1&&(arr.splice(index,1),arr.push(value))}function asArray(x){return Array.isArray(x)?x:[x]}__webpack_require__.d(__webpack_exports__,"t",function(){return tail}),__webpack_require__.d(__webpack_exports__,"u",function(){return tail2}),__webpack_require__.d(__webpack_exports__,"g",function(){return equals}),__webpack_require__.d(__webpack_exports__,"c",function(){return binarySearch}),__webpack_require__.d(__webpack_exports__,"h",function(){return findFirstInSorted}),__webpack_require__.d(__webpack_exports__,"p",function(){return mergeSort}),__webpack_require__.d(__webpack_exports__,"m",function(){return groupBy}),__webpack_require__.d(__webpack_exports__,"d",function(){return coalesce}),__webpack_require__.d(__webpack_exports__,"n",function(){return isFalsyOrEmpty}),__webpack_require__.d(__webpack_exports__,"o",function(){return isNonEmptyArray}),__webpack_require__.d(__webpack_exports__,"e",function(){return distinct}),__webpack_require__.d(__webpack_exports__,"f",function(){return distinctES6}),__webpack_require__.d(__webpack_exports__,"j",function(){return firstIndex}),__webpack_require__.d(__webpack_exports__,"i",function(){return first}),__webpack_require__.d(__webpack_exports__,"k",function(){return firstOrDefault}),__webpack_require__.d(__webpack_exports__,"l",function(){return flatten}),__webpack_require__.d(__webpack_exports__,"s",function(){return range}),__webpack_require__.d(__webpack_exports__,"a",function(){return arrayInsert}),__webpack_require__.d(__webpack_exports__,"r",function(){return pushToStart}),__webpack_require__.d(__webpack_exports__,"q",function(){return pushToEnd}),__webpack_require__.d(__webpack_exports__,"b",function(){return asArray})},2310:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions}),__webpack_require__.d(__webpack_exports__,"gc",function(){return registerColor}),__webpack_require__.d(__webpack_exports__,"ab",function(){return foreground}),__webpack_require__.d(__webpack_exports__,"Y",function(){return errorForeground}),__webpack_require__.d(__webpack_exports__,"bb",function(){return iconForeground}),__webpack_require__.d(__webpack_exports__,"Z",function(){return focusBorder}),__webpack_require__.d(__webpack_exports__,"h",function(){return contrastBorder}),__webpack_require__.d(__webpack_exports__,"b",function(){return activeContrastBorder}),__webpack_require__.d(__webpack_exports__,"rc",function(){return textLinkForeground}),__webpack_require__.d(__webpack_exports__,"qc",function(){return textCodeBlockBackground}),__webpack_require__.d(__webpack_exports__,"uc",function(){return widgetShadow}),__webpack_require__.d(__webpack_exports__,"fb",function(){return inputBackground}),__webpack_require__.d(__webpack_exports__,"hb",function(){return inputForeground}),__webpack_require__.d(__webpack_exports__,"gb",function(){return inputBorder}),__webpack_require__.d(__webpack_exports__,"db",function(){return inputActiveOptionBorder}),__webpack_require__.d(__webpack_exports__,"cb",function(){return inputActiveOptionBackground}),__webpack_require__.d(__webpack_exports__,"eb",function(){return inputActiveOptionForeground}),__webpack_require__.d(__webpack_exports__,"lb",function(){return inputValidationInfoBackground}),__webpack_require__.d(__webpack_exports__,"nb",function(){return inputValidationInfoForeground}),__webpack_require__.d(__webpack_exports__,"mb",function(){return inputValidationInfoBorder}),__webpack_require__.d(__webpack_exports__,"ob",function(){return inputValidationWarningBackground}),__webpack_require__.d(__webpack_exports__,"qb",function(){return inputValidationWarningForeground}),__webpack_require__.d(__webpack_exports__,"pb",function(){return inputValidationWarningBorder}),__webpack_require__.d(__webpack_exports__,"ib",function(){return inputValidationErrorBackground}),__webpack_require__.d(__webpack_exports__,"kb",function(){return inputValidationErrorForeground}),__webpack_require__.d(__webpack_exports__,"jb",function(){return inputValidationErrorBorder}),__webpack_require__.d(__webpack_exports__,"f",function(){return buttonForeground}),__webpack_require__.d(__webpack_exports__,"e",function(){return buttonBackground}),__webpack_require__.d(__webpack_exports__,"g",function(){return buttonHoverBackground}),__webpack_require__.d(__webpack_exports__,"c",function(){return badgeBackground}),__webpack_require__.d(__webpack_exports__,"d",function(){return badgeForeground}),__webpack_require__.d(__webpack_exports__,"ic",function(){return scrollbarShadow}),__webpack_require__.d(__webpack_exports__,"kc",function(){return scrollbarSliderBackground}),__webpack_require__.d(__webpack_exports__,"lc",function(){return scrollbarSliderHoverBackground}),__webpack_require__.d(__webpack_exports__,"jc",function(){return scrollbarSliderActiveBackground}),__webpack_require__.d(__webpack_exports__,"cc",function(){return progressBarBackground}),__webpack_require__.d(__webpack_exports__,"u",function(){return editorErrorForeground}),__webpack_require__.d(__webpack_exports__,"t",function(){return editorErrorBorder}),__webpack_require__.d(__webpack_exports__,"T",function(){return editorWarningForeground}),__webpack_require__.d(__webpack_exports__,"S",function(){return editorWarningBorder}),__webpack_require__.d(__webpack_exports__,"L",function(){return editorInfoForeground}),__webpack_require__.d(__webpack_exports__,"K",function(){return editorInfoBorder}),__webpack_require__.d(__webpack_exports__,"D",function(){return editorHintForeground}),__webpack_require__.d(__webpack_exports__,"C",function(){return editorHintBorder}),__webpack_require__.d(__webpack_exports__,"s",function(){return editorBackground}),__webpack_require__.d(__webpack_exports__,"B",function(){return editorForeground}),__webpack_require__.d(__webpack_exports__,"U",function(){return editorWidgetBackground}),__webpack_require__.d(__webpack_exports__,"W",function(){return editorWidgetForeground}),__webpack_require__.d(__webpack_exports__,"V",function(){return editorWidgetBorder}),__webpack_require__.d(__webpack_exports__,"X",function(){return editorWidgetResizeBorder}),__webpack_require__.d(__webpack_exports__,"dc",function(){return quickInputBackground}),__webpack_require__.d(__webpack_exports__,"ec",function(){return quickInputForeground}),__webpack_require__.d(__webpack_exports__,"fc",function(){return quickInputTitleBackground}),__webpack_require__.d(__webpack_exports__,"Yb",function(){return pickerGroupForeground}),__webpack_require__.d(__webpack_exports__,"Xb",function(){return pickerGroupBorder}),__webpack_require__.d(__webpack_exports__,"O",function(){return editorSelectionBackground}),__webpack_require__.d(__webpack_exports__,"P",function(){return editorSelectionForeground}),__webpack_require__.d(__webpack_exports__,"J",function(){return editorInactiveSelection}),__webpack_require__.d(__webpack_exports__,"Q",function(){return editorSelectionHighlight}),__webpack_require__.d(__webpack_exports__,"R",function(){return editorSelectionHighlightBorder}),__webpack_require__.d(__webpack_exports__,"v",function(){return editorFindMatch}),__webpack_require__.d(__webpack_exports__,"x",function(){return editorFindMatchHighlight}),__webpack_require__.d(__webpack_exports__,"z",function(){return editorFindRangeHighlight}),__webpack_require__.d(__webpack_exports__,"w",function(){return editorFindMatchBorder}),__webpack_require__.d(__webpack_exports__,"y",function(){return editorFindMatchHighlightBorder}),__webpack_require__.d(__webpack_exports__,"A",function(){return editorFindRangeHighlightBorder}),__webpack_require__.d(__webpack_exports__,"H",function(){return editorHoverHighlight}),__webpack_require__.d(__webpack_exports__,"E",function(){return editorHoverBackground}),__webpack_require__.d(__webpack_exports__,"G",function(){return editorHoverForeground}),__webpack_require__.d(__webpack_exports__,"F",function(){return editorHoverBorder}),__webpack_require__.d(__webpack_exports__,"I",function(){return editorHoverStatusBarBackground}),__webpack_require__.d(__webpack_exports__,"r",function(){return editorActiveLinkForeground}),__webpack_require__.d(__webpack_exports__,"N",function(){return editorLightBulbForeground}),__webpack_require__.d(__webpack_exports__,"M",function(){return editorLightBulbAutoFixForeground}),__webpack_require__.d(__webpack_exports__,"j",function(){return defaultInsertColor}),__webpack_require__.d(__webpack_exports__,"k",function(){return defaultRemoveColor}),__webpack_require__.d(__webpack_exports__,"n",function(){return diffInserted}),__webpack_require__.d(__webpack_exports__,"p",function(){return diffRemoved}),__webpack_require__.d(__webpack_exports__,"o",function(){return diffInsertedOutline}),__webpack_require__.d(__webpack_exports__,"q",function(){return diffRemovedOutline}),__webpack_require__.d(__webpack_exports__,"l",function(){return diffBorder}),__webpack_require__.d(__webpack_exports__,"m",function(){return diffDiagonalFill}),__webpack_require__.d(__webpack_exports__,"xb",function(){return listFocusBackground}),__webpack_require__.d(__webpack_exports__,"yb",function(){return listFocusForeground}),__webpack_require__.d(__webpack_exports__,"rb",function(){return listActiveSelectionBackground}),__webpack_require__.d(__webpack_exports__,"sb",function(){return listActiveSelectionForeground}),__webpack_require__.d(__webpack_exports__,"Db",function(){return listInactiveSelectionBackground}),__webpack_require__.d(__webpack_exports__,"Eb",function(){return listInactiveSelectionForeground}),__webpack_require__.d(__webpack_exports__,"Cb",function(){return listInactiveFocusBackground}),__webpack_require__.d(__webpack_exports__,"Ab",function(){return listHoverBackground}),__webpack_require__.d(__webpack_exports__,"Bb",function(){return listHoverForeground}),__webpack_require__.d(__webpack_exports__,"tb",function(){return listDropBackground}),__webpack_require__.d(__webpack_exports__,"zb",function(){return listHighlightForeground}),__webpack_require__.d(__webpack_exports__,"ub",function(){return listFilterWidgetBackground}),__webpack_require__.d(__webpack_exports__,"wb",function(){return listFilterWidgetOutline}),__webpack_require__.d(__webpack_exports__,"vb",function(){return listFilterWidgetNoMatchesOutline}),__webpack_require__.d(__webpack_exports__,"tc",function(){return treeIndentGuidesStroke}),__webpack_require__.d(__webpack_exports__,"Gb",function(){return menuBorder}),__webpack_require__.d(__webpack_exports__,"Hb",function(){return menuForeground}),__webpack_require__.d(__webpack_exports__,"Fb",function(){return menuBackground}),__webpack_require__.d(__webpack_exports__,"Kb",function(){return menuSelectionForeground}),__webpack_require__.d(__webpack_exports__,"Ib",function(){return menuSelectionBackground}),__webpack_require__.d(__webpack_exports__,"Jb",function(){return menuSelectionBorder}),__webpack_require__.d(__webpack_exports__,"Lb",function(){return menuSeparatorBackground}),__webpack_require__.d(__webpack_exports__,"oc",function(){return snippetTabstopHighlightBackground}),__webpack_require__.d(__webpack_exports__,"pc",function(){return snippetTabstopHighlightBorder}),__webpack_require__.d(__webpack_exports__,"mc",function(){return snippetFinalTabstopHighlightBackground}),__webpack_require__.d(__webpack_exports__,"nc",function(){return snippetFinalTabstopHighlightBorder}),__webpack_require__.d(__webpack_exports__,"Vb",function(){return overviewRulerFindMatchForeground}),__webpack_require__.d(__webpack_exports__,"Wb",function(){return overviewRulerSelectionHighlightForeground}),__webpack_require__.d(__webpack_exports__,"Ob",function(){return minimapFindMatch}),__webpack_require__.d(__webpack_exports__,"Pb",function(){return minimapSelection}),__webpack_require__.d(__webpack_exports__,"Nb",function(){return minimapError}),__webpack_require__.d(__webpack_exports__,"Tb",function(){return minimapWarning}),__webpack_require__.d(__webpack_exports__,"Mb",function(){return minimapBackground}),__webpack_require__.d(__webpack_exports__,"Rb",function(){return minimapSliderBackground}),__webpack_require__.d(__webpack_exports__,"Sb",function(){return minimapSliderHoverBackground}),__webpack_require__.d(__webpack_exports__,"Qb",function(){return minimapSliderActiveBackground}),__webpack_require__.d(__webpack_exports__,"Zb",function(){return problemsErrorIconForeground}),__webpack_require__.d(__webpack_exports__,"bc",function(){return problemsWarningIconForeground}),__webpack_require__.d(__webpack_exports__,"ac",function(){return problemsInfoIconForeground}),__webpack_require__.d(__webpack_exports__,"i",function(){return darken}),__webpack_require__.d(__webpack_exports__,"sc",function(){return transparent}),__webpack_require__.d(__webpack_exports__,"Ub",function(){return oneOf}),__webpack_require__.d(__webpack_exports__,"hc",function(){return resolveColorValue});var _registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2324),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2320),_base_common_event_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2296),_nls_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2297),_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2460),_base_common_async_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2306);const Extensions={ColorContribution:"base.contributions.colors"};const colorRegistry=new class ColorRegistry{constructor(){this._onDidChangeSchema=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.a,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(id,defaults,description,needsTransparency=!1,deprecationMessage){let colorContribution={id:id,description:description,defaults:defaults,needsTransparency:needsTransparency,deprecationMessage:deprecationMessage};this.colorsById[id]=colorContribution;let propertySchema={type:"string",description:description,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return deprecationMessage&&(propertySchema.deprecationMessage=deprecationMessage),this.colorSchema.properties[id]=propertySchema,this.colorReferenceSchema.enum.push(id),this.colorReferenceSchema.enumDescriptions.push(description),this._onDidChangeSchema.fire(),id}resolveDefaultColor(id,theme){const colorDesc=this.colorsById[id];if(colorDesc&&colorDesc.defaults)return resolveColorValue(colorDesc.defaults[theme.type],theme)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((a,b)=>{let cat1=-1===a.indexOf(".")?0:1,cat2=-1===b.indexOf(".")?0:1;return cat1!==cat2?cat1-cat2:a.localeCompare(b)}).map(k=>`- \`${k}\`: ${this.colorsById[k].description}`).join("\n")}};function registerColor(id,defaults,description,needsTransparency,deprecationMessage){return colorRegistry.registerColor(id,defaults,description,needsTransparency,deprecationMessage)}_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.add(Extensions.ColorContribution,colorRegistry);const foreground=registerColor("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("foreground","Overall foreground color. This color is only used if not overridden by a component.")),errorForeground=registerColor("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),iconForeground=registerColor("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("iconForeground","The default color for icons in the workbench.")),focusBorder=registerColor("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),contrastBorder=registerColor("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),activeContrastBorder=registerColor("contrastActiveBorder",{light:null,dark:null,hc:focusBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),textLinkForeground=registerColor("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("textLinkForeground","Foreground color for links in text.")),textCodeBlockBackground=registerColor("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("textCodeBlockBackground","Background color for code blocks in text.")),widgetShadow=registerColor("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),inputBackground=registerColor("input.background",{dark:"#3C3C3C",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxBackground","Input box background.")),inputForeground=registerColor("input.foreground",{dark:foreground,light:foreground,hc:foreground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxForeground","Input box foreground.")),inputBorder=registerColor("input.border",{dark:null,light:null,hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxBorder","Input box border.")),inputActiveOptionBorder=registerColor("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),inputActiveOptionBackground=registerColor("inputOption.activeBackground",{dark:transparent(focusBorder,.4),light:transparent(focusBorder,.2),hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.transparent},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputOption.activeBackground","Background color of activated options in input fields.")),inputActiveOptionForeground=registerColor("inputOption.activeForeground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputOption.activeForeground","Foreground color of activated options in input fields.")),inputValidationInfoBackground=registerColor("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationInfoBackground","Input validation background color for information severity.")),inputValidationInfoForeground=registerColor("inputValidation.infoForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationInfoForeground","Input validation foreground color for information severity.")),inputValidationInfoBorder=registerColor("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationInfoBorder","Input validation border color for information severity.")),inputValidationWarningBackground=registerColor("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationWarningBackground","Input validation background color for warning severity.")),inputValidationWarningForeground=registerColor("inputValidation.warningForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationWarningForeground","Input validation foreground color for warning severity.")),inputValidationWarningBorder=registerColor("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationWarningBorder","Input validation border color for warning severity.")),inputValidationErrorBackground=registerColor("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationErrorBackground","Input validation background color for error severity.")),inputValidationErrorForeground=registerColor("inputValidation.errorForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationErrorForeground","Input validation foreground color for error severity.")),inputValidationErrorBorder=registerColor("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("inputValidationErrorBorder","Input validation border color for error severity.")),selectBackground=registerColor("dropdown.background",{dark:"#3C3C3C",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("dropdownBackground","Dropdown background.")),selectForeground=registerColor("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("dropdownForeground","Dropdown foreground.")),buttonForeground=registerColor("button.foreground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("buttonForeground","Button foreground color.")),buttonBackground=registerColor("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("buttonBackground","Button background color.")),buttonHoverBackground=registerColor("button.hoverBackground",{dark:lighten(buttonBackground,.2),light:darken(buttonBackground,.2),hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("buttonHoverBackground","Button background color when hovering.")),badgeBackground=registerColor("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),badgeForeground=registerColor("badge.foreground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,light:"#333",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),scrollbarShadow=registerColor("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),scrollbarSliderBackground=registerColor("scrollbarSlider.background",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#797979").transparent(.4),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#646464").transparent(.4),hc:transparent(contrastBorder,.6)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarSliderBackground","Scrollbar slider background color.")),scrollbarSliderHoverBackground=registerColor("scrollbarSlider.hoverBackground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#646464").transparent(.7),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#646464").transparent(.7),hc:transparent(contrastBorder,.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),scrollbarSliderActiveBackground=registerColor("scrollbarSlider.activeBackground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#BFBFBF").transparent(.4),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#000000").transparent(.6),hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),progressBarBackground=registerColor("progressBar.background",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0E70C0"),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0E70C0"),hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("progressBarBackground","Background color of the progress bar that can show for long running operations.")),editorErrorForeground=registerColor("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorError.foreground","Foreground color of error squigglies in the editor.")),editorErrorBorder=registerColor("editorError.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#E47777").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("errorBorder","Border color of error boxes in the editor.")),editorWarningForeground=registerColor("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),editorWarningBorder=registerColor("editorWarning.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#FFCC00").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("warningBorder","Border color of warning boxes in the editor.")),editorInfoForeground=registerColor("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorInfo.foreground","Foreground color of info squigglies in the editor.")),editorInfoBorder=registerColor("editorInfo.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#75BEFF").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("infoBorder","Border color of info boxes in the editor.")),editorHintForeground=registerColor("editorHint.foreground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorHint.foreground","Foreground color of hint squigglies in the editor.")),editorHintBorder=registerColor("editorHint.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#eeeeee").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hintBorder","Border color of hint boxes in the editor.")),editorBackground=registerColor("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorBackground","Editor background color.")),editorForeground=registerColor("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorForeground","Editor default foreground color.")),editorWidgetBackground=registerColor("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),editorWidgetForeground=registerColor("editorWidget.foreground",{dark:foreground,light:foreground,hc:foreground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),editorWidgetBorder=registerColor("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),editorWidgetResizeBorder=registerColor("editorWidget.resizeBorder",{light:null,dark:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),quickInputBackground=registerColor("quickInput.background",{dark:editorWidgetBackground,light:editorWidgetBackground,hc:editorWidgetBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),quickInputForeground=registerColor("quickInput.foreground",{dark:editorWidgetForeground,light:editorWidgetForeground,hc:editorWidgetForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),quickInputTitleBackground=registerColor("quickInputTitle.background",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,255,255,.105)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(0,0,0,.06)),hc:"#000000"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),pickerGroupForeground=registerColor("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerGroupForeground","Quick picker color for grouping labels.")),pickerGroupBorder=registerColor("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("pickerGroupBorder","Quick picker color for grouping borders.")),editorSelectionBackground=registerColor("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionBackground","Color of the editor selection.")),editorSelectionForeground=registerColor("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionForeground","Color of the selected text for high contrast.")),editorInactiveSelection=registerColor("editor.inactiveSelectionBackground",{light:transparent(editorSelectionBackground,.5),dark:transparent(editorSelectionBackground,.5),hc:transparent(editorSelectionBackground,.5)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),editorSelectionHighlight=registerColor("editor.selectionHighlightBackground",{light:lessProminent(editorSelectionBackground,editorBackground,.3,.6),dark:lessProminent(editorSelectionBackground,editorBackground,.3,.6),hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),editorSelectionHighlightBorder=registerColor("editor.selectionHighlightBorder",{light:null,dark:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),editorFindMatch=registerColor("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorFindMatch","Color of the current search match.")),editorFindMatchHighlight=registerColor("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),editorFindRangeHighlight=registerColor("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),editorFindMatchBorder=registerColor("editor.findMatchBorder",{light:null,dark:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorFindMatchBorder","Border color of the current search match.")),editorFindMatchHighlightBorder=registerColor("editor.findMatchHighlightBorder",{light:null,dark:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findMatchHighlightBorder","Border color of the other search matches.")),editorFindRangeHighlightBorder=registerColor("editor.findRangeHighlightBorder",{dark:null,light:null,hc:transparent(activeContrastBorder,.4)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),editorHoverHighlight=registerColor("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),editorHoverBackground=registerColor("editorHoverWidget.background",{light:editorWidgetBackground,dark:editorWidgetBackground,hc:editorWidgetBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverBackground","Background color of the editor hover.")),editorHoverForeground=registerColor("editorHoverWidget.foreground",{light:editorWidgetForeground,dark:editorWidgetForeground,hc:editorWidgetForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverForeground","Foreground color of the editor hover.")),editorHoverBorder=registerColor("editorHoverWidget.border",{light:editorWidgetBorder,dark:editorWidgetBorder,hc:editorWidgetBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("hoverBorder","Border color of the editor hover.")),editorHoverStatusBarBackground=registerColor("editorHoverWidget.statusBarBackground",{dark:lighten(editorHoverBackground,.2),light:darken(editorHoverBackground,.05),hc:editorWidgetBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("statusBarBackground","Background color of the editor hover status bar.")),editorActiveLinkForeground=registerColor("editorLink.activeForeground",{dark:"#4E94CE",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.blue,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.cyan},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("activeLinkForeground","Color of active links.")),editorLightBulbForeground=registerColor("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorLightBulbForeground","The color used for the lightbulb actions icon.")),editorLightBulbAutoFixForeground=registerColor("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),defaultInsertColor=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(155,185,85,.2)),defaultRemoveColor=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,0,0,.2)),diffInserted=registerColor("diffEditor.insertedTextBackground",{dark:defaultInsertColor,light:defaultInsertColor,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),diffRemoved=registerColor("diffEditor.removedTextBackground",{dark:defaultRemoveColor,light:defaultRemoveColor,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),diffInsertedOutline=registerColor("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorInsertedOutline","Outline color for the text that got inserted.")),diffRemovedOutline=registerColor("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorRemovedOutline","Outline color for text that got removed.")),diffBorder=registerColor("diffEditor.border",{dark:null,light:null,hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffEditorBorder","Border color between the two text editors.")),diffDiagonalFill=registerColor("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),listFocusBackground=registerColor("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listFocusForeground=registerColor("list.focusForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listActiveSelectionBackground=registerColor("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listActiveSelectionForeground=registerColor("list.activeSelectionForeground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),listInactiveSelectionBackground=registerColor("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),listInactiveSelectionForeground=registerColor("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),listInactiveFocusBackground=registerColor("list.inactiveFocusBackground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),listHoverBackground=registerColor("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listHoverBackground","List/Tree background when hovering over items using the mouse.")),listHoverForeground=registerColor("list.hoverForeground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),listDropBackground=registerColor("list.dropBackground",{dark:listFocusBackground,light:listFocusBackground,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),listHighlightForeground=registerColor("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:focusBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),listFilterWidgetBackground=registerColor("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),listFilterWidgetOutline=registerColor("listFilterWidget.outline",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.transparent,light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.transparent,hc:"#f38518"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),listFilterWidgetNoMatchesOutline=registerColor("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),treeIndentGuidesStroke=registerColor("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),menuBorder=registerColor("menu.border",{dark:null,light:null,hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuBorder","Border color of menus.")),menuForeground=registerColor("menu.foreground",{dark:selectForeground,light:foreground,hc:selectForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuForeground","Foreground color of menu items.")),menuBackground=registerColor("menu.background",{dark:selectBackground,light:selectBackground,hc:selectBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuBackground","Background color of menu items.")),menuSelectionForeground=registerColor("menu.selectionForeground",{dark:listActiveSelectionForeground,light:listActiveSelectionForeground,hc:listActiveSelectionForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSelectionForeground","Foreground color of the selected menu item in menus.")),menuSelectionBackground=registerColor("menu.selectionBackground",{dark:listActiveSelectionBackground,light:listActiveSelectionBackground,hc:listActiveSelectionBackground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSelectionBackground","Background color of the selected menu item in menus.")),menuSelectionBorder=registerColor("menu.selectionBorder",{dark:null,light:null,hc:activeContrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSelectionBorder","Border color of the selected menu item in menus.")),menuSeparatorBackground=registerColor("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:contrastBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("menuSeparatorBackground","Color of a separator menu item in menus.")),snippetTabstopHighlightBackground=registerColor("editor.snippetTabstopHighlightBackground",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(124,124,124,.3)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(10,50,100,.2)),hc:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(124,124,124,.3))},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),snippetTabstopHighlightBorder=registerColor("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),snippetFinalTabstopHighlightBackground=registerColor("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),snippetFinalTabstopHighlightBorder=registerColor("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(10,50,100,.5)),hc:"#525252"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),overviewRulerFindMatchForeground=registerColor("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),overviewRulerSelectionHighlightForeground=registerColor("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),minimapFindMatch=registerColor("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),minimapSelection=registerColor("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),minimapError=registerColor("minimap.errorHighlight",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),hc:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,50,50,1))},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapError","Minimap marker color for errors.")),minimapWarning=registerColor("minimap.warningHighlight",{dark:editorWarningForeground,light:editorWarningForeground,hc:editorWarningBorder},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("overviewRuleWarning","Minimap marker color for warnings.")),minimapBackground=registerColor("minimap.background",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapBackground","Minimap background color.")),minimapSliderBackground=registerColor("minimapSlider.background",{light:transparent(scrollbarSliderBackground,.5),dark:transparent(scrollbarSliderBackground,.5),hc:transparent(scrollbarSliderBackground,.5)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapSliderBackground","Minimap slider background color.")),minimapSliderHoverBackground=registerColor("minimapSlider.hoverBackground",{light:transparent(scrollbarSliderHoverBackground,.5),dark:transparent(scrollbarSliderHoverBackground,.5),hc:transparent(scrollbarSliderHoverBackground,.5)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapSliderHoverBackground","Minimap slider background color when hovering.")),minimapSliderActiveBackground=registerColor("minimapSlider.activeBackground",{light:transparent(scrollbarSliderActiveBackground,.5),dark:transparent(scrollbarSliderActiveBackground,.5),hc:transparent(scrollbarSliderActiveBackground,.5)},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),problemsErrorIconForeground=registerColor("problemsErrorIcon.foreground",{dark:editorErrorForeground,light:editorErrorForeground,hc:editorErrorForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("problemsErrorIconForeground","The color used for the problems error icon.")),problemsWarningIconForeground=registerColor("problemsWarningIcon.foreground",{dark:editorWarningForeground,light:editorWarningForeground,hc:editorWarningForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("problemsWarningIconForeground","The color used for the problems warning icon.")),problemsInfoIconForeground=registerColor("problemsInfoIcon.foreground",{dark:editorInfoForeground,light:editorInfoForeground,hc:editorInfoForeground},_nls_js__WEBPACK_IMPORTED_MODULE_3__.a("problemsInfoIconForeground","The color used for the problems info icon."));function darken(colorValue,factor){return theme=>{let color=resolveColorValue(colorValue,theme);if(color)return color.darken(factor)}}function lighten(colorValue,factor){return theme=>{let color=resolveColorValue(colorValue,theme);if(color)return color.lighten(factor)}}function transparent(colorValue,factor){return theme=>{let color=resolveColorValue(colorValue,theme);if(color)return color.transparent(factor)}}function oneOf(...colorValues){return theme=>{for(let colorValue of colorValues){let color=resolveColorValue(colorValue,theme);if(color)return color}}}function lessProminent(colorValue,backgroundColorValue,factor,transparency){return theme=>{let from=resolveColorValue(colorValue,theme);if(from){let backgroundColor=resolveColorValue(backgroundColorValue,theme);return backgroundColor?from.isDarkerThan(backgroundColor)?_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.getLighterColor(from,backgroundColor,factor).transparent(transparency):_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.getDarkerColor(from,backgroundColor,factor).transparent(transparency):from.transparent(factor*transparency)}}}function resolveColorValue(colorValue,theme){if(null!==colorValue)return"string"==typeof colorValue?"#"===colorValue[0]?_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex(colorValue):theme.getColor(colorValue):colorValue instanceof _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a?colorValue:"function"==typeof colorValue?colorValue(theme):void 0}let schemaRegistry=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.as(_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_4__.a.JSONContribution);schemaRegistry.registerSchema("vscode://schemas/workbench-colors",colorRegistry.getColorSchema());const delayer=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_5__.d(()=>schemaRegistry.notifySchemaChanged("vscode://schemas/workbench-colors"),200);colorRegistry.onDidChangeSchema(()=>{delayer.isScheduled()||delayer.schedule()})},2311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Selection});var _position_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2303),_range_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2295);class Selection extends _range_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(selectionStartLineNumber,selectionStartColumn,positionLineNumber,positionColumn){super(selectionStartLineNumber,selectionStartColumn,positionLineNumber,positionColumn),this.selectionStartLineNumber=selectionStartLineNumber,this.selectionStartColumn=selectionStartColumn,this.positionLineNumber=positionLineNumber,this.positionColumn=positionColumn}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(other){return Selection.selectionsEqual(this,other)}static selectionsEqual(a,b){return a.selectionStartLineNumber===b.selectionStartLineNumber&&a.selectionStartColumn===b.selectionStartColumn&&a.positionLineNumber===b.positionLineNumber&&a.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(endLineNumber,endColumn){return 0===this.getDirection()?new Selection(this.startLineNumber,this.startColumn,endLineNumber,endColumn):new Selection(endLineNumber,endColumn,this.startLineNumber,this.startColumn)}getPosition(){return new _position_js__WEBPACK_IMPORTED_MODULE_0__.a(this.positionLineNumber,this.positionColumn)}setStartPosition(startLineNumber,startColumn){return 0===this.getDirection()?new Selection(startLineNumber,startColumn,this.endLineNumber,this.endColumn):new Selection(this.endLineNumber,this.endColumn,startLineNumber,startColumn)}static fromPositions(start,end=start){return new Selection(start.lineNumber,start.column,end.lineNumber,end.column)}static liftSelection(sel){return new Selection(sel.selectionStartLineNumber,sel.selectionStartColumn,sel.positionLineNumber,sel.positionColumn)}static selectionsArrEqual(a,b){if(a&&!b||!a&&b)return!1;if(!a&&!b)return!0;if(a.length!==b.length)return!1;for(let i=0,len=a.length;i<len;i++)if(!this.selectionsEqual(a[i],b[i]))return!1;return!0}static isISelection(obj){return obj&&"number"==typeof obj.selectionStartLineNumber&&"number"==typeof obj.selectionStartColumn&&"number"==typeof obj.positionLineNumber&&"number"==typeof obj.positionColumn}static createWithDirection(startLineNumber,startColumn,endLineNumber,endColumn,direction){return 0===direction?new Selection(startLineNumber,startColumn,endLineNumber,endColumn):new Selection(endLineNumber,endColumn,startLineNumber,startColumn)}}},2312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditorContextKeys});var EditorContextKeys,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2307);!function(EditorContextKeys){EditorContextKeys.editorSimpleInput=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorSimpleInput",!1),EditorContextKeys.editorTextFocus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorTextFocus",!1),EditorContextKeys.focus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorFocus",!1),EditorContextKeys.textInputFocus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("textInputFocus",!1),EditorContextKeys.readOnly=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorReadonly",!1),EditorContextKeys.columnSelection=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorColumnSelection",!1),EditorContextKeys.writable=EditorContextKeys.readOnly.toNegated(),EditorContextKeys.hasNonEmptySelection=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasSelection",!1),EditorContextKeys.hasOnlyEmptySelection=EditorContextKeys.hasNonEmptySelection.toNegated(),EditorContextKeys.hasMultipleSelections=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasMultipleSelections",!1),EditorContextKeys.hasSingleSelection=EditorContextKeys.hasMultipleSelections.toNegated(),EditorContextKeys.tabMovesFocus=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorTabMovesFocus",!1),EditorContextKeys.tabDoesNotMoveFocus=EditorContextKeys.tabMovesFocus.toNegated(),EditorContextKeys.isInWalkThroughSnippet=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("isInEmbeddedEditor",!1),EditorContextKeys.canUndo=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("canUndo",!1),EditorContextKeys.canRedo=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("canRedo",!1),EditorContextKeys.hoverVisible=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHoverVisible",!1),EditorContextKeys.inCompositeEditor=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("inCompositeEditor",void 0),EditorContextKeys.notInCompositeEditor=EditorContextKeys.inCompositeEditor.toNegated(),EditorContextKeys.languageId=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorLangId",""),EditorContextKeys.hasCompletionItemProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasCompletionItemProvider",!1),EditorContextKeys.hasCodeActionsProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasCodeActionsProvider",!1),EditorContextKeys.hasCodeLensProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasCodeLensProvider",!1),EditorContextKeys.hasDefinitionProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasDefinitionProvider",!1),EditorContextKeys.hasDeclarationProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasDeclarationProvider",!1),EditorContextKeys.hasImplementationProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasImplementationProvider",!1),EditorContextKeys.hasTypeDefinitionProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasTypeDefinitionProvider",!1),EditorContextKeys.hasHoverProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasHoverProvider",!1),EditorContextKeys.hasDocumentHighlightProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasDocumentHighlightProvider",!1),EditorContextKeys.hasDocumentSymbolProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasDocumentSymbolProvider",!1),EditorContextKeys.hasReferenceProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasReferenceProvider",!1),EditorContextKeys.hasRenameProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasRenameProvider",!1),EditorContextKeys.hasSignatureHelpProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasSignatureHelpProvider",!1),EditorContextKeys.hasDocumentFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasDocumentFormattingProvider",!1),EditorContextKeys.hasDocumentSelectionFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasDocumentSelectionFormattingProvider",!1),EditorContextKeys.hasMultipleDocumentFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasMultipleDocumentFormattingProvider",!1),EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_0__.c("editorHasMultipleDocumentSelectionFormattingProvider",!1)}(EditorContextKeys||(EditorContextKeys={}))},2313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return URI}),__webpack_require__.d(__webpack_exports__,"b",function(){return uriToFsPath});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2305),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2352);const _schemePattern=/^\w[\w\d+.-]*$/,_singleSlashStart=/^\//,_doubleSlashStart=/^\/\//;const _empty="",_slash="/",_regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class URI{constructor(schemeOrData,authority,path,query,fragment,_strict=!1){"object"==typeof schemeOrData?(this.scheme=schemeOrData.scheme||_empty,this.authority=schemeOrData.authority||_empty,this.path=schemeOrData.path||_empty,this.query=schemeOrData.query||_empty,this.fragment=schemeOrData.fragment||_empty):(this.scheme=function _schemeFix(scheme,_strict){return scheme||_strict?scheme:"file"}(schemeOrData,_strict),this.authority=authority||_empty,this.path=function _referenceResolution(scheme,path){switch(scheme){case"https":case"http":case"file":path?path[0]!==_slash&&(path=_slash+path):path=_slash}return path}(this.scheme,path||_empty),this.query=query||_empty,this.fragment=fragment||_empty,function _validateUri(ret,_strict){if(!ret.scheme&&_strict)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ret.authority}", path: "${ret.path}", query: "${ret.query}", fragment: "${ret.fragment}"}`);if(ret.scheme&&!_schemePattern.test(ret.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ret.path)if(ret.authority){if(!_singleSlashStart.test(ret.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_doubleSlashStart.test(ret.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,_strict))}static isUri(thing){return thing instanceof URI||!!thing&&("string"==typeof thing.authority&&"string"==typeof thing.fragment&&"string"==typeof thing.path&&"string"==typeof thing.query&&"string"==typeof thing.scheme&&"function"==typeof thing.fsPath&&"function"==typeof thing.with&&"function"==typeof thing.toString)}get fsPath(){return uriToFsPath(this,!1)}with(change){if(!change)return this;let{scheme:scheme,authority:authority,path:path,query:query,fragment:fragment}=change;return void 0===scheme?scheme=this.scheme:null===scheme&&(scheme=_empty),void 0===authority?authority=this.authority:null===authority&&(authority=_empty),void 0===path?path=this.path:null===path&&(path=_empty),void 0===query?query=this.query:null===query&&(query=_empty),void 0===fragment?fragment=this.fragment:null===fragment&&(fragment=_empty),scheme===this.scheme&&authority===this.authority&&path===this.path&&query===this.query&&fragment===this.fragment?this:new Uri(scheme,authority,path,query,fragment)}static parse(value,_strict=!1){const match=_regexp.exec(value);return match?new Uri(match[2]||_empty,percentDecode(match[4]||_empty),percentDecode(match[5]||_empty),percentDecode(match[7]||_empty),percentDecode(match[9]||_empty),_strict):new Uri(_empty,_empty,_empty,_empty,_empty)}static file(path){let authority=_empty;if(_platform_js__WEBPACK_IMPORTED_MODULE_0__.i&&(path=path.replace(/\\/g,_slash)),path[0]===_slash&&path[1]===_slash){const idx=path.indexOf(_slash,2);-1===idx?(authority=path.substring(2),path=_slash):(authority=path.substring(2,idx),path=path.substring(idx)||_slash)}return new Uri("file",authority,path,_empty,_empty)}static from(components){return new Uri(components.scheme,components.authority,components.path,components.query,components.fragment)}static joinPath(uri,...pathFragment){if(!uri.path)throw new Error("[UriError]: cannot call joinPaths on URI without path");let newPath;return newPath=_platform_js__WEBPACK_IMPORTED_MODULE_0__.i&&"file"===uri.scheme?URI.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.i.join(uriToFsPath(uri,!0),...pathFragment)).path:_path_js__WEBPACK_IMPORTED_MODULE_1__.e.join(uri.path,...pathFragment),uri.with({path:newPath})}toString(skipEncoding=!1){return _asFormatted(this,skipEncoding)}toJSON(){return this}static revive(data){if(data){if(data instanceof URI)return data;{const result=new Uri(data);return result._formatted=data.external,result._fsPath=data._sep===_pathSepMarker?data.fsPath:null,result}}return data}}const _pathSepMarker=_platform_js__WEBPACK_IMPORTED_MODULE_0__.i?1:void 0;class Uri extends URI{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=uriToFsPath(this,!1)),this._fsPath}toString(skipEncoding=!1){return skipEncoding?_asFormatted(this,!0):(this._formatted||(this._formatted=_asFormatted(this,!1)),this._formatted)}toJSON(){const res={$mid:1};return this._fsPath&&(res.fsPath=this._fsPath,res._sep=_pathSepMarker),this._formatted&&(res.external=this._formatted),this.path&&(res.path=this.path),this.scheme&&(res.scheme=this.scheme),this.authority&&(res.authority=this.authority),this.query&&(res.query=this.query),this.fragment&&(res.fragment=this.fragment),res}}const encodeTable={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function encodeURIComponentFast(uriComponent,allowSlash){let res=void 0,nativeEncodePos=-1;for(let pos=0;pos<uriComponent.length;pos++){const code=uriComponent.charCodeAt(pos);if(code>=97&&code<=122||code>=65&&code<=90||code>=48&&code<=57||45===code||46===code||95===code||126===code||allowSlash&&47===code)-1!==nativeEncodePos&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos,pos)),nativeEncodePos=-1),void 0!==res&&(res+=uriComponent.charAt(pos));else{void 0===res&&(res=uriComponent.substr(0,pos));const escaped=encodeTable[code];void 0!==escaped?(-1!==nativeEncodePos&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos,pos)),nativeEncodePos=-1),res+=escaped):-1===nativeEncodePos&&(nativeEncodePos=pos)}}return-1!==nativeEncodePos&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos))),void 0!==res?res:uriComponent}function encodeURIComponentMinimal(path){let res=void 0;for(let pos=0;pos<path.length;pos++){const code=path.charCodeAt(pos);35===code||63===code?(void 0===res&&(res=path.substr(0,pos)),res+=encodeTable[code]):void 0!==res&&(res+=path[pos])}return void 0!==res?res:path}function uriToFsPath(uri,keepDriveLetterCasing){let value;return value=uri.authority&&uri.path.length>1&&"file"===uri.scheme?`//${uri.authority}${uri.path}`:47===uri.path.charCodeAt(0)&&(uri.path.charCodeAt(1)>=65&&uri.path.charCodeAt(1)<=90||uri.path.charCodeAt(1)>=97&&uri.path.charCodeAt(1)<=122)&&58===uri.path.charCodeAt(2)?keepDriveLetterCasing?uri.path.substr(1):uri.path[1].toLowerCase()+uri.path.substr(2):uri.path,_platform_js__WEBPACK_IMPORTED_MODULE_0__.i&&(value=value.replace(/\//g,"\\")),value}function _asFormatted(uri,skipEncoding){const encoder=skipEncoding?encodeURIComponentMinimal:encodeURIComponentFast;let res="",{scheme:scheme,authority:authority,path:path,query:query,fragment:fragment}=uri;if(scheme&&(res+=scheme,res+=":"),(authority||"file"===scheme)&&(res+=_slash,res+=_slash),authority){let idx=authority.indexOf("@");if(-1!==idx){const userinfo=authority.substr(0,idx);authority=authority.substr(idx+1),-1===(idx=userinfo.indexOf(":"))?res+=encoder(userinfo,!1):(res+=encoder(userinfo.substr(0,idx),!1),res+=":",res+=encoder(userinfo.substr(idx+1),!1)),res+="@"}-1===(idx=(authority=authority.toLowerCase()).indexOf(":"))?res+=encoder(authority,!1):(res+=encoder(authority.substr(0,idx),!1),res+=authority.substr(idx))}if(path){if(path.length>=3&&47===path.charCodeAt(0)&&58===path.charCodeAt(2)){const code=path.charCodeAt(1);code>=65&&code<=90&&(path=`/${String.fromCharCode(code+32)}:${path.substr(3)}`)}else if(path.length>=2&&58===path.charCodeAt(1)){const code=path.charCodeAt(0);code>=65&&code<=90&&(path=`${String.fromCharCode(code+32)}:${path.substr(2)}`)}res+=encoder(path,!0)}return query&&(res+="?",res+=encoder(query,!1)),fragment&&(res+="#",res+=skipEncoding?fragment:encodeURIComponentFast(fragment,!1)),res}const _rEncodedAsHex=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function percentDecode(str){return str.match(_rEncodedAsHex)?str.replace(_rEncodedAsHex,match=>(function decodeURIComponentGraceful(str){try{return decodeURIComponent(str)}catch(_a){return str.length>3?str.substr(0,3)+decodeURIComponentGraceful(str.substr(3)):str}})(match)):str}},2314:function(module,__webpack_exports__,__webpack_require__){"use strict";function isArray(array){return Array.isArray(array)}function isString(str){return"string"==typeof str}function isObject(obj){return!("object"!=typeof obj||null===obj||Array.isArray(obj)||obj instanceof RegExp||obj instanceof Date)}function isNumber(obj){return"number"==typeof obj&&!isNaN(obj)}function isBoolean(obj){return!0===obj||!1===obj}function isUndefined(obj){return void 0===obj}function isUndefinedOrNull(obj){return isUndefined(obj)||null===obj}function assertType(condition,type){if(!condition)throw new Error(type?`Unexpected type, expected '${type}'`:"Unexpected type")}function assertIsDefined(arg){if(isUndefinedOrNull(arg))throw new Error("Assertion Failed: argument is undefined or null");return arg}function isFunction(obj){return"function"==typeof obj}function validateConstraints(args,constraints){const len=Math.min(args.length,constraints.length);for(let i=0;i<len;i++)validateConstraint(args[i],constraints[i])}function validateConstraint(arg,constraint){if(isString(constraint)){if(typeof arg!==constraint)throw new Error(`argument does not match constraint: typeof ${constraint}`)}else if(isFunction(constraint)){try{if(arg instanceof constraint)return}catch(_a){}if(!isUndefinedOrNull(arg)&&arg.constructor===constraint)return;if(1===constraint.length&&!0===constraint.call(void 0,arg))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function getAllMethodNames(obj){const methods=[];for(const prop of function getAllPropertyNames(obj){let res=[],proto=Object.getPrototypeOf(obj);for(;Object.prototype!==proto;)res=res.concat(Object.getOwnPropertyNames(proto)),proto=Object.getPrototypeOf(proto);return res}(obj))"function"==typeof obj[prop]&&methods.push(prop);return methods}function createProxyObject(methodNames,invoke){const createProxyMethod=method=>(function(){const args=Array.prototype.slice.call(arguments,0);return invoke(method,args)});let result={};for(const methodName of methodNames)result[methodName]=createProxyMethod(methodName);return result}function withNullAsUndefined(x){return null===x?void 0:x}__webpack_require__.d(__webpack_exports__,"e",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"j",function(){return isString}),__webpack_require__.d(__webpack_exports__,"i",function(){return isObject}),__webpack_require__.d(__webpack_exports__,"h",function(){return isNumber}),__webpack_require__.d(__webpack_exports__,"f",function(){return isBoolean}),__webpack_require__.d(__webpack_exports__,"k",function(){return isUndefined}),__webpack_require__.d(__webpack_exports__,"l",function(){return isUndefinedOrNull}),__webpack_require__.d(__webpack_exports__,"b",function(){return assertType}),__webpack_require__.d(__webpack_exports__,"a",function(){return assertIsDefined}),__webpack_require__.d(__webpack_exports__,"g",function(){return isFunction}),__webpack_require__.d(__webpack_exports__,"m",function(){return validateConstraints}),__webpack_require__.d(__webpack_exports__,"d",function(){return getAllMethodNames}),__webpack_require__.d(__webpack_exports__,"c",function(){return createProxyObject}),__webpack_require__.d(__webpack_exports__,"n",function(){return withNullAsUndefined})},2315:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CancellationToken}),__webpack_require__.d(__webpack_exports__,"b",function(){return CancellationTokenSource});var _event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296);const shortcutEvent=Object.freeze(function(callback,context){const handle=setTimeout(callback.bind(context),0);return{dispose(){clearTimeout(handle)}}});var CancellationToken;!function(CancellationToken){CancellationToken.isCancellationToken=function isCancellationToken(thing){return thing===CancellationToken.None||thing===CancellationToken.Cancelled||thing instanceof MutableToken||!(!thing||"object"!=typeof thing)&&"boolean"==typeof thing.isCancellationRequested&&"function"==typeof thing.onCancellationRequested},CancellationToken.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_event_js__WEBPACK_IMPORTED_MODULE_0__.b.None}),CancellationToken.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:shortcutEvent})}(CancellationToken||(CancellationToken={}));class MutableToken{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?shortcutEvent:(this._emitter||(this._emitter=new _event_js__WEBPACK_IMPORTED_MODULE_0__.a),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class CancellationTokenSource{constructor(parent){this._token=void 0,this._parentListener=void 0,this._parentListener=parent&&parent.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new MutableToken),this._token}cancel(){this._token?this._token instanceof MutableToken&&this._token.cancel():this._token=CancellationToken.Cancelled}dispose(cancel=!1){cancel&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=CancellationToken.None}}},2316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return iconRegistry}),__webpack_require__.d(__webpack_exports__,"e",function(){return registerIcon}),__webpack_require__.d(__webpack_exports__,"a",function(){return Codicon}),__webpack_require__.d(__webpack_exports__,"b",function(){return escapeCodicons}),__webpack_require__.d(__webpack_exports__,"d",function(){return markdownEscapeEscapedCodicons}),__webpack_require__.d(__webpack_exports__,"g",function(){return renderCodiconsRegex}),__webpack_require__.d(__webpack_exports__,"f",function(){return renderCodicons}),__webpack_require__.d(__webpack_exports__,"h",function(){return stripCodicons});var _codicon_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2462),_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296);const _registry=new class Registry{constructor(){this._icons=new Map,this._onDidRegister=new _event_js__WEBPACK_IMPORTED_MODULE_1__.a}add(icon){this._icons.has(icon.id)?console.error(`Duplicate registration of codicon ${icon.id}`):(this._icons.set(icon.id,icon),this._onDidRegister.fire(icon))}get(id){return this._icons.get(id)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},iconRegistry=_registry;function registerIcon(id,def,description){return new Codicon(id,def)}class Codicon{constructor(id,definition,description){this.id=id,this.definition=definition,this.description=description,_registry.add(this)}get classNames(){return"codicon codicon-"+this.id}get cssSelector(){return".codicon.codicon-"+this.id}}!function(Codicon){Codicon.add=new Codicon("add",{character:"\\ea60"}),Codicon.plus=new Codicon("plus",{character:"\\ea60"}),Codicon.gistNew=new Codicon("gist-new",{character:"\\ea60"}),Codicon.repoCreate=new Codicon("repo-create",{character:"\\ea60"}),Codicon.lightbulb=new Codicon("lightbulb",{character:"\\ea61"}),Codicon.lightBulb=new Codicon("light-bulb",{character:"\\ea61"}),Codicon.repo=new Codicon("repo",{character:"\\ea62"}),Codicon.repoDelete=new Codicon("repo-delete",{character:"\\ea62"}),Codicon.gistFork=new Codicon("gist-fork",{character:"\\ea63"}),Codicon.repoForked=new Codicon("repo-forked",{character:"\\ea63"}),Codicon.gitPullRequest=new Codicon("git-pull-request",{character:"\\ea64"}),Codicon.gitPullRequestAbandoned=new Codicon("git-pull-request-abandoned",{character:"\\ea64"}),Codicon.recordKeys=new Codicon("record-keys",{character:"\\ea65"}),Codicon.keyboard=new Codicon("keyboard",{character:"\\ea65"}),Codicon.tag=new Codicon("tag",{character:"\\ea66"}),Codicon.tagAdd=new Codicon("tag-add",{character:"\\ea66"}),Codicon.tagRemove=new Codicon("tag-remove",{character:"\\ea66"}),Codicon.person=new Codicon("person",{character:"\\ea67"}),Codicon.personAdd=new Codicon("person-add",{character:"\\ea67"}),Codicon.personFollow=new Codicon("person-follow",{character:"\\ea67"}),Codicon.personOutline=new Codicon("person-outline",{character:"\\ea67"}),Codicon.personFilled=new Codicon("person-filled",{character:"\\ea67"}),Codicon.gitBranch=new Codicon("git-branch",{character:"\\ea68"}),Codicon.gitBranchCreate=new Codicon("git-branch-create",{character:"\\ea68"}),Codicon.gitBranchDelete=new Codicon("git-branch-delete",{character:"\\ea68"}),Codicon.sourceControl=new Codicon("source-control",{character:"\\ea68"}),Codicon.mirror=new Codicon("mirror",{character:"\\ea69"}),Codicon.mirrorPublic=new Codicon("mirror-public",{character:"\\ea69"}),Codicon.star=new Codicon("star",{character:"\\ea6a"}),Codicon.starAdd=new Codicon("star-add",{character:"\\ea6a"}),Codicon.starDelete=new Codicon("star-delete",{character:"\\ea6a"}),Codicon.starEmpty=new Codicon("star-empty",{character:"\\ea6a"}),Codicon.comment=new Codicon("comment",{character:"\\ea6b"}),Codicon.commentAdd=new Codicon("comment-add",{character:"\\ea6b"}),Codicon.alert=new Codicon("alert",{character:"\\ea6c"}),Codicon.warning=new Codicon("warning",{character:"\\ea6c"}),Codicon.search=new Codicon("search",{character:"\\ea6d"}),Codicon.searchSave=new Codicon("search-save",{character:"\\ea6d"}),Codicon.logOut=new Codicon("log-out",{character:"\\ea6e"}),Codicon.signOut=new Codicon("sign-out",{character:"\\ea6e"}),Codicon.logIn=new Codicon("log-in",{character:"\\ea6f"}),Codicon.signIn=new Codicon("sign-in",{character:"\\ea6f"}),Codicon.eye=new Codicon("eye",{character:"\\ea70"}),Codicon.eyeUnwatch=new Codicon("eye-unwatch",{character:"\\ea70"}),Codicon.eyeWatch=new Codicon("eye-watch",{character:"\\ea70"}),Codicon.circleFilled=new Codicon("circle-filled",{character:"\\ea71"}),Codicon.primitiveDot=new Codicon("primitive-dot",{character:"\\ea71"}),Codicon.closeDirty=new Codicon("close-dirty",{character:"\\ea71"}),Codicon.debugBreakpoint=new Codicon("debug-breakpoint",{character:"\\ea71"}),Codicon.debugBreakpointDisabled=new Codicon("debug-breakpoint-disabled",{character:"\\ea71"}),Codicon.debugHint=new Codicon("debug-hint",{character:"\\ea71"}),Codicon.primitiveSquare=new Codicon("primitive-square",{character:"\\ea72"}),Codicon.edit=new Codicon("edit",{character:"\\ea73"}),Codicon.pencil=new Codicon("pencil",{character:"\\ea73"}),Codicon.info=new Codicon("info",{character:"\\ea74"}),Codicon.issueOpened=new Codicon("issue-opened",{character:"\\ea74"}),Codicon.gistPrivate=new Codicon("gist-private",{character:"\\ea75"}),Codicon.gitForkPrivate=new Codicon("git-fork-private",{character:"\\ea75"}),Codicon.lock=new Codicon("lock",{character:"\\ea75"}),Codicon.mirrorPrivate=new Codicon("mirror-private",{character:"\\ea75"}),Codicon.close=new Codicon("close",{character:"\\ea76"}),Codicon.removeClose=new Codicon("remove-close",{character:"\\ea76"}),Codicon.x=new Codicon("x",{character:"\\ea76"}),Codicon.repoSync=new Codicon("repo-sync",{character:"\\ea77"}),Codicon.sync=new Codicon("sync",{character:"\\ea77"}),Codicon.clone=new Codicon("clone",{character:"\\ea78"}),Codicon.desktopDownload=new Codicon("desktop-download",{character:"\\ea78"}),Codicon.beaker=new Codicon("beaker",{character:"\\ea79"}),Codicon.microscope=new Codicon("microscope",{character:"\\ea79"}),Codicon.vm=new Codicon("vm",{character:"\\ea7a"}),Codicon.deviceDesktop=new Codicon("device-desktop",{character:"\\ea7a"}),Codicon.file=new Codicon("file",{character:"\\ea7b"}),Codicon.fileText=new Codicon("file-text",{character:"\\ea7b"}),Codicon.more=new Codicon("more",{character:"\\ea7c"}),Codicon.ellipsis=new Codicon("ellipsis",{character:"\\ea7c"}),Codicon.kebabHorizontal=new Codicon("kebab-horizontal",{character:"\\ea7c"}),Codicon.mailReply=new Codicon("mail-reply",{character:"\\ea7d"}),Codicon.reply=new Codicon("reply",{character:"\\ea7d"}),Codicon.organization=new Codicon("organization",{character:"\\ea7e"}),Codicon.organizationFilled=new Codicon("organization-filled",{character:"\\ea7e"}),Codicon.organizationOutline=new Codicon("organization-outline",{character:"\\ea7e"}),Codicon.newFile=new Codicon("new-file",{character:"\\ea7f"}),Codicon.fileAdd=new Codicon("file-add",{character:"\\ea7f"}),Codicon.newFolder=new Codicon("new-folder",{character:"\\ea80"}),Codicon.fileDirectoryCreate=new Codicon("file-directory-create",{character:"\\ea80"}),Codicon.trash=new Codicon("trash",{character:"\\ea81"}),Codicon.trashcan=new Codicon("trashcan",{character:"\\ea81"}),Codicon.history=new Codicon("history",{character:"\\ea82"}),Codicon.clock=new Codicon("clock",{character:"\\ea82"}),Codicon.folder=new Codicon("folder",{character:"\\ea83"}),Codicon.fileDirectory=new Codicon("file-directory",{character:"\\ea83"}),Codicon.symbolFolder=new Codicon("symbol-folder",{character:"\\ea83"}),Codicon.logoGithub=new Codicon("logo-github",{character:"\\ea84"}),Codicon.markGithub=new Codicon("mark-github",{character:"\\ea84"}),Codicon.github=new Codicon("github",{character:"\\ea84"}),Codicon.terminal=new Codicon("terminal",{character:"\\ea85"}),Codicon.console=new Codicon("console",{character:"\\ea85"}),Codicon.repl=new Codicon("repl",{character:"\\ea85"}),Codicon.zap=new Codicon("zap",{character:"\\ea86"}),Codicon.symbolEvent=new Codicon("symbol-event",{character:"\\ea86"}),Codicon.error=new Codicon("error",{character:"\\ea87"}),Codicon.stop=new Codicon("stop",{character:"\\ea87"}),Codicon.variable=new Codicon("variable",{character:"\\ea88"}),Codicon.symbolVariable=new Codicon("symbol-variable",{character:"\\ea88"}),Codicon.array=new Codicon("array",{character:"\\ea8a"}),Codicon.symbolArray=new Codicon("symbol-array",{character:"\\ea8a"}),Codicon.symbolModule=new Codicon("symbol-module",{character:"\\ea8b"}),Codicon.symbolPackage=new Codicon("symbol-package",{character:"\\ea8b"}),Codicon.symbolNamespace=new Codicon("symbol-namespace",{character:"\\ea8b"}),Codicon.symbolObject=new Codicon("symbol-object",{character:"\\ea8b"}),Codicon.symbolMethod=new Codicon("symbol-method",{character:"\\ea8c"}),Codicon.symbolFunction=new Codicon("symbol-function",{character:"\\ea8c"}),Codicon.symbolConstructor=new Codicon("symbol-constructor",{character:"\\ea8c"}),Codicon.symbolBoolean=new Codicon("symbol-boolean",{character:"\\ea8f"}),Codicon.symbolNull=new Codicon("symbol-null",{character:"\\ea8f"}),Codicon.symbolNumeric=new Codicon("symbol-numeric",{character:"\\ea90"}),Codicon.symbolNumber=new Codicon("symbol-number",{character:"\\ea90"}),Codicon.symbolStructure=new Codicon("symbol-structure",{character:"\\ea91"}),Codicon.symbolStruct=new Codicon("symbol-struct",{character:"\\ea91"}),Codicon.symbolParameter=new Codicon("symbol-parameter",{character:"\\ea92"}),Codicon.symbolTypeParameter=new Codicon("symbol-type-parameter",{character:"\\ea92"}),Codicon.symbolKey=new Codicon("symbol-key",{character:"\\ea93"}),Codicon.symbolText=new Codicon("symbol-text",{character:"\\ea93"}),Codicon.symbolReference=new Codicon("symbol-reference",{character:"\\ea94"}),Codicon.goToFile=new Codicon("go-to-file",{character:"\\ea94"}),Codicon.symbolEnum=new Codicon("symbol-enum",{character:"\\ea95"}),Codicon.symbolValue=new Codicon("symbol-value",{character:"\\ea95"}),Codicon.symbolRuler=new Codicon("symbol-ruler",{character:"\\ea96"}),Codicon.symbolUnit=new Codicon("symbol-unit",{character:"\\ea96"}),Codicon.activateBreakpoints=new Codicon("activate-breakpoints",{character:"\\ea97"}),Codicon.archive=new Codicon("archive",{character:"\\ea98"}),Codicon.arrowBoth=new Codicon("arrow-both",{character:"\\ea99"}),Codicon.arrowDown=new Codicon("arrow-down",{character:"\\ea9a"}),Codicon.arrowLeft=new Codicon("arrow-left",{character:"\\ea9b"}),Codicon.arrowRight=new Codicon("arrow-right",{character:"\\ea9c"}),Codicon.arrowSmallDown=new Codicon("arrow-small-down",{character:"\\ea9d"}),Codicon.arrowSmallLeft=new Codicon("arrow-small-left",{character:"\\ea9e"}),Codicon.arrowSmallRight=new Codicon("arrow-small-right",{character:"\\ea9f"}),Codicon.arrowSmallUp=new Codicon("arrow-small-up",{character:"\\eaa0"}),Codicon.arrowUp=new Codicon("arrow-up",{character:"\\eaa1"}),Codicon.bell=new Codicon("bell",{character:"\\eaa2"}),Codicon.bold=new Codicon("bold",{character:"\\eaa3"}),Codicon.book=new Codicon("book",{character:"\\eaa4"}),Codicon.bookmark=new Codicon("bookmark",{character:"\\eaa5"}),Codicon.debugBreakpointConditionalUnverified=new Codicon("debug-breakpoint-conditional-unverified",{character:"\\eaa6"}),Codicon.debugBreakpointConditional=new Codicon("debug-breakpoint-conditional",{character:"\\eaa7"}),Codicon.debugBreakpointConditionalDisabled=new Codicon("debug-breakpoint-conditional-disabled",{character:"\\eaa7"}),Codicon.debugBreakpointDataUnverified=new Codicon("debug-breakpoint-data-unverified",{character:"\\eaa8"}),Codicon.debugBreakpointData=new Codicon("debug-breakpoint-data",{character:"\\eaa9"}),Codicon.debugBreakpointDataDisabled=new Codicon("debug-breakpoint-data-disabled",{character:"\\eaa9"}),Codicon.debugBreakpointLogUnverified=new Codicon("debug-breakpoint-log-unverified",{character:"\\eaaa"}),Codicon.debugBreakpointLog=new Codicon("debug-breakpoint-log",{character:"\\eaab"}),Codicon.debugBreakpointLogDisabled=new Codicon("debug-breakpoint-log-disabled",{character:"\\eaab"}),Codicon.briefcase=new Codicon("briefcase",{character:"\\eaac"}),Codicon.broadcast=new Codicon("broadcast",{character:"\\eaad"}),Codicon.browser=new Codicon("browser",{character:"\\eaae"}),Codicon.bug=new Codicon("bug",{character:"\\eaaf"}),Codicon.calendar=new Codicon("calendar",{character:"\\eab0"}),Codicon.caseSensitive=new Codicon("case-sensitive",{character:"\\eab1"}),Codicon.check=new Codicon("check",{character:"\\eab2"}),Codicon.checklist=new Codicon("checklist",{character:"\\eab3"}),Codicon.chevronDown=new Codicon("chevron-down",{character:"\\eab4"}),Codicon.chevronLeft=new Codicon("chevron-left",{character:"\\eab5"}),Codicon.chevronRight=new Codicon("chevron-right",{character:"\\eab6"}),Codicon.chevronUp=new Codicon("chevron-up",{character:"\\eab7"}),Codicon.chromeClose=new Codicon("chrome-close",{character:"\\eab8"}),Codicon.chromeMaximize=new Codicon("chrome-maximize",{character:"\\eab9"}),Codicon.chromeMinimize=new Codicon("chrome-minimize",{character:"\\eaba"}),Codicon.chromeRestore=new Codicon("chrome-restore",{character:"\\eabb"}),Codicon.circleOutline=new Codicon("circle-outline",{character:"\\eabc"}),Codicon.debugBreakpointUnverified=new Codicon("debug-breakpoint-unverified",{character:"\\eabc"}),Codicon.circleSlash=new Codicon("circle-slash",{character:"\\eabd"}),Codicon.circuitBoard=new Codicon("circuit-board",{character:"\\eabe"}),Codicon.clearAll=new Codicon("clear-all",{character:"\\eabf"}),Codicon.clippy=new Codicon("clippy",{character:"\\eac0"}),Codicon.closeAll=new Codicon("close-all",{character:"\\eac1"}),Codicon.cloudDownload=new Codicon("cloud-download",{character:"\\eac2"}),Codicon.cloudUpload=new Codicon("cloud-upload",{character:"\\eac3"}),Codicon.code=new Codicon("code",{character:"\\eac4"}),Codicon.collapseAll=new Codicon("collapse-all",{character:"\\eac5"}),Codicon.colorMode=new Codicon("color-mode",{character:"\\eac6"}),Codicon.commentDiscussion=new Codicon("comment-discussion",{character:"\\eac7"}),Codicon.compareChanges=new Codicon("compare-changes",{character:"\\eafd"}),Codicon.creditCard=new Codicon("credit-card",{character:"\\eac9"}),Codicon.dash=new Codicon("dash",{character:"\\eacc"}),Codicon.dashboard=new Codicon("dashboard",{character:"\\eacd"}),Codicon.database=new Codicon("database",{character:"\\eace"}),Codicon.debugContinue=new Codicon("debug-continue",{character:"\\eacf"}),Codicon.debugDisconnect=new Codicon("debug-disconnect",{character:"\\ead0"}),Codicon.debugPause=new Codicon("debug-pause",{character:"\\ead1"}),Codicon.debugRestart=new Codicon("debug-restart",{character:"\\ead2"}),Codicon.debugStart=new Codicon("debug-start",{character:"\\ead3"}),Codicon.debugStepInto=new Codicon("debug-step-into",{character:"\\ead4"}),Codicon.debugStepOut=new Codicon("debug-step-out",{character:"\\ead5"}),Codicon.debugStepOver=new Codicon("debug-step-over",{character:"\\ead6"}),Codicon.debugStop=new Codicon("debug-stop",{character:"\\ead7"}),Codicon.debug=new Codicon("debug",{character:"\\ead8"}),Codicon.deviceCameraVideo=new Codicon("device-camera-video",{character:"\\ead9"}),Codicon.deviceCamera=new Codicon("device-camera",{character:"\\eada"}),Codicon.deviceMobile=new Codicon("device-mobile",{character:"\\eadb"}),Codicon.diffAdded=new Codicon("diff-added",{character:"\\eadc"}),Codicon.diffIgnored=new Codicon("diff-ignored",{character:"\\eadd"}),Codicon.diffModified=new Codicon("diff-modified",{character:"\\eade"}),Codicon.diffRemoved=new Codicon("diff-removed",{character:"\\eadf"}),Codicon.diffRenamed=new Codicon("diff-renamed",{character:"\\eae0"}),Codicon.diff=new Codicon("diff",{character:"\\eae1"}),Codicon.discard=new Codicon("discard",{character:"\\eae2"}),Codicon.editorLayout=new Codicon("editor-layout",{character:"\\eae3"}),Codicon.emptyWindow=new Codicon("empty-window",{character:"\\eae4"}),Codicon.exclude=new Codicon("exclude",{character:"\\eae5"}),Codicon.extensions=new Codicon("extensions",{character:"\\eae6"}),Codicon.eyeClosed=new Codicon("eye-closed",{character:"\\eae7"}),Codicon.fileBinary=new Codicon("file-binary",{character:"\\eae8"}),Codicon.fileCode=new Codicon("file-code",{character:"\\eae9"}),Codicon.fileMedia=new Codicon("file-media",{character:"\\eaea"}),Codicon.filePdf=new Codicon("file-pdf",{character:"\\eaeb"}),Codicon.fileSubmodule=new Codicon("file-submodule",{character:"\\eaec"}),Codicon.fileSymlinkDirectory=new Codicon("file-symlink-directory",{character:"\\eaed"}),Codicon.fileSymlinkFile=new Codicon("file-symlink-file",{character:"\\eaee"}),Codicon.fileZip=new Codicon("file-zip",{character:"\\eaef"}),Codicon.files=new Codicon("files",{character:"\\eaf0"}),Codicon.filter=new Codicon("filter",{character:"\\eaf1"}),Codicon.flame=new Codicon("flame",{character:"\\eaf2"}),Codicon.foldDown=new Codicon("fold-down",{character:"\\eaf3"}),Codicon.foldUp=new Codicon("fold-up",{character:"\\eaf4"}),Codicon.fold=new Codicon("fold",{character:"\\eaf5"}),Codicon.folderActive=new Codicon("folder-active",{character:"\\eaf6"}),Codicon.folderOpened=new Codicon("folder-opened",{character:"\\eaf7"}),Codicon.gear=new Codicon("gear",{character:"\\eaf8"}),Codicon.gift=new Codicon("gift",{character:"\\eaf9"}),Codicon.gistSecret=new Codicon("gist-secret",{character:"\\eafa"}),Codicon.gist=new Codicon("gist",{character:"\\eafb"}),Codicon.gitCommit=new Codicon("git-commit",{character:"\\eafc"}),Codicon.gitCompare=new Codicon("git-compare",{character:"\\eafd"}),Codicon.gitMerge=new Codicon("git-merge",{character:"\\eafe"}),Codicon.githubAction=new Codicon("github-action",{character:"\\eaff"}),Codicon.githubAlt=new Codicon("github-alt",{character:"\\eb00"}),Codicon.globe=new Codicon("globe",{character:"\\eb01"}),Codicon.grabber=new Codicon("grabber",{character:"\\eb02"}),Codicon.graph=new Codicon("graph",{character:"\\eb03"}),Codicon.gripper=new Codicon("gripper",{character:"\\eb04"}),Codicon.heart=new Codicon("heart",{character:"\\eb05"}),Codicon.home=new Codicon("home",{character:"\\eb06"}),Codicon.horizontalRule=new Codicon("horizontal-rule",{character:"\\eb07"}),Codicon.hubot=new Codicon("hubot",{character:"\\eb08"}),Codicon.inbox=new Codicon("inbox",{character:"\\eb09"}),Codicon.issueClosed=new Codicon("issue-closed",{character:"\\eb0a"}),Codicon.issueReopened=new Codicon("issue-reopened",{character:"\\eb0b"}),Codicon.issues=new Codicon("issues",{character:"\\eb0c"}),Codicon.italic=new Codicon("italic",{character:"\\eb0d"}),Codicon.jersey=new Codicon("jersey",{character:"\\eb0e"}),Codicon.json=new Codicon("json",{character:"\\eb0f"}),Codicon.kebabVertical=new Codicon("kebab-vertical",{character:"\\eb10"}),Codicon.key=new Codicon("key",{character:"\\eb11"}),Codicon.law=new Codicon("law",{character:"\\eb12"}),Codicon.lightbulbAutofix=new Codicon("lightbulb-autofix",{character:"\\eb13"}),Codicon.linkExternal=new Codicon("link-external",{character:"\\eb14"}),Codicon.link=new Codicon("link",{character:"\\eb15"}),Codicon.listOrdered=new Codicon("list-ordered",{character:"\\eb16"}),Codicon.listUnordered=new Codicon("list-unordered",{character:"\\eb17"}),Codicon.liveShare=new Codicon("live-share",{character:"\\eb18"}),Codicon.loading=new Codicon("loading",{character:"\\eb19"}),Codicon.location=new Codicon("location",{character:"\\eb1a"}),Codicon.mailRead=new Codicon("mail-read",{character:"\\eb1b"}),Codicon.mail=new Codicon("mail",{character:"\\eb1c"}),Codicon.markdown=new Codicon("markdown",{character:"\\eb1d"}),Codicon.megaphone=new Codicon("megaphone",{character:"\\eb1e"}),Codicon.mention=new Codicon("mention",{character:"\\eb1f"}),Codicon.milestone=new Codicon("milestone",{character:"\\eb20"}),Codicon.mortarBoard=new Codicon("mortar-board",{character:"\\eb21"}),Codicon.move=new Codicon("move",{character:"\\eb22"}),Codicon.multipleWindows=new Codicon("multiple-windows",{character:"\\eb23"}),Codicon.mute=new Codicon("mute",{character:"\\eb24"}),Codicon.noNewline=new Codicon("no-newline",{character:"\\eb25"}),Codicon.note=new Codicon("note",{character:"\\eb26"}),Codicon.octoface=new Codicon("octoface",{character:"\\eb27"}),Codicon.openPreview=new Codicon("open-preview",{character:"\\eb28"}),Codicon.package_=new Codicon("package",{character:"\\eb29"}),Codicon.paintcan=new Codicon("paintcan",{character:"\\eb2a"}),Codicon.pin=new Codicon("pin",{character:"\\eb2b"}),Codicon.play=new Codicon("play",{character:"\\eb2c"}),Codicon.run=new Codicon("run",{character:"\\eb2c"}),Codicon.plug=new Codicon("plug",{character:"\\eb2d"}),Codicon.preserveCase=new Codicon("preserve-case",{character:"\\eb2e"}),Codicon.preview=new Codicon("preview",{character:"\\eb2f"}),Codicon.project=new Codicon("project",{character:"\\eb30"}),Codicon.pulse=new Codicon("pulse",{character:"\\eb31"}),Codicon.question=new Codicon("question",{character:"\\eb32"}),Codicon.quote=new Codicon("quote",{character:"\\eb33"}),Codicon.radioTower=new Codicon("radio-tower",{character:"\\eb34"}),Codicon.reactions=new Codicon("reactions",{character:"\\eb35"}),Codicon.references=new Codicon("references",{character:"\\eb36"}),Codicon.refresh=new Codicon("refresh",{character:"\\eb37"}),Codicon.regex=new Codicon("regex",{character:"\\eb38"}),Codicon.remoteExplorer=new Codicon("remote-explorer",{character:"\\eb39"}),Codicon.remote=new Codicon("remote",{character:"\\eb3a"}),Codicon.remove=new Codicon("remove",{character:"\\eb3b"}),Codicon.replaceAll=new Codicon("replace-all",{character:"\\eb3c"}),Codicon.replace=new Codicon("replace",{character:"\\eb3d"}),Codicon.repoClone=new Codicon("repo-clone",{character:"\\eb3e"}),Codicon.repoForcePush=new Codicon("repo-force-push",{character:"\\eb3f"}),Codicon.repoPull=new Codicon("repo-pull",{character:"\\eb40"}),Codicon.repoPush=new Codicon("repo-push",{character:"\\eb41"}),Codicon.report=new Codicon("report",{character:"\\eb42"}),Codicon.requestChanges=new Codicon("request-changes",{character:"\\eb43"}),Codicon.rocket=new Codicon("rocket",{character:"\\eb44"}),Codicon.rootFolderOpened=new Codicon("root-folder-opened",{character:"\\eb45"}),Codicon.rootFolder=new Codicon("root-folder",{character:"\\eb46"}),Codicon.rss=new Codicon("rss",{character:"\\eb47"}),Codicon.ruby=new Codicon("ruby",{character:"\\eb48"}),Codicon.saveAll=new Codicon("save-all",{character:"\\eb49"}),Codicon.saveAs=new Codicon("save-as",{character:"\\eb4a"}),Codicon.save=new Codicon("save",{character:"\\eb4b"}),Codicon.screenFull=new Codicon("screen-full",{character:"\\eb4c"}),Codicon.screenNormal=new Codicon("screen-normal",{character:"\\eb4d"}),Codicon.searchStop=new Codicon("search-stop",{character:"\\eb4e"}),Codicon.server=new Codicon("server",{character:"\\eb50"}),Codicon.settingsGear=new Codicon("settings-gear",{character:"\\eb51"}),Codicon.settings=new Codicon("settings",{character:"\\eb52"}),Codicon.shield=new Codicon("shield",{character:"\\eb53"}),Codicon.smiley=new Codicon("smiley",{character:"\\eb54"}),Codicon.sortPrecedence=new Codicon("sort-precedence",{character:"\\eb55"}),Codicon.splitHorizontal=new Codicon("split-horizontal",{character:"\\eb56"}),Codicon.splitVertical=new Codicon("split-vertical",{character:"\\eb57"}),Codicon.squirrel=new Codicon("squirrel",{character:"\\eb58"}),Codicon.starFull=new Codicon("star-full",{character:"\\eb59"}),Codicon.starHalf=new Codicon("star-half",{character:"\\eb5a"}),Codicon.symbolClass=new Codicon("symbol-class",{character:"\\eb5b"}),Codicon.symbolColor=new Codicon("symbol-color",{character:"\\eb5c"}),Codicon.symbolConstant=new Codicon("symbol-constant",{character:"\\eb5d"}),Codicon.symbolEnumMember=new Codicon("symbol-enum-member",{character:"\\eb5e"}),Codicon.symbolField=new Codicon("symbol-field",{character:"\\eb5f"}),Codicon.symbolFile=new Codicon("symbol-file",{character:"\\eb60"}),Codicon.symbolInterface=new Codicon("symbol-interface",{character:"\\eb61"}),Codicon.symbolKeyword=new Codicon("symbol-keyword",{character:"\\eb62"}),Codicon.symbolMisc=new Codicon("symbol-misc",{character:"\\eb63"}),Codicon.symbolOperator=new Codicon("symbol-operator",{character:"\\eb64"}),Codicon.symbolProperty=new Codicon("symbol-property",{character:"\\eb65"}),Codicon.wrench=new Codicon("wrench",{character:"\\eb65"}),Codicon.wrenchSubaction=new Codicon("wrench-subaction",{character:"\\eb65"}),Codicon.symbolSnippet=new Codicon("symbol-snippet",{character:"\\eb66"}),Codicon.tasklist=new Codicon("tasklist",{character:"\\eb67"}),Codicon.telescope=new Codicon("telescope",{character:"\\eb68"}),Codicon.textSize=new Codicon("text-size",{character:"\\eb69"}),Codicon.threeBars=new Codicon("three-bars",{character:"\\eb6a"}),Codicon.thumbsdown=new Codicon("thumbsdown",{character:"\\eb6b"}),Codicon.thumbsup=new Codicon("thumbsup",{character:"\\eb6c"}),Codicon.tools=new Codicon("tools",{character:"\\eb6d"}),Codicon.triangleDown=new Codicon("triangle-down",{character:"\\eb6e"}),Codicon.triangleLeft=new Codicon("triangle-left",{character:"\\eb6f"}),Codicon.triangleRight=new Codicon("triangle-right",{character:"\\eb70"}),Codicon.triangleUp=new Codicon("triangle-up",{character:"\\eb71"}),Codicon.twitter=new Codicon("twitter",{character:"\\eb72"}),Codicon.unfold=new Codicon("unfold",{character:"\\eb73"}),Codicon.unlock=new Codicon("unlock",{character:"\\eb74"}),Codicon.unmute=new Codicon("unmute",{character:"\\eb75"}),Codicon.unverified=new Codicon("unverified",{character:"\\eb76"}),Codicon.verified=new Codicon("verified",{character:"\\eb77"}),Codicon.versions=new Codicon("versions",{character:"\\eb78"}),Codicon.vmActive=new Codicon("vm-active",{character:"\\eb79"}),Codicon.vmOutline=new Codicon("vm-outline",{character:"\\eb7a"}),Codicon.vmRunning=new Codicon("vm-running",{character:"\\eb7b"}),Codicon.watch=new Codicon("watch",{character:"\\eb7c"}),Codicon.whitespace=new Codicon("whitespace",{character:"\\eb7d"}),Codicon.wholeWord=new Codicon("whole-word",{character:"\\eb7e"}),Codicon.window=new Codicon("window",{character:"\\eb7f"}),Codicon.wordWrap=new Codicon("word-wrap",{character:"\\eb80"}),Codicon.zoomIn=new Codicon("zoom-in",{character:"\\eb81"}),Codicon.zoomOut=new Codicon("zoom-out",{character:"\\eb82"}),Codicon.listFilter=new Codicon("list-filter",{character:"\\eb83"}),Codicon.listFlat=new Codicon("list-flat",{character:"\\eb84"}),Codicon.listSelection=new Codicon("list-selection",{character:"\\eb85"}),Codicon.selection=new Codicon("selection",{character:"\\eb85"}),Codicon.listTree=new Codicon("list-tree",{character:"\\eb86"}),Codicon.debugBreakpointFunctionUnverified=new Codicon("debug-breakpoint-function-unverified",{character:"\\eb87"}),Codicon.debugBreakpointFunction=new Codicon("debug-breakpoint-function",{character:"\\eb88"}),Codicon.debugBreakpointFunctionDisabled=new Codicon("debug-breakpoint-function-disabled",{character:"\\eb88"}),Codicon.debugStackframeActive=new Codicon("debug-stackframe-active",{character:"\\eb89"}),Codicon.debugStackframeDot=new Codicon("debug-stackframe-dot",{character:"\\eb8a"}),Codicon.debugStackframe=new Codicon("debug-stackframe",{character:"\\eb8b"}),Codicon.debugStackframeFocused=new Codicon("debug-stackframe-focused",{character:"\\eb8b"}),Codicon.debugBreakpointUnsupported=new Codicon("debug-breakpoint-unsupported",{character:"\\eb8c"}),Codicon.symbolString=new Codicon("symbol-string",{character:"\\eb8d"}),Codicon.debugReverseContinue=new Codicon("debug-reverse-continue",{character:"\\eb8e"}),Codicon.debugStepBack=new Codicon("debug-step-back",{character:"\\eb8f"}),Codicon.debugRestartFrame=new Codicon("debug-restart-frame",{character:"\\eb90"}),Codicon.callIncoming=new Codicon("call-incoming",{character:"\\eb92"}),Codicon.callOutgoing=new Codicon("call-outgoing",{character:"\\eb93"}),Codicon.menu=new Codicon("menu",{character:"\\eb94"}),Codicon.expandAll=new Codicon("expand-all",{character:"\\eb95"}),Codicon.feedback=new Codicon("feedback",{character:"\\eb96"}),Codicon.groupByRefType=new Codicon("group-by-ref-type",{character:"\\eb97"}),Codicon.ungroupByRefType=new Codicon("ungroup-by-ref-type",{character:"\\eb98"}),Codicon.account=new Codicon("account",{character:"\\eb99"}),Codicon.bellDot=new Codicon("bell-dot",{character:"\\eb9a"}),Codicon.debugConsole=new Codicon("debug-console",{character:"\\eb9b"}),Codicon.library=new Codicon("library",{character:"\\eb9c"}),Codicon.output=new Codicon("output",{character:"\\eb9d"}),Codicon.runAll=new Codicon("run-all",{character:"\\eb9e"}),Codicon.syncIgnored=new Codicon("sync-ignored",{character:"\\eb9f"}),Codicon.pinned=new Codicon("pinned",{character:"\\eba0"}),Codicon.githubInverted=new Codicon("github-inverted",{character:"\\eba1"}),Codicon.debugAlt=new Codicon("debug-alt",{character:"\\eb91"}),Codicon.serverProcess=new Codicon("server-process",{character:"\\eba2"}),Codicon.serverEnvironment=new Codicon("server-environment",{character:"\\eba3"}),Codicon.pass=new Codicon("pass",{character:"\\eba4"}),Codicon.stopCircle=new Codicon("stop-circle",{character:"\\eba5"}),Codicon.playCircle=new Codicon("play-circle",{character:"\\eba6"}),Codicon.record=new Codicon("record",{character:"\\eba7"}),Codicon.debugAltSmall=new Codicon("debug-alt-small",{character:"\\eba8"}),Codicon.vmConnect=new Codicon("vm-connect",{character:"\\eba9"}),Codicon.cloud=new Codicon("cloud",{character:"\\ebaa"}),Codicon.merge=new Codicon("merge",{character:"\\ebab"})}(Codicon||(Codicon={}));const escapeCodiconsRegex=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function escapeCodicons(text){return text.replace(escapeCodiconsRegex,(match,escaped)=>escaped?match:`\\${match}`)}const markdownEscapedCodiconsRegex=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function markdownEscapeEscapedCodicons(text){return text.replace(markdownEscapedCodiconsRegex,match=>`\\${match}`)}const renderCodiconsRegex=/(\\)?\$\((([a-z0-9\-]+?)(?:~([a-z0-9\-]*?))?)\)/gi;function renderCodicons(text){return text.replace(renderCodiconsRegex,(_,escaped,codicon,name,animation)=>escaped?`$(${codicon})`:`<span class="codicon codicon-${name}${animation?` codicon-animation-${animation}`:""}"></span>`)}const stripCodiconsRegex=/(\s)?(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)(\s)?/gi;function stripCodicons(text){return-1===text.indexOf(_codicon_js__WEBPACK_IMPORTED_MODULE_0__.a)?text:text.replace(stripCodiconsRegex,(match,preWhitespace,escaped,postWhitespace)=>escaped?match:preWhitespace||postWhitespace||"")}},2317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ICodeEditorService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const ICodeEditorService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("codeEditorService")},2318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return ICommandService}),__webpack_require__.d(__webpack_exports__,"a",function(){return CommandsRegistry});var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2294),_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2314),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2300),_base_common_event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2296),_base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2359),_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2341);const ICommandService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__.c)("commandService"),CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(idOrCommand,handler){if(!idOrCommand)throw new Error("invalid command");if("string"==typeof idOrCommand){if(!handler)throw new Error("invalid command");return this.registerCommand({id:idOrCommand,handler:handler})}if(idOrCommand.description){const constraints=[];for(let arg of idOrCommand.description.args)constraints.push(arg.constraint);const actualHandler=idOrCommand.handler;idOrCommand.handler=function(accessor,...args){return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__.m)(args,constraints),actualHandler(accessor,...args)}}const{id:id}=idOrCommand;let commands=this._commands.get(id);commands||(commands=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_4__.a,this._commands.set(id,commands));let removeFn=commands.unshift(idOrCommand),ret=Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.h)(()=>{removeFn();const command=this._commands.get(id);(null==command?void 0:command.isEmpty())&&this._commands.delete(id)});return this._onDidRegisterCommand.fire(id),ret}registerCommandAlias(oldId,newId){return CommandsRegistry.registerCommand(oldId,(accessor,...args)=>accessor.get(ICommandService).executeCommand(newId,...args))}getCommand(id){const list=this._commands.get(id);if(list&&!list.isEmpty())return _base_common_iterator_js__WEBPACK_IMPORTED_MODULE_5__.a.first(list)}getCommands(){const result=new Map;for(const key of this._commands.keys()){const command=this.getCommand(key);command&&result.set(key,command)}return result}}},2319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FastDomNode}),__webpack_require__.d(__webpack_exports__,"b",function(){return createFastDomNode});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2298);class FastDomNode{constructor(domNode){this.domNode=domNode,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(maxWidth){this._maxWidth!==maxWidth&&(this._maxWidth=maxWidth,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(width){this._width!==width&&(this._width=width,this.domNode.style.width=this._width+"px")}setHeight(height){this._height!==height&&(this._height=height,this.domNode.style.height=this._height+"px")}setTop(top){this._top!==top&&(this._top=top,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(left){this._left!==left&&(this._left=left,this.domNode.style.left=this._left+"px")}setBottom(bottom){this._bottom!==bottom&&(this._bottom=bottom,this.domNode.style.bottom=this._bottom+"px")}setRight(right){this._right!==right&&(this._right=right,this.domNode.style.right=this._right+"px")}setFontFamily(fontFamily){this._fontFamily!==fontFamily&&(this._fontFamily=fontFamily,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(fontWeight){this._fontWeight!==fontWeight&&(this._fontWeight=fontWeight,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(fontSize){this._fontSize!==fontSize&&(this._fontSize=fontSize,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(fontFeatureSettings){this._fontFeatureSettings!==fontFeatureSettings&&(this._fontFeatureSettings=fontFeatureSettings,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(lineHeight){this._lineHeight!==lineHeight&&(this._lineHeight=lineHeight,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(letterSpacing){this._letterSpacing!==letterSpacing&&(this._letterSpacing=letterSpacing,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(className){this._className!==className&&(this._className=className,this.domNode.className=this._className)}toggleClassName(className,shouldHaveIt){_dom_js__WEBPACK_IMPORTED_MODULE_0__.ab(this.domNode,className,shouldHaveIt),this._className=this.domNode.className}setDisplay(display){this._display!==display&&(this._display=display,this.domNode.style.display=this._display)}setPosition(position){this._position!==position&&(this._position=position,this.domNode.style.position=this._position)}setVisibility(visibility){this._visibility!==visibility&&(this._visibility=visibility,this.domNode.style.visibility=this._visibility)}setBackgroundColor(backgroundColor){this._backgroundColor!==backgroundColor&&(this._backgroundColor=backgroundColor,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(layerHint){this._layerHint!==layerHint&&(this._layerHint=layerHint,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(boxShadow){this._boxShadow!==boxShadow&&(this._boxShadow=boxShadow,this.domNode.style.boxShadow=boxShadow)}setContain(contain){this._contain!==contain&&(this._contain=contain,this.domNode.style.contain=this._contain)}setAttribute(name,value){this.domNode.setAttribute(name,value)}removeAttribute(name){this.domNode.removeAttribute(name)}appendChild(child){this.domNode.appendChild(child.domNode)}removeChild(child){this.domNode.removeChild(child.domNode)}}function createFastDomNode(domNode){return new FastDomNode(domNode)}},2320:function(module,__webpack_exports__,__webpack_require__){"use strict";function roundFloat(number,decimalPoints){const decimal=Math.pow(10,decimalPoints);return Math.round(number*decimal)/decimal}__webpack_require__.d(__webpack_exports__,"c",function(){return RGBA}),__webpack_require__.d(__webpack_exports__,"b",function(){return HSVA}),__webpack_require__.d(__webpack_exports__,"a",function(){return Color});class RGBA{constructor(r,g,b,a=1){this.r=0|Math.min(255,Math.max(0,r)),this.g=0|Math.min(255,Math.max(0,g)),this.b=0|Math.min(255,Math.max(0,b)),this.a=roundFloat(Math.max(Math.min(1,a),0),3)}static equals(a,b){return a.r===b.r&&a.g===b.g&&a.b===b.b&&a.a===b.a}}class HSLA{constructor(h,s,l,a){this.h=0|Math.max(Math.min(360,h),0),this.s=roundFloat(Math.max(Math.min(1,s),0),3),this.l=roundFloat(Math.max(Math.min(1,l),0),3),this.a=roundFloat(Math.max(Math.min(1,a),0),3)}static equals(a,b){return a.h===b.h&&a.s===b.s&&a.l===b.l&&a.a===b.a}static fromRGBA(rgba){const r=rgba.r/255,g=rgba.g/255,b=rgba.b/255,a=rgba.a,max=Math.max(r,g,b),min=Math.min(r,g,b);let h=0,s=0;const l=(min+max)/2,chroma=max-min;if(chroma>0){switch(s=Math.min(l<=.5?chroma/(2*l):chroma/(2-2*l),1),max){case r:h=(g-b)/chroma+(g<b?6:0);break;case g:h=(b-r)/chroma+2;break;case b:h=(r-g)/chroma+4}h*=60,h=Math.round(h)}return new HSLA(h,s,l,a)}static _hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}static toRGBA(hsla){const h=hsla.h/360,{s:s,l:l,a:a}=hsla;let r,g,b;if(0===s)r=g=b=l;else{const q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=HSLA._hue2rgb(p,q,h+1/3),g=HSLA._hue2rgb(p,q,h),b=HSLA._hue2rgb(p,q,h-1/3)}return new RGBA(Math.round(255*r),Math.round(255*g),Math.round(255*b),a)}}class HSVA{constructor(h,s,v,a){this.h=0|Math.max(Math.min(360,h),0),this.s=roundFloat(Math.max(Math.min(1,s),0),3),this.v=roundFloat(Math.max(Math.min(1,v),0),3),this.a=roundFloat(Math.max(Math.min(1,a),0),3)}static equals(a,b){return a.h===b.h&&a.s===b.s&&a.v===b.v&&a.a===b.a}static fromRGBA(rgba){const r=rgba.r/255,g=rgba.g/255,b=rgba.b/255,cmax=Math.max(r,g,b),delta=cmax-Math.min(r,g,b),s=0===cmax?0:delta/cmax;let m;return m=0===delta?0:cmax===r?((g-b)/delta%6+6)%6:cmax===g?(b-r)/delta+2:(r-g)/delta+4,new HSVA(Math.round(60*m),s,cmax,rgba.a)}static toRGBA(hsva){const{h:h,s:s,v:v,a:a}=hsva,c=v*s,x=c*(1-Math.abs(h/60%2-1)),m=v-c;let[r,g,b]=[0,0,0];return h<60?(r=c,g=x):h<120?(r=x,g=c):h<180?(g=c,b=x):h<240?(g=x,b=c):h<300?(r=x,b=c):h<360&&(r=c,b=x),r=Math.round(255*(r+m)),g=Math.round(255*(g+m)),b=Math.round(255*(b+m)),new RGBA(r,g,b,a)}}class Color{constructor(arg){if(!arg)throw new Error("Color needs a value");if(arg instanceof RGBA)this.rgba=arg;else if(arg instanceof HSLA)this._hsla=arg,this.rgba=HSLA.toRGBA(arg);else{if(!(arg instanceof HSVA))throw new Error("Invalid color ctor argument");this._hsva=arg,this.rgba=HSVA.toRGBA(arg)}}static fromHex(hex){return Color.Format.CSS.parseHex(hex)||Color.red}get hsla(){return this._hsla?this._hsla:HSLA.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:HSVA.fromRGBA(this.rgba)}equals(other){return!!other&&RGBA.equals(this.rgba,other.rgba)&&HSLA.equals(this.hsla,other.hsla)&&HSVA.equals(this.hsva,other.hsva)}getRelativeLuminance(){return roundFloat(.2126*Color._relativeLuminanceForComponent(this.rgba.r)+.7152*Color._relativeLuminanceForComponent(this.rgba.g)+.0722*Color._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(color){const c=color/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(another){return this.getRelativeLuminance()>another.getRelativeLuminance()}isDarkerThan(another){return this.getRelativeLuminance()<another.getRelativeLuminance()}lighten(factor){return new Color(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*factor,this.hsla.a))}darken(factor){return new Color(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*factor,this.hsla.a))}transparent(factor){const{r:r,g:g,b:b,a:a}=this.rgba;return new Color(new RGBA(r,g,b,a*factor))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new Color(new RGBA(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+Color.Format.CSS.format(this)}static getLighterColor(of,relative,factor){if(of.isLighterThan(relative))return of;factor=factor||.5;const lum1=of.getRelativeLuminance(),lum2=relative.getRelativeLuminance();return factor=factor*(lum2-lum1)/lum2,of.lighten(factor)}static getDarkerColor(of,relative,factor){if(of.isDarkerThan(relative))return of;factor=factor||.5;const lum1=of.getRelativeLuminance();return factor=factor*(lum1-relative.getRelativeLuminance())/lum1,of.darken(factor)}}Color.white=new Color(new RGBA(255,255,255,1)),Color.black=new Color(new RGBA(0,0,0,1)),Color.red=new Color(new RGBA(255,0,0,1)),Color.blue=new Color(new RGBA(0,0,255,1)),Color.cyan=new Color(new RGBA(0,255,255,1)),Color.lightgrey=new Color(new RGBA(211,211,211,1)),Color.transparent=new Color(new RGBA(0,0,0,0)),function(Color){let Format;!function(Format){let CSS;!function(CSS){function _toTwoDigitHex(n){const r=n.toString(16);return 2!==r.length?"0"+r:r}function _parseHexDigit(charCode){switch(charCode){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}CSS.formatRGB=function formatRGB(color){return 1===color.rgba.a?`rgb(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b})`:Color.Format.CSS.formatRGBA(color)},CSS.formatRGBA=function formatRGBA(color){return`rgba(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b}, ${+color.rgba.a.toFixed(2)})`},CSS.formatHSL=function formatHSL(color){return 1===color.hsla.a?`hsl(${color.hsla.h}, ${(100*color.hsla.s).toFixed(2)}%, ${(100*color.hsla.l).toFixed(2)}%)`:Color.Format.CSS.formatHSLA(color)},CSS.formatHSLA=function formatHSLA(color){return`hsla(${color.hsla.h}, ${(100*color.hsla.s).toFixed(2)}%, ${(100*color.hsla.l).toFixed(2)}%, ${color.hsla.a.toFixed(2)})`},CSS.formatHex=function formatHex(color){return`#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}`},CSS.formatHexA=function formatHexA(color,compact=!1){return compact&&1===color.rgba.a?Color.Format.CSS.formatHex(color):`#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}${_toTwoDigitHex(Math.round(255*color.rgba.a))}`},CSS.format=function format(color){return color.isOpaque()?Color.Format.CSS.formatHex(color):Color.Format.CSS.formatRGBA(color)},CSS.parseHex=function parseHex(hex){const length=hex.length;if(0===length)return null;if(35!==hex.charCodeAt(0))return null;if(7===length){const r=16*_parseHexDigit(hex.charCodeAt(1))+_parseHexDigit(hex.charCodeAt(2)),g=16*_parseHexDigit(hex.charCodeAt(3))+_parseHexDigit(hex.charCodeAt(4)),b=16*_parseHexDigit(hex.charCodeAt(5))+_parseHexDigit(hex.charCodeAt(6));return new Color(new RGBA(r,g,b,1))}if(9===length){const r=16*_parseHexDigit(hex.charCodeAt(1))+_parseHexDigit(hex.charCodeAt(2)),g=16*_parseHexDigit(hex.charCodeAt(3))+_parseHexDigit(hex.charCodeAt(4)),b=16*_parseHexDigit(hex.charCodeAt(5))+_parseHexDigit(hex.charCodeAt(6)),a=16*_parseHexDigit(hex.charCodeAt(7))+_parseHexDigit(hex.charCodeAt(8));return new Color(new RGBA(r,g,b,a/255))}if(4===length){const r=_parseHexDigit(hex.charCodeAt(1)),g=_parseHexDigit(hex.charCodeAt(2)),b=_parseHexDigit(hex.charCodeAt(3));return new Color(new RGBA(16*r+r,16*g+g,16*b+b))}if(5===length){const r=_parseHexDigit(hex.charCodeAt(1)),g=_parseHexDigit(hex.charCodeAt(2)),b=_parseHexDigit(hex.charCodeAt(3)),a=_parseHexDigit(hex.charCodeAt(4));return new Color(new RGBA(16*r+r,16*g+g,16*b+b,(16*a+a)/255))}return null}}(CSS=Format.CSS||(Format.CSS={}))}(Format=Color.Format||(Color.Format={}))}(Color||(Color={}))},2321:function(module,__webpack_exports__,__webpack_require__){"use strict";var errors=__webpack_require__(2302),common_event=__webpack_require__(2296),lifecycle=__webpack_require__(2294),strings=__webpack_require__(2299),uri=__webpack_require__(2313),editorOptions=__webpack_require__(2328),core_position=__webpack_require__(2303),core_range=__webpack_require__(2295),selection=__webpack_require__(2311),model=__webpack_require__(2340),editStack=__webpack_require__(2463);class SpacesDiffResult{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function spacesDiff(a,aLength,b,bLength,result){let i;for(result.spacesDiff=0,result.looksLikeAlignment=!1,i=0;i<aLength&&i<bLength;i++){if(a.charCodeAt(i)!==b.charCodeAt(i))break}let aSpacesCnt=0,aTabsCount=0;for(let j=i;j<aLength;j++){32===a.charCodeAt(j)?aSpacesCnt++:aTabsCount++}let bSpacesCnt=0,bTabsCount=0;for(let j=i;j<bLength;j++){32===b.charCodeAt(j)?bSpacesCnt++:bTabsCount++}if(aSpacesCnt>0&&aTabsCount>0)return;if(bSpacesCnt>0&&bTabsCount>0)return;let tabsDiff=Math.abs(aTabsCount-bTabsCount),spacesDiff=Math.abs(aSpacesCnt-bSpacesCnt);if(0===tabsDiff)return result.spacesDiff=spacesDiff,void(spacesDiff>0&&0<=bSpacesCnt-1&&bSpacesCnt-1<a.length&&bSpacesCnt<b.length&&32!==b.charCodeAt(bSpacesCnt)&&32===a.charCodeAt(bSpacesCnt-1)&&44===a.charCodeAt(a.length-1)&&(result.looksLikeAlignment=!0));spacesDiff%tabsDiff!=0||(result.spacesDiff=spacesDiff/tabsDiff)}function guessIndentation(source,defaultTabSize,defaultInsertSpaces){const linesCount=Math.min(source.getLineCount(),1e4);let linesIndentedWithTabsCount=0,linesIndentedWithSpacesCount=0,previousLineText="",previousLineIndentation=0;const ALLOWED_TAB_SIZE_GUESSES=[2,4,6,8,3,5,7];let spacesDiffCount=[0,0,0,0,0,0,0,0,0],tmp=new SpacesDiffResult;for(let lineNumber=1;lineNumber<=linesCount;lineNumber++){let currentLineLength=source.getLineLength(lineNumber),currentLineText=source.getLineContent(lineNumber);const useCurrentLineText=currentLineLength<=65536;let currentLineHasContent=!1,currentLineIndentation=0,currentLineSpacesCount=0,currentLineTabsCount=0;for(let j=0,lenJ=currentLineLength;j<lenJ;j++){let charCode=useCurrentLineText?currentLineText.charCodeAt(j):source.getLineCharCode(lineNumber,j);if(9===charCode)currentLineTabsCount++;else{if(32!==charCode){currentLineHasContent=!0,currentLineIndentation=j;break}currentLineSpacesCount++}}if(!currentLineHasContent)continue;if(currentLineTabsCount>0?linesIndentedWithTabsCount++:currentLineSpacesCount>1&&linesIndentedWithSpacesCount++,spacesDiff(previousLineText,previousLineIndentation,currentLineText,currentLineIndentation,tmp),tmp.looksLikeAlignment&&(!defaultInsertSpaces||defaultTabSize!==tmp.spacesDiff))continue;let currentSpacesDiff=tmp.spacesDiff;currentSpacesDiff<=8&&spacesDiffCount[currentSpacesDiff]++,previousLineText=currentLineText,previousLineIndentation=currentLineIndentation}let insertSpaces=defaultInsertSpaces;linesIndentedWithTabsCount!==linesIndentedWithSpacesCount&&(insertSpaces=linesIndentedWithTabsCount<linesIndentedWithSpacesCount);let tabSize=defaultTabSize;if(insertSpaces){let tabSizeScore=insertSpaces?0:.1*linesCount;ALLOWED_TAB_SIZE_GUESSES.forEach(possibleTabSize=>{let possibleTabSizeScore=spacesDiffCount[possibleTabSize];possibleTabSizeScore>tabSizeScore&&(tabSizeScore=possibleTabSizeScore,tabSize=possibleTabSize)}),4===tabSize&&spacesDiffCount[4]>0&&spacesDiffCount[2]>0&&spacesDiffCount[2]>=spacesDiffCount[4]/2&&(tabSize=2)}return{insertSpaces:insertSpaces,tabSize:tabSize}}function getNodeColor(node){return(1&node.metadata)>>>0}function setNodeColor(node,color){node.metadata=254&node.metadata|color<<0}function getNodeIsVisited(node){return(2&node.metadata)>>>1==1}function setNodeIsVisited(node,value){node.metadata=253&node.metadata|(value?1:0)<<1}function getNodeIsForValidation(node){return(4&node.metadata)>>>2==1}function setNodeIsForValidation(node,value){node.metadata=251&node.metadata|(value?1:0)<<2}function getNodeIsInOverviewRuler(node){return(8&node.metadata)>>>3==1}function setNodeIsInOverviewRuler(node,value){node.metadata=247&node.metadata|(value?1:0)<<3}function _setNodeStickiness(node,stickiness){node.metadata=207&node.metadata|stickiness<<4}function setCollapseOnReplaceEdit(node,value){node.metadata=191&node.metadata|(value?1:0)<<6}class IntervalNode{constructor(id,start,end){this.metadata=0,this.parent=this,this.left=this,this.right=this,setNodeColor(this,1),this.start=start,this.end=end,this.delta=0,this.maxEnd=end,this.id=id,this.ownerId=0,this.options=null,setNodeIsForValidation(this,!1),_setNodeStickiness(this,1),setNodeIsInOverviewRuler(this,!1),setCollapseOnReplaceEdit(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=start,this.cachedAbsoluteEnd=end,this.range=null,setNodeIsVisited(this,!1)}reset(versionId,start,end,range){this.start=start,this.end=end,this.maxEnd=end,this.cachedVersionId=versionId,this.cachedAbsoluteStart=start,this.cachedAbsoluteEnd=end,this.range=range}setOptions(options){this.options=options;let className=this.options.className;setNodeIsForValidation(this,"squiggly-error"===className||"squiggly-warning"===className||"squiggly-info"===className),_setNodeStickiness(this,this.options.stickiness),setNodeIsInOverviewRuler(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),setCollapseOnReplaceEdit(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(absoluteStart,absoluteEnd,cachedVersionId){this.cachedVersionId!==cachedVersionId&&(this.range=null),this.cachedVersionId=cachedVersionId,this.cachedAbsoluteStart=absoluteStart,this.cachedAbsoluteEnd=absoluteEnd}detach(){this.parent=null,this.left=null,this.right=null}}const SENTINEL=new IntervalNode(null,0,0);SENTINEL.parent=SENTINEL,SENTINEL.left=SENTINEL,SENTINEL.right=SENTINEL,setNodeColor(SENTINEL,0);class IntervalTree{constructor(){this.root=SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(start,end,filterOwnerId,filterOutValidation,cachedVersionId){return this.root===SENTINEL?[]:function intervalSearch(T,intervalStart,intervalEnd,filterOwnerId,filterOutValidation,cachedVersionId){let node=T.root,delta=0,nodeMaxEnd=0,nodeStart=0,nodeEnd=0,result=[],resultLen=0;for(;node!==SENTINEL;)if(getNodeIsVisited(node))setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent;else{if(!getNodeIsVisited(node.left)){if((nodeMaxEnd=delta+node.maxEnd)<intervalStart){setNodeIsVisited(node,!0);continue}if(node.left!==SENTINEL){node=node.left;continue}}if((nodeStart=delta+node.start)>intervalEnd)setNodeIsVisited(node,!0);else{if((nodeEnd=delta+node.end)>=intervalStart){node.setCachedOffsets(nodeStart,nodeEnd,cachedVersionId);let include=!0;filterOwnerId&&node.ownerId&&node.ownerId!==filterOwnerId&&(include=!1),filterOutValidation&&getNodeIsForValidation(node)&&(include=!1),include&&(result[resultLen++]=node)}setNodeIsVisited(node,!0),node.right===SENTINEL||getNodeIsVisited(node.right)||(delta+=node.delta,node=node.right)}}return setNodeIsVisited(T.root,!1),result}(this,start,end,filterOwnerId,filterOutValidation,cachedVersionId)}search(filterOwnerId,filterOutValidation,cachedVersionId){return this.root===SENTINEL?[]:function search(T,filterOwnerId,filterOutValidation,cachedVersionId){let node=T.root,delta=0,nodeStart=0,nodeEnd=0,result=[],resultLen=0;for(;node!==SENTINEL;){if(getNodeIsVisited(node)){setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent;continue}if(node.left!==SENTINEL&&!getNodeIsVisited(node.left)){node=node.left;continue}nodeStart=delta+node.start,nodeEnd=delta+node.end,node.setCachedOffsets(nodeStart,nodeEnd,cachedVersionId);let include=!0;filterOwnerId&&node.ownerId&&node.ownerId!==filterOwnerId&&(include=!1),filterOutValidation&&getNodeIsForValidation(node)&&(include=!1),include&&(result[resultLen++]=node),setNodeIsVisited(node,!0),node.right===SENTINEL||getNodeIsVisited(node.right)||(delta+=node.delta,node=node.right)}return setNodeIsVisited(T.root,!1),result}(this,filterOwnerId,filterOutValidation,cachedVersionId)}collectNodesFromOwner(ownerId){return function collectNodesFromOwner(T,ownerId){let node=T.root,result=[],resultLen=0;for(;node!==SENTINEL;)getNodeIsVisited(node)?(setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node=node.parent):node.left===SENTINEL||getNodeIsVisited(node.left)?(node.ownerId===ownerId&&(result[resultLen++]=node),setNodeIsVisited(node,!0),node.right===SENTINEL||getNodeIsVisited(node.right)||(node=node.right)):node=node.left;return setNodeIsVisited(T.root,!1),result}(this,ownerId)}collectNodesPostOrder(){return function collectNodesPostOrder(T){let node=T.root,result=[],resultLen=0;for(;node!==SENTINEL;)getNodeIsVisited(node)?(setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node=node.parent):node.left===SENTINEL||getNodeIsVisited(node.left)?node.right===SENTINEL||getNodeIsVisited(node.right)?(result[resultLen++]=node,setNodeIsVisited(node,!0)):node=node.right:node=node.left;return setNodeIsVisited(T.root,!1),result}(this)}insert(node){rbTreeInsert(this,node),this._normalizeDeltaIfNecessary()}delete(node){rbTreeDelete(this,node),this._normalizeDeltaIfNecessary()}resolveNode(node,cachedVersionId){const initialNode=node;let delta=0;for(;node!==this.root;)node===node.parent.right&&(delta+=node.parent.delta),node=node.parent;const nodeStart=initialNode.start+delta,nodeEnd=initialNode.end+delta;initialNode.setCachedOffsets(nodeStart,nodeEnd,cachedVersionId)}acceptReplace(offset,length,textLength,forceMoveMarkers){const nodesOfInterest=function searchForEditing(T,start,end){let node=T.root,delta=0,nodeMaxEnd=0,nodeStart=0,nodeEnd=0,result=[],resultLen=0;for(;node!==SENTINEL;)if(getNodeIsVisited(node))setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent;else{if(!getNodeIsVisited(node.left)){if((nodeMaxEnd=delta+node.maxEnd)<start){setNodeIsVisited(node,!0);continue}if(node.left!==SENTINEL){node=node.left;continue}}(nodeStart=delta+node.start)>end?setNodeIsVisited(node,!0):((nodeEnd=delta+node.end)>=start&&(node.setCachedOffsets(nodeStart,nodeEnd,0),result[resultLen++]=node),setNodeIsVisited(node,!0),node.right===SENTINEL||getNodeIsVisited(node.right)||(delta+=node.delta,node=node.right))}return setNodeIsVisited(T.root,!1),result}(this,offset,offset+length);for(let i=0,len=nodesOfInterest.length;i<len;i++){rbTreeDelete(this,nodesOfInterest[i])}this._normalizeDeltaIfNecessary(),function noOverlapReplace(T,start,end,textLength){let node=T.root,delta=0,nodeMaxEnd=0,nodeStart=0;const editDelta=textLength-(end-start);for(;node!==SENTINEL;)if(getNodeIsVisited(node))setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),recomputeMaxEnd(node),node=node.parent;else{if(!getNodeIsVisited(node.left)){if((nodeMaxEnd=delta+node.maxEnd)<start){setNodeIsVisited(node,!0);continue}if(node.left!==SENTINEL){node=node.left;continue}}(nodeStart=delta+node.start)>end?(node.start+=editDelta,node.end+=editDelta,node.delta+=editDelta,(node.delta<-1073741824||node.delta>1073741824)&&(T.requestNormalizeDelta=!0),setNodeIsVisited(node,!0)):(setNodeIsVisited(node,!0),node.right===SENTINEL||getNodeIsVisited(node.right)||(delta+=node.delta,node=node.right))}setNodeIsVisited(T.root,!1)}(this,offset,offset+length,textLength),this._normalizeDeltaIfNecessary();for(let i=0,len=nodesOfInterest.length;i<len;i++){const node=nodesOfInterest[i];node.start=node.cachedAbsoluteStart,node.end=node.cachedAbsoluteEnd,nodeAcceptEdit(node,offset,offset+length,textLength,forceMoveMarkers),node.maxEnd=node.end,rbTreeInsert(this,node)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function normalizeDelta(T){let node=T.root,delta=0;for(;node!==SENTINEL;)node.left===SENTINEL||getNodeIsVisited(node.left)?node.right===SENTINEL||getNodeIsVisited(node.right)?(node.start=delta+node.start,node.end=delta+node.end,node.delta=0,recomputeMaxEnd(node),setNodeIsVisited(node,!0),setNodeIsVisited(node.left,!1),setNodeIsVisited(node.right,!1),node===node.parent.right&&(delta-=node.parent.delta),node=node.parent):(delta+=node.delta,node=node.right):node=node.left;setNodeIsVisited(T.root,!1)}(this))}}function adjustMarkerBeforeColumn(markerOffset,markerStickToPreviousCharacter,checkOffset,moveSemantics){return markerOffset<checkOffset||!(markerOffset>checkOffset)&&(1!==moveSemantics&&(2===moveSemantics||markerStickToPreviousCharacter))}function nodeAcceptEdit(node,start,end,textLength,forceMoveMarkers){const nodeStickiness=function getNodeStickiness(node){return(48&node.metadata)>>>4}(node),startStickToPreviousCharacter=0===nodeStickiness||2===nodeStickiness,endStickToPreviousCharacter=1===nodeStickiness||2===nodeStickiness,deletingCnt=end-start,insertingCnt=textLength,commonLength=Math.min(deletingCnt,insertingCnt),nodeStart=node.start;let startDone=!1;const nodeEnd=node.end;let endDone=!1;start<=nodeStart&&nodeEnd<=end&&function getCollapseOnReplaceEdit(node){return(64&node.metadata)>>>6==1}(node)&&(node.start=start,startDone=!0,node.end=start,endDone=!0);{const moveSemantics=forceMoveMarkers?1:deletingCnt>0?2:0;!startDone&&adjustMarkerBeforeColumn(nodeStart,startStickToPreviousCharacter,start,moveSemantics)&&(startDone=!0),!endDone&&adjustMarkerBeforeColumn(nodeEnd,endStickToPreviousCharacter,start,moveSemantics)&&(endDone=!0)}if(commonLength>0&&!forceMoveMarkers){const moveSemantics=deletingCnt>insertingCnt?2:0;!startDone&&adjustMarkerBeforeColumn(nodeStart,startStickToPreviousCharacter,start+commonLength,moveSemantics)&&(startDone=!0),!endDone&&adjustMarkerBeforeColumn(nodeEnd,endStickToPreviousCharacter,start+commonLength,moveSemantics)&&(endDone=!0)}{const moveSemantics=forceMoveMarkers?1:0;!startDone&&adjustMarkerBeforeColumn(nodeStart,startStickToPreviousCharacter,end,moveSemantics)&&(node.start=start+insertingCnt,startDone=!0),!endDone&&adjustMarkerBeforeColumn(nodeEnd,endStickToPreviousCharacter,end,moveSemantics)&&(node.end=start+insertingCnt,endDone=!0)}const deltaColumn=insertingCnt-deletingCnt;startDone||(node.start=Math.max(0,nodeStart+deltaColumn)),endDone||(node.end=Math.max(0,nodeEnd+deltaColumn)),node.start>node.end&&(node.end=node.start)}function rbTreeInsert(T,newNode){if(T.root===SENTINEL)return newNode.parent=SENTINEL,newNode.left=SENTINEL,newNode.right=SENTINEL,setNodeColor(newNode,0),T.root=newNode,T.root;!function treeInsert(T,z){let delta=0,x=T.root;const zAbsoluteStart=z.start,zAbsoluteEnd=z.end;for(;;){const cmp=intervalCompare(zAbsoluteStart,zAbsoluteEnd,x.start+delta,x.end+delta);if(cmp<0){if(x.left===SENTINEL){z.start-=delta,z.end-=delta,z.maxEnd-=delta,x.left=z;break}x=x.left}else{if(x.right===SENTINEL){z.start-=delta+x.delta,z.end-=delta+x.delta,z.maxEnd-=delta+x.delta,x.right=z;break}delta+=x.delta,x=x.right}}z.parent=x,z.left=SENTINEL,z.right=SENTINEL,setNodeColor(z,1)}(T,newNode),recomputeMaxEndWalkToRoot(newNode.parent);let x=newNode;for(;x!==T.root&&1===getNodeColor(x.parent);)if(x.parent===x.parent.parent.left){const y=x.parent.parent.right;1===getNodeColor(y)?(setNodeColor(x.parent,0),setNodeColor(y,0),setNodeColor(x.parent.parent,1),x=x.parent.parent):(x===x.parent.right&&leftRotate(T,x=x.parent),setNodeColor(x.parent,0),setNodeColor(x.parent.parent,1),rightRotate(T,x.parent.parent))}else{const y=x.parent.parent.left;1===getNodeColor(y)?(setNodeColor(x.parent,0),setNodeColor(y,0),setNodeColor(x.parent.parent,1),x=x.parent.parent):(x===x.parent.left&&rightRotate(T,x=x.parent),setNodeColor(x.parent,0),setNodeColor(x.parent.parent,1),leftRotate(T,x.parent.parent))}return setNodeColor(T.root,0),newNode}function rbTreeDelete(T,z){let x,y;if(z.left===SENTINEL?(y=z,(x=z.right).delta+=z.delta,(x.delta<-1073741824||x.delta>1073741824)&&(T.requestNormalizeDelta=!0),x.start+=z.delta,x.end+=z.delta):z.right===SENTINEL?(x=z.left,y=z):((x=(y=function leftest(node){for(;node.left!==SENTINEL;)node=node.left;return node}(z.right)).right).start+=y.delta,x.end+=y.delta,x.delta+=y.delta,(x.delta<-1073741824||x.delta>1073741824)&&(T.requestNormalizeDelta=!0),y.start+=z.delta,y.end+=z.delta,y.delta=z.delta,(y.delta<-1073741824||y.delta>1073741824)&&(T.requestNormalizeDelta=!0)),y===T.root)return T.root=x,setNodeColor(x,0),z.detach(),resetSentinel(),recomputeMaxEnd(x),void(T.root.parent=SENTINEL);let w,yWasRed=1===getNodeColor(y);if(y===y.parent.left?y.parent.left=x:y.parent.right=x,y===z?x.parent=y.parent:(y.parent===z?x.parent=y:x.parent=y.parent,y.left=z.left,y.right=z.right,y.parent=z.parent,setNodeColor(y,getNodeColor(z)),z===T.root?T.root=y:z===z.parent.left?z.parent.left=y:z.parent.right=y,y.left!==SENTINEL&&(y.left.parent=y),y.right!==SENTINEL&&(y.right.parent=y)),z.detach(),yWasRed)return recomputeMaxEndWalkToRoot(x.parent),y!==z&&(recomputeMaxEndWalkToRoot(y),recomputeMaxEndWalkToRoot(y.parent)),void resetSentinel();for(recomputeMaxEndWalkToRoot(x),recomputeMaxEndWalkToRoot(x.parent),y!==z&&(recomputeMaxEndWalkToRoot(y),recomputeMaxEndWalkToRoot(y.parent));x!==T.root&&0===getNodeColor(x);)x===x.parent.left?(1===getNodeColor(w=x.parent.right)&&(setNodeColor(w,0),setNodeColor(x.parent,1),leftRotate(T,x.parent),w=x.parent.right),0===getNodeColor(w.left)&&0===getNodeColor(w.right)?(setNodeColor(w,1),x=x.parent):(0===getNodeColor(w.right)&&(setNodeColor(w.left,0),setNodeColor(w,1),rightRotate(T,w),w=x.parent.right),setNodeColor(w,getNodeColor(x.parent)),setNodeColor(x.parent,0),setNodeColor(w.right,0),leftRotate(T,x.parent),x=T.root)):(1===getNodeColor(w=x.parent.left)&&(setNodeColor(w,0),setNodeColor(x.parent,1),rightRotate(T,x.parent),w=x.parent.left),0===getNodeColor(w.left)&&0===getNodeColor(w.right)?(setNodeColor(w,1),x=x.parent):(0===getNodeColor(w.left)&&(setNodeColor(w.right,0),setNodeColor(w,1),leftRotate(T,w),w=x.parent.left),setNodeColor(w,getNodeColor(x.parent)),setNodeColor(x.parent,0),setNodeColor(w.left,0),rightRotate(T,x.parent),x=T.root));setNodeColor(x,0),resetSentinel()}function resetSentinel(){SENTINEL.parent=SENTINEL,SENTINEL.delta=0,SENTINEL.start=0,SENTINEL.end=0}function leftRotate(T,x){const y=x.right;y.delta+=x.delta,(y.delta<-1073741824||y.delta>1073741824)&&(T.requestNormalizeDelta=!0),y.start+=x.delta,y.end+=x.delta,x.right=y.left,y.left!==SENTINEL&&(y.left.parent=x),y.parent=x.parent,x.parent===SENTINEL?T.root=y:x===x.parent.left?x.parent.left=y:x.parent.right=y,y.left=x,x.parent=y,recomputeMaxEnd(x),recomputeMaxEnd(y)}function rightRotate(T,y){const x=y.left;y.delta-=x.delta,(y.delta<-1073741824||y.delta>1073741824)&&(T.requestNormalizeDelta=!0),y.start-=x.delta,y.end-=x.delta,y.left=x.right,x.right!==SENTINEL&&(x.right.parent=y),x.parent=y.parent,y.parent===SENTINEL?T.root=x:y===y.parent.right?y.parent.right=x:y.parent.left=x,x.right=y,y.parent=x,recomputeMaxEnd(y),recomputeMaxEnd(x)}function computeMaxEnd(node){let maxEnd=node.end;if(node.left!==SENTINEL){const leftMaxEnd=node.left.maxEnd;leftMaxEnd>maxEnd&&(maxEnd=leftMaxEnd)}if(node.right!==SENTINEL){const rightMaxEnd=node.right.maxEnd+node.delta;rightMaxEnd>maxEnd&&(maxEnd=rightMaxEnd)}return maxEnd}function recomputeMaxEnd(node){node.maxEnd=computeMaxEnd(node)}function recomputeMaxEndWalkToRoot(node){for(;node!==SENTINEL;){const maxEnd=computeMaxEnd(node);if(node.maxEnd===maxEnd)return;node.maxEnd=maxEnd,node=node.parent}}function intervalCompare(aStart,aEnd,bStart,bEnd){return aStart===bStart?aEnd-bEnd:aStart-bStart}class TreeNode{constructor(piece,color){this.piece=piece,this.color=color,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==rbTreeBase_SENTINEL)return rbTreeBase_leftest(this.right);let node=this;for(;node.parent!==rbTreeBase_SENTINEL&&node.parent.left!==node;)node=node.parent;return node.parent===rbTreeBase_SENTINEL?rbTreeBase_SENTINEL:node.parent}prev(){if(this.left!==rbTreeBase_SENTINEL)return righttest(this.left);let node=this;for(;node.parent!==rbTreeBase_SENTINEL&&node.parent.right!==node;)node=node.parent;return node.parent===rbTreeBase_SENTINEL?rbTreeBase_SENTINEL:node.parent}detach(){this.parent=null,this.left=null,this.right=null}}const rbTreeBase_SENTINEL=new TreeNode(null,0);function rbTreeBase_leftest(node){for(;node.left!==rbTreeBase_SENTINEL;)node=node.left;return node}function righttest(node){for(;node.right!==rbTreeBase_SENTINEL;)node=node.right;return node}function calculateSize(node){return node===rbTreeBase_SENTINEL?0:node.size_left+node.piece.length+calculateSize(node.right)}function calculateLF(node){return node===rbTreeBase_SENTINEL?0:node.lf_left+node.piece.lineFeedCnt+calculateLF(node.right)}function rbTreeBase_resetSentinel(){rbTreeBase_SENTINEL.parent=rbTreeBase_SENTINEL}function rbTreeBase_leftRotate(tree,x){let y=x.right;y.size_left+=x.size_left+(x.piece?x.piece.length:0),y.lf_left+=x.lf_left+(x.piece?x.piece.lineFeedCnt:0),x.right=y.left,y.left!==rbTreeBase_SENTINEL&&(y.left.parent=x),y.parent=x.parent,x.parent===rbTreeBase_SENTINEL?tree.root=y:x.parent.left===x?x.parent.left=y:x.parent.right=y,y.left=x,x.parent=y}function rbTreeBase_rightRotate(tree,y){let x=y.left;y.left=x.right,x.right!==rbTreeBase_SENTINEL&&(x.right.parent=y),x.parent=y.parent,y.size_left-=x.size_left+(x.piece?x.piece.length:0),y.lf_left-=x.lf_left+(x.piece?x.piece.lineFeedCnt:0),y.parent===rbTreeBase_SENTINEL?tree.root=x:y===y.parent.right?y.parent.right=x:y.parent.left=x,x.right=y,y.parent=x}function rbDelete(tree,z){let x,y;if(x=z.left===rbTreeBase_SENTINEL?(y=z).right:z.right===rbTreeBase_SENTINEL?(y=z).left:(y=rbTreeBase_leftest(z.right)).right,y===tree.root)return tree.root=x,x.color=0,z.detach(),rbTreeBase_resetSentinel(),void(tree.root.parent=rbTreeBase_SENTINEL);let w,yWasRed=1===y.color;if(y===y.parent.left?y.parent.left=x:y.parent.right=x,y===z?(x.parent=y.parent,recomputeTreeMetadata(tree,x)):(y.parent===z?x.parent=y:x.parent=y.parent,recomputeTreeMetadata(tree,x),y.left=z.left,y.right=z.right,y.parent=z.parent,y.color=z.color,z===tree.root?tree.root=y:z===z.parent.left?z.parent.left=y:z.parent.right=y,y.left!==rbTreeBase_SENTINEL&&(y.left.parent=y),y.right!==rbTreeBase_SENTINEL&&(y.right.parent=y),y.size_left=z.size_left,y.lf_left=z.lf_left,recomputeTreeMetadata(tree,y)),z.detach(),x.parent.left===x){let newSizeLeft=calculateSize(x),newLFLeft=calculateLF(x);if(newSizeLeft!==x.parent.size_left||newLFLeft!==x.parent.lf_left){let delta=newSizeLeft-x.parent.size_left,lf_delta=newLFLeft-x.parent.lf_left;x.parent.size_left=newSizeLeft,x.parent.lf_left=newLFLeft,updateTreeMetadata(tree,x.parent,delta,lf_delta)}}if(recomputeTreeMetadata(tree,x.parent),yWasRed)rbTreeBase_resetSentinel();else{for(;x!==tree.root&&0===x.color;)x===x.parent.left?(1===(w=x.parent.right).color&&(w.color=0,x.parent.color=1,rbTreeBase_leftRotate(tree,x.parent),w=x.parent.right),0===w.left.color&&0===w.right.color?(w.color=1,x=x.parent):(0===w.right.color&&(w.left.color=0,w.color=1,rbTreeBase_rightRotate(tree,w),w=x.parent.right),w.color=x.parent.color,x.parent.color=0,w.right.color=0,rbTreeBase_leftRotate(tree,x.parent),x=tree.root)):(1===(w=x.parent.left).color&&(w.color=0,x.parent.color=1,rbTreeBase_rightRotate(tree,x.parent),w=x.parent.left),0===w.left.color&&0===w.right.color?(w.color=1,x=x.parent):(0===w.left.color&&(w.right.color=0,w.color=1,rbTreeBase_leftRotate(tree,w),w=x.parent.left),w.color=x.parent.color,x.parent.color=0,w.left.color=0,rbTreeBase_rightRotate(tree,x.parent),x=tree.root));x.color=0,rbTreeBase_resetSentinel()}}function fixInsert(tree,x){for(recomputeTreeMetadata(tree,x);x!==tree.root&&1===x.parent.color;)if(x.parent===x.parent.parent.left){const y=x.parent.parent.right;1===y.color?(x.parent.color=0,y.color=0,x.parent.parent.color=1,x=x.parent.parent):(x===x.parent.right&&rbTreeBase_leftRotate(tree,x=x.parent),x.parent.color=0,x.parent.parent.color=1,rbTreeBase_rightRotate(tree,x.parent.parent))}else{const y=x.parent.parent.left;1===y.color?(x.parent.color=0,y.color=0,x.parent.parent.color=1,x=x.parent.parent):(x===x.parent.left&&rbTreeBase_rightRotate(tree,x=x.parent),x.parent.color=0,x.parent.parent.color=1,rbTreeBase_leftRotate(tree,x.parent.parent))}tree.root.color=0}function updateTreeMetadata(tree,x,delta,lineFeedCntDelta){for(;x!==tree.root&&x!==rbTreeBase_SENTINEL;)x.parent.left===x&&(x.parent.size_left+=delta,x.parent.lf_left+=lineFeedCntDelta),x=x.parent}function recomputeTreeMetadata(tree,x){let delta=0,lf_delta=0;if(x!==tree.root){if(0===delta){for(;x!==tree.root&&x===x.parent.right;)x=x.parent;if(x===tree.root)return;delta=calculateSize((x=x.parent).left)-x.size_left,lf_delta=calculateLF(x.left)-x.lf_left,x.size_left+=delta,x.lf_left+=lf_delta}for(;x!==tree.root&&(0!==delta||0!==lf_delta);)x.parent.left===x&&(x.parent.size_left+=delta,x.parent.lf_left+=lf_delta),x=x.parent}}rbTreeBase_SENTINEL.parent=rbTreeBase_SENTINEL,rbTreeBase_SENTINEL.left=rbTreeBase_SENTINEL,rbTreeBase_SENTINEL.right=rbTreeBase_SENTINEL,rbTreeBase_SENTINEL.color=0;var textModelSearch=__webpack_require__(2430);const AverageBufferSize=65535;function createUintArray(arr){let r;return(r=arr[arr.length-1]<65536?new Uint16Array(arr.length):new Uint32Array(arr.length)).set(arr,0),r}class LineStarts{constructor(lineStarts,cr,lf,crlf,isBasicASCII){this.lineStarts=lineStarts,this.cr=cr,this.lf=lf,this.crlf=crlf,this.isBasicASCII=isBasicASCII}}function createLineStartsFast(str,readonly=!0){let r=[0],rLength=1;for(let i=0,len=str.length;i<len;i++){const chr=str.charCodeAt(i);13===chr?i+1<len&&10===str.charCodeAt(i+1)?(r[rLength++]=i+2,i++):r[rLength++]=i+1:10===chr&&(r[rLength++]=i+1)}return readonly?createUintArray(r):r}class Piece{constructor(bufferIndex,start,end,lineFeedCnt,length){this.bufferIndex=bufferIndex,this.start=start,this.end=end,this.lineFeedCnt=lineFeedCnt,this.length=length}}class StringBuffer{constructor(buffer,lineStarts){this.buffer=buffer,this.lineStarts=lineStarts}}class pieceTreeBase_PieceTreeSnapshot{constructor(tree,BOM){this._pieces=[],this._tree=tree,this._BOM=BOM,this._index=0,tree.root!==rbTreeBase_SENTINEL&&tree.iterate(tree.root,node=>(node!==rbTreeBase_SENTINEL&&this._pieces.push(node.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class PieceTreeSearchCache{constructor(limit){this._limit=limit,this._cache=[]}get(offset){for(let i=this._cache.length-1;i>=0;i--){let nodePos=this._cache[i];if(nodePos.nodeStartOffset<=offset&&nodePos.nodeStartOffset+nodePos.node.piece.length>=offset)return nodePos}return null}get2(lineNumber){for(let i=this._cache.length-1;i>=0;i--){let nodePos=this._cache[i];if(nodePos.nodeStartLineNumber&&nodePos.nodeStartLineNumber<lineNumber&&nodePos.nodeStartLineNumber+nodePos.node.piece.lineFeedCnt>=lineNumber)return nodePos}return null}set(nodePosition){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(nodePosition)}validate(offset){let hasInvalidVal=!1,tmp=this._cache;for(let i=0;i<tmp.length;i++){let nodePos=tmp[i];(null===nodePos.node.parent||nodePos.nodeStartOffset>=offset)&&(tmp[i]=null,hasInvalidVal=!0)}if(hasInvalidVal){let newArr=[];for(const entry of tmp)null!==entry&&newArr.push(entry);this._cache=newArr}}}class pieceTreeBase_PieceTreeBase{constructor(chunks,eol,eolNormalized){this.create(chunks,eol,eolNormalized)}create(chunks,eol,eolNormalized){this._buffers=[new StringBuffer("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=rbTreeBase_SENTINEL,this._lineCnt=1,this._length=0,this._EOL=eol,this._EOLLength=eol.length,this._EOLNormalized=eolNormalized;let lastNode=null;for(let i=0,len=chunks.length;i<len;i++)if(chunks[i].buffer.length>0){chunks[i].lineStarts||(chunks[i].lineStarts=createLineStartsFast(chunks[i].buffer));let piece=new Piece(i+1,{line:0,column:0},{line:chunks[i].lineStarts.length-1,column:chunks[i].buffer.length-chunks[i].lineStarts[chunks[i].lineStarts.length-1]},chunks[i].lineStarts.length-1,chunks[i].buffer.length);this._buffers.push(chunks[i]),lastNode=this.rbInsertRight(lastNode,piece)}this._searchCache=new PieceTreeSearchCache(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(eol){let averageBufferSize=AverageBufferSize,min=averageBufferSize-Math.floor(averageBufferSize/3),max=2*min,tempChunk="",tempChunkLen=0,chunks=[];if(this.iterate(this.root,node=>{let str=this.getNodeContent(node),len=str.length;if(tempChunkLen<=min||tempChunkLen+len<max)return tempChunk+=str,tempChunkLen+=len,!0;let text=tempChunk.replace(/\r\n|\r|\n/g,eol);return chunks.push(new StringBuffer(text,createLineStartsFast(text))),tempChunk=str,tempChunkLen=len,!0}),tempChunkLen>0){let text=tempChunk.replace(/\r\n|\r|\n/g,eol);chunks.push(new StringBuffer(text,createLineStartsFast(text)))}this.create(chunks,eol,!0)}getEOL(){return this._EOL}setEOL(newEOL){this._EOL=newEOL,this._EOLLength=this._EOL.length,this.normalizeEOL(newEOL)}createSnapshot(BOM){return new pieceTreeBase_PieceTreeSnapshot(this,BOM)}getOffsetAt(lineNumber,column){let leftLen=0,x=this.root;for(;x!==rbTreeBase_SENTINEL;)if(x.left!==rbTreeBase_SENTINEL&&x.lf_left+1>=lineNumber)x=x.left;else{if(x.lf_left+x.piece.lineFeedCnt+1>=lineNumber){return(leftLen+=x.size_left)+(this.getAccumulatedValue(x,lineNumber-x.lf_left-2)+column-1)}lineNumber-=x.lf_left+x.piece.lineFeedCnt,leftLen+=x.size_left+x.piece.length,x=x.right}return leftLen}getPositionAt(offset){offset=Math.floor(offset),offset=Math.max(0,offset);let x=this.root,lfCnt=0,originalOffset=offset;for(;x!==rbTreeBase_SENTINEL;)if(0!==x.size_left&&x.size_left>=offset)x=x.left;else{if(x.size_left+x.piece.length>=offset){let out=this.getIndexOf(x,offset-x.size_left);if(lfCnt+=x.lf_left+out.index,0===out.index){let column=originalOffset-this.getOffsetAt(lfCnt+1,1);return new core_position.a(lfCnt+1,column+1)}return new core_position.a(lfCnt+1,out.remainder+1)}if(offset-=x.size_left+x.piece.length,lfCnt+=x.lf_left+x.piece.lineFeedCnt,x.right===rbTreeBase_SENTINEL){let column=originalOffset-offset-this.getOffsetAt(lfCnt+1,1);return new core_position.a(lfCnt+1,column+1)}x=x.right}return new core_position.a(1,1)}getValueInRange(range,eol){if(range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn)return"";let startPosition=this.nodeAt2(range.startLineNumber,range.startColumn),endPosition=this.nodeAt2(range.endLineNumber,range.endColumn),value=this.getValueInRange2(startPosition,endPosition);return eol?eol===this._EOL&&this._EOLNormalized&&eol===this.getEOL()&&this._EOLNormalized?value:value.replace(/\r\n|\r|\n/g,eol):value}getValueInRange2(startPosition,endPosition){if(startPosition.node===endPosition.node){let node=startPosition.node,buffer=this._buffers[node.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(node.piece.bufferIndex,node.piece.start);return buffer.substring(startOffset+startPosition.remainder,startOffset+endPosition.remainder)}let x=startPosition.node,buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start),ret=buffer.substring(startOffset+startPosition.remainder,startOffset+x.piece.length);for(x=x.next();x!==rbTreeBase_SENTINEL;){let buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);if(x===endPosition.node){ret+=buffer.substring(startOffset,startOffset+endPosition.remainder);break}ret+=buffer.substr(startOffset,x.piece.length),x=x.next()}return ret}getLinesContent(){let lines=[],linesLength=0,currentLine="",danglingCR=!1;return this.iterate(this.root,node=>{if(node===rbTreeBase_SENTINEL)return!0;const piece=node.piece;let pieceLength=piece.length;if(0===pieceLength)return!0;const buffer=this._buffers[piece.bufferIndex].buffer,lineStarts=this._buffers[piece.bufferIndex].lineStarts,pieceStartLine=piece.start.line,pieceEndLine=piece.end.line;let pieceStartOffset=lineStarts[pieceStartLine]+piece.start.column;if(danglingCR&&(10===buffer.charCodeAt(pieceStartOffset)&&(pieceStartOffset++,pieceLength--),lines[linesLength++]=currentLine,currentLine="",danglingCR=!1,0===pieceLength))return!0;if(pieceStartLine===pieceEndLine)return this._EOLNormalized||13!==buffer.charCodeAt(pieceStartOffset+pieceLength-1)?currentLine+=buffer.substr(pieceStartOffset,pieceLength):(danglingCR=!0,currentLine+=buffer.substr(pieceStartOffset,pieceLength-1)),!0;currentLine+=this._EOLNormalized?buffer.substring(pieceStartOffset,Math.max(pieceStartOffset,lineStarts[pieceStartLine+1]-this._EOLLength)):buffer.substring(pieceStartOffset,lineStarts[pieceStartLine+1]).replace(/(\r\n|\r|\n)$/,""),lines[linesLength++]=currentLine;for(let line=pieceStartLine+1;line<pieceEndLine;line++)currentLine=this._EOLNormalized?buffer.substring(lineStarts[line],lineStarts[line+1]-this._EOLLength):buffer.substring(lineStarts[line],lineStarts[line+1]).replace(/(\r\n|\r|\n)$/,""),lines[linesLength++]=currentLine;return this._EOLNormalized||13!==buffer.charCodeAt(lineStarts[pieceEndLine]+piece.end.column-1)?currentLine=buffer.substr(lineStarts[pieceEndLine],piece.end.column):(danglingCR=!0,0===piece.end.column?linesLength--:currentLine=buffer.substr(lineStarts[pieceEndLine],piece.end.column-1)),!0}),danglingCR&&(lines[linesLength++]=currentLine,currentLine=""),lines[linesLength++]=currentLine,lines}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(lineNumber){return this._lastVisitedLine.lineNumber===lineNumber?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=lineNumber,lineNumber===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(lineNumber):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(lineNumber,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(lineNumber).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(nodePos){if(nodePos.remainder===nodePos.node.piece.length){let matchingNode=nodePos.node.next();if(!matchingNode)return 0;let buffer=this._buffers[matchingNode.piece.bufferIndex],startOffset=this.offsetInBuffer(matchingNode.piece.bufferIndex,matchingNode.piece.start);return buffer.buffer.charCodeAt(startOffset)}{let buffer=this._buffers[nodePos.node.piece.bufferIndex],targetOffset=this.offsetInBuffer(nodePos.node.piece.bufferIndex,nodePos.node.piece.start)+nodePos.remainder;return buffer.buffer.charCodeAt(targetOffset)}}getLineCharCode(lineNumber,index){let nodePos=this.nodeAt2(lineNumber,index+1);return this._getCharCode(nodePos)}getLineLength(lineNumber){if(lineNumber===this.getLineCount()){let startOffset=this.getOffsetAt(lineNumber,1);return this.getLength()-startOffset}return this.getOffsetAt(lineNumber+1,1)-this.getOffsetAt(lineNumber,1)-this._EOLLength}findMatchesInNode(node,searcher,startLineNumber,startColumn,startCursor,endCursor,searchData,captureMatches,limitResultCount,resultLen,result){let m,searchText,offsetInBuffer,buffer=this._buffers[node.piece.bufferIndex],startOffsetInBuffer=this.offsetInBuffer(node.piece.bufferIndex,node.piece.start),start=this.offsetInBuffer(node.piece.bufferIndex,startCursor),end=this.offsetInBuffer(node.piece.bufferIndex,endCursor),ret={line:0,column:0};searcher._wordSeparators?(searchText=buffer.buffer.substring(start,end),offsetInBuffer=offset=>offset+start,searcher.reset(0)):(searchText=buffer.buffer,offsetInBuffer=offset=>offset,searcher.reset(start));do{if(m=searcher.next(searchText)){if(offsetInBuffer(m.index)>=end)return resultLen;this.positionInBuffer(node,offsetInBuffer(m.index)-startOffsetInBuffer,ret);let lineFeedCnt=this.getLineFeedCnt(node.piece.bufferIndex,startCursor,ret),retStartColumn=ret.line===startCursor.line?ret.column-startCursor.column+startColumn:ret.column+1,retEndColumn=retStartColumn+m[0].length;if(result[resultLen++]=Object(textModelSearch.d)(new core_range.a(startLineNumber+lineFeedCnt,retStartColumn,startLineNumber+lineFeedCnt,retEndColumn),m,captureMatches),offsetInBuffer(m.index)+m[0].length>=end)return resultLen;if(resultLen>=limitResultCount)return resultLen}}while(m);return resultLen}findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount){const result=[];let resultLen=0;const searcher=new textModelSearch.b(searchData.wordSeparators,searchData.regex);let startPosition=this.nodeAt2(searchRange.startLineNumber,searchRange.startColumn);if(null===startPosition)return[];let endPosition=this.nodeAt2(searchRange.endLineNumber,searchRange.endColumn);if(null===endPosition)return[];let start=this.positionInBuffer(startPosition.node,startPosition.remainder),end=this.positionInBuffer(endPosition.node,endPosition.remainder);if(startPosition.node===endPosition.node)return this.findMatchesInNode(startPosition.node,searcher,searchRange.startLineNumber,searchRange.startColumn,start,end,searchData,captureMatches,limitResultCount,resultLen,result),result;let startLineNumber=searchRange.startLineNumber,currentNode=startPosition.node;for(;currentNode!==endPosition.node;){let lineBreakCnt=this.getLineFeedCnt(currentNode.piece.bufferIndex,start,currentNode.piece.end);if(lineBreakCnt>=1){let lineStarts=this._buffers[currentNode.piece.bufferIndex].lineStarts,startOffsetInBuffer=this.offsetInBuffer(currentNode.piece.bufferIndex,currentNode.piece.start),nextLineStartOffset=lineStarts[start.line+lineBreakCnt],startColumn=startLineNumber===searchRange.startLineNumber?searchRange.startColumn:1;if((resultLen=this.findMatchesInNode(currentNode,searcher,startLineNumber,startColumn,start,this.positionInBuffer(currentNode,nextLineStartOffset-startOffsetInBuffer),searchData,captureMatches,limitResultCount,resultLen,result))>=limitResultCount)return result;startLineNumber+=lineBreakCnt}let startColumn=startLineNumber===searchRange.startLineNumber?searchRange.startColumn-1:0;if(startLineNumber===searchRange.endLineNumber){const text=this.getLineContent(startLineNumber).substring(startColumn,searchRange.endColumn-1);return resultLen=this._findMatchesInLine(searchData,searcher,text,searchRange.endLineNumber,startColumn,resultLen,result,captureMatches,limitResultCount),result}if((resultLen=this._findMatchesInLine(searchData,searcher,this.getLineContent(startLineNumber).substr(startColumn),startLineNumber,startColumn,resultLen,result,captureMatches,limitResultCount))>=limitResultCount)return result;startLineNumber++,currentNode=(startPosition=this.nodeAt2(startLineNumber,1)).node,start=this.positionInBuffer(startPosition.node,startPosition.remainder)}if(startLineNumber===searchRange.endLineNumber){let startColumn=startLineNumber===searchRange.startLineNumber?searchRange.startColumn-1:0;const text=this.getLineContent(startLineNumber).substring(startColumn,searchRange.endColumn-1);return resultLen=this._findMatchesInLine(searchData,searcher,text,searchRange.endLineNumber,startColumn,resultLen,result,captureMatches,limitResultCount),result}let startColumn=startLineNumber===searchRange.startLineNumber?searchRange.startColumn:1;return resultLen=this.findMatchesInNode(endPosition.node,searcher,startLineNumber,startColumn,start,end,searchData,captureMatches,limitResultCount,resultLen,result),result}_findMatchesInLine(searchData,searcher,text,lineNumber,deltaOffset,resultLen,result,captureMatches,limitResultCount){const wordSeparators=searchData.wordSeparators;if(!captureMatches&&searchData.simpleSearch){const searchString=searchData.simpleSearch,searchStringLen=searchString.length,textLength=text.length;let lastMatchIndex=-searchStringLen;for(;-1!==(lastMatchIndex=text.indexOf(searchString,lastMatchIndex+searchStringLen));)if((!wordSeparators||Object(textModelSearch.e)(wordSeparators,text,textLength,lastMatchIndex,searchStringLen))&&(result[resultLen++]=new model.b(new core_range.a(lineNumber,lastMatchIndex+1+deltaOffset,lineNumber,lastMatchIndex+1+searchStringLen+deltaOffset),null),resultLen>=limitResultCount))return resultLen;return resultLen}let m;searcher.reset(0);do{if((m=searcher.next(text))&&(result[resultLen++]=Object(textModelSearch.d)(new core_range.a(lineNumber,m.index+1+deltaOffset,lineNumber,m.index+1+m[0].length+deltaOffset),m,captureMatches),resultLen>=limitResultCount))return resultLen}while(m);return resultLen}insert(offset,value,eolNormalized=!1){if(this._EOLNormalized=this._EOLNormalized&&eolNormalized,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==rbTreeBase_SENTINEL){let{node:node,remainder:remainder,nodeStartOffset:nodeStartOffset}=this.nodeAt(offset),piece=node.piece,bufferIndex=piece.bufferIndex,insertPosInBuffer=this.positionInBuffer(node,remainder);if(0===node.piece.bufferIndex&&piece.end.line===this._lastChangeBufferPos.line&&piece.end.column===this._lastChangeBufferPos.column&&nodeStartOffset+piece.length===offset&&value.length<AverageBufferSize)return this.appendToNode(node,value),void this.computeBufferMetadata();if(nodeStartOffset===offset)this.insertContentToNodeLeft(value,node),this._searchCache.validate(offset);else if(nodeStartOffset+node.piece.length>offset){let nodesToDel=[],newRightPiece=new Piece(piece.bufferIndex,insertPosInBuffer,piece.end,this.getLineFeedCnt(piece.bufferIndex,insertPosInBuffer,piece.end),this.offsetInBuffer(bufferIndex,piece.end)-this.offsetInBuffer(bufferIndex,insertPosInBuffer));if(this.shouldCheckCRLF()&&this.endWithCR(value)){if(10===this.nodeCharCodeAt(node,remainder)){let newStart={line:newRightPiece.start.line+1,column:0};newRightPiece=new Piece(newRightPiece.bufferIndex,newStart,newRightPiece.end,this.getLineFeedCnt(newRightPiece.bufferIndex,newStart,newRightPiece.end),newRightPiece.length-1),value+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(value)){if(13===this.nodeCharCodeAt(node,remainder-1)){let previousPos=this.positionInBuffer(node,remainder-1);this.deleteNodeTail(node,previousPos),value="\r"+value,0===node.piece.length&&nodesToDel.push(node)}else this.deleteNodeTail(node,insertPosInBuffer)}else this.deleteNodeTail(node,insertPosInBuffer);let newPieces=this.createNewPieces(value);newRightPiece.length>0&&this.rbInsertRight(node,newRightPiece);let tmpNode=node;for(let k=0;k<newPieces.length;k++)tmpNode=this.rbInsertRight(tmpNode,newPieces[k]);this.deleteNodes(nodesToDel)}else this.insertContentToNodeRight(value,node)}else{let pieces=this.createNewPieces(value),node=this.rbInsertLeft(null,pieces[0]);for(let k=1;k<pieces.length;k++)node=this.rbInsertRight(node,pieces[k])}this.computeBufferMetadata()}delete(offset,cnt){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",cnt<=0||this.root===rbTreeBase_SENTINEL)return;let startPosition=this.nodeAt(offset),endPosition=this.nodeAt(offset+cnt),startNode=startPosition.node,endNode=endPosition.node;if(startNode===endNode){let startSplitPosInBuffer=this.positionInBuffer(startNode,startPosition.remainder),endSplitPosInBuffer=this.positionInBuffer(startNode,endPosition.remainder);if(startPosition.nodeStartOffset===offset){if(cnt===startNode.piece.length){let next=startNode.next();return rbDelete(this,startNode),this.validateCRLFWithPrevNode(next),void this.computeBufferMetadata()}return this.deleteNodeHead(startNode,endSplitPosInBuffer),this._searchCache.validate(offset),this.validateCRLFWithPrevNode(startNode),void this.computeBufferMetadata()}return startPosition.nodeStartOffset+startNode.piece.length===offset+cnt?(this.deleteNodeTail(startNode,startSplitPosInBuffer),this.validateCRLFWithNextNode(startNode),void this.computeBufferMetadata()):(this.shrinkNode(startNode,startSplitPosInBuffer,endSplitPosInBuffer),void this.computeBufferMetadata())}let nodesToDel=[],startSplitPosInBuffer=this.positionInBuffer(startNode,startPosition.remainder);this.deleteNodeTail(startNode,startSplitPosInBuffer),this._searchCache.validate(offset),0===startNode.piece.length&&nodesToDel.push(startNode);let endSplitPosInBuffer=this.positionInBuffer(endNode,endPosition.remainder);this.deleteNodeHead(endNode,endSplitPosInBuffer),0===endNode.piece.length&&nodesToDel.push(endNode);for(let node=startNode.next();node!==rbTreeBase_SENTINEL&&node!==endNode;node=node.next())nodesToDel.push(node);let prev=0===startNode.piece.length?startNode.prev():startNode;this.deleteNodes(nodesToDel),this.validateCRLFWithNextNode(prev),this.computeBufferMetadata()}insertContentToNodeLeft(value,node){let nodesToDel=[];if(this.shouldCheckCRLF()&&this.endWithCR(value)&&this.startWithLF(node)){let piece=node.piece,newStart={line:piece.start.line+1,column:0},nPiece=new Piece(piece.bufferIndex,newStart,piece.end,this.getLineFeedCnt(piece.bufferIndex,newStart,piece.end),piece.length-1);node.piece=nPiece,value+="\n",updateTreeMetadata(this,node,-1,-1),0===node.piece.length&&nodesToDel.push(node)}let newPieces=this.createNewPieces(value),newNode=this.rbInsertLeft(node,newPieces[newPieces.length-1]);for(let k=newPieces.length-2;k>=0;k--)newNode=this.rbInsertLeft(newNode,newPieces[k]);this.validateCRLFWithPrevNode(newNode),this.deleteNodes(nodesToDel)}insertContentToNodeRight(value,node){this.adjustCarriageReturnFromNext(value,node)&&(value+="\n");let newPieces=this.createNewPieces(value),newNode=this.rbInsertRight(node,newPieces[0]),tmpNode=newNode;for(let k=1;k<newPieces.length;k++)tmpNode=this.rbInsertRight(tmpNode,newPieces[k]);this.validateCRLFWithPrevNode(newNode)}positionInBuffer(node,remainder,ret){let piece=node.piece,bufferIndex=node.piece.bufferIndex,lineStarts=this._buffers[bufferIndex].lineStarts,offset=lineStarts[piece.start.line]+piece.start.column+remainder,low=piece.start.line,high=piece.end.line,mid=0,midStop=0,midStart=0;for(;low<=high&&(midStart=lineStarts[mid=low+(high-low)/2|0],mid!==high);)if(midStop=lineStarts[mid+1],offset<midStart)high=mid-1;else{if(!(offset>=midStop))break;low=mid+1}return ret?(ret.line=mid,ret.column=offset-midStart,null):{line:mid,column:offset-midStart}}getLineFeedCnt(bufferIndex,start,end){if(0===end.column)return end.line-start.line;let lineStarts=this._buffers[bufferIndex].lineStarts;if(end.line===lineStarts.length-1)return end.line-start.line;let nextLineStartOffset=lineStarts[end.line+1],endOffset=lineStarts[end.line]+end.column;if(nextLineStartOffset>endOffset+1)return end.line-start.line;let previousCharOffset=endOffset-1;return 13===this._buffers[bufferIndex].buffer.charCodeAt(previousCharOffset)?end.line-start.line+1:end.line-start.line}offsetInBuffer(bufferIndex,cursor){return this._buffers[bufferIndex].lineStarts[cursor.line]+cursor.column}deleteNodes(nodes){for(let i=0;i<nodes.length;i++)rbDelete(this,nodes[i])}createNewPieces(text){if(text.length>AverageBufferSize){let newPieces=[];for(;text.length>AverageBufferSize;){const lastChar=text.charCodeAt(AverageBufferSize-1);let splitText;13===lastChar||lastChar>=55296&&lastChar<=56319?(splitText=text.substring(0,AverageBufferSize-1),text=text.substring(AverageBufferSize-1)):(splitText=text.substring(0,AverageBufferSize),text=text.substring(AverageBufferSize));let lineStarts=createLineStartsFast(splitText);newPieces.push(new Piece(this._buffers.length,{line:0,column:0},{line:lineStarts.length-1,column:splitText.length-lineStarts[lineStarts.length-1]},lineStarts.length-1,splitText.length)),this._buffers.push(new StringBuffer(splitText,lineStarts))}let lineStarts=createLineStartsFast(text);return newPieces.push(new Piece(this._buffers.length,{line:0,column:0},{line:lineStarts.length-1,column:text.length-lineStarts[lineStarts.length-1]},lineStarts.length-1,text.length)),this._buffers.push(new StringBuffer(text,lineStarts)),newPieces}let startOffset=this._buffers[0].buffer.length;const lineStarts=createLineStartsFast(text,!1);let start=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===startOffset&&0!==startOffset&&this.startWithLF(text)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},start=this._lastChangeBufferPos;for(let i=0;i<lineStarts.length;i++)lineStarts[i]+=startOffset+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(lineStarts.slice(1)),this._buffers[0].buffer+="_"+text,startOffset+=1}else{if(0!==startOffset)for(let i=0;i<lineStarts.length;i++)lineStarts[i]+=startOffset;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(lineStarts.slice(1)),this._buffers[0].buffer+=text}const endOffset=this._buffers[0].buffer.length;let endIndex=this._buffers[0].lineStarts.length-1,endPos={line:endIndex,column:endOffset-this._buffers[0].lineStarts[endIndex]},newPiece=new Piece(0,start,endPos,this.getLineFeedCnt(0,start,endPos),endOffset-startOffset);return this._lastChangeBufferPos=endPos,[newPiece]}getLineRawContent(lineNumber,endOffset=0){let x=this.root,ret="",cache=this._searchCache.get2(lineNumber);if(cache){x=cache.node;let prevAccumulatedValue=this.getAccumulatedValue(x,lineNumber-cache.nodeStartLineNumber-1),buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);if(cache.nodeStartLineNumber+x.piece.lineFeedCnt!==lineNumber){let accumulatedValue=this.getAccumulatedValue(x,lineNumber-cache.nodeStartLineNumber);return buffer.substring(startOffset+prevAccumulatedValue,startOffset+accumulatedValue-endOffset)}ret=buffer.substring(startOffset+prevAccumulatedValue,startOffset+x.piece.length)}else{let nodeStartOffset=0;const originalLineNumber=lineNumber;for(;x!==rbTreeBase_SENTINEL;)if(x.left!==rbTreeBase_SENTINEL&&x.lf_left>=lineNumber-1)x=x.left;else{if(x.lf_left+x.piece.lineFeedCnt>lineNumber-1){let prevAccumulatedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2),accumulatedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-1),buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);return nodeStartOffset+=x.size_left,this._searchCache.set({node:x,nodeStartOffset:nodeStartOffset,nodeStartLineNumber:originalLineNumber-(lineNumber-1-x.lf_left)}),buffer.substring(startOffset+prevAccumulatedValue,startOffset+accumulatedValue-endOffset)}if(x.lf_left+x.piece.lineFeedCnt===lineNumber-1){let prevAccumulatedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2),buffer=this._buffers[x.piece.bufferIndex].buffer,startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);ret=buffer.substring(startOffset+prevAccumulatedValue,startOffset+x.piece.length);break}lineNumber-=x.lf_left+x.piece.lineFeedCnt,nodeStartOffset+=x.size_left+x.piece.length,x=x.right}}for(x=x.next();x!==rbTreeBase_SENTINEL;){let buffer=this._buffers[x.piece.bufferIndex].buffer;if(x.piece.lineFeedCnt>0){let accumulatedValue=this.getAccumulatedValue(x,0),startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);return ret+=buffer.substring(startOffset,startOffset+accumulatedValue-endOffset)}{let startOffset=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);ret+=buffer.substr(startOffset,x.piece.length)}x=x.next()}return ret}computeBufferMetadata(){let x=this.root,lfCnt=1,len=0;for(;x!==rbTreeBase_SENTINEL;)lfCnt+=x.lf_left+x.piece.lineFeedCnt,len+=x.size_left+x.piece.length,x=x.right;this._lineCnt=lfCnt,this._length=len,this._searchCache.validate(this._length)}getIndexOf(node,accumulatedValue){let piece=node.piece,pos=this.positionInBuffer(node,accumulatedValue),lineCnt=pos.line-piece.start.line;if(this.offsetInBuffer(piece.bufferIndex,piece.end)-this.offsetInBuffer(piece.bufferIndex,piece.start)===accumulatedValue){let realLineCnt=this.getLineFeedCnt(node.piece.bufferIndex,piece.start,pos);if(realLineCnt!==lineCnt)return{index:realLineCnt,remainder:0}}return{index:lineCnt,remainder:pos.column}}getAccumulatedValue(node,index){if(index<0)return 0;let piece=node.piece,lineStarts=this._buffers[piece.bufferIndex].lineStarts,expectedLineStartIndex=piece.start.line+index+1;return expectedLineStartIndex>piece.end.line?lineStarts[piece.end.line]+piece.end.column-lineStarts[piece.start.line]-piece.start.column:lineStarts[expectedLineStartIndex]-lineStarts[piece.start.line]-piece.start.column}deleteNodeTail(node,pos){const piece=node.piece,originalLFCnt=piece.lineFeedCnt,originalEndOffset=this.offsetInBuffer(piece.bufferIndex,piece.end),newEnd=pos,newEndOffset=this.offsetInBuffer(piece.bufferIndex,newEnd),newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,piece.start,newEnd),lf_delta=newLineFeedCnt-originalLFCnt,size_delta=newEndOffset-originalEndOffset,newLength=piece.length+size_delta;node.piece=new Piece(piece.bufferIndex,piece.start,newEnd,newLineFeedCnt,newLength),updateTreeMetadata(this,node,size_delta,lf_delta)}deleteNodeHead(node,pos){const piece=node.piece,originalLFCnt=piece.lineFeedCnt,originalStartOffset=this.offsetInBuffer(piece.bufferIndex,piece.start),newStart=pos,newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,newStart,piece.end),lf_delta=newLineFeedCnt-originalLFCnt,size_delta=originalStartOffset-this.offsetInBuffer(piece.bufferIndex,newStart),newLength=piece.length+size_delta;node.piece=new Piece(piece.bufferIndex,newStart,piece.end,newLineFeedCnt,newLength),updateTreeMetadata(this,node,size_delta,lf_delta)}shrinkNode(node,start,end){const piece=node.piece,originalStartPos=piece.start,originalEndPos=piece.end,oldLength=piece.length,oldLFCnt=piece.lineFeedCnt,newEnd=start,newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,piece.start,newEnd),newLength=this.offsetInBuffer(piece.bufferIndex,start)-this.offsetInBuffer(piece.bufferIndex,originalStartPos);node.piece=new Piece(piece.bufferIndex,piece.start,newEnd,newLineFeedCnt,newLength),updateTreeMetadata(this,node,newLength-oldLength,newLineFeedCnt-oldLFCnt);let newPiece=new Piece(piece.bufferIndex,end,originalEndPos,this.getLineFeedCnt(piece.bufferIndex,end,originalEndPos),this.offsetInBuffer(piece.bufferIndex,originalEndPos)-this.offsetInBuffer(piece.bufferIndex,end)),newNode=this.rbInsertRight(node,newPiece);this.validateCRLFWithPrevNode(newNode)}appendToNode(node,value){this.adjustCarriageReturnFromNext(value,node)&&(value+="\n");const hitCRLF=this.shouldCheckCRLF()&&this.startWithLF(value)&&this.endWithCR(node),startOffset=this._buffers[0].buffer.length;this._buffers[0].buffer+=value;const lineStarts=createLineStartsFast(value,!1);for(let i=0;i<lineStarts.length;i++)lineStarts[i]+=startOffset;if(hitCRLF){let prevStartOffset=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:startOffset-prevStartOffset}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(lineStarts.slice(1));const endIndex=this._buffers[0].lineStarts.length-1,newEnd={line:endIndex,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[endIndex]},newLength=node.piece.length+value.length,oldLineFeedCnt=node.piece.lineFeedCnt,newLineFeedCnt=this.getLineFeedCnt(0,node.piece.start,newEnd),lf_delta=newLineFeedCnt-oldLineFeedCnt;node.piece=new Piece(node.piece.bufferIndex,node.piece.start,newEnd,newLineFeedCnt,newLength),this._lastChangeBufferPos=newEnd,updateTreeMetadata(this,node,value.length,lf_delta)}nodeAt(offset){let x=this.root,cache=this._searchCache.get(offset);if(cache)return{node:cache.node,nodeStartOffset:cache.nodeStartOffset,remainder:offset-cache.nodeStartOffset};let nodeStartOffset=0;for(;x!==rbTreeBase_SENTINEL;)if(x.size_left>offset)x=x.left;else{if(x.size_left+x.piece.length>=offset){nodeStartOffset+=x.size_left;let ret={node:x,remainder:offset-x.size_left,nodeStartOffset:nodeStartOffset};return this._searchCache.set(ret),ret}offset-=x.size_left+x.piece.length,nodeStartOffset+=x.size_left+x.piece.length,x=x.right}return null}nodeAt2(lineNumber,column){let x=this.root,nodeStartOffset=0;for(;x!==rbTreeBase_SENTINEL;)if(x.left!==rbTreeBase_SENTINEL&&x.lf_left>=lineNumber-1)x=x.left;else{if(x.lf_left+x.piece.lineFeedCnt>lineNumber-1){let prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2),accumulatedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-1);return nodeStartOffset+=x.size_left,{node:x,remainder:Math.min(prevAccumualtedValue+column-1,accumulatedValue),nodeStartOffset:nodeStartOffset}}if(x.lf_left+x.piece.lineFeedCnt===lineNumber-1){let prevAccumualtedValue=this.getAccumulatedValue(x,lineNumber-x.lf_left-2);if(prevAccumualtedValue+column-1<=x.piece.length)return{node:x,remainder:prevAccumualtedValue+column-1,nodeStartOffset:nodeStartOffset};column-=x.piece.length-prevAccumualtedValue;break}lineNumber-=x.lf_left+x.piece.lineFeedCnt,nodeStartOffset+=x.size_left+x.piece.length,x=x.right}for(x=x.next();x!==rbTreeBase_SENTINEL;){if(x.piece.lineFeedCnt>0){let accumulatedValue=this.getAccumulatedValue(x,0),nodeStartOffset=this.offsetOfNode(x);return{node:x,remainder:Math.min(column-1,accumulatedValue),nodeStartOffset:nodeStartOffset}}if(x.piece.length>=column-1){return{node:x,remainder:column-1,nodeStartOffset:this.offsetOfNode(x)}}column-=x.piece.length,x=x.next()}return null}nodeCharCodeAt(node,offset){if(node.piece.lineFeedCnt<1)return-1;let buffer=this._buffers[node.piece.bufferIndex],newOffset=this.offsetInBuffer(node.piece.bufferIndex,node.piece.start)+offset;return buffer.buffer.charCodeAt(newOffset)}offsetOfNode(node){if(!node)return 0;let pos=node.size_left;for(;node!==this.root;)node.parent.right===node&&(pos+=node.parent.size_left+node.parent.piece.length),node=node.parent;return pos}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(val){if("string"==typeof val)return 10===val.charCodeAt(0);if(val===rbTreeBase_SENTINEL||0===val.piece.lineFeedCnt)return!1;let piece=val.piece,lineStarts=this._buffers[piece.bufferIndex].lineStarts,line=piece.start.line,startOffset=lineStarts[line]+piece.start.column;return line!==lineStarts.length-1&&(!(lineStarts[line+1]>startOffset+1)&&10===this._buffers[piece.bufferIndex].buffer.charCodeAt(startOffset))}endWithCR(val){return"string"==typeof val?13===val.charCodeAt(val.length-1):val!==rbTreeBase_SENTINEL&&0!==val.piece.lineFeedCnt&&13===this.nodeCharCodeAt(val,val.piece.length-1)}validateCRLFWithPrevNode(nextNode){if(this.shouldCheckCRLF()&&this.startWithLF(nextNode)){let node=nextNode.prev();this.endWithCR(node)&&this.fixCRLF(node,nextNode)}}validateCRLFWithNextNode(node){if(this.shouldCheckCRLF()&&this.endWithCR(node)){let nextNode=node.next();this.startWithLF(nextNode)&&this.fixCRLF(node,nextNode)}}fixCRLF(prev,next){let newEnd,nodesToDel=[],lineStarts=this._buffers[prev.piece.bufferIndex].lineStarts;newEnd=0===prev.piece.end.column?{line:prev.piece.end.line-1,column:lineStarts[prev.piece.end.line]-lineStarts[prev.piece.end.line-1]-1}:{line:prev.piece.end.line,column:prev.piece.end.column-1};const prevNewLength=prev.piece.length-1,prevNewLFCnt=prev.piece.lineFeedCnt-1;prev.piece=new Piece(prev.piece.bufferIndex,prev.piece.start,newEnd,prevNewLFCnt,prevNewLength),updateTreeMetadata(this,prev,-1,-1),0===prev.piece.length&&nodesToDel.push(prev);let newStart={line:next.piece.start.line+1,column:0};const newLength=next.piece.length-1,newLineFeedCnt=this.getLineFeedCnt(next.piece.bufferIndex,newStart,next.piece.end);next.piece=new Piece(next.piece.bufferIndex,newStart,next.piece.end,newLineFeedCnt,newLength),updateTreeMetadata(this,next,-1,-1),0===next.piece.length&&nodesToDel.push(next);let pieces=this.createNewPieces("\r\n");this.rbInsertRight(prev,pieces[0]);for(let i=0;i<nodesToDel.length;i++)rbDelete(this,nodesToDel[i])}adjustCarriageReturnFromNext(value,node){if(this.shouldCheckCRLF()&&this.endWithCR(value)){let nextNode=node.next();if(this.startWithLF(nextNode)){if(value+="\n",1===nextNode.piece.length)rbDelete(this,nextNode);else{const piece=nextNode.piece,newStart={line:piece.start.line+1,column:0},newLength=piece.length-1,newLineFeedCnt=this.getLineFeedCnt(piece.bufferIndex,newStart,piece.end);nextNode.piece=new Piece(piece.bufferIndex,newStart,piece.end,newLineFeedCnt,newLength),updateTreeMetadata(this,nextNode,-1,-1)}return!0}}return!1}iterate(node,callback){if(node===rbTreeBase_SENTINEL)return callback(rbTreeBase_SENTINEL);let leftRet=this.iterate(node.left,callback);return leftRet?callback(node)&&this.iterate(node.right,callback):leftRet}getNodeContent(node){if(node===rbTreeBase_SENTINEL)return"";let currentContent,buffer=this._buffers[node.piece.bufferIndex],piece=node.piece,startOffset=this.offsetInBuffer(piece.bufferIndex,piece.start),endOffset=this.offsetInBuffer(piece.bufferIndex,piece.end);return currentContent=buffer.buffer.substring(startOffset,endOffset)}getPieceContent(piece){let buffer=this._buffers[piece.bufferIndex],startOffset=this.offsetInBuffer(piece.bufferIndex,piece.start),endOffset=this.offsetInBuffer(piece.bufferIndex,piece.end);return buffer.buffer.substring(startOffset,endOffset)}rbInsertRight(node,p){let z=new TreeNode(p,1);if(z.left=rbTreeBase_SENTINEL,z.right=rbTreeBase_SENTINEL,z.parent=rbTreeBase_SENTINEL,z.size_left=0,z.lf_left=0,this.root===rbTreeBase_SENTINEL)this.root=z,z.color=0;else if(node.right===rbTreeBase_SENTINEL)node.right=z,z.parent=node;else{let nextNode=rbTreeBase_leftest(node.right);nextNode.left=z,z.parent=nextNode}return fixInsert(this,z),z}rbInsertLeft(node,p){let z=new TreeNode(p,1);if(z.left=rbTreeBase_SENTINEL,z.right=rbTreeBase_SENTINEL,z.parent=rbTreeBase_SENTINEL,z.size_left=0,z.lf_left=0,this.root===rbTreeBase_SENTINEL)this.root=z,z.color=0;else if(node.left===rbTreeBase_SENTINEL)node.left=z,z.parent=node;else{let prevNode=righttest(node.left);prevNode.right=z,z.parent=prevNode}return fixInsert(this,z),z}}var tokensStore=__webpack_require__(2399),textChange=__webpack_require__(2464);class pieceTreeTextBuffer_PieceTreeTextBuffer{constructor(chunks,BOM,eol,containsRTL,containsUnusualLineTerminators,isBasicASCII,eolNormalized){this._onDidChangeContent=new common_event.a,this._BOM=BOM,this._mightContainNonBasicASCII=!isBasicASCII,this._mightContainRTL=containsRTL,this._mightContainUnusualLineTerminators=containsUnusualLineTerminators,this._pieceTree=new pieceTreeBase_PieceTreeBase(chunks,eol,eolNormalized)}dispose(){this._onDidChangeContent.dispose()}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(preserveBOM){return this._pieceTree.createSnapshot(preserveBOM?this._BOM:"")}getOffsetAt(lineNumber,column){return this._pieceTree.getOffsetAt(lineNumber,column)}getPositionAt(offset){return this._pieceTree.getPositionAt(offset)}getRangeAt(start,length){let end=start+length;const startPosition=this.getPositionAt(start),endPosition=this.getPositionAt(end);return new core_range.a(startPosition.lineNumber,startPosition.column,endPosition.lineNumber,endPosition.column)}getValueInRange(range,eol=0){if(range.isEmpty())return"";const lineEnding=this._getEndOfLine(eol);return this._pieceTree.getValueInRange(range,lineEnding)}getValueLengthInRange(range,eol=0){if(range.isEmpty())return 0;if(range.startLineNumber===range.endLineNumber)return range.endColumn-range.startColumn;let startOffset=this.getOffsetAt(range.startLineNumber,range.startColumn);return this.getOffsetAt(range.endLineNumber,range.endColumn)-startOffset}getCharacterCountInRange(range,eol=0){if(this._mightContainNonBasicASCII){let result=0;const fromLineNumber=range.startLineNumber,toLineNumber=range.endLineNumber;for(let lineNumber=fromLineNumber;lineNumber<=toLineNumber;lineNumber++){const lineContent=this.getLineContent(lineNumber),fromOffset=lineNumber===fromLineNumber?range.startColumn-1:0,toOffset=lineNumber===toLineNumber?range.endColumn-1:lineContent.length;for(let offset=fromOffset;offset<toOffset;offset++)strings.F(lineContent.charCodeAt(offset))?(result+=1,offset+=1):result+=1}return result+=this._getEndOfLine(eol).length*(toLineNumber-fromLineNumber)}return this.getValueLengthInRange(range,eol)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(lineNumber){return this._pieceTree.getLineContent(lineNumber)}getLineCharCode(lineNumber,index){return this._pieceTree.getLineCharCode(lineNumber,index)}getLineLength(lineNumber){return this._pieceTree.getLineLength(lineNumber)}getLineFirstNonWhitespaceColumn(lineNumber){const result=strings.w(this.getLineContent(lineNumber));return-1===result?0:result+1}getLineLastNonWhitespaceColumn(lineNumber){const result=strings.J(this.getLineContent(lineNumber));return-1===result?0:result+2}_getEndOfLine(eol){switch(eol){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(newEOL){this._pieceTree.setEOL(newEOL)}applyEdits(rawOperations,recordTrimAutoWhitespace,computeUndoEdits){let mightContainRTL=this._mightContainRTL,mightContainUnusualLineTerminators=this._mightContainUnusualLineTerminators,mightContainNonBasicASCII=this._mightContainNonBasicASCII,canReduceOperations=!0,operations=[];for(let i=0;i<rawOperations.length;i++){let op=rawOperations[i];canReduceOperations&&op._isTracked&&(canReduceOperations=!1);let validatedRange=op.range;if(op.text){let textMightContainNonBasicASCII=!0;mightContainNonBasicASCII||(mightContainNonBasicASCII=textMightContainNonBasicASCII=!strings.B(op.text)),!mightContainRTL&&textMightContainNonBasicASCII&&(mightContainRTL=strings.m(op.text)),!mightContainUnusualLineTerminators&&textMightContainNonBasicASCII&&(mightContainUnusualLineTerminators=strings.n(op.text))}let validText="",eolCount=0,firstLineLength=0,lastLineLength=0;if(op.text){let strEOL;[eolCount,firstLineLength,lastLineLength,strEOL]=Object(tokensStore.f)(op.text);const bufferEOL=this.getEOL(),expectedStrEOL="\r\n"===bufferEOL?2:1;validText=0===strEOL||strEOL===expectedStrEOL?op.text:op.text.replace(/\r\n|\r|\n/g,bufferEOL)}operations[i]={sortIndex:i,identifier:op.identifier||null,range:validatedRange,rangeOffset:this.getOffsetAt(validatedRange.startLineNumber,validatedRange.startColumn),rangeLength:this.getValueLengthInRange(validatedRange),text:validText,eolCount:eolCount,firstLineLength:firstLineLength,lastLineLength:lastLineLength,forceMoveMarkers:Boolean(op.forceMoveMarkers),isAutoWhitespaceEdit:op.isAutoWhitespaceEdit||!1}}operations.sort(pieceTreeTextBuffer_PieceTreeTextBuffer._sortOpsAscending);let hasTouchingRanges=!1;for(let i=0,count=operations.length-1;i<count;i++){let rangeEnd=operations[i].range.getEndPosition(),nextRangeStart=operations[i+1].range.getStartPosition();if(nextRangeStart.isBeforeOrEqual(rangeEnd)){if(nextRangeStart.isBefore(rangeEnd))throw new Error("Overlapping ranges are not allowed!");hasTouchingRanges=!0}}canReduceOperations&&(operations=this._reduceOperations(operations));let reverseRanges=computeUndoEdits||recordTrimAutoWhitespace?pieceTreeTextBuffer_PieceTreeTextBuffer._getInverseEditRanges(operations):[],newTrimAutoWhitespaceCandidates=[];if(recordTrimAutoWhitespace)for(let i=0;i<operations.length;i++){let op=operations[i],reverseRange=reverseRanges[i];if(op.isAutoWhitespaceEdit&&op.range.isEmpty())for(let lineNumber=reverseRange.startLineNumber;lineNumber<=reverseRange.endLineNumber;lineNumber++){let currentLineContent="";lineNumber===reverseRange.startLineNumber&&(currentLineContent=this.getLineContent(op.range.startLineNumber),-1!==strings.w(currentLineContent))||newTrimAutoWhitespaceCandidates.push({lineNumber:lineNumber,oldContent:currentLineContent})}}let reverseOperations=null;if(computeUndoEdits){let reverseRangeDeltaOffset=0;reverseOperations=[];for(let i=0;i<operations.length;i++){const op=operations[i],reverseRange=reverseRanges[i],bufferText=this.getValueInRange(op.range),reverseRangeOffset=op.rangeOffset+reverseRangeDeltaOffset;reverseRangeDeltaOffset+=op.text.length-bufferText.length,reverseOperations[i]={sortIndex:op.sortIndex,identifier:op.identifier,range:reverseRange,text:bufferText,textChange:new textChange.a(op.rangeOffset,bufferText,reverseRangeOffset,op.text)}}hasTouchingRanges||reverseOperations.sort((a,b)=>a.sortIndex-b.sortIndex)}this._mightContainRTL=mightContainRTL,this._mightContainUnusualLineTerminators=mightContainUnusualLineTerminators,this._mightContainNonBasicASCII=mightContainNonBasicASCII;const contentChanges=this._doApplyEdits(operations);let trimAutoWhitespaceLineNumbers=null;if(recordTrimAutoWhitespace&&newTrimAutoWhitespaceCandidates.length>0){newTrimAutoWhitespaceCandidates.sort((a,b)=>b.lineNumber-a.lineNumber),trimAutoWhitespaceLineNumbers=[];for(let i=0,len=newTrimAutoWhitespaceCandidates.length;i<len;i++){let lineNumber=newTrimAutoWhitespaceCandidates[i].lineNumber;if(i>0&&newTrimAutoWhitespaceCandidates[i-1].lineNumber===lineNumber)continue;let prevContent=newTrimAutoWhitespaceCandidates[i].oldContent,lineContent=this.getLineContent(lineNumber);0!==lineContent.length&&lineContent!==prevContent&&-1===strings.w(lineContent)&&trimAutoWhitespaceLineNumbers.push(lineNumber)}}return this._onDidChangeContent.fire(),new model.a(reverseOperations,contentChanges,trimAutoWhitespaceLineNumbers)}_reduceOperations(operations){return operations.length<1e3?operations:[this._toSingleEditOperation(operations)]}_toSingleEditOperation(operations){let forceMoveMarkers=!1;const firstEditRange=operations[0].range,lastEditRange=operations[operations.length-1].range,entireEditRange=new core_range.a(firstEditRange.startLineNumber,firstEditRange.startColumn,lastEditRange.endLineNumber,lastEditRange.endColumn);let lastEndLineNumber=firstEditRange.startLineNumber,lastEndColumn=firstEditRange.startColumn;const result=[];for(let i=0,len=operations.length;i<len;i++){const operation=operations[i],range=operation.range;forceMoveMarkers=forceMoveMarkers||operation.forceMoveMarkers,result.push(this.getValueInRange(new core_range.a(lastEndLineNumber,lastEndColumn,range.startLineNumber,range.startColumn))),operation.text.length>0&&result.push(operation.text),lastEndLineNumber=range.endLineNumber,lastEndColumn=range.endColumn}const text=result.join(""),[eolCount,firstLineLength,lastLineLength]=Object(tokensStore.f)(text);return{sortIndex:0,identifier:operations[0].identifier,range:entireEditRange,rangeOffset:this.getOffsetAt(entireEditRange.startLineNumber,entireEditRange.startColumn),rangeLength:this.getValueLengthInRange(entireEditRange,0),text:text,eolCount:eolCount,firstLineLength:firstLineLength,lastLineLength:lastLineLength,forceMoveMarkers:forceMoveMarkers,isAutoWhitespaceEdit:!1}}_doApplyEdits(operations){operations.sort(pieceTreeTextBuffer_PieceTreeTextBuffer._sortOpsDescending);let contentChanges=[];for(let i=0;i<operations.length;i++){let op=operations[i];const startLineNumber=op.range.startLineNumber,startColumn=op.range.startColumn,endLineNumber=op.range.endLineNumber,endColumn=op.range.endColumn;if(startLineNumber===endLineNumber&&startColumn===endColumn&&0===op.text.length)continue;op.text?(this._pieceTree.delete(op.rangeOffset,op.rangeLength),this._pieceTree.insert(op.rangeOffset,op.text,!0)):this._pieceTree.delete(op.rangeOffset,op.rangeLength);const contentChangeRange=new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn);contentChanges.push({range:contentChangeRange,rangeLength:op.rangeLength,text:op.text,rangeOffset:op.rangeOffset,forceMoveMarkers:op.forceMoveMarkers})}return contentChanges}findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount){return this._pieceTree.findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount)}static _getInverseEditRanges(operations){let result=[],prevOpEndLineNumber=0,prevOpEndColumn=0,prevOp=null;for(let i=0,len=operations.length;i<len;i++){let startLineNumber,startColumn,resultRange,op=operations[i];if(prevOp?prevOp.range.endLineNumber===op.range.startLineNumber?(startLineNumber=prevOpEndLineNumber,startColumn=prevOpEndColumn+(op.range.startColumn-prevOp.range.endColumn)):(startLineNumber=prevOpEndLineNumber+(op.range.startLineNumber-prevOp.range.endLineNumber),startColumn=op.range.startColumn):(startLineNumber=op.range.startLineNumber,startColumn=op.range.startColumn),op.text.length>0){const lineCount=op.eolCount+1;resultRange=1===lineCount?new core_range.a(startLineNumber,startColumn,startLineNumber,startColumn+op.firstLineLength):new core_range.a(startLineNumber,startColumn,startLineNumber+lineCount-1,op.lastLineLength+1)}else resultRange=new core_range.a(startLineNumber,startColumn,startLineNumber,startColumn);prevOpEndLineNumber=resultRange.endLineNumber,prevOpEndColumn=resultRange.endColumn,result.push(resultRange),prevOp=op}return result}static _sortOpsAscending(a,b){let r=core_range.a.compareRangesUsingEnds(a.range,b.range);return 0===r?a.sortIndex-b.sortIndex:r}static _sortOpsDescending(a,b){let r=core_range.a.compareRangesUsingEnds(a.range,b.range);return 0===r?b.sortIndex-a.sortIndex:-r}}class pieceTreeTextBufferBuilder_PieceTreeTextBufferFactory{constructor(_chunks,_bom,_cr,_lf,_crlf,_containsRTL,_containsUnusualLineTerminators,_isBasicASCII,_normalizeEOL){this._chunks=_chunks,this._bom=_bom,this._cr=_cr,this._lf=_lf,this._crlf=_crlf,this._containsRTL=_containsRTL,this._containsUnusualLineTerminators=_containsUnusualLineTerminators,this._isBasicASCII=_isBasicASCII,this._normalizeEOL=_normalizeEOL}_getEOL(defaultEOL){const totalEOLCount=this._cr+this._lf+this._crlf,totalCRCount=this._cr+this._crlf;return 0===totalEOLCount?1===defaultEOL?"\n":"\r\n":totalCRCount>totalEOLCount/2?"\r\n":"\n"}create(defaultEOL){const eol=this._getEOL(defaultEOL);let chunks=this._chunks;if(this._normalizeEOL&&("\r\n"===eol&&(this._cr>0||this._lf>0)||"\n"===eol&&(this._cr>0||this._crlf>0)))for(let i=0,len=chunks.length;i<len;i++){let str=chunks[i].buffer.replace(/\r\n|\r|\n/g,eol),newLineStart=createLineStartsFast(str);chunks[i]=new StringBuffer(str,newLineStart)}return new pieceTreeTextBuffer_PieceTreeTextBuffer(chunks,this._bom,eol,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL)}}class pieceTreeTextBufferBuilder_PieceTreeTextBufferBuilder{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(chunk){if(0===chunk.length)return;0===this.chunks.length&&strings.U(chunk)&&(this.BOM=strings.b,chunk=chunk.substr(1));const lastChar=chunk.charCodeAt(chunk.length-1);13===lastChar||lastChar>=55296&&lastChar<=56319?(this._acceptChunk1(chunk.substr(0,chunk.length-1),!1),this._hasPreviousChar=!0,this._previousChar=lastChar):(this._acceptChunk1(chunk,!1),this._hasPreviousChar=!1,this._previousChar=lastChar)}_acceptChunk1(chunk,allowEmptyStrings){(allowEmptyStrings||0!==chunk.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+chunk):this._acceptChunk2(chunk))}_acceptChunk2(chunk){const lineStarts=function createLineStarts(r,str){r.length=0,r[0]=0;let rLength=1,cr=0,lf=0,crlf=0,isBasicASCII=!0;for(let i=0,len=str.length;i<len;i++){const chr=str.charCodeAt(i);13===chr?i+1<len&&10===str.charCodeAt(i+1)?(crlf++,r[rLength++]=i+2,i++):(cr++,r[rLength++]=i+1):10===chr?(lf++,r[rLength++]=i+1):isBasicASCII&&9!==chr&&(chr<32||chr>126)&&(isBasicASCII=!1)}const result=new LineStarts(createUintArray(r),cr,lf,crlf,isBasicASCII);return r.length=0,result}(this._tmpLineStarts,chunk);this.chunks.push(new StringBuffer(chunk,lineStarts.lineStarts)),this.cr+=lineStarts.cr,this.lf+=lineStarts.lf,this.crlf+=lineStarts.crlf,this.isBasicASCII&&(this.isBasicASCII=lineStarts.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=strings.m(chunk)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=strings.n(chunk))}finish(normalizeEOL=!0){return this._finish(),new pieceTreeTextBufferBuilder_PieceTreeTextBufferFactory(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,normalizeEOL)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let lastChunk=this.chunks[this.chunks.length-1];lastChunk.buffer+=String.fromCharCode(this._previousChar);let newLineStarts=createLineStartsFast(lastChunk.buffer);lastChunk.lineStarts=newLineStarts,13===this._previousChar&&this.cr++}}}class ModelRawFlush{constructor(){this.changeType=1}}class ModelRawLineChanged{constructor(lineNumber,detail){this.changeType=2,this.lineNumber=lineNumber,this.detail=detail}}class ModelRawLinesDeleted{constructor(fromLineNumber,toLineNumber){this.changeType=3,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}}class ModelRawLinesInserted{constructor(fromLineNumber,toLineNumber,detail){this.changeType=4,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber,this.detail=detail}}class ModelRawEOLChanged{constructor(){this.changeType=5}}class ModelRawContentChangedEvent{constructor(changes,versionId,isUndoing,isRedoing){this.changes=changes,this.versionId=versionId,this.isUndoing=isUndoing,this.isRedoing=isRedoing,this.resultingSelection=null}containsEvent(type){for(let i=0,len=this.changes.length;i<len;i++){if(this.changes[i].changeType===type)return!0}return!1}static merge(a,b){const changes=[].concat(a.changes).concat(b.changes),versionId=b.versionId,isUndoing=a.isUndoing||b.isUndoing,isRedoing=a.isRedoing||b.isRedoing;return new ModelRawContentChangedEvent(changes,versionId,isUndoing,isRedoing)}}class InternalModelContentChangeEvent{constructor(rawContentChangedEvent,contentChangedEvent){this.rawContentChangedEvent=rawContentChangedEvent,this.contentChangedEvent=contentChangedEvent}merge(other){const rawContentChangedEvent=ModelRawContentChangedEvent.merge(this.rawContentChangedEvent,other.rawContentChangedEvent),contentChangedEvent=InternalModelContentChangeEvent._mergeChangeEvents(this.contentChangedEvent,other.contentChangedEvent);return new InternalModelContentChangeEvent(rawContentChangedEvent,contentChangedEvent)}static _mergeChangeEvents(a,b){return{changes:[].concat(a.changes).concat(b.changes),eol:b.eol,versionId:b.versionId,isUndoing:a.isUndoing||b.isUndoing,isRedoing:a.isRedoing||b.isRedoing,isFlush:a.isFlush||b.isFlush}}}var arrays=__webpack_require__(2309),core_lineTokens=__webpack_require__(2387),modes=__webpack_require__(2308),nullMode=__webpack_require__(2360),stopwatch=__webpack_require__(2431),platform=__webpack_require__(2305);class textModelTokens_TokenizationStateStore{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(initialState){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,initialState&&this._setBeginState(0,initialState)}flush(initialState){this._reset(initialState)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(lineIndex){lineIndex<this._len&&(this._valid[lineIndex]=!1),lineIndex<this._invalidLineStartIndex&&(this._invalidLineStartIndex=lineIndex)}_isValid(lineIndex){return lineIndex<this._len&&this._valid[lineIndex]}getBeginState(lineIndex){return lineIndex<this._len?this._beginState[lineIndex]:null}_ensureLine(lineIndex){for(;lineIndex>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(start,deleteCount){0!==deleteCount&&(start+deleteCount>this._len&&(deleteCount=this._len-start),this._beginState.splice(start,deleteCount),this._valid.splice(start,deleteCount),this._len-=deleteCount)}_insertLines(insertIndex,insertCount){if(0===insertCount)return;let beginState=[],valid=[];for(let i=0;i<insertCount;i++)beginState[i]=null,valid[i]=!1;this._beginState=arrays.a(this._beginState,insertIndex,beginState),this._valid=arrays.a(this._valid,insertIndex,valid),this._len+=insertCount}_setValid(lineIndex,valid){this._ensureLine(lineIndex),this._valid[lineIndex]=valid}_setBeginState(lineIndex,beginState){this._ensureLine(lineIndex),this._beginState[lineIndex]=beginState}setEndState(linesLength,lineIndex,endState){if(this._setValid(lineIndex,!0),this._invalidLineStartIndex=lineIndex+1,lineIndex===linesLength-1)return;const previousEndState=this.getBeginState(lineIndex+1);if(null===previousEndState||!endState.equals(previousEndState))return this._setBeginState(lineIndex+1,endState),void this._invalidateLine(lineIndex+1);let i=lineIndex+1;for(;i<linesLength&&this._isValid(i);)i++;this._invalidLineStartIndex=i}setFakeTokens(lineIndex){this._setValid(lineIndex,!1)}applyEdits(range,eolCount){const deletingLinesCnt=range.endLineNumber-range.startLineNumber,insertingLinesCnt=eolCount;for(let j=Math.min(deletingLinesCnt,insertingLinesCnt);j>=0;j--)this._invalidateLine(range.startLineNumber+j-1);this._acceptDeleteRange(range),this._acceptInsertText(new core_position.a(range.startLineNumber,range.startColumn),eolCount)}_acceptDeleteRange(range){range.startLineNumber-1>=this._len||this._deleteLines(range.startLineNumber,range.endLineNumber-range.startLineNumber)}_acceptInsertText(position,eolCount){position.lineNumber-1>=this._len||this._insertLines(position.lineNumber,eolCount)}}class textModelTokens_TextModelTokenization extends lifecycle.a{constructor(textModel){super(),this._isDisposed=!1,this._textModel=textModel,this._tokenizationStateStore=new textModelTokens_TokenizationStateStore,this._tokenizationSupport=null,this._register(modes.C.onDidChange(e=>{const languageIdentifier=this._textModel.getLanguageIdentifier();-1!==e.changedLanguages.indexOf(languageIdentifier.language)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(e=>{e.containsEvent(1)&&this._resetTokenizationState()})),this._register(this._textModel.onDidChangeContentFast(e=>{for(let i=0,len=e.changes.length;i<len;i++){const change=e.changes[i],[eolCount]=Object(tokensStore.f)(change.text);this._tokenizationStateStore.applyEdits(change.range,eolCount)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[tokenizationSupport,initialState]=function initializeTokenization(textModel){const languageIdentifier=textModel.getLanguageIdentifier();let tokenizationSupport=textModel.isTooLargeForTokenization()?null:modes.C.get(languageIdentifier.language),initialState=null;if(tokenizationSupport)try{initialState=tokenizationSupport.getInitialState()}catch(e){Object(errors.e)(e),tokenizationSupport=null}return[tokenizationSupport,initialState]}(this._textModel);this._tokenizationSupport=tokenizationSupport,this._tokenizationStateStore.flush(initialState),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&platform.j(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(toLineNumber=this._textModel.getLineCount()){const builder=new tokensStore.b,sw=stopwatch.a.create(!1);for(;this._hasLinesToTokenize()&&!(sw.elapsed()>1);){if(this._tokenizeOneInvalidLine(builder)>=toLineNumber)break}this._beginBackgroundTokenization(),this._textModel.setTokens(builder.tokens)}tokenizeViewport(startLineNumber,endLineNumber){const builder=new tokensStore.b;this._tokenizeViewport(builder,startLineNumber,endLineNumber),this._textModel.setTokens(builder.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(lineNumber){const builder=new tokensStore.b;this._updateTokensUntilLine(builder,lineNumber),this._textModel.setTokens(builder.tokens)}isCheapToTokenize(lineNumber){if(!this._tokenizationSupport)return!0;const firstInvalidLineNumber=this._tokenizationStateStore.invalidLineStartIndex+1;return!(lineNumber>firstInvalidLineNumber)&&(lineNumber<firstInvalidLineNumber||this._textModel.getLineLength(lineNumber)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(builder){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const lineNumber=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(builder,lineNumber),lineNumber}_updateTokensUntilLine(builder,lineNumber){if(!this._tokenizationSupport)return;const languageIdentifier=this._textModel.getLanguageIdentifier(),linesLength=this._textModel.getLineCount(),endLineIndex=lineNumber-1;for(let lineIndex=this._tokenizationStateStore.invalidLineStartIndex;lineIndex<=endLineIndex;lineIndex++){const text=this._textModel.getLineContent(lineIndex+1),lineStartState=this._tokenizationStateStore.getBeginState(lineIndex),r=safeTokenize(languageIdentifier,this._tokenizationSupport,text,lineStartState);builder.add(lineIndex+1,r.tokens),this._tokenizationStateStore.setEndState(linesLength,lineIndex,r.endState),lineIndex=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(builder,startLineNumber,endLineNumber){if(!this._tokenizationSupport)return;if(endLineNumber<=this._tokenizationStateStore.invalidLineStartIndex)return;if(startLineNumber<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(builder,endLineNumber);let nonWhitespaceColumn=this._textModel.getLineFirstNonWhitespaceColumn(startLineNumber),fakeLines=[],initialState=null;for(let i=startLineNumber-1;nonWhitespaceColumn>0&&i>=1;i--){let newNonWhitespaceIndex=this._textModel.getLineFirstNonWhitespaceColumn(i);if(0!==newNonWhitespaceIndex&&newNonWhitespaceIndex<nonWhitespaceColumn){if(initialState=this._tokenizationStateStore.getBeginState(i-1))break;fakeLines.push(this._textModel.getLineContent(i)),nonWhitespaceColumn=newNonWhitespaceIndex}}initialState||(initialState=this._tokenizationSupport.getInitialState());const languageIdentifier=this._textModel.getLanguageIdentifier();let state=initialState;for(let i=fakeLines.length-1;i>=0;i--){state=safeTokenize(languageIdentifier,this._tokenizationSupport,fakeLines[i],state).endState}for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){let text=this._textModel.getLineContent(lineNumber),r=safeTokenize(languageIdentifier,this._tokenizationSupport,text,state);builder.add(lineNumber,r.tokens),this._tokenizationStateStore.setFakeTokens(lineNumber-1),state=r.endState}}}function safeTokenize(languageIdentifier,tokenizationSupport,text,state){let r=null;if(tokenizationSupport)try{r=tokenizationSupport.tokenize2(text,state.clone(),0)}catch(e){Object(errors.e)(e)}return r||(r=Object(nullMode.e)(languageIdentifier.id,text,state,0)),core_lineTokens.a.convertToEndOffset(r.tokens,text.length),r}var wordHelper=__webpack_require__(2395),languageConfigurationRegistry=__webpack_require__(2334),supports=__webpack_require__(2432),richEditBrackets=__webpack_require__(2433),common_color=__webpack_require__(2320);function createTextBufferFactory(text){const builder=function createTextBufferBuilder(){return new pieceTreeTextBufferBuilder_PieceTreeTextBufferBuilder}();return builder.acceptChunk(text),builder.finish()}function createTextBuffer(value,defaultEOL){return("string"==typeof value?createTextBufferFactory(value):value).create(defaultEOL)}__webpack_require__.d(__webpack_exports__,"b",function(){return textModel_TextModel}),__webpack_require__.d(__webpack_exports__,"a",function(){return ModelDecorationOptions});let MODEL_ID=0;const LIMIT_FIND_COUNT=999,LONG_LINE_BOUNDARY=1e4;class TextModelSnapshot{constructor(source){this._source=source,this._eos=!1}read(){if(this._eos)return null;let result=[],resultCnt=0,resultLength=0;for(;;){let tmp=this._source.read();if(null===tmp)return this._eos=!0,0===resultCnt?null:result.join("");if(tmp.length>0&&(result[resultCnt++]=tmp,resultLength+=tmp.length),resultLength>=65536)return result.join("")}}}const invalidFunc=()=>{throw new Error("Invalid change accessor")};class BracketSearchCanceled{constructor(){this._searchCanceledBrand=void 0}}function stripBracketSearchCanceled(result){return result instanceof BracketSearchCanceled?null:result}BracketSearchCanceled.INSTANCE=new BracketSearchCanceled;class textModel_TextModel extends lifecycle.a{constructor(source,creationOptions,languageIdentifier,associatedResource=null,undoRedoService){super(),this._onWillDispose=this._register(new common_event.a),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new textModel_DidChangeDecorationsEmitter),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new common_event.a),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new common_event.a),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new common_event.a),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new common_event.a),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new common_event.a),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new textModel_DidChangeContentEmitter),MODEL_ID++,this.id="$model"+MODEL_ID,this.isForSimpleWidget=creationOptions.isForSimpleWidget,this._associatedResource=null==associatedResource?uri.a.parse("inmemory://model/"+MODEL_ID):associatedResource,this._undoRedoService=undoRedoService,this._attachedEditorCount=0,this._buffer=createTextBuffer(source,creationOptions.defaultEOL),this._options=textModel_TextModel.resolveOptions(this._buffer,creationOptions);const bufferLineCount=this._buffer.getLineCount(),bufferTextLength=this._buffer.getValueLengthInRange(new core_range.a(1,1,bufferLineCount,this._buffer.getLineLength(bufferLineCount)+1),0);creationOptions.largeFileOptimizations?this._isTooLargeForTokenization=bufferTextLength>textModel_TextModel.LARGE_FILE_SIZE_THRESHOLD||bufferLineCount>textModel_TextModel.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=bufferTextLength>textModel_TextModel.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=languageIdentifier||nullMode.a,this._languageRegistryListener=languageConfigurationRegistry.a.onDidChange(e=>{e.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=strings.R(MODEL_ID),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new textModel_DecorationsTrees,this._commandManager=new editStack.a(this,undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new tokensStore.d,this._tokens2=new tokensStore.e,this._tokenization=new textModelTokens_TextModelTokenization(this)}static resolveOptions(textBuffer,options){if(options.detectIndentation){const guessedIndentation=guessIndentation(textBuffer,options.tabSize,options.insertSpaces);return new model.e({tabSize:guessedIndentation.tabSize,indentSize:guessedIndentation.tabSize,insertSpaces:guessedIndentation.insertSpaces,trimAutoWhitespace:options.trimAutoWhitespace,defaultEOL:options.defaultEOL})}return new model.e({tabSize:options.tabSize,indentSize:options.indentSize,insertSpaces:options.insertSpaces,trimAutoWhitespace:options.trimAutoWhitespace,defaultEOL:options.defaultEOL})}onDidChangeRawContentFast(listener){return this._eventEmitter.fastEvent(e=>listener(e.rawContentChangedEvent))}onDidChangeContentFast(listener){return this._eventEmitter.fastEvent(e=>listener(e.contentChangedEvent))}onDidChangeContent(listener){return this._eventEmitter.slowEvent(e=>listener(e.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._isDisposing=!1}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(rawChange,change){this._isDisposing||this._eventEmitter.fire(new InternalModelContentChangeEvent(rawChange,change))}setValue(value){if(this._assertNotDisposed(),null===value)return;const textBuffer=createTextBuffer(value,this._options.defaultEOL);this.setValueFromTextBuffer(textBuffer)}_createContentChanged2(range,rangeOffset,rangeLength,text,isUndoing,isRedoing,isFlush){return{changes:[{range:range,rangeOffset:rangeOffset,rangeLength:rangeLength,text:text}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:isUndoing,isRedoing:isRedoing,isFlush:isFlush}}setValueFromTextBuffer(textBuffer){if(this._assertNotDisposed(),null===textBuffer)return;const oldFullModelRange=this.getFullModelRange(),oldModelValueLength=this.getValueLengthInRange(oldFullModelRange),endLineNumber=this.getLineCount(),endColumn=this.getLineMaxColumn(endLineNumber);this._buffer=textBuffer,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new textModel_DecorationsTrees,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ModelRawContentChangedEvent([new ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new core_range.a(1,1,endLineNumber,endColumn),0,oldModelValueLength,this.getValue(),!1,!1,!0))}setEOL(eol){this._assertNotDisposed();const newEOL=1===eol?"\r\n":"\n";if(this._buffer.getEOL()===newEOL)return;const oldFullModelRange=this.getFullModelRange(),oldModelValueLength=this.getValueLengthInRange(oldFullModelRange),endLineNumber=this.getLineCount(),endColumn=this.getLineMaxColumn(endLineNumber);this._onBeforeEOLChange(),this._buffer.setEOL(newEOL),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ModelRawContentChangedEvent([new ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new core_range.a(1,1,endLineNumber,endColumn),0,oldModelValueLength,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const versionId=this.getVersionId(),allDecorations=this._decorationsTree.search(0,!1,!1,versionId);this._ensureNodesHaveRanges(allDecorations)}_onAfterEOLChange(){const versionId=this.getVersionId(),allDecorations=this._decorationsTree.collectNodesPostOrder();for(let i=0,len=allDecorations.length;i<len;i++){const node=allDecorations[i],delta=node.cachedAbsoluteStart-node.start,startOffset=this._buffer.getOffsetAt(node.range.startLineNumber,node.range.startColumn),endOffset=this._buffer.getOffsetAt(node.range.endLineNumber,node.range.endColumn);node.cachedAbsoluteStart=startOffset,node.cachedAbsoluteEnd=endOffset,node.cachedVersionId=versionId,node.start=startOffset-delta,node.end=endOffset-delta,recomputeMaxEnd(node)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let smallLineCharCount=0,longLineCharCount=0;const lineCount=this._buffer.getLineCount();for(let lineNumber=1;lineNumber<=lineCount;lineNumber++){const lineLength=this._buffer.getLineLength(lineNumber);lineLength>=LONG_LINE_BOUNDARY?longLineCharCount+=lineLength:smallLineCharCount+=lineLength}return longLineCharCount>smallLineCharCount}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(_newOpts){this._assertNotDisposed();let tabSize=void 0!==_newOpts.tabSize?_newOpts.tabSize:this._options.tabSize,indentSize=void 0!==_newOpts.indentSize?_newOpts.indentSize:this._options.indentSize,insertSpaces=void 0!==_newOpts.insertSpaces?_newOpts.insertSpaces:this._options.insertSpaces,trimAutoWhitespace=void 0!==_newOpts.trimAutoWhitespace?_newOpts.trimAutoWhitespace:this._options.trimAutoWhitespace,newOpts=new model.e({tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:trimAutoWhitespace});if(this._options.equals(newOpts))return;let e=this._options.createChangeEvent(newOpts);this._options=newOpts,this._onDidChangeOptions.fire(e)}detectIndentation(defaultInsertSpaces,defaultTabSize){this._assertNotDisposed();let guessedIndentation=guessIndentation(this._buffer,defaultTabSize,defaultInsertSpaces);this.updateOptions({insertSpaces:guessedIndentation.insertSpaces,tabSize:guessedIndentation.tabSize,indentSize:guessedIndentation.tabSize})}static _normalizeIndentationFromWhitespace(str,indentSize,insertSpaces){let spacesCnt=0;for(let i=0;i<str.length;i++)"\t"===str.charAt(i)?spacesCnt+=indentSize:spacesCnt++;let result="";if(!insertSpaces){let tabsCnt=Math.floor(spacesCnt/indentSize);spacesCnt%=indentSize;for(let i=0;i<tabsCnt;i++)result+="\t"}for(let i=0;i<spacesCnt;i++)result+=" ";return result}static normalizeIndentation(str,indentSize,insertSpaces){let firstNonWhitespaceIndex=strings.w(str);return-1===firstNonWhitespaceIndex&&(firstNonWhitespaceIndex=str.length),textModel_TextModel._normalizeIndentationFromWhitespace(str.substring(0,firstNonWhitespaceIndex),indentSize,insertSpaces)+str.substring(firstNonWhitespaceIndex)}normalizeIndentation(str){return this._assertNotDisposed(),textModel_TextModel.normalizeIndentation(str,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(selections=null){const matches=this.findMatches(strings.a.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(selections,matches.map(m=>({range:m.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getOffsetAt(rawPosition){this._assertNotDisposed();let position=this._validatePosition(rawPosition.lineNumber,rawPosition.column,0);return this._buffer.getOffsetAt(position.lineNumber,position.column)}getPositionAt(rawOffset){this._assertNotDisposed();let offset=Math.min(this._buffer.getLength(),Math.max(0,rawOffset));return this._buffer.getPositionAt(offset)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(versionId){this._versionId=versionId}_overwriteAlternativeVersionId(newAlternativeVersionId){this._alternativeVersionId=newAlternativeVersionId}_overwriteInitialUndoRedoSnapshot(newInitialUndoRedoSnapshot){this._initialUndoRedoSnapshot=newInitialUndoRedoSnapshot}getValue(eol,preserveBOM=!1){this._assertNotDisposed();const fullModelRange=this.getFullModelRange(),fullModelValue=this.getValueInRange(fullModelRange,eol);return preserveBOM?this._buffer.getBOM()+fullModelValue:fullModelValue}createSnapshot(preserveBOM=!1){return new TextModelSnapshot(this._buffer.createSnapshot(preserveBOM))}getValueLength(eol,preserveBOM=!1){this._assertNotDisposed();const fullModelRange=this.getFullModelRange(),fullModelValue=this.getValueLengthInRange(fullModelRange,eol);return preserveBOM?this._buffer.getBOM().length+fullModelValue:fullModelValue}getValueInRange(rawRange,eol=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(rawRange),eol)}getValueLengthInRange(rawRange,eol=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(rawRange),eol)}getCharacterCountInRange(rawRange,eol=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(rawRange),eol)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(lineNumber)}getLineLength(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(lineNumber)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getLineMinColumn(lineNumber){return this._assertNotDisposed(),1}getLineMaxColumn(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(lineNumber)+1}getLineFirstNonWhitespaceColumn(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(lineNumber)}getLineLastNonWhitespaceColumn(lineNumber){if(this._assertNotDisposed(),lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(lineNumber)}_validateRangeRelaxedNoAllocations(range){const linesCount=this._buffer.getLineCount(),initialStartLineNumber=range.startLineNumber,initialStartColumn=range.startColumn;let startLineNumber,startColumn;if(initialStartLineNumber<1)startLineNumber=1,startColumn=1;else if(initialStartLineNumber>linesCount)startLineNumber=linesCount,startColumn=this.getLineMaxColumn(startLineNumber);else if(startLineNumber=0|initialStartLineNumber,initialStartColumn<=1)startColumn=1;else{const maxColumn=this.getLineMaxColumn(startLineNumber);startColumn=initialStartColumn>=maxColumn?maxColumn:0|initialStartColumn}const initialEndLineNumber=range.endLineNumber,initialEndColumn=range.endColumn;let endLineNumber,endColumn;if(initialEndLineNumber<1)endLineNumber=1,endColumn=1;else if(initialEndLineNumber>linesCount)endLineNumber=linesCount,endColumn=this.getLineMaxColumn(endLineNumber);else if(endLineNumber=0|initialEndLineNumber,initialEndColumn<=1)endColumn=1;else{const maxColumn=this.getLineMaxColumn(endLineNumber);endColumn=initialEndColumn>=maxColumn?maxColumn:0|initialEndColumn}return initialStartLineNumber===startLineNumber&&initialStartColumn===startColumn&&initialEndLineNumber===endLineNumber&&initialEndColumn===endColumn&&range instanceof core_range.a&&!(range instanceof selection.a)?range:new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn)}_isValidPosition(lineNumber,column,validationType){if("number"!=typeof lineNumber||"number"!=typeof column)return!1;if(isNaN(lineNumber)||isNaN(column))return!1;if(lineNumber<1||column<1)return!1;if((0|lineNumber)!==lineNumber||(0|column)!==column)return!1;if(lineNumber>this._buffer.getLineCount())return!1;if(1===column)return!0;if(column>this.getLineMaxColumn(lineNumber))return!1;if(1===validationType){const charCodeBefore=this._buffer.getLineCharCode(lineNumber,column-2);if(strings.F(charCodeBefore))return!1}return!0}_validatePosition(_lineNumber,_column,validationType){const lineNumber=Math.floor("number"!=typeof _lineNumber||isNaN(_lineNumber)?1:_lineNumber),column=Math.floor("number"!=typeof _column||isNaN(_column)?1:_column),lineCount=this._buffer.getLineCount();if(lineNumber<1)return new core_position.a(1,1);if(lineNumber>lineCount)return new core_position.a(lineCount,this.getLineMaxColumn(lineCount));if(column<=1)return new core_position.a(lineNumber,1);const maxColumn=this.getLineMaxColumn(lineNumber);if(column>=maxColumn)return new core_position.a(lineNumber,maxColumn);if(1===validationType){const charCodeBefore=this._buffer.getLineCharCode(lineNumber,column-2);if(strings.F(charCodeBefore))return new core_position.a(lineNumber,column-1)}return new core_position.a(lineNumber,column)}validatePosition(position){return this._assertNotDisposed(),position instanceof core_position.a&&this._isValidPosition(position.lineNumber,position.column,1)?position:this._validatePosition(position.lineNumber,position.column,1)}_isValidRange(range,validationType){const startLineNumber=range.startLineNumber,startColumn=range.startColumn,endLineNumber=range.endLineNumber,endColumn=range.endColumn;if(!this._isValidPosition(startLineNumber,startColumn,0))return!1;if(!this._isValidPosition(endLineNumber,endColumn,0))return!1;if(1===validationType){const charCodeBeforeStart=startColumn>1?this._buffer.getLineCharCode(startLineNumber,startColumn-2):0,charCodeBeforeEnd=endColumn>1&&endColumn<=this._buffer.getLineLength(endLineNumber)?this._buffer.getLineCharCode(endLineNumber,endColumn-2):0,startInsideSurrogatePair=strings.F(charCodeBeforeStart),endInsideSurrogatePair=strings.F(charCodeBeforeEnd);return!startInsideSurrogatePair&&!endInsideSurrogatePair}return!0}validateRange(_range){if(this._assertNotDisposed(),_range instanceof core_range.a&&!(_range instanceof selection.a)&&this._isValidRange(_range,1))return _range;const start=this._validatePosition(_range.startLineNumber,_range.startColumn,0),end=this._validatePosition(_range.endLineNumber,_range.endColumn,0),startLineNumber=start.lineNumber,startColumn=start.column,endLineNumber=end.lineNumber,endColumn=end.column;{const charCodeBeforeStart=startColumn>1?this._buffer.getLineCharCode(startLineNumber,startColumn-2):0,charCodeBeforeEnd=endColumn>1&&endColumn<=this._buffer.getLineLength(endLineNumber)?this._buffer.getLineCharCode(endLineNumber,endColumn-2):0,startInsideSurrogatePair=strings.F(charCodeBeforeStart),endInsideSurrogatePair=strings.F(charCodeBeforeEnd);return startInsideSurrogatePair||endInsideSurrogatePair?startLineNumber===endLineNumber&&startColumn===endColumn?new core_range.a(startLineNumber,startColumn-1,endLineNumber,endColumn-1):startInsideSurrogatePair&&endInsideSurrogatePair?new core_range.a(startLineNumber,startColumn-1,endLineNumber,endColumn+1):startInsideSurrogatePair?new core_range.a(startLineNumber,startColumn-1,endLineNumber,endColumn):new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn+1):new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn)}}modifyPosition(rawPosition,offset){this._assertNotDisposed();let candidate=this.getOffsetAt(rawPosition)+offset;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,candidate)))}getFullModelRange(){this._assertNotDisposed();const lineCount=this.getLineCount();return new core_range.a(1,1,lineCount,this.getLineMaxColumn(lineCount))}findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount){return this._buffer.findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount)}findMatches(searchString,rawSearchScope,isRegex,matchCase,wordSeparators,captureMatches,limitResultCount=LIMIT_FIND_COUNT){this._assertNotDisposed();let searchRanges=null;null!==rawSearchScope&&(Array.isArray(rawSearchScope)||(rawSearchScope=[rawSearchScope]),rawSearchScope.every(searchScope=>core_range.a.isIRange(searchScope))&&(searchRanges=rawSearchScope.map(searchScope=>this.validateRange(searchScope)))),null===searchRanges&&(searchRanges=[this.getFullModelRange()]),searchRanges=searchRanges.sort((d1,d2)=>d1.startLineNumber-d2.startLineNumber||d1.startColumn-d2.startColumn);const uniqueSearchRanges=[];let matchMapper;if(uniqueSearchRanges.push(searchRanges.reduce((prev,curr)=>core_range.a.areIntersecting(prev,curr)?prev.plusRange(curr):(uniqueSearchRanges.push(prev),curr))),!isRegex&&searchString.indexOf("\n")<0){const searchData=new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators).parseSearchRequest();if(!searchData)return[];matchMapper=searchRange=>this.findMatchesLineByLine(searchRange,searchData,captureMatches,limitResultCount)}else matchMapper=searchRange=>textModelSearch.c.findMatches(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchRange,captureMatches,limitResultCount);return uniqueSearchRanges.map(matchMapper).reduce((arr,matches)=>arr.concat(matches),[])}findNextMatch(searchString,rawSearchStart,isRegex,matchCase,wordSeparators,captureMatches){this._assertNotDisposed();const searchStart=this.validatePosition(rawSearchStart);if(!isRegex&&searchString.indexOf("\n")<0){const searchData=new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators).parseSearchRequest();if(!searchData)return null;const lineCount=this.getLineCount();let searchRange=new core_range.a(searchStart.lineNumber,searchStart.column,lineCount,this.getLineMaxColumn(lineCount)),ret=this.findMatchesLineByLine(searchRange,searchData,captureMatches,1);return textModelSearch.c.findNextMatch(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchStart,captureMatches),ret.length>0?ret[0]:(searchRange=new core_range.a(1,1,searchStart.lineNumber,this.getLineMaxColumn(searchStart.lineNumber)),(ret=this.findMatchesLineByLine(searchRange,searchData,captureMatches,1)).length>0?ret[0]:null)}return textModelSearch.c.findNextMatch(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchStart,captureMatches)}findPreviousMatch(searchString,rawSearchStart,isRegex,matchCase,wordSeparators,captureMatches){this._assertNotDisposed();const searchStart=this.validatePosition(rawSearchStart);return textModelSearch.c.findPreviousMatch(this,new textModelSearch.a(searchString,isRegex,matchCase,wordSeparators),searchStart,captureMatches)}pushStackElement(){this._commandManager.pushStackElement()}pushEOL(eol){if(("\n"===this.getEOL()?0:1)!==eol)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(eol)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(rawOperation){return rawOperation instanceof model.f?rawOperation:new model.f(rawOperation.identifier||null,this.validateRange(rawOperation.range),rawOperation.text,rawOperation.forceMoveMarkers||!1,rawOperation.isAutoWhitespaceEdit||!1,rawOperation._isTracked||!1)}_validateEditOperations(rawOperations){const result=[];for(let i=0,len=rawOperations.length;i<len;i++)result[i]=this._validateEditOperation(rawOperations[i]);return result}pushEditOperations(beforeCursorState,editOperations,cursorStateComputer){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(beforeCursorState,this._validateEditOperations(editOperations),cursorStateComputer)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(beforeCursorState,editOperations,cursorStateComputer){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let incomingEdits=editOperations.map(op=>({range:this.validateRange(op.range),text:op.text})),editsAreNearCursors=!0;if(beforeCursorState)for(let i=0,len=beforeCursorState.length;i<len;i++){let sel=beforeCursorState[i],foundEditNearSel=!1;for(let j=0,lenJ=incomingEdits.length;j<lenJ;j++){let editRange=incomingEdits[j].range,selIsAbove=editRange.startLineNumber>sel.endLineNumber,selIsBelow=sel.startLineNumber>editRange.endLineNumber;if(!selIsAbove&&!selIsBelow){foundEditNearSel=!0;break}}if(!foundEditNearSel){editsAreNearCursors=!1;break}}if(editsAreNearCursors)for(let i=0,len=this._trimAutoWhitespaceLines.length;i<len;i++){let trimLineNumber=this._trimAutoWhitespaceLines[i],maxLineColumn=this.getLineMaxColumn(trimLineNumber),allowTrimLine=!0;for(let j=0,lenJ=incomingEdits.length;j<lenJ;j++){let editRange=incomingEdits[j].range,editText=incomingEdits[j].text;if(!(trimLineNumber<editRange.startLineNumber||trimLineNumber>editRange.endLineNumber)&&!(trimLineNumber===editRange.startLineNumber&&editRange.startColumn===maxLineColumn&&editRange.isEmpty()&&editText&&editText.length>0&&"\n"===editText.charAt(0)||trimLineNumber===editRange.startLineNumber&&1===editRange.startColumn&&editRange.isEmpty()&&editText&&editText.length>0&&"\n"===editText.charAt(editText.length-1))){allowTrimLine=!1;break}}if(allowTrimLine){const trimRange=new core_range.a(trimLineNumber,1,trimLineNumber,maxLineColumn);editOperations.push(new model.f(null,trimRange,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(beforeCursorState,editOperations,cursorStateComputer)}_applyUndo(changes,eol,resultingAlternativeVersionId,resultingSelection){const edits=changes.map(change=>{const rangeStart=this.getPositionAt(change.newPosition),rangeEnd=this.getPositionAt(change.newEnd);return{range:new core_range.a(rangeStart.lineNumber,rangeStart.column,rangeEnd.lineNumber,rangeEnd.column),text:change.oldText}});this._applyUndoRedoEdits(edits,eol,!0,!1,resultingAlternativeVersionId,resultingSelection)}_applyRedo(changes,eol,resultingAlternativeVersionId,resultingSelection){const edits=changes.map(change=>{const rangeStart=this.getPositionAt(change.oldPosition),rangeEnd=this.getPositionAt(change.oldEnd);return{range:new core_range.a(rangeStart.lineNumber,rangeStart.column,rangeEnd.lineNumber,rangeEnd.column),text:change.newText}});this._applyUndoRedoEdits(edits,eol,!1,!0,resultingAlternativeVersionId,resultingSelection)}_applyUndoRedoEdits(edits,eol,isUndoing,isRedoing,resultingAlternativeVersionId,resultingSelection){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=isUndoing,this._isRedoing=isRedoing,this.applyEdits(edits,!1),this.setEOL(eol),this._overwriteAlternativeVersionId(resultingAlternativeVersionId)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(resultingSelection),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(rawOperations,computeUndoEdits=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const operations=this._validateEditOperations(rawOperations);return this._doApplyEdits(operations,computeUndoEdits)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(rawOperations,computeUndoEdits){const oldLineCount=this._buffer.getLineCount(),result=this._buffer.applyEdits(rawOperations,this._options.trimAutoWhitespace,computeUndoEdits),newLineCount=this._buffer.getLineCount(),contentChanges=result.changes;if(this._trimAutoWhitespaceLines=result.trimAutoWhitespaceLineNumbers,0!==contentChanges.length){let rawContentChanges=[],lineCount=oldLineCount;for(let i=0,len=contentChanges.length;i<len;i++){const change=contentChanges[i],[eolCount,firstLineLength,lastLineLength]=Object(tokensStore.f)(change.text);this._tokens.acceptEdit(change.range,eolCount,firstLineLength),this._tokens2.acceptEdit(change.range,eolCount,firstLineLength,lastLineLength,change.text.length>0?change.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(change.rangeOffset,change.rangeLength,change.text.length,change.forceMoveMarkers);const startLineNumber=change.range.startLineNumber,endLineNumber=change.range.endLineNumber,deletingLinesCnt=endLineNumber-startLineNumber,insertingLinesCnt=eolCount,editingLinesCnt=Math.min(deletingLinesCnt,insertingLinesCnt),changeLineCountDelta=insertingLinesCnt-deletingLinesCnt;for(let j=editingLinesCnt;j>=0;j--){const editLineNumber=startLineNumber+j,currentEditLineNumber=newLineCount-lineCount-changeLineCountDelta+editLineNumber;rawContentChanges.push(new ModelRawLineChanged(editLineNumber,this.getLineContent(currentEditLineNumber)))}if(editingLinesCnt<deletingLinesCnt){const spliceStartLineNumber=startLineNumber+editingLinesCnt;rawContentChanges.push(new ModelRawLinesDeleted(spliceStartLineNumber+1,endLineNumber))}if(editingLinesCnt<insertingLinesCnt){const spliceLineNumber=startLineNumber+editingLinesCnt,cnt=insertingLinesCnt-editingLinesCnt,fromLineNumber=newLineCount-lineCount-cnt+spliceLineNumber+1;let newLines=[];for(let i=0;i<cnt;i++){let lineNumber=fromLineNumber+i;newLines[lineNumber-fromLineNumber]=this.getLineContent(lineNumber)}rawContentChanges.push(new ModelRawLinesInserted(spliceLineNumber+1,startLineNumber+insertingLinesCnt,newLines))}lineCount+=changeLineCountDelta}this._increaseVersionId(),this._emitContentChangedEvent(new ModelRawContentChangedEvent(rawContentChanges,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:contentChanges,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===result.reverseEdits?void 0:result.reverseEdits}undo(){this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(callback,ownerId=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ownerId,callback)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(ownerId,callback){let changeAccessor={addDecoration:(range,options)=>this._deltaDecorationsImpl(ownerId,[],[{range:range,options:options}])[0],changeDecoration:(id,newRange)=>{this._changeDecorationImpl(id,newRange)},changeDecorationOptions:(id,options)=>{this._changeDecorationOptionsImpl(id,_normalizeOptions(options))},removeDecoration:id=>{this._deltaDecorationsImpl(ownerId,[id],[])},deltaDecorations:(oldDecorations,newDecorations)=>0===oldDecorations.length&&0===newDecorations.length?[]:this._deltaDecorationsImpl(ownerId,oldDecorations,newDecorations)},result=null;try{result=callback(changeAccessor)}catch(e){Object(errors.e)(e)}return changeAccessor.addDecoration=invalidFunc,changeAccessor.changeDecoration=invalidFunc,changeAccessor.changeDecorationOptions=invalidFunc,changeAccessor.removeDecoration=invalidFunc,changeAccessor.deltaDecorations=invalidFunc,result}deltaDecorations(oldDecorations,newDecorations,ownerId=0){if(this._assertNotDisposed(),oldDecorations||(oldDecorations=[]),0===oldDecorations.length&&0===newDecorations.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ownerId,oldDecorations,newDecorations)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(id){return this.getDecorationRange(id)}_setTrackedRange(id,newRange,newStickiness){const node=id?this._decorations[id]:null;if(!node)return newRange?this._deltaDecorationsImpl(0,[],[{range:newRange,options:TRACKED_RANGE_OPTIONS[newStickiness]}])[0]:null;if(!newRange)return this._decorationsTree.delete(node),delete this._decorations[node.id],null;const range=this._validateRangeRelaxedNoAllocations(newRange),startOffset=this._buffer.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this._buffer.getOffsetAt(range.endLineNumber,range.endColumn);return this._decorationsTree.delete(node),node.reset(this.getVersionId(),startOffset,endOffset,range),node.setOptions(TRACKED_RANGE_OPTIONS[newStickiness]),this._decorationsTree.insert(node),node.id}removeAllDecorationsWithOwnerId(ownerId){if(this._isDisposed)return;const nodes=this._decorationsTree.collectNodesFromOwner(ownerId);for(let i=0,len=nodes.length;i<len;i++){const node=nodes[i];this._decorationsTree.delete(node),delete this._decorations[node.id]}}getDecorationOptions(decorationId){const node=this._decorations[decorationId];return node?node.options:null}getDecorationRange(decorationId){const node=this._decorations[decorationId];if(!node)return null;const versionId=this.getVersionId();return node.cachedVersionId!==versionId&&this._decorationsTree.resolveNode(node,versionId),null===node.range&&(node.range=this._getRangeAt(node.cachedAbsoluteStart,node.cachedAbsoluteEnd)),node.range}getLineDecorations(lineNumber,ownerId=0,filterOutValidation=!1){return lineNumber<1||lineNumber>this.getLineCount()?[]:this.getLinesDecorations(lineNumber,lineNumber,ownerId,filterOutValidation)}getLinesDecorations(_startLineNumber,_endLineNumber,ownerId=0,filterOutValidation=!1){let lineCount=this.getLineCount(),startLineNumber=Math.min(lineCount,Math.max(1,_startLineNumber)),endLineNumber=Math.min(lineCount,Math.max(1,_endLineNumber)),endColumn=this.getLineMaxColumn(endLineNumber);return this._getDecorationsInRange(new core_range.a(startLineNumber,1,endLineNumber,endColumn),ownerId,filterOutValidation)}getDecorationsInRange(range,ownerId=0,filterOutValidation=!1){let validatedRange=this.validateRange(range);return this._getDecorationsInRange(validatedRange,ownerId,filterOutValidation)}getOverviewRulerDecorations(ownerId=0,filterOutValidation=!1){const versionId=this.getVersionId(),result=this._decorationsTree.search(ownerId,filterOutValidation,!0,versionId);return this._ensureNodesHaveRanges(result)}getAllDecorations(ownerId=0,filterOutValidation=!1){const versionId=this.getVersionId(),result=this._decorationsTree.search(ownerId,filterOutValidation,!1,versionId);return this._ensureNodesHaveRanges(result)}_getDecorationsInRange(filterRange,filterOwnerId,filterOutValidation){const startOffset=this._buffer.getOffsetAt(filterRange.startLineNumber,filterRange.startColumn),endOffset=this._buffer.getOffsetAt(filterRange.endLineNumber,filterRange.endColumn),versionId=this.getVersionId(),result=this._decorationsTree.intervalSearch(startOffset,endOffset,filterOwnerId,filterOutValidation,versionId);return this._ensureNodesHaveRanges(result)}_ensureNodesHaveRanges(nodes){for(let i=0,len=nodes.length;i<len;i++){const node=nodes[i];null===node.range&&(node.range=this._getRangeAt(node.cachedAbsoluteStart,node.cachedAbsoluteEnd))}return nodes}_getRangeAt(start,end){return this._buffer.getRangeAt(start,end-start)}_changeDecorationImpl(decorationId,_range){const node=this._decorations[decorationId];if(!node)return;const range=this._validateRangeRelaxedNoAllocations(_range),startOffset=this._buffer.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this._buffer.getOffsetAt(range.endLineNumber,range.endColumn);this._decorationsTree.delete(node),node.reset(this.getVersionId(),startOffset,endOffset,range),this._decorationsTree.insert(node),this._onDidChangeDecorations.checkAffectedAndFire(node.options)}_changeDecorationOptionsImpl(decorationId,options){const node=this._decorations[decorationId];if(!node)return;const nodeWasInOverviewRuler=!(!node.options.overviewRuler||!node.options.overviewRuler.color),nodeIsInOverviewRuler=!(!options.overviewRuler||!options.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(node.options),this._onDidChangeDecorations.checkAffectedAndFire(options),nodeWasInOverviewRuler!==nodeIsInOverviewRuler?(this._decorationsTree.delete(node),node.setOptions(options),this._decorationsTree.insert(node)):node.setOptions(options)}_deltaDecorationsImpl(ownerId,oldDecorationsIds,newDecorations){const versionId=this.getVersionId(),oldDecorationsLen=oldDecorationsIds.length;let oldDecorationIndex=0;const newDecorationsLen=newDecorations.length;let newDecorationIndex=0,result=new Array(newDecorationsLen);for(;oldDecorationIndex<oldDecorationsLen||newDecorationIndex<newDecorationsLen;){let node=null;if(oldDecorationIndex<oldDecorationsLen){do{node=this._decorations[oldDecorationsIds[oldDecorationIndex++]]}while(!node&&oldDecorationIndex<oldDecorationsLen);node&&(this._decorationsTree.delete(node),this._onDidChangeDecorations.checkAffectedAndFire(node.options))}if(newDecorationIndex<newDecorationsLen){if(!node){const internalDecorationId=++this._lastDecorationId,decorationId=`${this._instanceId};${internalDecorationId}`;node=new IntervalNode(decorationId,0,0),this._decorations[decorationId]=node}const newDecoration=newDecorations[newDecorationIndex],range=this._validateRangeRelaxedNoAllocations(newDecoration.range),options=_normalizeOptions(newDecoration.options),startOffset=this._buffer.getOffsetAt(range.startLineNumber,range.startColumn),endOffset=this._buffer.getOffsetAt(range.endLineNumber,range.endColumn);node.ownerId=ownerId,node.reset(versionId,startOffset,endOffset,range),node.setOptions(options),this._onDidChangeDecorations.checkAffectedAndFire(options),this._decorationsTree.insert(node),result[newDecorationIndex]=node.id,newDecorationIndex++}else node&&delete this._decorations[node.id]}return result}setTokens(tokens){if(0===tokens.length)return;let ranges=[];for(let i=0,len=tokens.length;i<len;i++){const element=tokens[i];let minChangedLineNumber=0,maxChangedLineNumber=0,hasChange=!1;for(let j=0,lenJ=element.tokens.length;j<lenJ;j++){const lineNumber=element.startLineNumber+j;if(hasChange)this._tokens.setTokens(this._languageIdentifier.id,lineNumber-1,this._buffer.getLineLength(lineNumber),element.tokens[j],!1),maxChangedLineNumber=lineNumber;else{this._tokens.setTokens(this._languageIdentifier.id,lineNumber-1,this._buffer.getLineLength(lineNumber),element.tokens[j],!0)&&(hasChange=!0,minChangedLineNumber=lineNumber,maxChangedLineNumber=lineNumber)}}hasChange&&ranges.push({fromLineNumber:minChangedLineNumber,toLineNumber:maxChangedLineNumber})}ranges.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:ranges})}setSemanticTokens(tokens,isComplete){this._tokens2.set(tokens,isComplete),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==tokens,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasSemanticTokens(){return this._tokens2.isComplete()}setPartialSemanticTokens(range,tokens){if(this.hasSemanticTokens())return;const changedRange=this._tokens2.setPartial(range,tokens);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:changedRange.startLineNumber,toLineNumber:changedRange.endLineNumber}]})}tokenizeViewport(startLineNumber,endLineNumber){startLineNumber=Math.max(1,startLineNumber),endLineNumber=Math.min(this._buffer.getLineCount(),endLineNumber),this._tokenization.tokenizeViewport(startLineNumber,endLineNumber)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(lineNumber){if(lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(lineNumber)}isCheapToTokenize(lineNumber){return this._tokenization.isCheapToTokenize(lineNumber)}tokenizeIfCheap(lineNumber){this.isCheapToTokenize(lineNumber)&&this.forceTokenization(lineNumber)}getLineTokens(lineNumber){if(lineNumber<1||lineNumber>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(lineNumber)}_getLineTokens(lineNumber){const lineText=this.getLineContent(lineNumber),syntacticTokens=this._tokens.getTokens(this._languageIdentifier.id,lineNumber-1,lineText);return this._tokens2.addSemanticTokens(lineNumber,syntacticTokens)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(languageIdentifier){if(this._languageIdentifier.id===languageIdentifier.id)return;let e={oldLanguage:this._languageIdentifier.language,newLanguage:languageIdentifier.language};this._languageIdentifier=languageIdentifier,this._onDidChangeLanguage.fire(e),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(lineNumber,column){const position=this.validatePosition(new core_position.a(lineNumber,column)),lineTokens=this.getLineTokens(position.lineNumber);return lineTokens.getLanguageId(lineTokens.findTokenIndexAtOffset(position.column-1))}getWordAtPosition(_position){this._assertNotDisposed();const position=this.validatePosition(_position),lineContent=this.getLineContent(position.lineNumber),lineTokens=this._getLineTokens(position.lineNumber),tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),[rbStartOffset,rbEndOffset]=textModel_TextModel._findLanguageBoundaries(lineTokens,tokenIndex),rightBiasedWord=Object(wordHelper.d)(position.column,languageConfigurationRegistry.a.getWordDefinition(lineTokens.getLanguageId(tokenIndex)),lineContent.substring(rbStartOffset,rbEndOffset),rbStartOffset);if(rightBiasedWord&&rightBiasedWord.startColumn<=_position.column&&_position.column<=rightBiasedWord.endColumn)return rightBiasedWord;if(tokenIndex>0&&rbStartOffset===position.column-1){const[lbStartOffset,lbEndOffset]=textModel_TextModel._findLanguageBoundaries(lineTokens,tokenIndex-1),leftBiasedWord=Object(wordHelper.d)(position.column,languageConfigurationRegistry.a.getWordDefinition(lineTokens.getLanguageId(tokenIndex-1)),lineContent.substring(lbStartOffset,lbEndOffset),lbStartOffset);if(leftBiasedWord&&leftBiasedWord.startColumn<=_position.column&&_position.column<=leftBiasedWord.endColumn)return leftBiasedWord}return null}static _findLanguageBoundaries(lineTokens,tokenIndex){const languageId=lineTokens.getLanguageId(tokenIndex);let startOffset=0;for(let i=tokenIndex;i>=0&&lineTokens.getLanguageId(i)===languageId;i--)startOffset=lineTokens.getStartOffset(i);let endOffset=lineTokens.getLineContent().length;for(let i=tokenIndex,tokenCount=lineTokens.getCount();i<tokenCount&&lineTokens.getLanguageId(i)===languageId;i++)endOffset=lineTokens.getEndOffset(i);return[startOffset,endOffset]}getWordUntilPosition(position){const wordAtPosition=this.getWordAtPosition(position);return wordAtPosition?{word:wordAtPosition.word.substr(0,position.column-wordAtPosition.startColumn),startColumn:wordAtPosition.startColumn,endColumn:position.column}:{word:"",startColumn:position.column,endColumn:position.column}}findMatchingBracketUp(_bracket,_position){let bracket=_bracket.toLowerCase(),position=this.validatePosition(_position),lineTokens=this._getLineTokens(position.lineNumber),languageId=lineTokens.getLanguageId(lineTokens.findTokenIndexAtOffset(position.column-1)),bracketsSupport=languageConfigurationRegistry.a.getBracketsSupport(languageId);if(!bracketsSupport)return null;let data=bracketsSupport.textIsBracket[bracket];return data?stripBracketSearchCanceled(this._findMatchingBracketUp(data,position,null)):null}matchBracket(position){return this._matchBracket(this.validatePosition(position))}_matchBracket(position){const lineNumber=position.lineNumber,lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber),tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1);if(tokenIndex<0)return null;const currentModeBrackets=languageConfigurationRegistry.a.getBracketsSupport(lineTokens.getLanguageId(tokenIndex));if(currentModeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex))){let searchStartOffset=Math.max(0,position.column-1-currentModeBrackets.maxBracketLength);for(let i=tokenIndex-1;i>=0;i--){const tokenEndOffset=lineTokens.getEndOffset(i);if(tokenEndOffset<=searchStartOffset)break;Object(supports.b)(lineTokens.getStandardTokenType(i))&&(searchStartOffset=tokenEndOffset)}const searchEndOffset=Math.min(lineText.length,position.column-1+currentModeBrackets.maxBracketLength);let bestResult=null;for(;;){const foundBracket=richEditBrackets.a.findNextBracketInRange(currentModeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(!foundBracket)break;if(foundBracket.startColumn<=position.column&&position.column<=foundBracket.endColumn){const foundBracketText=lineText.substring(foundBracket.startColumn-1,foundBracket.endColumn-1).toLowerCase(),r=this._matchFoundBracket(foundBracket,currentModeBrackets.textIsBracket[foundBracketText],currentModeBrackets.textIsOpenBracket[foundBracketText],null);if(r){if(r instanceof BracketSearchCanceled)return null;bestResult=r}}searchStartOffset=foundBracket.endColumn-1}if(bestResult)return bestResult}if(tokenIndex>0&&lineTokens.getStartOffset(tokenIndex)===position.column-1){const prevTokenIndex=tokenIndex-1,prevModeBrackets=languageConfigurationRegistry.a.getBracketsSupport(lineTokens.getLanguageId(prevTokenIndex));if(prevModeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(prevTokenIndex))){const searchStartOffset=Math.max(0,position.column-1-prevModeBrackets.maxBracketLength);let searchEndOffset=Math.min(lineText.length,position.column-1+prevModeBrackets.maxBracketLength);for(let i=prevTokenIndex+1;i<tokenCount;i++){const tokenStartOffset=lineTokens.getStartOffset(i);if(tokenStartOffset>=searchEndOffset)break;Object(supports.b)(lineTokens.getStandardTokenType(i))&&(searchEndOffset=tokenStartOffset)}const foundBracket=richEditBrackets.a.findPrevBracketInRange(prevModeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(foundBracket&&foundBracket.startColumn<=position.column&&position.column<=foundBracket.endColumn){const foundBracketText=lineText.substring(foundBracket.startColumn-1,foundBracket.endColumn-1).toLowerCase(),r=this._matchFoundBracket(foundBracket,prevModeBrackets.textIsBracket[foundBracketText],prevModeBrackets.textIsOpenBracket[foundBracketText],null);if(r)return r instanceof BracketSearchCanceled?null:r}}}return null}_matchFoundBracket(foundBracket,data,isOpen,continueSearchPredicate){if(!data)return null;const matched=isOpen?this._findMatchingBracketDown(data,foundBracket.getEndPosition(),continueSearchPredicate):this._findMatchingBracketUp(data,foundBracket.getStartPosition(),continueSearchPredicate);return matched?matched instanceof BracketSearchCanceled?matched:[foundBracket,matched]:null}_findMatchingBracketUp(bracket,position,continueSearchPredicate){const languageId=bracket.languageIdentifier.id,reversedBracketRegex=bracket.reversedRegex;let count=-1,totalCallCount=0;const searchPrevMatchingBracketInRange=(lineNumber,lineText,searchStartOffset,searchEndOffset)=>{for(;;){if(continueSearchPredicate&&++totalCallCount%100==0&&!continueSearchPredicate())return BracketSearchCanceled.INSTANCE;const r=richEditBrackets.a.findPrevBracketInRange(reversedBracketRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(!r)break;const hitText=lineText.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(bracket.isOpen(hitText)?count++:bracket.isClose(hitText)&&count--,0===count)return r;searchEndOffset=r.startColumn-1}return null};for(let lineNumber=position.lineNumber;lineNumber>=1;lineNumber--){const lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber);let tokenIndex=tokenCount-1,searchStartOffset=lineText.length,searchEndOffset=lineText.length;lineNumber===position.lineNumber&&(tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1);let prevSearchInToken=!0;for(;tokenIndex>=0;tokenIndex--){const searchInToken=lineTokens.getLanguageId(tokenIndex)===languageId&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchStartOffset=lineTokens.getStartOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchPrevMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}prevSearchInToken=searchInToken}if(prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchPrevMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}}return null}_findMatchingBracketDown(bracket,position,continueSearchPredicate){const languageId=bracket.languageIdentifier.id,bracketRegex=bracket.forwardRegex;let count=1,totalCallCount=0;const searchNextMatchingBracketInRange=(lineNumber,lineText,searchStartOffset,searchEndOffset)=>{for(;;){if(continueSearchPredicate&&++totalCallCount%100==0&&!continueSearchPredicate())return BracketSearchCanceled.INSTANCE;const r=richEditBrackets.a.findNextBracketInRange(bracketRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(!r)break;const hitText=lineText.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(bracket.isOpen(hitText)?count++:bracket.isClose(hitText)&&count--,0===count)return r;searchStartOffset=r.endColumn-1}return null},lineCount=this.getLineCount();for(let lineNumber=position.lineNumber;lineNumber<=lineCount;lineNumber++){const lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber);let tokenIndex=0,searchStartOffset=0,searchEndOffset=0;lineNumber===position.lineNumber&&(tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1);let prevSearchInToken=!0;for(;tokenIndex<tokenCount;tokenIndex++){const searchInToken=lineTokens.getLanguageId(tokenIndex)===languageId&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchEndOffset=lineTokens.getEndOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchNextMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}prevSearchInToken=searchInToken}if(prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchNextMatchingBracketInRange(lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return r}}return null}findPrevBracket(_position){const position=this.validatePosition(_position);let languageId=-1,modeBrackets=null;for(let lineNumber=position.lineNumber;lineNumber>=1;lineNumber--){const lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber);let tokenIndex=tokenCount-1,searchStartOffset=lineText.length,searchEndOffset=lineText.length;if(lineNumber===position.lineNumber){tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1;const tokenLanguageId=lineTokens.getLanguageId(tokenIndex);languageId!==tokenLanguageId&&(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId))}let prevSearchInToken=!0;for(;tokenIndex>=0;tokenIndex--){const tokenLanguageId=lineTokens.getLanguageId(tokenIndex);if(languageId!==tokenLanguageId){if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=richEditBrackets.a.findPrevBracketInRange(modeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r);prevSearchInToken=!1}languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId)}const searchInToken=!!modeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchStartOffset=lineTokens.getStartOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=richEditBrackets.a.findPrevBracketInRange(modeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}prevSearchInToken=searchInToken}if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=richEditBrackets.a.findPrevBracketInRange(modeBrackets.reversedRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}}return null}findNextBracket(_position){const position=this.validatePosition(_position),lineCount=this.getLineCount();let languageId=-1,modeBrackets=null;for(let lineNumber=position.lineNumber;lineNumber<=lineCount;lineNumber++){const lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber);let tokenIndex=0,searchStartOffset=0,searchEndOffset=0;if(lineNumber===position.lineNumber){tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1;const tokenLanguageId=lineTokens.getLanguageId(tokenIndex);languageId!==tokenLanguageId&&(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId))}let prevSearchInToken=!0;for(;tokenIndex<tokenCount;tokenIndex++){const tokenLanguageId=lineTokens.getLanguageId(tokenIndex);if(languageId!==tokenLanguageId){if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r);prevSearchInToken=!1}languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId)}const searchInToken=!!modeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchEndOffset=lineTokens.getEndOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}prevSearchInToken=searchInToken}if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return this._toFoundBracket(modeBrackets,r)}}return null}findEnclosingBrackets(_position,maxDuration){let continueSearchPredicate;if(void 0===maxDuration)continueSearchPredicate=null;else{const startTime=Date.now();continueSearchPredicate=()=>Date.now()-startTime<=maxDuration}const position=this.validatePosition(_position),lineCount=this.getLineCount(),savedCounts=new Map;let counts=[];const resetCounts=(languageId,modeBrackets)=>{if(!savedCounts.has(languageId)){let tmp=[];for(let i=0,len=modeBrackets?modeBrackets.brackets.length:0;i<len;i++)tmp[i]=0;savedCounts.set(languageId,tmp)}counts=savedCounts.get(languageId)};let totalCallCount=0;const searchInRange=(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset)=>{for(;;){if(continueSearchPredicate&&++totalCallCount%100==0&&!continueSearchPredicate())return BracketSearchCanceled.INSTANCE;const r=richEditBrackets.a.findNextBracketInRange(modeBrackets.forwardRegex,lineNumber,lineText,searchStartOffset,searchEndOffset);if(!r)break;const hitText=lineText.substring(r.startColumn-1,r.endColumn-1).toLowerCase(),bracket=modeBrackets.textIsBracket[hitText];if(bracket&&(bracket.isOpen(hitText)?counts[bracket.index]++:bracket.isClose(hitText)&&counts[bracket.index]--,-1===counts[bracket.index]))return this._matchFoundBracket(r,bracket,!1,continueSearchPredicate);searchStartOffset=r.endColumn-1}return null};let languageId=-1,modeBrackets=null;for(let lineNumber=position.lineNumber;lineNumber<=lineCount;lineNumber++){const lineTokens=this._getLineTokens(lineNumber),tokenCount=lineTokens.getCount(),lineText=this._buffer.getLineContent(lineNumber);let tokenIndex=0,searchStartOffset=0,searchEndOffset=0;if(lineNumber===position.lineNumber){tokenIndex=lineTokens.findTokenIndexAtOffset(position.column-1),searchStartOffset=position.column-1,searchEndOffset=position.column-1;const tokenLanguageId=lineTokens.getLanguageId(tokenIndex);languageId!==tokenLanguageId&&resetCounts(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId))}let prevSearchInToken=!0;for(;tokenIndex<tokenCount;tokenIndex++){const tokenLanguageId=lineTokens.getLanguageId(tokenIndex);if(languageId!==tokenLanguageId){if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchInRange(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return stripBracketSearchCanceled(r);prevSearchInToken=!1}resetCounts(languageId=tokenLanguageId,modeBrackets=languageConfigurationRegistry.a.getBracketsSupport(languageId))}const searchInToken=!!modeBrackets&&!Object(supports.b)(lineTokens.getStandardTokenType(tokenIndex));if(searchInToken)prevSearchInToken?searchEndOffset=lineTokens.getEndOffset(tokenIndex):(searchStartOffset=lineTokens.getStartOffset(tokenIndex),searchEndOffset=lineTokens.getEndOffset(tokenIndex));else if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchInRange(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return stripBracketSearchCanceled(r)}prevSearchInToken=searchInToken}if(modeBrackets&&prevSearchInToken&&searchStartOffset!==searchEndOffset){const r=searchInRange(modeBrackets,lineNumber,lineText,searchStartOffset,searchEndOffset);if(r)return stripBracketSearchCanceled(r)}}return null}_toFoundBracket(modeBrackets,r){if(!r)return null;let text=this.getValueInRange(r);text=text.toLowerCase();let data=modeBrackets.textIsBracket[text];return data?{range:r,open:data.open,close:data.close,isOpen:modeBrackets.textIsOpenBracket[text]}:null}static computeIndentLevel(line,tabSize){let indent=0,i=0,len=line.length;for(;i<len;){let chCode=line.charCodeAt(i);if(32===chCode)indent++;else{if(9!==chCode)break;indent=indent-indent%tabSize+tabSize}i++}return i===len?-1:indent}_computeIndentLevel(lineIndex){return textModel_TextModel.computeIndentLevel(this._buffer.getLineContent(lineIndex+1),this._options.tabSize)}getActiveIndentGuide(lineNumber,minLineNumber,maxLineNumber){this._assertNotDisposed();const lineCount=this.getLineCount();if(lineNumber<1||lineNumber>lineCount)throw new Error("Illegal value for lineNumber");const foldingRules=languageConfigurationRegistry.a.getFoldingRules(this._languageIdentifier.id),offSide=Boolean(foldingRules&&foldingRules.offSide);let up_aboveContentLineIndex=-2,up_aboveContentLineIndent=-1,up_belowContentLineIndex=-2,up_belowContentLineIndent=-1;const up_resolveIndents=lineNumber=>{if(-1!==up_aboveContentLineIndex&&(-2===up_aboveContentLineIndex||up_aboveContentLineIndex>lineNumber-1)){up_aboveContentLineIndex=-1,up_aboveContentLineIndent=-1;for(let lineIndex=lineNumber-2;lineIndex>=0;lineIndex--){let indent=this._computeIndentLevel(lineIndex);if(indent>=0){up_aboveContentLineIndex=lineIndex,up_aboveContentLineIndent=indent;break}}}if(-2===up_belowContentLineIndex){up_belowContentLineIndex=-1,up_belowContentLineIndent=-1;for(let lineIndex=lineNumber;lineIndex<lineCount;lineIndex++){let indent=this._computeIndentLevel(lineIndex);if(indent>=0){up_belowContentLineIndex=lineIndex,up_belowContentLineIndent=indent;break}}}};let down_aboveContentLineIndex=-2,down_aboveContentLineIndent=-1,down_belowContentLineIndex=-2,down_belowContentLineIndent=-1;const down_resolveIndents=lineNumber=>{if(-2===down_aboveContentLineIndex){down_aboveContentLineIndex=-1,down_aboveContentLineIndent=-1;for(let lineIndex=lineNumber-2;lineIndex>=0;lineIndex--){let indent=this._computeIndentLevel(lineIndex);if(indent>=0){down_aboveContentLineIndex=lineIndex,down_aboveContentLineIndent=indent;break}}}if(-1!==down_belowContentLineIndex&&(-2===down_belowContentLineIndex||down_belowContentLineIndex<lineNumber-1)){down_belowContentLineIndex=-1,down_belowContentLineIndent=-1;for(let lineIndex=lineNumber;lineIndex<lineCount;lineIndex++){let indent=this._computeIndentLevel(lineIndex);if(indent>=0){down_belowContentLineIndex=lineIndex,down_belowContentLineIndent=indent;break}}}};let startLineNumber=0,goUp=!0,endLineNumber=0,goDown=!0,indent=0,initialIndent=0;for(let distance=0;goUp||goDown;distance++){const upLineNumber=lineNumber-distance,downLineNumber=lineNumber+distance;distance>1&&(upLineNumber<1||upLineNumber<minLineNumber)&&(goUp=!1),distance>1&&(downLineNumber>lineCount||downLineNumber>maxLineNumber)&&(goDown=!1),distance>5e4&&(goUp=!1,goDown=!1);let upLineIndentLevel=-1;if(goUp){const currentIndent=this._computeIndentLevel(upLineNumber-1);currentIndent>=0?(up_belowContentLineIndex=upLineNumber-1,up_belowContentLineIndent=currentIndent,upLineIndentLevel=Math.ceil(currentIndent/this._options.indentSize)):(up_resolveIndents(upLineNumber),upLineIndentLevel=this._getIndentLevelForWhitespaceLine(offSide,up_aboveContentLineIndent,up_belowContentLineIndent))}let downLineIndentLevel=-1;if(goDown){const currentIndent=this._computeIndentLevel(downLineNumber-1);currentIndent>=0?(down_aboveContentLineIndex=downLineNumber-1,down_aboveContentLineIndent=currentIndent,downLineIndentLevel=Math.ceil(currentIndent/this._options.indentSize)):(down_resolveIndents(downLineNumber),downLineIndentLevel=this._getIndentLevelForWhitespaceLine(offSide,down_aboveContentLineIndent,down_belowContentLineIndent))}if(0!==distance){if(1===distance){if(downLineNumber<=lineCount&&downLineIndentLevel>=0&&initialIndent+1===downLineIndentLevel){goUp=!1,startLineNumber=downLineNumber,endLineNumber=downLineNumber,indent=downLineIndentLevel;continue}if(upLineNumber>=1&&upLineIndentLevel>=0&&upLineIndentLevel-1===initialIndent){goDown=!1,startLineNumber=upLineNumber,endLineNumber=upLineNumber,indent=upLineIndentLevel;continue}if(startLineNumber=lineNumber,endLineNumber=lineNumber,0===(indent=initialIndent))return{startLineNumber:startLineNumber,endLineNumber:endLineNumber,indent:indent}}goUp&&(upLineIndentLevel>=indent?startLineNumber=upLineNumber:goUp=!1),goDown&&(downLineIndentLevel>=indent?endLineNumber=downLineNumber:goDown=!1)}else initialIndent=upLineIndentLevel}return{startLineNumber:startLineNumber,endLineNumber:endLineNumber,indent:indent}}getLinesIndentGuides(startLineNumber,endLineNumber){this._assertNotDisposed();const lineCount=this.getLineCount();if(startLineNumber<1||startLineNumber>lineCount)throw new Error("Illegal value for startLineNumber");if(endLineNumber<1||endLineNumber>lineCount)throw new Error("Illegal value for endLineNumber");const foldingRules=languageConfigurationRegistry.a.getFoldingRules(this._languageIdentifier.id),offSide=Boolean(foldingRules&&foldingRules.offSide);let result=new Array(endLineNumber-startLineNumber+1),aboveContentLineIndex=-2,aboveContentLineIndent=-1,belowContentLineIndex=-2,belowContentLineIndent=-1;for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){let resultIndex=lineNumber-startLineNumber;const currentIndent=this._computeIndentLevel(lineNumber-1);if(currentIndent>=0)aboveContentLineIndex=lineNumber-1,aboveContentLineIndent=currentIndent,result[resultIndex]=Math.ceil(currentIndent/this._options.indentSize);else{if(-2===aboveContentLineIndex){aboveContentLineIndex=-1,aboveContentLineIndent=-1;for(let lineIndex=lineNumber-2;lineIndex>=0;lineIndex--){let indent=this._computeIndentLevel(lineIndex);if(indent>=0){aboveContentLineIndex=lineIndex,aboveContentLineIndent=indent;break}}}if(-1!==belowContentLineIndex&&(-2===belowContentLineIndex||belowContentLineIndex<lineNumber-1)){belowContentLineIndex=-1,belowContentLineIndent=-1;for(let lineIndex=lineNumber;lineIndex<lineCount;lineIndex++){let indent=this._computeIndentLevel(lineIndex);if(indent>=0){belowContentLineIndex=lineIndex,belowContentLineIndent=indent;break}}}result[resultIndex]=this._getIndentLevelForWhitespaceLine(offSide,aboveContentLineIndent,belowContentLineIndent)}}return result}_getIndentLevelForWhitespaceLine(offSide,aboveContentLineIndent,belowContentLineIndent){return-1===aboveContentLineIndent||-1===belowContentLineIndent?0:aboveContentLineIndent<belowContentLineIndent?1+Math.floor(aboveContentLineIndent/this._options.indentSize):aboveContentLineIndent===belowContentLineIndent?Math.ceil(belowContentLineIndent/this._options.indentSize):offSide?Math.ceil(belowContentLineIndent/this._options.indentSize):1+Math.floor(belowContentLineIndent/this._options.indentSize)}}textModel_TextModel.MODEL_SYNC_LIMIT=52428800,textModel_TextModel.LARGE_FILE_SIZE_THRESHOLD=20971520,textModel_TextModel.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,textModel_TextModel.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:editorOptions.d.tabSize,indentSize:editorOptions.d.indentSize,insertSpaces:editorOptions.d.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:editorOptions.d.trimAutoWhitespace,largeFileOptimizations:editorOptions.d.largeFileOptimizations};class textModel_DecorationsTrees{constructor(){this._decorationsTree0=new IntervalTree,this._decorationsTree1=new IntervalTree}intervalSearch(start,end,filterOwnerId,filterOutValidation,cachedVersionId){const r0=this._decorationsTree0.intervalSearch(start,end,filterOwnerId,filterOutValidation,cachedVersionId),r1=this._decorationsTree1.intervalSearch(start,end,filterOwnerId,filterOutValidation,cachedVersionId);return r0.concat(r1)}search(filterOwnerId,filterOutValidation,overviewRulerOnly,cachedVersionId){if(overviewRulerOnly)return this._decorationsTree1.search(filterOwnerId,filterOutValidation,cachedVersionId);{const r0=this._decorationsTree0.search(filterOwnerId,filterOutValidation,cachedVersionId),r1=this._decorationsTree1.search(filterOwnerId,filterOutValidation,cachedVersionId);return r0.concat(r1)}}collectNodesFromOwner(ownerId){const r0=this._decorationsTree0.collectNodesFromOwner(ownerId),r1=this._decorationsTree1.collectNodesFromOwner(ownerId);return r0.concat(r1)}collectNodesPostOrder(){const r0=this._decorationsTree0.collectNodesPostOrder(),r1=this._decorationsTree1.collectNodesPostOrder();return r0.concat(r1)}insert(node){getNodeIsInOverviewRuler(node)?this._decorationsTree1.insert(node):this._decorationsTree0.insert(node)}delete(node){getNodeIsInOverviewRuler(node)?this._decorationsTree1.delete(node):this._decorationsTree0.delete(node)}resolveNode(node,cachedVersionId){getNodeIsInOverviewRuler(node)?this._decorationsTree1.resolveNode(node,cachedVersionId):this._decorationsTree0.resolveNode(node,cachedVersionId)}acceptReplace(offset,length,textLength,forceMoveMarkers){this._decorationsTree0.acceptReplace(offset,length,textLength,forceMoveMarkers),this._decorationsTree1.acceptReplace(offset,length,textLength,forceMoveMarkers)}}function cleanClassName(className){return className.replace(/[^a-z0-9\-_]/gi," ")}class DecorationOptions{constructor(options){this.color=options.color||"",this.darkColor=options.darkColor||""}}class textModel_ModelDecorationOverviewRulerOptions extends DecorationOptions{constructor(options){super(options),this._resolvedColor=null,this.position="number"==typeof options.position?options.position:model.d.Center}getColor(theme){return this._resolvedColor||("light"!==theme.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,theme):this._resolvedColor=this._resolveColor(this.color,theme)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(color,theme){if("string"==typeof color)return color;let c=color?theme.getColor(color.id):null;return c?c.toString():""}}class textModel_ModelDecorationMinimapOptions extends DecorationOptions{constructor(options){super(options),this.position=options.position}getColor(theme){return this._resolvedColor||("light"!==theme.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,theme):this._resolvedColor=this._resolveColor(this.color,theme)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(color,theme){return"string"==typeof color?common_color.a.fromHex(color):theme.getColor(color.id)}}class ModelDecorationOptions{constructor(options){this.stickiness=options.stickiness||0,this.zIndex=options.zIndex||0,this.className=options.className?cleanClassName(options.className):null,this.hoverMessage=options.hoverMessage||null,this.glyphMarginHoverMessage=options.glyphMarginHoverMessage||null,this.isWholeLine=options.isWholeLine||!1,this.showIfCollapsed=options.showIfCollapsed||!1,this.collapseOnReplaceEdit=options.collapseOnReplaceEdit||!1,this.overviewRuler=options.overviewRuler?new textModel_ModelDecorationOverviewRulerOptions(options.overviewRuler):null,this.minimap=options.minimap?new textModel_ModelDecorationMinimapOptions(options.minimap):null,this.glyphMarginClassName=options.glyphMarginClassName?cleanClassName(options.glyphMarginClassName):null,this.linesDecorationsClassName=options.linesDecorationsClassName?cleanClassName(options.linesDecorationsClassName):null,this.firstLineDecorationClassName=options.firstLineDecorationClassName?cleanClassName(options.firstLineDecorationClassName):null,this.marginClassName=options.marginClassName?cleanClassName(options.marginClassName):null,this.inlineClassName=options.inlineClassName?cleanClassName(options.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=options.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=options.beforeContentClassName?cleanClassName(options.beforeContentClassName):null,this.afterContentClassName=options.afterContentClassName?cleanClassName(options.afterContentClassName):null}static register(options){return new ModelDecorationOptions(options)}static createDynamic(options){return new ModelDecorationOptions(options)}}ModelDecorationOptions.EMPTY=ModelDecorationOptions.register({});const TRACKED_RANGE_OPTIONS=[ModelDecorationOptions.register({stickiness:0}),ModelDecorationOptions.register({stickiness:1}),ModelDecorationOptions.register({stickiness:2}),ModelDecorationOptions.register({stickiness:3})];function _normalizeOptions(options){return options instanceof ModelDecorationOptions?options:ModelDecorationOptions.createDynamic(options)}class textModel_DidChangeDecorationsEmitter extends lifecycle.a{constructor(){super(),this._actual=this._register(new common_event.a),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,0===this._deferredCnt&&this._shouldFire){const event={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(event)}}checkAffectedAndFire(options){this._affectsMinimap||(this._affectsMinimap=!(!options.minimap||!options.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!options.overviewRuler||!options.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class textModel_DidChangeContentEmitter extends lifecycle.a{constructor(){super(),this._fastEmitter=this._register(new common_event.a),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new common_event.a),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(resultingSelection=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=resultingSelection;const e=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}},2322:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return INotificationService}),__webpack_require__.d(__webpack_exports__,"b",function(){return NoOpNotification});var _base_common_severity_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2372),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2300);_base_common_severity_js__WEBPACK_IMPORTED_MODULE_0__.a;const INotificationService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("notificationService");class NoOpNotification{}},2323:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return isIMenuItem}),__webpack_require__.d(__webpack_exports__,"b",function(){return MenuId}),__webpack_require__.d(__webpack_exports__,"a",function(){return IMenuService}),__webpack_require__.d(__webpack_exports__,"d",function(){return MenuRegistry}),__webpack_require__.d(__webpack_exports__,"e",function(){return SubmenuItemAction}),__webpack_require__.d(__webpack_exports__,"c",function(){return MenuItemAction});var _base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2337),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2300),_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2307),_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2318),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2294),_base_common_event_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2296),_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2341),_base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2359),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};function isIMenuItem(item){return void 0!==item.command}class MenuId{constructor(debugName){this.id=MenuId._idPool++,this._debugName=debugName}}MenuId._idPool=0,MenuId.CommandPalette=new MenuId("CommandPalette"),MenuId.EditorContext=new MenuId("EditorContext"),MenuId.EditorContextPeek=new MenuId("EditorContextPeek"),MenuId.MenubarEditMenu=new MenuId("MenubarEditMenu"),MenuId.MenubarGoMenu=new MenuId("MenubarGoMenu"),MenuId.MenubarSelectionMenu=new MenuId("MenubarSelectionMenu");const IMenuService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("menuService"),MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_5__.a,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:id=>id===MenuId.CommandPalette}}addCommand(command){return this.addCommands(_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_6__.a.single(command))}addCommands(commands){for(const command of commands)this._commands.set(command.id,command);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.h)(()=>{let didChange=!1;for(const command of commands)didChange=this._commands.delete(command.id)||didChange;didChange&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(id){return this._commands.get(id)}getCommands(){const map=new Map;return this._commands.forEach((value,key)=>map.set(key,value)),map}appendMenuItem(id,item){return this.appendMenuItems(_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_6__.a.single({id:id,item:item}))}appendMenuItems(items){const changedIds=new Set,toRemove=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_7__.a;for(const{id:id,item:item}of items){let list=this._menuItems.get(id);list||(list=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_7__.a,this._menuItems.set(id,list)),toRemove.push(list.push(item)),changedIds.add(id)}return this._onDidChangeMenu.fire(changedIds),Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.h)(()=>{if(toRemove.size>0){for(let fn of toRemove)fn();this._onDidChangeMenu.fire(changedIds),toRemove.clear()}})}getMenuItems(id){let result;return result=this._menuItems.has(id)?[...this._menuItems.get(id)]:[],id===MenuId.CommandPalette&&this._appendImplicitItems(result),result}_appendImplicitItems(result){const set=new Set;for(const item of result)isIMenuItem(item)&&(set.add(item.command.id),item.alt&&set.add(item.alt.id));this._commands.forEach((command,id)=>{set.has(id)||result.push({command:command})})}};let ExecuteCommandAction=class ExecuteCommandAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__.a{constructor(id,label,_commandService){super(id,label),this._commandService=_commandService}run(...args){return this._commandService.executeCommand(this.id,...args)}};ExecuteCommandAction=__decorate([__param(2,_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__.b)],ExecuteCommandAction);class SubmenuItemAction extends _base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__.d{constructor(item,menuService,contextKeyService,options){super(`submenuitem.${item.submenu.id}`,"string"==typeof item.title?item.title:item.title.value,()=>{const result=[],menu=menuService.createMenu(item.submenu,contextKeyService),groups=menu.getActions(options);menu.dispose();for(let group of groups){const[,actions]=group;actions.length>0&&(result.push(...actions),result.push(new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_0__.c))}return result.length&&result.pop(),result},"submenu"),this.item=item}}let MenuItemAction=class MenuItemAction extends ExecuteCommandAction{constructor(item,alt,options,contextKeyService,commandService){if("string"==typeof item.title?super(item.id,item.title,commandService):super(item.id,item.title.value,commandService),this._cssClass=void 0,this._enabled=!item.precondition||contextKeyService.contextMatchesRules(item.precondition),this._tooltip=item.tooltip?"string"==typeof item.tooltip?item.tooltip:item.tooltip.value:void 0,item.toggled){const toggled=item.toggled.condition?item.toggled:{condition:item.toggled};this._checked=contextKeyService.contextMatchesRules(toggled.condition),this._checked&&toggled.tooltip&&(this._tooltip="string"==typeof toggled.tooltip?toggled.tooltip:toggled.tooltip.value)}this._options=options||{},this.item=item,this.alt=alt?new MenuItemAction(alt,void 0,this._options,contextKeyService,commandService):void 0}dispose(){this.alt&&this.alt.dispose(),super.dispose()}run(...args){let runArgs=[];return this._options.arg&&(runArgs=[...runArgs,this._options.arg]),this._options.shouldForwardArgs&&(runArgs=[...runArgs,...args]),super.run(...runArgs)}};MenuItemAction=__decorate([__param(3,_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_2__.b),__param(4,_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__.b)],MenuItemAction)},2324:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Registry});var _base_common_types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2314),_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2458);const Registry=new class RegistryImpl{constructor(){this.data=new Map}add(id,data){_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__.a(_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.j(id)),_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__.a(_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.i(data)),_base_common_assert_js__WEBPACK_IMPORTED_MODULE_1__.a(!this.data.has(id),"There is already an extension with this id"),this.data.set(id,data)}as(id){return this.data.get(id)||null}}},2325:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IKeybindingService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IKeybindingService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("keybindingService")},2326:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return getZoomLevel}),__webpack_require__.d(__webpack_exports__,"b",function(){return getTimeSinceLastZoomLevelChanged}),__webpack_require__.d(__webpack_exports__,"n",function(){return onDidChangeZoomLevel}),__webpack_require__.d(__webpack_exports__,"c",function(){return getZoomFactor}),__webpack_require__.d(__webpack_exports__,"a",function(){return getPixelRatio}),__webpack_require__.d(__webpack_exports__,"f",function(){return isEdge}),__webpack_require__.d(__webpack_exports__,"h",function(){return isFirefox}),__webpack_require__.d(__webpack_exports__,"l",function(){return isWebKit}),__webpack_require__.d(__webpack_exports__,"e",function(){return isChrome}),__webpack_require__.d(__webpack_exports__,"j",function(){return isSafari}),__webpack_require__.d(__webpack_exports__,"m",function(){return isWebkitWebView}),__webpack_require__.d(__webpack_exports__,"i",function(){return isIPad}),__webpack_require__.d(__webpack_exports__,"g",function(){return isEdgeWebView}),__webpack_require__.d(__webpack_exports__,"k",function(){return isStandalone});var _common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296);class WindowManager{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new _common_event_js__WEBPACK_IMPORTED_MODULE_0__.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let ctx=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1)}}function getZoomLevel(){return WindowManager.INSTANCE.getZoomLevel()}function getTimeSinceLastZoomLevelChanged(){return WindowManager.INSTANCE.getTimeSinceLastZoomLevelChanged()}function onDidChangeZoomLevel(callback){return WindowManager.INSTANCE.onDidChangeZoomLevel(callback)}function getZoomFactor(){return WindowManager.INSTANCE.getZoomFactor()}function getPixelRatio(){return WindowManager.INSTANCE.getPixelRatio()}WindowManager.INSTANCE=new WindowManager;const userAgent=navigator.userAgent,isEdge=userAgent.indexOf("Edge/")>=0,isFirefox=userAgent.indexOf("Firefox")>=0,isWebKit=userAgent.indexOf("AppleWebKit")>=0,isChrome=userAgent.indexOf("Chrome")>=0,isSafari=!isChrome&&userAgent.indexOf("Safari")>=0,isWebkitWebView=!isChrome&&!isSafari&&isWebKit,isIPad=userAgent.indexOf("iPad")>=0||isSafari&&navigator.maxTouchPoints>0,isEdgeWebView=isEdge&&userAgent.indexOf("WebView/")>=0,isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},2327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return deepClone}),__webpack_require__.d(__webpack_exports__,"d",function(){return deepFreeze}),__webpack_require__.d(__webpack_exports__,"b",function(){return cloneAndChange}),__webpack_require__.d(__webpack_exports__,"g",function(){return mixin}),__webpack_require__.d(__webpack_exports__,"a",function(){return assign}),__webpack_require__.d(__webpack_exports__,"e",function(){return equals}),__webpack_require__.d(__webpack_exports__,"f",function(){return getOrDefault});var _types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2314);function deepClone(obj){if(!obj||"object"!=typeof obj)return obj;if(obj instanceof RegExp)return obj;const result=Array.isArray(obj)?[]:{};return Object.keys(obj).forEach(key=>{obj[key]&&"object"==typeof obj[key]?result[key]=deepClone(obj[key]):result[key]=obj[key]}),result}function deepFreeze(obj){if(!obj||"object"!=typeof obj)return obj;const stack=[obj];for(;stack.length>0;){const obj=stack.shift();Object.freeze(obj);for(const key in obj)if(_hasOwnProperty.call(obj,key)){const prop=obj[key];"object"!=typeof prop||Object.isFrozen(prop)||stack.push(prop)}}return obj}const _hasOwnProperty=Object.prototype.hasOwnProperty;function cloneAndChange(obj,changer){return function _cloneAndChange(obj,changer,seen){if(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.l)(obj))return obj;const changed=changer(obj);if(void 0!==changed)return changed;if(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.e)(obj)){const r1=[];for(const e of obj)r1.push(_cloneAndChange(e,changer,seen));return r1}if(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(obj)){if(seen.has(obj))throw new Error("Cannot clone recursive data-structure");seen.add(obj);const r2={};for(let i2 in obj)_hasOwnProperty.call(obj,i2)&&(r2[i2]=_cloneAndChange(obj[i2],changer,seen));return seen.delete(obj),r2}return obj}(obj,changer,new Set)}function mixin(destination,source,overwrite=!0){return Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(destination)?(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(source)&&Object.keys(source).forEach(key=>{key in destination?overwrite&&(Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(destination[key])&&Object(_types_js__WEBPACK_IMPORTED_MODULE_0__.i)(source[key])?mixin(destination[key],source[key],overwrite):destination[key]=source[key]):destination[key]=source[key]}),destination):source}function assign(destination,...sources){return sources.forEach(source=>Object.keys(source).forEach(key=>destination[key]=source[key])),destination}function equals(one,other){if(one===other)return!0;if(null==one||null==other)return!1;if(typeof one!=typeof other)return!1;if("object"!=typeof one)return!1;if(Array.isArray(one)!==Array.isArray(other))return!1;let i,key;if(Array.isArray(one)){if(one.length!==other.length)return!1;for(i=0;i<one.length;i++)if(!equals(one[i],other[i]))return!1}else{const oneKeys=[];for(key in one)oneKeys.push(key);oneKeys.sort();const otherKeys=[];for(key in other)otherKeys.push(key);if(otherKeys.sort(),!equals(oneKeys,otherKeys))return!1;for(i=0;i<oneKeys.length;i++)if(!equals(one[oneKeys[i]],other[oneKeys[i]]))return!1}return!0}function getOrDefault(obj,fn,defaultValue){const result=fn(obj);return void 0===result?defaultValue:result}},2328:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",function(){return MINIMAP_GUTTER_WIDTH}),__webpack_require__.d(__webpack_exports__,"b",function(){return ConfigurationChangedEvent}),__webpack_require__.d(__webpack_exports__,"j",function(){return ValidatedEditorOptions}),__webpack_require__.d(__webpack_exports__,"a",function(){return ComputeOptionsMemory}),__webpack_require__.d(__webpack_exports__,"i",function(){return TextEditorCursorStyle}),__webpack_require__.d(__webpack_exports__,"e",function(){return EditorFontLigatures}),__webpack_require__.d(__webpack_exports__,"f",function(){return EditorLayoutInfoComputer}),__webpack_require__.d(__webpack_exports__,"l",function(){return filterValidationDecorations}),__webpack_require__.d(__webpack_exports__,"c",function(){return EDITOR_FONT_DEFAULTS}),__webpack_require__.d(__webpack_exports__,"d",function(){return EDITOR_MODEL_DEFAULTS}),__webpack_require__.d(__webpack_exports__,"k",function(){return editorOptionsRegistry}),__webpack_require__.d(__webpack_exports__,"g",function(){return EditorOptions});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305),_model_wordHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2395);const MINIMAP_GUTTER_WIDTH=8;class ConfigurationChangedEvent{constructor(values){this._values=values}hasChanged(id){return this._values[id]}}class ValidatedEditorOptions{constructor(){this._values=[]}_read(option){return this._values[option]}get(id){return this._values[id]}_write(option,value){this._values[option]=value}}class ComputeOptionsMemory{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class BaseEditorOption{constructor(id,name,defaultValue,schema){this.id=id,this.name=name,this.defaultValue=defaultValue,this.schema=schema}compute(env,options,value){return value}}class ComputedEditorOption{constructor(id,deps=null){this.schema=void 0,this.id=id,this.name="_never_",this.defaultValue=void 0,this.deps=deps}validate(input){return this.defaultValue}}class SimpleEditorOption{constructor(id,name,defaultValue,schema){this.id=id,this.name=name,this.defaultValue=defaultValue,this.schema=schema}validate(input){return void 0===input?this.defaultValue:input}compute(env,options,value){return value}}class EditorBooleanOption extends SimpleEditorOption{static boolean(value,defaultValue){return void 0===value?defaultValue:"false"!==value&&Boolean(value)}constructor(id,name,defaultValue,schema){void 0!==schema&&(schema.type="boolean",schema.default=defaultValue),super(id,name,defaultValue,schema)}validate(input){return EditorBooleanOption.boolean(input,this.defaultValue)}}class EditorIntOption extends SimpleEditorOption{constructor(id,name,defaultValue,minimum,maximum,schema){void 0!==schema&&(schema.type="integer",schema.default=defaultValue,schema.minimum=minimum,schema.maximum=maximum),super(id,name,defaultValue,schema),this.minimum=minimum,this.maximum=maximum}static clampedInt(value,defaultValue,minimum,maximum){if(void 0===value)return defaultValue;let r=parseInt(value,10);return isNaN(r)?defaultValue:(r=Math.max(minimum,r),0|(r=Math.min(maximum,r)))}validate(input){return EditorIntOption.clampedInt(input,this.defaultValue,this.minimum,this.maximum)}}class EditorFloatOption extends SimpleEditorOption{constructor(id,name,defaultValue,validationFn,schema){void 0!==schema&&(schema.type="number",schema.default=defaultValue),super(id,name,defaultValue,schema),this.validationFn=validationFn}static clamp(n,min,max){return n<min?min:n>max?max:n}static float(value,defaultValue){if("number"==typeof value)return value;if(void 0===value)return defaultValue;const r=parseFloat(value);return isNaN(r)?defaultValue:r}validate(input){return this.validationFn(EditorFloatOption.float(input,this.defaultValue))}}class EditorStringOption extends SimpleEditorOption{static string(value,defaultValue){return"string"!=typeof value?defaultValue:value}constructor(id,name,defaultValue,schema){void 0!==schema&&(schema.type="string",schema.default=defaultValue),super(id,name,defaultValue,schema)}validate(input){return EditorStringOption.string(input,this.defaultValue)}}class EditorStringEnumOption extends SimpleEditorOption{constructor(id,name,defaultValue,allowedValues,schema){void 0!==schema&&(schema.type="string",schema.enum=allowedValues,schema.default=defaultValue),super(id,name,defaultValue,schema),this._allowedValues=allowedValues}static stringSet(value,defaultValue,allowedValues){return"string"!=typeof value?defaultValue:-1===allowedValues.indexOf(value)?defaultValue:value}validate(input){return EditorStringEnumOption.stringSet(input,this.defaultValue,this._allowedValues)}}class EditorEnumOption extends BaseEditorOption{constructor(id,name,defaultValue,defaultStringValue,allowedValues,convert,schema){void 0!==schema&&(schema.type="string",schema.enum=allowedValues,schema.default=defaultStringValue),super(id,name,defaultValue,schema),this._allowedValues=allowedValues,this._convert=convert}validate(input){return"string"!=typeof input?this.defaultValue:-1===this._allowedValues.indexOf(input)?this.defaultValue:this._convert(input)}}var TextEditorCursorStyle;!function(TextEditorCursorStyle){TextEditorCursorStyle[TextEditorCursorStyle.Line=1]="Line",TextEditorCursorStyle[TextEditorCursorStyle.Block=2]="Block",TextEditorCursorStyle[TextEditorCursorStyle.Underline=3]="Underline",TextEditorCursorStyle[TextEditorCursorStyle.LineThin=4]="LineThin",TextEditorCursorStyle[TextEditorCursorStyle.BlockOutline=5]="BlockOutline",TextEditorCursorStyle[TextEditorCursorStyle.UnderlineThin=6]="UnderlineThin"}(TextEditorCursorStyle||(TextEditorCursorStyle={}));class EditorFontLigatures extends BaseEditorOption{constructor(){super(37,"fontLigatures",EditorFontLigatures.OFF,{anyOf:[{type:"boolean",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontLigatures","Enables/Disables font ligatures.")},{type:"string",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontFeatureSettings","Explicit font-feature-settings.")}],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontLigaturesGeneral","Configures font ligatures or font features."),default:!1})}validate(input){return void 0===input?this.defaultValue:"string"==typeof input?"false"===input?EditorFontLigatures.OFF:"true"===input?EditorFontLigatures.ON:input:Boolean(input)?EditorFontLigatures.ON:EditorFontLigatures.OFF}}EditorFontLigatures.OFF='"liga" off, "calt" off',EditorFontLigatures.ON='"liga" on, "calt" on';class EditorFontWeight extends BaseEditorOption{constructor(){super(39,"fontWeight",EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:EditorFontWeight.MINIMUM_VALUE,maximum:EditorFontWeight.MAXIMUM_VALUE,errorMessage:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:EditorFontWeight.SUGGESTION_VALUES}],default:EDITOR_FONT_DEFAULTS.fontWeight,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(input){return"normal"===input||"bold"===input?input:String(EditorIntOption.clampedInt(input,EDITOR_FONT_DEFAULTS.fontWeight,EditorFontWeight.MINIMUM_VALUE,EditorFontWeight.MAXIMUM_VALUE))}}EditorFontWeight.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],EditorFontWeight.MINIMUM_VALUE=1,EditorFontWeight.MAXIMUM_VALUE=1e3;class EditorLayoutInfoComputer extends ComputedEditorOption{constructor(){super(117,[42,50,31,56,84,52,53,86,106,109,110,2])}compute(env,options,_){return EditorLayoutInfoComputer.computeLayout(options,{memory:env.memory,outerWidth:env.outerWidth,outerHeight:env.outerHeight,isDominatedByLongLines:env.isDominatedByLongLines,lineHeight:env.fontInfo.lineHeight,viewLineCount:env.viewLineCount,lineNumbersDigitCount:env.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:env.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:env.fontInfo.maxDigitWidth,pixelRatio:env.pixelRatio})}static computeContainedMinimapLineCount(input){const typicalViewportLineCount=input.height/input.lineHeight,extraLinesBeyondLastLine=input.scrollBeyondLastLine?typicalViewportLineCount-1:0,desiredRatio=(input.viewLineCount+extraLinesBeyondLastLine)/(input.pixelRatio*input.height);return{typicalViewportLineCount:typicalViewportLineCount,extraLinesBeyondLastLine:extraLinesBeyondLastLine,desiredRatio:desiredRatio,minimapLineCount:Math.floor(input.viewLineCount/desiredRatio)}}static _computeMinimapLayout(input,memory){const outerWidth=input.outerWidth,outerHeight=input.outerHeight,pixelRatio=input.pixelRatio;if(!input.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(pixelRatio*outerHeight),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:outerHeight};const stableMinimapLayoutInput=memory.stableMinimapLayoutInput,couldUseMemory=stableMinimapLayoutInput&&input.outerHeight===stableMinimapLayoutInput.outerHeight&&input.lineHeight===stableMinimapLayoutInput.lineHeight&&input.typicalHalfwidthCharacterWidth===stableMinimapLayoutInput.typicalHalfwidthCharacterWidth&&input.pixelRatio===stableMinimapLayoutInput.pixelRatio&&input.scrollBeyondLastLine===stableMinimapLayoutInput.scrollBeyondLastLine&&input.minimap.enabled===stableMinimapLayoutInput.minimap.enabled&&input.minimap.side===stableMinimapLayoutInput.minimap.side&&input.minimap.size===stableMinimapLayoutInput.minimap.size&&input.minimap.showSlider===stableMinimapLayoutInput.minimap.showSlider&&input.minimap.renderCharacters===stableMinimapLayoutInput.minimap.renderCharacters&&input.minimap.maxColumn===stableMinimapLayoutInput.minimap.maxColumn&&input.minimap.scale===stableMinimapLayoutInput.minimap.scale&&input.verticalScrollbarWidth===stableMinimapLayoutInput.verticalScrollbarWidth&&input.isViewportWrapping===stableMinimapLayoutInput.isViewportWrapping,lineHeight=input.lineHeight,typicalHalfwidthCharacterWidth=input.typicalHalfwidthCharacterWidth,scrollBeyondLastLine=input.scrollBeyondLastLine,minimapRenderCharacters=input.minimap.renderCharacters;let minimapScale=pixelRatio>=2?Math.round(2*input.minimap.scale):input.minimap.scale;const minimapMaxColumn=input.minimap.maxColumn,minimapSize=input.minimap.size,minimapSide=input.minimap.side,verticalScrollbarWidth=input.verticalScrollbarWidth,viewLineCount=input.viewLineCount,remainingWidth=input.remainingWidth,isViewportWrapping=input.isViewportWrapping,baseCharHeight=minimapRenderCharacters?2:3;let minimapCanvasInnerHeight=Math.floor(pixelRatio*outerHeight);const minimapCanvasOuterHeight=minimapCanvasInnerHeight/pixelRatio;let minimapHeightIsEditorHeight=!1,minimapIsSampling=!1,minimapLineHeight=baseCharHeight*minimapScale,minimapCharWidth=minimapScale/pixelRatio,minimapWidthMultiplier=1;if("fill"===minimapSize||"fit"===minimapSize){const{typicalViewportLineCount:typicalViewportLineCount,extraLinesBeyondLastLine:extraLinesBeyondLastLine,desiredRatio:desiredRatio,minimapLineCount:minimapLineCount}=EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:viewLineCount,scrollBeyondLastLine:scrollBeyondLastLine,height:outerHeight,lineHeight:lineHeight,pixelRatio:pixelRatio});if(viewLineCount/minimapLineCount>1)minimapHeightIsEditorHeight=!0,minimapIsSampling=!0,minimapLineHeight=1,minimapCharWidth=(minimapScale=1)/pixelRatio;else{let fitBecomesFill=!1,maxMinimapScale=minimapScale+1;if("fit"===minimapSize){const effectiveMinimapHeight=Math.ceil((viewLineCount+extraLinesBeyondLastLine)*minimapLineHeight);isViewportWrapping&&couldUseMemory&&remainingWidth<=memory.stableFitRemainingWidth?(fitBecomesFill=!0,maxMinimapScale=memory.stableFitMaxMinimapScale):(fitBecomesFill=effectiveMinimapHeight>minimapCanvasInnerHeight,isViewportWrapping&&fitBecomesFill?(memory.stableMinimapLayoutInput=input,memory.stableFitRemainingWidth=remainingWidth):(memory.stableMinimapLayoutInput=null,memory.stableFitRemainingWidth=0))}if("fill"===minimapSize||fitBecomesFill){minimapHeightIsEditorHeight=!0;const configuredMinimapScale=minimapScale;minimapLineHeight=Math.min(lineHeight*pixelRatio,Math.max(1,Math.floor(1/desiredRatio))),(minimapScale=Math.min(maxMinimapScale,Math.max(1,Math.floor(minimapLineHeight/baseCharHeight))))>configuredMinimapScale&&(minimapWidthMultiplier=Math.min(2,minimapScale/configuredMinimapScale)),minimapCharWidth=minimapScale/pixelRatio/minimapWidthMultiplier,minimapCanvasInnerHeight=Math.ceil(Math.max(typicalViewportLineCount,viewLineCount+extraLinesBeyondLastLine)*minimapLineHeight),isViewportWrapping&&fitBecomesFill&&(memory.stableFitMaxMinimapScale=minimapScale)}}}const minimapMaxWidth=Math.floor(minimapMaxColumn*minimapCharWidth),minimapWidth=Math.min(minimapMaxWidth,Math.max(0,Math.floor((remainingWidth-verticalScrollbarWidth-2)*minimapCharWidth/(typicalHalfwidthCharacterWidth+minimapCharWidth)))+MINIMAP_GUTTER_WIDTH);let minimapCanvasInnerWidth=Math.floor(pixelRatio*minimapWidth);const minimapCanvasOuterWidth=minimapCanvasInnerWidth/pixelRatio;return{renderMinimap:minimapRenderCharacters?1:2,minimapLeft:"left"===minimapSide?0:outerWidth-minimapWidth-verticalScrollbarWidth,minimapWidth:minimapWidth,minimapHeightIsEditorHeight:minimapHeightIsEditorHeight,minimapIsSampling:minimapIsSampling,minimapScale:minimapScale,minimapLineHeight:minimapLineHeight,minimapCanvasInnerWidth:minimapCanvasInnerWidth=Math.floor(minimapCanvasInnerWidth*minimapWidthMultiplier),minimapCanvasInnerHeight:minimapCanvasInnerHeight,minimapCanvasOuterWidth:minimapCanvasOuterWidth,minimapCanvasOuterHeight:minimapCanvasOuterHeight}}static computeLayout(options,env){const outerWidth=0|env.outerWidth,outerHeight=0|env.outerHeight,lineHeight=0|env.lineHeight,lineNumbersDigitCount=0|env.lineNumbersDigitCount,typicalHalfwidthCharacterWidth=env.typicalHalfwidthCharacterWidth,maxDigitWidth=env.maxDigitWidth,pixelRatio=env.pixelRatio,viewLineCount=env.viewLineCount,wordWrap=options.get(106),wordWrapColumn=options.get(109),wordWrapMinified=options.get(110),accessibilitySupport=options.get(2),isDominatedByLongLines=env.isDominatedByLongLines,showGlyphMargin=options.get(42),showLineNumbers=0!==options.get(52).renderType,lineNumbersMinChars=options.get(53),scrollBeyondLastLine=options.get(86),minimap=options.get(56),scrollbar=options.get(84),verticalScrollbarWidth=scrollbar.verticalScrollbarSize,verticalScrollbarHasArrows=scrollbar.verticalHasArrows,scrollbarArrowSize=scrollbar.arrowSize,horizontalScrollbarHeight=scrollbar.horizontalScrollbarSize,rawLineDecorationsWidth=options.get(50),folding=options.get(31);let lineDecorationsWidth;if("string"==typeof rawLineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(rawLineDecorationsWidth)){const multiple=parseFloat(rawLineDecorationsWidth.substr(0,rawLineDecorationsWidth.length-2));lineDecorationsWidth=EditorIntOption.clampedInt(multiple*typicalHalfwidthCharacterWidth,0,0,1e3)}else lineDecorationsWidth=EditorIntOption.clampedInt(rawLineDecorationsWidth,0,0,1e3);folding&&(lineDecorationsWidth+=16);let lineNumbersWidth=0;if(showLineNumbers){const digitCount=Math.max(lineNumbersDigitCount,lineNumbersMinChars);lineNumbersWidth=Math.round(digitCount*maxDigitWidth)}let glyphMarginWidth=0;showGlyphMargin&&(glyphMarginWidth=lineHeight);let glyphMarginLeft=0,lineNumbersLeft=glyphMarginLeft+glyphMarginWidth,decorationsLeft=lineNumbersLeft+lineNumbersWidth,contentLeft=decorationsLeft+lineDecorationsWidth;const remainingWidth=outerWidth-glyphMarginWidth-lineNumbersWidth-lineDecorationsWidth;let isWordWrapMinified=!1,isViewportWrapping=!1,wrappingColumn=-1;2!==accessibilitySupport&&(wordWrapMinified&&isDominatedByLongLines?(isWordWrapMinified=!0,isViewportWrapping=!0):"on"===wordWrap||"bounded"===wordWrap?isViewportWrapping=!0:"wordWrapColumn"===wordWrap&&(wrappingColumn=wordWrapColumn));const minimapLayout=EditorLayoutInfoComputer._computeMinimapLayout({outerWidth:outerWidth,outerHeight:outerHeight,lineHeight:lineHeight,typicalHalfwidthCharacterWidth:typicalHalfwidthCharacterWidth,pixelRatio:pixelRatio,scrollBeyondLastLine:scrollBeyondLastLine,minimap:minimap,verticalScrollbarWidth:verticalScrollbarWidth,viewLineCount:viewLineCount,remainingWidth:remainingWidth,isViewportWrapping:isViewportWrapping},env.memory||new ComputeOptionsMemory);0!==minimapLayout.renderMinimap&&0===minimapLayout.minimapLeft&&(glyphMarginLeft+=minimapLayout.minimapWidth,lineNumbersLeft+=minimapLayout.minimapWidth,decorationsLeft+=minimapLayout.minimapWidth,contentLeft+=minimapLayout.minimapWidth);const contentWidth=remainingWidth-minimapLayout.minimapWidth,viewportColumn=Math.max(1,Math.floor((contentWidth-verticalScrollbarWidth-2)/typicalHalfwidthCharacterWidth)),verticalArrowSize=verticalScrollbarHasArrows?scrollbarArrowSize:0;return isViewportWrapping&&(wrappingColumn=Math.max(1,viewportColumn),"bounded"===wordWrap&&(wrappingColumn=Math.min(wrappingColumn,wordWrapColumn))),{width:outerWidth,height:outerHeight,glyphMarginLeft:glyphMarginLeft,glyphMarginWidth:glyphMarginWidth,lineNumbersLeft:lineNumbersLeft,lineNumbersWidth:lineNumbersWidth,decorationsLeft:decorationsLeft,decorationsWidth:lineDecorationsWidth,contentLeft:contentLeft,contentWidth:contentWidth,minimap:minimapLayout,viewportColumn:viewportColumn,isWordWrapMinified:isWordWrapMinified,isViewportWrapping:isViewportWrapping,wrappingColumn:wrappingColumn,verticalScrollbarWidth:verticalScrollbarWidth,horizontalScrollbarHeight:horizontalScrollbarHeight,overviewRuler:{top:verticalArrowSize,width:verticalScrollbarWidth,height:outerHeight-2*verticalArrowSize,right:0}}}}function filterValidationDecorations(options){const renderValidationDecorations=options.get(79);return"editable"===renderValidationDecorations?options.get(72):"on"!==renderValidationDecorations}function _scrollbarVisibilityFromString(visibility,defaultValue){if("string"!=typeof visibility)return defaultValue;switch(visibility){case"hidden":return 2;case"visible":return 3;default:return 1}}const EDITOR_FONT_DEFAULTS={fontFamily:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f?"Menlo, Monaco, 'Courier New', monospace":_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.d?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f?12:14,lineHeight:0,letterSpacing:0},EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},editorOptionsRegistry=[];function register(option){return editorOptionsRegistry[option.id]=option,option}const EditorOptions={acceptSuggestionOnCommitCharacter:register(new EditorBooleanOption(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:register(new EditorStringEnumOption(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:register(new class EditorAccessibilitySupport extends BaseEditorOption{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")})}validate(input){switch(input){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(env,options,value){return 0===value?env.accessibilitySupport:value}}),accessibilityPageSize:register(new EditorIntOption(3,"accessibilityPageSize",10,1,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:register(new EditorStringOption(4,"ariaLabel",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:register(new EditorStringEnumOption(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingOvertype:register(new EditorStringEnumOption(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:register(new EditorStringEnumOption(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:register(new EditorEnumOption(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function _autoIndentFromString(autoIndent){switch(autoIndent){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.none","The editor will not insert indentation automatically."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.keep","The editor will keep the current line's indentation."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:register(new EditorBooleanOption(9,"automaticLayout",!1)),autoSurround:register(new EditorStringEnumOption(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoSurround.quotes","Surround with quotes but not brackets."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("autoSurround","Controls whether the editor should automatically surround selections.")})),codeLens:register(new EditorBooleanOption(11,"codeLens",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("codeLens","Controls whether the editor shows CodeLens.")})),colorDecorators:register(new EditorBooleanOption(12,"colorDecorators",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:register(new EditorBooleanOption(13,"columnSelection",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:register(new class EditorComments extends BaseEditorOption{constructor(){const defaults={insertSpace:!0,ignoreEmptyLines:!0};super(14,"comments",defaults,{"editor.comments.insertSpace":{type:"boolean",default:defaults.insertSpace,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:defaults.ignoreEmptyLines,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{insertSpace:EditorBooleanOption.boolean(input.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:EditorBooleanOption.boolean(input.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:register(new EditorBooleanOption(15,"contextmenu",!0)),copyWithSyntaxHighlighting:register(new EditorBooleanOption(16,"copyWithSyntaxHighlighting",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:register(new EditorEnumOption(17,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function _cursorBlinkingStyleFromString(cursorBlinkingStyle){switch(cursorBlinkingStyle){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:register(new EditorBooleanOption(18,"cursorSmoothCaretAnimation",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:register(new EditorEnumOption(19,"cursorStyle",TextEditorCursorStyle.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function _cursorStyleFromString(cursorStyle){switch(cursorStyle){case"line":return TextEditorCursorStyle.Line;case"block":return TextEditorCursorStyle.Block;case"underline":return TextEditorCursorStyle.Underline;case"line-thin":return TextEditorCursorStyle.LineThin;case"block-outline":return TextEditorCursorStyle.BlockOutline;case"underline-thin":return TextEditorCursorStyle.UnderlineThin}},{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:register(new EditorIntOption(20,"cursorSurroundingLines",0,0,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")})),cursorSurroundingLinesStyle:register(new EditorStringEnumOption(21,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:register(new EditorIntOption(22,"cursorWidth",0,0,1073741824,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:register(new EditorBooleanOption(23,"disableLayerHinting",!1)),disableMonospaceOptimizations:register(new EditorBooleanOption(24,"disableMonospaceOptimizations",!1)),dragAndDrop:register(new EditorBooleanOption(25,"dragAndDrop",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:register(new class EditorEmptySelectionClipboard extends EditorBooleanOption{constructor(){super(26,"emptySelectionClipboard",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(env,options,value){return value&&env.emptySelectionClipboard}}),extraEditorClassName:register(new EditorStringOption(27,"extraEditorClassName","")),fastScrollSensitivity:register(new EditorFloatOption(28,"fastScrollSensitivity",5,x=>x<=0?5:x,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:register(new class EditorFind extends BaseEditorOption{constructor(){const defaults={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(29,"find",defaults,{"editor.find.cursorMoveOnType":{type:"boolean",default:defaults.cursorMoveOnType,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:defaults.seedSearchStringFromSelection,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:defaults.autoFindInSelection,enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.find.autoFindInSelection.never","Never turn on Find in selection automatically (default)"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.find.autoFindInSelection.always","Always turn on Find in selection automatically"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.find.autoFindInSelection.multiline","Turn on Find in selection automatically when multiple lines of content are selected.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.autoFindInSelection","Controls the condition for turning on find in selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:defaults.globalFindClipboard,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:defaults.addExtraSpaceOnTop,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:defaults.loop,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{cursorMoveOnType:EditorBooleanOption.boolean(input.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:EditorBooleanOption.boolean(input.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:"boolean"==typeof _input.autoFindInSelection?_input.autoFindInSelection?"always":"never":EditorStringEnumOption.stringSet(input.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:EditorBooleanOption.boolean(input.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:EditorBooleanOption.boolean(input.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:EditorBooleanOption.boolean(input.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:register(new EditorBooleanOption(30,"fixedOverflowWidgets",!1)),folding:register(new EditorBooleanOption(31,"folding",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:register(new EditorStringEnumOption(32,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:register(new EditorBooleanOption(33,"foldingHighlight",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),unfoldOnClickAfterEndOfLine:register(new EditorBooleanOption(34,"unfoldOnClickAfterEndOfLine",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:register(new EditorStringOption(35,"fontFamily",EDITOR_FONT_DEFAULTS.fontFamily,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontFamily","Controls the font family.")})),fontInfo:register(new class EditorFontInfo extends ComputedEditorOption{constructor(){super(36)}compute(env,options,_){return env.fontInfo}}),fontLigatures2:register(new EditorFontLigatures),fontSize:register(new class EditorFontSize extends SimpleEditorOption{constructor(){super(38,"fontSize",EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:EDITOR_FONT_DEFAULTS.fontSize,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("fontSize","Controls the font size in pixels.")})}validate(input){let r=EditorFloatOption.float(input,this.defaultValue);return 0===r?EDITOR_FONT_DEFAULTS.fontSize:EditorFloatOption.clamp(r,6,100)}compute(env,options,value){return env.fontInfo.fontSize}}),fontWeight:register(new EditorFontWeight),formatOnPaste:register(new EditorBooleanOption(40,"formatOnPaste",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:register(new EditorBooleanOption(41,"formatOnType",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:register(new EditorBooleanOption(42,"glyphMargin",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:register(new class EditorGoToLocation extends BaseEditorOption{constructor(){const defaults={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},jsonSubset={type:"string",enum:["peek","gotoAndPeek","goto"],default:defaults.multiple,enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]};super(43,"gotoLocation",defaults,{"editor.gotoLocation.multiple":{deprecationMessage:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleDeclarations":Object.assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleImplementations":Object.assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.multipleReferences":Object.assign({description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},jsonSubset),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:defaults.alternativeDefinitionCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:defaults.alternativeTypeDefinitionCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:defaults.alternativeDeclarationCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:defaults.alternativeImplementationCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:defaults.alternativeReferenceCommand,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(_input){var _a,_b,_c,_d,_e;if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{multiple:EditorStringEnumOption.stringSet(input.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(_a=input.multipleDefinitions)&&void 0!==_a?_a:EditorStringEnumOption.stringSet(input.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(_b=input.multipleTypeDefinitions)&&void 0!==_b?_b:EditorStringEnumOption.stringSet(input.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(_c=input.multipleDeclarations)&&void 0!==_c?_c:EditorStringEnumOption.stringSet(input.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(_d=input.multipleImplementations)&&void 0!==_d?_d:EditorStringEnumOption.stringSet(input.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(_e=input.multipleReferences)&&void 0!==_e?_e:EditorStringEnumOption.stringSet(input.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:EditorStringOption.string(input.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:EditorStringOption.string(input.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:EditorStringOption.string(input.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:EditorStringOption.string(input.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:EditorStringOption.string(input.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:register(new EditorBooleanOption(44,"hideCursorInOverviewRuler",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:register(new EditorBooleanOption(45,"highlightActiveIndentGuide",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:register(new class EditorHover extends BaseEditorOption{constructor(){const defaults={enabled:!0,delay:300,sticky:!0};super(46,"hover",defaults,{"editor.hover.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:defaults.delay,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:defaults.sticky,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled),delay:EditorIntOption.clampedInt(input.delay,this.defaultValue.delay,0,1e4),sticky:EditorBooleanOption.boolean(input.sticky,this.defaultValue.sticky)}}}),inDiffEditor:register(new EditorBooleanOption(47,"inDiffEditor",!1)),letterSpacing:register(new EditorFloatOption(48,"letterSpacing",EDITOR_FONT_DEFAULTS.letterSpacing,x=>EditorFloatOption.clamp(x,-5,20),{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:register(new class EditorLightbulb extends BaseEditorOption{constructor(){const defaults={enabled:!0};super(49,"lightbulb",defaults,{"editor.lightbulb.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("codeActions","Enables the code action lightbulb in the editor.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:register(new SimpleEditorOption(50,"lineDecorationsWidth",10)),lineHeight:register(new class EditorLineHeight extends EditorIntOption{constructor(){super(51,"lineHeight",EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")})}compute(env,options,value){return env.fontInfo.lineHeight}}),lineNumbers:register(new class EditorRenderLineNumbersOption extends BaseEditorOption{constructor(){super(52,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.off","Line numbers are not rendered."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.on","Line numbers are rendered as absolute number."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineNumbers","Controls the display of line numbers.")})}validate(lineNumbers){let renderType=this.defaultValue.renderType,renderFn=this.defaultValue.renderFn;return void 0!==lineNumbers&&("function"==typeof lineNumbers?(renderType=4,renderFn=lineNumbers):renderType="interval"===lineNumbers?3:"relative"===lineNumbers?2:"on"===lineNumbers?1:0),{renderType:renderType,renderFn:renderFn}}}),lineNumbersMinChars:register(new EditorIntOption(53,"lineNumbersMinChars",5,1,300)),links:register(new EditorBooleanOption(54,"links",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:register(new EditorStringEnumOption(55,"matchBrackets","always",["always","near","never"],{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("matchBrackets","Highlight matching brackets.")})),minimap:register(new class EditorMinimap extends BaseEditorOption{constructor(){const defaults={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(56,"minimap",defaults,{"editor.minimap.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:defaults.size,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:defaults.side,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:defaults.showSlider,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:defaults.scale,minimum:1,maximum:3,enum:[1,2,3],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:defaults.renderCharacters,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:defaults.maxColumn,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled),size:EditorStringEnumOption.stringSet(input.size,this.defaultValue.size,["proportional","fill","fit"]),side:EditorStringEnumOption.stringSet(input.side,this.defaultValue.side,["right","left"]),showSlider:EditorStringEnumOption.stringSet(input.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:EditorBooleanOption.boolean(input.renderCharacters,this.defaultValue.renderCharacters),scale:EditorIntOption.clampedInt(input.scale,1,1,3),maxColumn:EditorIntOption.clampedInt(input.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:register(new EditorStringEnumOption(57,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:register(new EditorFloatOption(58,"mouseWheelScrollSensitivity",1,x=>0===x?1:x,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:register(new EditorBooleanOption(59,"mouseWheelZoom",!1,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:register(new EditorBooleanOption(60,"multiCursorMergeOverlapping",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:register(new EditorEnumOption(61,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function _multiCursorModifierFromString(multiCursorModifier){return"ctrlCmd"===multiCursorModifier?_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:register(new EditorStringEnumOption(62,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorPaste.spread","Each cursor pastes a single line of the text."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:register(new EditorBooleanOption(63,"occurrencesHighlight",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:register(new EditorBooleanOption(64,"overviewRulerBorder",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:register(new EditorIntOption(65,"overviewRulerLanes",3,0,3)),padding:register(new class EditorPadding extends BaseEditorOption{constructor(){super(66,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{top:EditorIntOption.clampedInt(input.top,0,0,1e3),bottom:EditorIntOption.clampedInt(input.bottom,0,0,1e3)}}}),parameterHints:register(new class EditorParameterHints extends BaseEditorOption{constructor(){const defaults={enabled:!0,cycle:!1};super(67,"parameterHints",defaults,{"editor.parameterHints.enabled":{type:"boolean",default:defaults.enabled,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:defaults.cycle,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{enabled:EditorBooleanOption.boolean(input.enabled,this.defaultValue.enabled),cycle:EditorBooleanOption.boolean(input.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:register(new EditorStringEnumOption(68,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:register(new EditorBooleanOption(69,"definitionLinkOpensInPeek",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:register(new class EditorQuickSuggestions extends BaseEditorOption{constructor(){const defaults={other:!0,comments:!1,strings:!1};super(70,"quickSuggestions",defaults,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:defaults.strings,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:defaults.comments,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:defaults.other,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:defaults,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=defaults}validate(_input){if("boolean"==typeof _input)return _input;if(_input&&"object"==typeof _input){const input=_input,opts={other:EditorBooleanOption.boolean(input.other,this.defaultValue.other),comments:EditorBooleanOption.boolean(input.comments,this.defaultValue.comments),strings:EditorBooleanOption.boolean(input.strings,this.defaultValue.strings)};return!!(opts.other&&opts.comments&&opts.strings)||!!(opts.other||opts.comments||opts.strings)&&opts}return this.defaultValue}}),quickSuggestionsDelay:register(new EditorIntOption(71,"quickSuggestionsDelay",10,0,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:register(new EditorBooleanOption(72,"readOnly",!1)),renameOnType:register(new EditorBooleanOption(73,"renameOnType",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renameOnType","Controls whether the editor auto renames on type.")})),renderControlCharacters:register(new EditorBooleanOption(74,"renderControlCharacters",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:register(new EditorBooleanOption(75,"renderIndentGuides",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:register(new EditorBooleanOption(76,"renderFinalNewline",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:register(new EditorStringEnumOption(77,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:register(new EditorBooleanOption(78,"renderLineHighlightOnlyWhenFocus",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused")})),renderValidationDecorations:register(new EditorStringEnumOption(79,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:register(new EditorStringEnumOption(80,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace.selection","Render whitespace characters only on selected text."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace.trailing","Render only trailing whitespace characters"),""],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:register(new EditorIntOption(81,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:register(new EditorBooleanOption(82,"roundedSelection",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:register(new class EditorRulers extends BaseEditorOption{constructor(){const defaults=[],columnSchema={type:"number",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(83,"rulers",defaults,{type:"array",items:{anyOf:[columnSchema,{type:["object"],properties:{column:columnSchema,color:{type:"string",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:defaults,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(input){if(Array.isArray(input)){let rulers=[];for(let _element of input)if("number"==typeof _element)rulers.push({column:EditorIntOption.clampedInt(_element,0,0,1e4),color:null});else if(_element&&"object"==typeof _element){const element=_element;rulers.push({column:EditorIntOption.clampedInt(element.column,0,0,1e4),color:element.color})}return rulers.sort((a,b)=>a.column-b.column),rulers}return this.defaultValue}}),scrollbar:register(new class EditorScrollbar extends BaseEditorOption{constructor(){super(84,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0})}validate(_input){if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input,horizontalScrollbarSize=EditorIntOption.clampedInt(input.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),verticalScrollbarSize=EditorIntOption.clampedInt(input.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:EditorIntOption.clampedInt(input.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:_scrollbarVisibilityFromString(input.vertical,this.defaultValue.vertical),horizontal:_scrollbarVisibilityFromString(input.horizontal,this.defaultValue.horizontal),useShadows:EditorBooleanOption.boolean(input.useShadows,this.defaultValue.useShadows),verticalHasArrows:EditorBooleanOption.boolean(input.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:EditorBooleanOption.boolean(input.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:EditorBooleanOption.boolean(input.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:EditorBooleanOption.boolean(input.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:horizontalScrollbarSize,horizontalSliderSize:EditorIntOption.clampedInt(input.horizontalSliderSize,horizontalScrollbarSize,0,1e3),verticalScrollbarSize:verticalScrollbarSize,verticalSliderSize:EditorIntOption.clampedInt(input.verticalSliderSize,verticalScrollbarSize,0,1e3)}}}),scrollBeyondLastColumn:register(new EditorIntOption(85,"scrollBeyondLastColumn",5,0,1073741824,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:register(new EditorBooleanOption(86,"scrollBeyondLastLine",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:register(new EditorBooleanOption(87,"scrollPredominantAxis",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:register(new EditorBooleanOption(88,"selectionClipboard",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.d})),selectionHighlight:register(new EditorBooleanOption(89,"selectionHighlight",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:register(new EditorBooleanOption(90,"selectOnLineNumbers",!0)),showFoldingControls:register(new EditorStringEnumOption(91,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showFoldingControls.always","Always show the folding controls."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:register(new EditorBooleanOption(92,"showUnused",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showUnused","Controls fading out of unused code.")})),showDeprecated:register(new EditorBooleanOption(113,"showDeprecated",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showDeprecated","Controls strikethrough deprecated variables.")})),snippetSuggestions:register(new EditorStringEnumOption(93,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions.none","Do not show snippet suggestions.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smoothScrolling:register(new EditorBooleanOption(94,"smoothScrolling",!1,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:register(new EditorIntOption(95,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:register(new class EditorSuggest extends BaseEditorOption{constructor(){const defaults={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0,statusBar:{visible:!1}};super(96,"suggest",defaults,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:defaults.insertMode,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:defaults.filterGraceful,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:defaults.localityBonus,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:defaults.shareSuggestSelections,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:defaults.snippetsPreventQuickSuggestions,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:defaults.showIcons,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:defaults.maxVisibleSuggestions,minimum:1,maximum:15,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")},"editor.suggest.statusBar.visible":{type:"boolean",default:!1,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.suggest.statusBar.visible","Controls the visibility of the status bar at the bottom of the suggest widget.")}})}validate(_input){var _a;if(!_input||"object"!=typeof _input)return this.defaultValue;const input=_input;return{insertMode:EditorStringEnumOption.stringSet(input.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:EditorBooleanOption.boolean(input.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:EditorBooleanOption.boolean(input.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:EditorBooleanOption.boolean(input.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:EditorBooleanOption.boolean(input.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:EditorBooleanOption.boolean(input.showIcons,this.defaultValue.showIcons),maxVisibleSuggestions:EditorIntOption.clampedInt(input.maxVisibleSuggestions,this.defaultValue.maxVisibleSuggestions,1,15),showMethods:EditorBooleanOption.boolean(input.showMethods,this.defaultValue.showMethods),showFunctions:EditorBooleanOption.boolean(input.showFunctions,this.defaultValue.showFunctions),showConstructors:EditorBooleanOption.boolean(input.showConstructors,this.defaultValue.showConstructors),showFields:EditorBooleanOption.boolean(input.showFields,this.defaultValue.showFields),showVariables:EditorBooleanOption.boolean(input.showVariables,this.defaultValue.showVariables),showClasses:EditorBooleanOption.boolean(input.showClasses,this.defaultValue.showClasses),showStructs:EditorBooleanOption.boolean(input.showStructs,this.defaultValue.showStructs),showInterfaces:EditorBooleanOption.boolean(input.showInterfaces,this.defaultValue.showInterfaces),showModules:EditorBooleanOption.boolean(input.showModules,this.defaultValue.showModules),showProperties:EditorBooleanOption.boolean(input.showProperties,this.defaultValue.showProperties),showEvents:EditorBooleanOption.boolean(input.showEvents,this.defaultValue.showEvents),showOperators:EditorBooleanOption.boolean(input.showOperators,this.defaultValue.showOperators),showUnits:EditorBooleanOption.boolean(input.showUnits,this.defaultValue.showUnits),showValues:EditorBooleanOption.boolean(input.showValues,this.defaultValue.showValues),showConstants:EditorBooleanOption.boolean(input.showConstants,this.defaultValue.showConstants),showEnums:EditorBooleanOption.boolean(input.showEnums,this.defaultValue.showEnums),showEnumMembers:EditorBooleanOption.boolean(input.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:EditorBooleanOption.boolean(input.showKeywords,this.defaultValue.showKeywords),showWords:EditorBooleanOption.boolean(input.showWords,this.defaultValue.showWords),showColors:EditorBooleanOption.boolean(input.showColors,this.defaultValue.showColors),showFiles:EditorBooleanOption.boolean(input.showFiles,this.defaultValue.showFiles),showReferences:EditorBooleanOption.boolean(input.showReferences,this.defaultValue.showReferences),showFolders:EditorBooleanOption.boolean(input.showFolders,this.defaultValue.showFolders),showTypeParameters:EditorBooleanOption.boolean(input.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:EditorBooleanOption.boolean(input.showSnippets,this.defaultValue.showSnippets),showUsers:EditorBooleanOption.boolean(input.showUsers,this.defaultValue.showUsers),showIssues:EditorBooleanOption.boolean(input.showIssues,this.defaultValue.showIssues),statusBar:{visible:EditorBooleanOption.boolean(null===(_a=input.statusBar)||void 0===_a?void 0:_a.visible,!!this.defaultValue.statusBar.visible)}}}}),suggestFontSize:register(new EditorIntOption(97,"suggestFontSize",0,0,1e3,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:register(new EditorIntOption(98,"suggestLineHeight",0,0,1e3,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")})),suggestOnTriggerCharacters:register(new EditorBooleanOption(99,"suggestOnTriggerCharacters",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:register(new EditorStringEnumOption(100,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection.first","Always select the first suggestion."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:register(new EditorStringEnumOption(101,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion.off","Disable tab completions."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabCompletion","Enables tab completions.")})),tabIndex:register(new EditorIntOption(102,"tabIndex",0,-1,1073741824)),unusualLineTerminators:register(new EditorStringEnumOption(103,"unusualLineTerminators","prompt",["off","prompt","auto"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.off","Unusual line terminators are ignored."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.auto","Unusual line terminators are automatically removed.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useTabStops:register(new EditorBooleanOption(104,"useTabStops",!0,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:register(new EditorStringOption(105,"wordSeparators",_model_wordHelper_js__WEBPACK_IMPORTED_MODULE_2__.b,{description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:register(new EditorStringEnumOption(106,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordWrap.off","Lines will never wrap."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordWrap.on","Lines will wrap at the viewport width."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:register(new EditorStringOption(107,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;")),wordWrapBreakBeforeCharacters:register(new EditorStringOption(108,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:register(new EditorIntOption(109,"wordWrapColumn",80,1,1073741824,{markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapMinified:register(new EditorBooleanOption(110,"wordWrapMinified",!0)),wrappingIndent:register(new EditorEnumOption(111,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function _wrappingIndentFromString(wrappingIndent){switch(wrappingIndent){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:register(new EditorStringEnumOption(112,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:register(new class EditorClassName extends ComputedEditorOption{constructor(){super(114,[57,27])}compute(env,options,_){const classNames=["monaco-editor"];return options.get(27)&&classNames.push(options.get(27)),env.extraEditorClassName&&classNames.push(env.extraEditorClassName),"default"===options.get(57)?classNames.push("mouse-default"):"copy"===options.get(57)&&classNames.push("mouse-copy"),options.get(92)&&classNames.push("showUnused"),options.get(113)&&classNames.push("showDeprecated"),classNames.join(" ")}}),pixelRatio:register(new class EditorPixelRatio extends ComputedEditorOption{constructor(){super(115)}compute(env,options,_){return env.pixelRatio}}),tabFocusMode:register(new class EditorTabFocusMode extends ComputedEditorOption{constructor(){super(116,[72])}compute(env,options,_){return!!options.get(72)||env.tabFocusMode}}),layoutInfo:register(new EditorLayoutInfoComputer),wrappingInfo:register(new class EditorWrappingInfoComputer extends ComputedEditorOption{constructor(){super(118,[117])}compute(env,options,_){const layoutInfo=options.get(117);return{isDominatedByLongLines:env.isDominatedByLongLines,isWordWrapMinified:layoutInfo.isWordWrapMinified,isViewportWrapping:layoutInfo.isViewportWrapping,wrappingColumn:layoutInfo.wrappingColumn}}})}},2329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return KeyCodeUtils}),__webpack_require__.d(__webpack_exports__,"a",function(){return KeyChord}),__webpack_require__.d(__webpack_exports__,"f",function(){return createKeybinding}),__webpack_require__.d(__webpack_exports__,"e",function(){return SimpleKeybinding}),__webpack_require__.d(__webpack_exports__,"d",function(){return ResolvedKeybindingPart}),__webpack_require__.d(__webpack_exports__,"c",function(){return ResolvedKeybinding});var _errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2302);class KeyCodeStrMap{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(keyCode,str){this._keyCodeToStr[keyCode]=str,this._strToKeyCode[str.toLowerCase()]=keyCode}keyCodeToStr(keyCode){return this._keyCodeToStr[keyCode]}strToKeyCode(str){return this._strToKeyCode[str.toLowerCase()]||0}}const uiMap=new KeyCodeStrMap,userSettingsUSMap=new KeyCodeStrMap,userSettingsGeneralMap=new KeyCodeStrMap;var KeyCodeUtils;function KeyChord(firstPart,secondPart){return(firstPart|(65535&secondPart)<<16>>>0)>>>0}function createKeybinding(keybinding,OS){if(0===keybinding)return null;const firstPart=(65535&keybinding)>>>0,chordPart=(4294901760&keybinding)>>>16;return new ChordKeybinding(0!==chordPart?[createSimpleKeybinding(firstPart,OS),createSimpleKeybinding(chordPart,OS)]:[createSimpleKeybinding(firstPart,OS)])}function createSimpleKeybinding(keybinding,OS){const ctrlCmd=!!(2048&keybinding),winCtrl=!!(256&keybinding);return new SimpleKeybinding(2===OS?winCtrl:ctrlCmd,!!(1024&keybinding),!!(512&keybinding),2===OS?ctrlCmd:winCtrl,255&keybinding)}!function(){function define(keyCode,uiLabel,usUserSettingsLabel=uiLabel,generalUserSettingsLabel=usUserSettingsLabel){uiMap.define(keyCode,uiLabel),userSettingsUSMap.define(keyCode,usUserSettingsLabel),userSettingsGeneralMap.define(keyCode,generalUserSettingsLabel)}define(0,"unknown"),define(1,"Backspace"),define(2,"Tab"),define(3,"Enter"),define(4,"Shift"),define(5,"Ctrl"),define(6,"Alt"),define(7,"PauseBreak"),define(8,"CapsLock"),define(9,"Escape"),define(10,"Space"),define(11,"PageUp"),define(12,"PageDown"),define(13,"End"),define(14,"Home"),define(15,"LeftArrow","Left"),define(16,"UpArrow","Up"),define(17,"RightArrow","Right"),define(18,"DownArrow","Down"),define(19,"Insert"),define(20,"Delete"),define(21,"0"),define(22,"1"),define(23,"2"),define(24,"3"),define(25,"4"),define(26,"5"),define(27,"6"),define(28,"7"),define(29,"8"),define(30,"9"),define(31,"A"),define(32,"B"),define(33,"C"),define(34,"D"),define(35,"E"),define(36,"F"),define(37,"G"),define(38,"H"),define(39,"I"),define(40,"J"),define(41,"K"),define(42,"L"),define(43,"M"),define(44,"N"),define(45,"O"),define(46,"P"),define(47,"Q"),define(48,"R"),define(49,"S"),define(50,"T"),define(51,"U"),define(52,"V"),define(53,"W"),define(54,"X"),define(55,"Y"),define(56,"Z"),define(57,"Meta"),define(58,"ContextMenu"),define(59,"F1"),define(60,"F2"),define(61,"F3"),define(62,"F4"),define(63,"F5"),define(64,"F6"),define(65,"F7"),define(66,"F8"),define(67,"F9"),define(68,"F10"),define(69,"F11"),define(70,"F12"),define(71,"F13"),define(72,"F14"),define(73,"F15"),define(74,"F16"),define(75,"F17"),define(76,"F18"),define(77,"F19"),define(78,"NumLock"),define(79,"ScrollLock"),define(80,";",";","OEM_1"),define(81,"=","=","OEM_PLUS"),define(82,",",",","OEM_COMMA"),define(83,"-","-","OEM_MINUS"),define(84,".",".","OEM_PERIOD"),define(85,"/","/","OEM_2"),define(86,"`","`","OEM_3"),define(110,"ABNT_C1"),define(111,"ABNT_C2"),define(87,"[","[","OEM_4"),define(88,"\\","\\","OEM_5"),define(89,"]","]","OEM_6"),define(90,"'","'","OEM_7"),define(91,"OEM_8"),define(92,"OEM_102"),define(93,"NumPad0"),define(94,"NumPad1"),define(95,"NumPad2"),define(96,"NumPad3"),define(97,"NumPad4"),define(98,"NumPad5"),define(99,"NumPad6"),define(100,"NumPad7"),define(101,"NumPad8"),define(102,"NumPad9"),define(103,"NumPad_Multiply"),define(104,"NumPad_Add"),define(105,"NumPad_Separator"),define(106,"NumPad_Subtract"),define(107,"NumPad_Decimal"),define(108,"NumPad_Divide")}(),function(KeyCodeUtils){KeyCodeUtils.toString=function toString(keyCode){return uiMap.keyCodeToStr(keyCode)},KeyCodeUtils.fromString=function fromString(key){return uiMap.strToKeyCode(key)},KeyCodeUtils.toUserSettingsUS=function toUserSettingsUS(keyCode){return userSettingsUSMap.keyCodeToStr(keyCode)},KeyCodeUtils.toUserSettingsGeneral=function toUserSettingsGeneral(keyCode){return userSettingsGeneralMap.keyCodeToStr(keyCode)},KeyCodeUtils.fromUserSettings=function fromUserSettings(key){return userSettingsUSMap.strToKeyCode(key)||userSettingsGeneralMap.strToKeyCode(key)}}(KeyCodeUtils||(KeyCodeUtils={}));class SimpleKeybinding{constructor(ctrlKey,shiftKey,altKey,metaKey,keyCode){this.ctrlKey=ctrlKey,this.shiftKey=shiftKey,this.altKey=altKey,this.metaKey=metaKey,this.keyCode=keyCode}equals(other){return this.ctrlKey===other.ctrlKey&&this.shiftKey===other.shiftKey&&this.altKey===other.altKey&&this.metaKey===other.metaKey&&this.keyCode===other.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new ChordKeybinding([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class ChordKeybinding{constructor(parts){if(0===parts.length)throw Object(_errors_js__WEBPACK_IMPORTED_MODULE_0__.b)("parts");this.parts=parts}}class ResolvedKeybindingPart{constructor(ctrlKey,shiftKey,altKey,metaKey,kbLabel,kbAriaLabel){this.ctrlKey=ctrlKey,this.shiftKey=shiftKey,this.altKey=altKey,this.metaKey=metaKey,this.keyLabel=kbLabel,this.keyAriaLabel=kbAriaLabel}}class ResolvedKeybinding{}},2330:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Schemas}),__webpack_require__.d(__webpack_exports__,"a",function(){return RemoteAuthorities});var Schemas,_uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2313),_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305);!function(Schemas){Schemas.inMemory="inmemory",Schemas.vscode="vscode",Schemas.internal="private",Schemas.walkThrough="walkThrough",Schemas.walkThroughSnippet="walkThroughSnippet",Schemas.http="http",Schemas.https="https",Schemas.file="file",Schemas.mailto="mailto",Schemas.untitled="untitled",Schemas.data="data",Schemas.command="command",Schemas.vscodeRemote="vscode-remote",Schemas.vscodeRemoteResource="vscode-remote-resource",Schemas.userData="vscode-userdata",Schemas.vscodeCustomEditor="vscode-custom-editor",Schemas.vscodeNotebook="vscode-notebook",Schemas.vscodeNotebookCell="vscode-notebook-cell",Schemas.vscodeSettings="vscode-settings",Schemas.webviewPanel="webview-panel",Schemas.vscodeWebview="vscode-webview",Schemas.vscodeWebviewResource="vscode-webview-resource",Schemas.extension="extension"}(Schemas||(Schemas={}));const RemoteAuthorities=new class RemoteAuthoritiesImpl{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(schema){this._preferredWebSchema=schema}rewrite(uri){if(this._delegate)return this._delegate(uri);const authority=uri.authority;let host=this._hosts[authority];host&&-1!==host.indexOf(":")&&(host=`[${host}]`);const port=this._ports[authority],connectionToken=this._connectionTokens[authority];let query=`path=${encodeURIComponent(uri.path)}`;return"string"==typeof connectionToken&&(query+=`&tkn=${encodeURIComponent(connectionToken)}`),_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.from({scheme:_platform_js__WEBPACK_IMPORTED_MODULE_1__.h?this._preferredWebSchema:Schemas.vscodeRemoteResource,authority:`${host}:${port}`,path:"/vscode-remote-resource",query:query})}}},2331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return originalFSPath}),__webpack_require__.d(__webpack_exports__,"e",function(){return extUri}),__webpack_require__.d(__webpack_exports__,"f",function(){return isEqual}),__webpack_require__.d(__webpack_exports__,"c",function(){return basenameOrAuthority}),__webpack_require__.d(__webpack_exports__,"b",function(){return basename}),__webpack_require__.d(__webpack_exports__,"d",function(){return dirname}),__webpack_require__.d(__webpack_exports__,"g",function(){return joinPath}),__webpack_require__.d(__webpack_exports__,"h",function(){return normalizePath}),__webpack_require__.d(__webpack_exports__,"j",function(){return relativePath}),__webpack_require__.d(__webpack_exports__,"k",function(){return resolvePath}),__webpack_require__.d(__webpack_exports__,"a",function(){return DataUri});var _extpath_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2466),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2352),_uri_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2313),_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2299),_network_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2330),_platform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2305);function originalFSPath(uri){return Object(_uri_js__WEBPACK_IMPORTED_MODULE_2__.b)(uri,!0)}const extUri=new class ExtUri{constructor(_ignorePathCasing){this._ignorePathCasing=_ignorePathCasing}compare(uri1,uri2,ignoreFragment=!1){return uri1===uri2?0:Object(_strings_js__WEBPACK_IMPORTED_MODULE_3__.f)(this.getComparisonKey(uri1,ignoreFragment),this.getComparisonKey(uri2,ignoreFragment))}isEqual(uri1,uri2,ignoreFragment=!1){return uri1===uri2||!(!uri1||!uri2)&&this.getComparisonKey(uri1,ignoreFragment)===this.getComparisonKey(uri2,ignoreFragment)}getComparisonKey(uri,ignoreFragment=!1){return uri.with({path:this._ignorePathCasing(uri)?uri.path.toLowerCase():void 0,fragment:ignoreFragment?null:void 0}).toString()}joinPath(resource,...pathFragment){return _uri_js__WEBPACK_IMPORTED_MODULE_2__.a.joinPath(resource,...pathFragment)}basenameOrAuthority(resource){return basename(resource)||resource.authority}basename(resource){return _path_js__WEBPACK_IMPORTED_MODULE_1__.e.basename(resource.path)}dirname(resource){if(0===resource.path.length)return resource;let dirname;return resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file?dirname=_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.b(originalFSPath(resource))).path:(dirname=_path_js__WEBPACK_IMPORTED_MODULE_1__.e.dirname(resource.path),resource.authority&&dirname.length&&47!==dirname.charCodeAt(0)&&(console.error(`dirname("${resource.toString})) resulted in a relative path`),dirname="/")),resource.with({path:dirname})}normalizePath(resource){if(!resource.path.length)return resource;let normalizedPath;return normalizedPath=resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file?_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.d(originalFSPath(resource))).path:_path_js__WEBPACK_IMPORTED_MODULE_1__.e.normalize(resource.path),resource.with({path:normalizedPath})}relativePath(from,to){if(from.scheme!==to.scheme||!isEqualAuthority(from.authority,to.authority))return;if(from.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file){const relativePath=_path_js__WEBPACK_IMPORTED_MODULE_1__.f(originalFSPath(from),originalFSPath(to));return _platform_js__WEBPACK_IMPORTED_MODULE_5__.i?_extpath_js__WEBPACK_IMPORTED_MODULE_0__.b(relativePath):relativePath}let fromPath=from.path||"/",toPath=to.path||"/";if(this._ignorePathCasing(from)){let i=0;for(const len=Math.min(fromPath.length,toPath.length);i<len&&(fromPath.charCodeAt(i)===toPath.charCodeAt(i)||fromPath.charAt(i).toLowerCase()===toPath.charAt(i).toLowerCase());i++);fromPath=toPath.substr(0,i)+fromPath.substr(i)}return _path_js__WEBPACK_IMPORTED_MODULE_1__.e.relative(fromPath,toPath)}resolvePath(base,path){if(base.scheme===_network_js__WEBPACK_IMPORTED_MODULE_4__.b.file){const newURI=_uri_js__WEBPACK_IMPORTED_MODULE_2__.a.file(_path_js__WEBPACK_IMPORTED_MODULE_1__.g(originalFSPath(base),path));return base.with({authority:newURI.authority,path:newURI.path})}return-1===path.indexOf("/")&&(path=_extpath_js__WEBPACK_IMPORTED_MODULE_0__.b(path),/^[a-zA-Z]:(\/|$)/.test(path)&&(path="/"+path)),base.with({path:_path_js__WEBPACK_IMPORTED_MODULE_1__.e.resolve(base.path,path)})}isEqualAuthority(a1,a2){return a1===a2||Object(_strings_js__WEBPACK_IMPORTED_MODULE_3__.t)(a1,a2)}}(()=>!1),isEqual=extUri.isEqual.bind(extUri),basenameOrAuthority=extUri.basenameOrAuthority.bind(extUri),basename=extUri.basename.bind(extUri),dirname=extUri.dirname.bind(extUri),joinPath=extUri.joinPath.bind(extUri),normalizePath=extUri.normalizePath.bind(extUri),relativePath=extUri.relativePath.bind(extUri),resolvePath=extUri.resolvePath.bind(extUri),isEqualAuthority=extUri.isEqualAuthority.bind(extUri);var DataUri;!function(DataUri){DataUri.META_DATA_LABEL="label",DataUri.META_DATA_DESCRIPTION="description",DataUri.META_DATA_SIZE="size",DataUri.META_DATA_MIME="mime",DataUri.parseMetaData=function parseMetaData(dataUri){const metadata=new Map;dataUri.path.substring(dataUri.path.indexOf(";")+1,dataUri.path.lastIndexOf(";")).split(";").forEach(property=>{const[key,value]=property.split(":");key&&value&&metadata.set(key,value)});const mime=dataUri.path.substring(0,dataUri.path.indexOf(";"));return mime&&metadata.set(DataUri.META_DATA_MIME,mime),metadata}}(DataUri||(DataUri={}))},2332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IConfigurationService}),__webpack_require__.d(__webpack_exports__,"g",function(){return toValuesTree}),__webpack_require__.d(__webpack_exports__,"b",function(){return addToValueTree}),__webpack_require__.d(__webpack_exports__,"f",function(){return removeFromValueTree}),__webpack_require__.d(__webpack_exports__,"d",function(){return getConfigurationValue}),__webpack_require__.d(__webpack_exports__,"c",function(){return getConfigurationKeys}),__webpack_require__.d(__webpack_exports__,"e",function(){return getDefaultValues});var _registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2324),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2300),_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2375);const IConfigurationService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("configurationService");function toValuesTree(properties,conflictReporter){const root=Object.create(null);for(let key in properties)addToValueTree(root,key,properties[key],conflictReporter);return root}function addToValueTree(settingsTreeRoot,key,value,conflictReporter){const segments=key.split("."),last=segments.pop();let curr=settingsTreeRoot;for(let i=0;i<segments.length;i++){let s=segments[i],obj=curr[s];switch(typeof obj){case"undefined":obj=curr[s]=Object.create(null);break;case"object":break;default:return void conflictReporter(`Ignoring ${key} as ${segments.slice(0,i+1).join(".")} is ${JSON.stringify(obj)}`)}curr=obj}if("object"==typeof curr&&null!==curr)try{curr[last]=value}catch(e){conflictReporter(`Ignoring ${key} as ${segments.join(".")} is ${JSON.stringify(curr)}`)}else conflictReporter(`Ignoring ${key} as ${segments.join(".")} is ${JSON.stringify(curr)}`)}function removeFromValueTree(valueTree,key){!function doRemoveFromValueTree(valueTree,segments){const first=segments.shift();if(0===segments.length)return void delete valueTree[first];if(-1!==Object.keys(valueTree).indexOf(first)){const value=valueTree[first];"object"!=typeof value||Array.isArray(value)||(doRemoveFromValueTree(value,segments),0===Object.keys(value).length&&delete valueTree[first])}}(valueTree,key.split("."))}function getConfigurationValue(config,settingPath,defaultValue){const result=function accessSetting(config,path){let current=config;for(const component of path){if("object"!=typeof current||null===current)return;current=current[component]}return current}(config,settingPath.split("."));return void 0===result?defaultValue:result}function getConfigurationKeys(){const properties=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.as(_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__.a.Configuration).getConfigurationProperties();return Object.keys(properties)}function getDefaultValues(){const valueTreeRoot=Object.create(null),properties=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.as(_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_2__.a.Configuration).getConfigurationProperties();for(let key in properties){addToValueTree(valueTreeRoot,key,properties[key].default,message=>console.error(`Conflict in default settings: ${message}`))}return valueTreeRoot}},2333:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return CursorConfiguration}),__webpack_require__.d(__webpack_exports__,"f",function(){return SingleCursorState}),__webpack_require__.d(__webpack_exports__,"c",function(){return CursorContext}),__webpack_require__.d(__webpack_exports__,"d",function(){return CursorState}),__webpack_require__.d(__webpack_exports__,"e",function(){return EditOperationResult}),__webpack_require__.d(__webpack_exports__,"a",function(){return CursorColumns}),__webpack_require__.d(__webpack_exports__,"g",function(){return isQuote});var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2302),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2299),_core_position_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2303),_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2295),_core_selection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2311),_model_textModel_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2321),_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2334);const autoCloseAlways=()=>!0,autoCloseNever=()=>!1,autoCloseBeforeWhitespace=chr=>" "===chr||"\t"===chr;function appendEntry(target,key,value){target.has(key)?target.get(key).push(value):target.set(key,[value])}class CursorConfiguration{constructor(languageIdentifier,modelOptions,configuration){this._languageIdentifier=languageIdentifier;const options=configuration.options,layoutInfo=options.get(117);this.readOnly=options.get(72),this.tabSize=modelOptions.tabSize,this.indentSize=modelOptions.indentSize,this.insertSpaces=modelOptions.insertSpaces,this.lineHeight=options.get(51),this.pageSize=Math.max(1,Math.floor(layoutInfo.height/this.lineHeight)-2),this.useTabStops=options.get(104),this.wordSeparators=options.get(105),this.emptySelectionClipboard=options.get(26),this.copyWithSyntaxHighlighting=options.get(16),this.multiCursorMergeOverlapping=options.get(60),this.multiCursorPaste=options.get(62),this.autoClosingBrackets=options.get(5),this.autoClosingQuotes=options.get(7),this.autoClosingOvertype=options.get(6),this.autoSurround=options.get(10),this.autoIndent=options.get(8),this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:CursorConfiguration._getShouldAutoClose(languageIdentifier,this.autoClosingQuotes),bracket:CursorConfiguration._getShouldAutoClose(languageIdentifier,this.autoClosingBrackets)};let autoClosingPairs=CursorConfiguration._getAutoClosingPairs(languageIdentifier);if(autoClosingPairs)for(const pair of autoClosingPairs)appendEntry(this.autoClosingPairsOpen2,pair.open.charAt(pair.open.length-1),pair),1===pair.close.length&&appendEntry(this.autoClosingPairsClose2,pair.close,pair);let surroundingPairs=CursorConfiguration._getSurroundingPairs(languageIdentifier);if(surroundingPairs)for(const pair of surroundingPairs)this.surroundingPairs[pair.open]=pair.close}static shouldRecreate(e){return e.hasChanged(117)||e.hasChanged(105)||e.hasChanged(26)||e.hasChanged(60)||e.hasChanged(62)||e.hasChanged(5)||e.hasChanged(7)||e.hasChanged(6)||e.hasChanged(10)||e.hasChanged(104)||e.hasChanged(51)||e.hasChanged(72)}get electricChars(){if(!this._electricChars){this._electricChars={};let electricChars=CursorConfiguration._getElectricCharacters(this._languageIdentifier);if(electricChars)for(const char of electricChars)this._electricChars[char]=!0}return this._electricChars}normalizeIndentation(str){return _model_textModel_js__WEBPACK_IMPORTED_MODULE_5__.b.normalizeIndentation(str,this.indentSize,this.insertSpaces)}static _getElectricCharacters(languageIdentifier){try{return _modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getElectricCharacters(languageIdentifier.id)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),null}}static _getAutoClosingPairs(languageIdentifier){try{return _modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getAutoClosingPairs(languageIdentifier.id)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),null}}static _getShouldAutoClose(languageIdentifier,autoCloseConfig){switch(autoCloseConfig){case"beforeWhitespace":return autoCloseBeforeWhitespace;case"languageDefined":return CursorConfiguration._getLanguageDefinedShouldAutoClose(languageIdentifier);case"always":return autoCloseAlways;case"never":return autoCloseNever}}static _getLanguageDefinedShouldAutoClose(languageIdentifier){try{const autoCloseBeforeSet=_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getAutoCloseBeforeSet(languageIdentifier.id);return c=>-1!==autoCloseBeforeSet.indexOf(c)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),autoCloseNever}}static _getSurroundingPairs(languageIdentifier){try{return _modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__.a.getSurroundingPairs(languageIdentifier.id)}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.e)(e),null}}}class SingleCursorState{constructor(selectionStart,selectionStartLeftoverVisibleColumns,position,leftoverVisibleColumns){this.selectionStart=selectionStart,this.selectionStartLeftoverVisibleColumns=selectionStartLeftoverVisibleColumns,this.position=position,this.leftoverVisibleColumns=leftoverVisibleColumns,this.selection=SingleCursorState._computeSelection(this.selectionStart,this.position)}equals(other){return this.selectionStartLeftoverVisibleColumns===other.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===other.leftoverVisibleColumns&&this.position.equals(other.position)&&this.selectionStart.equalsRange(other.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(inSelectionMode,lineNumber,column,leftoverVisibleColumns){return inSelectionMode?new SingleCursorState(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,column),leftoverVisibleColumns):new SingleCursorState(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column,lineNumber,column),leftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,column),leftoverVisibleColumns)}static _computeSelection(selectionStart,position){let startLineNumber,startColumn,endLineNumber,endColumn;return selectionStart.isEmpty()?(startLineNumber=selectionStart.startLineNumber,startColumn=selectionStart.startColumn,endLineNumber=position.lineNumber,endColumn=position.column):position.isBeforeOrEqual(selectionStart.getStartPosition())?(startLineNumber=selectionStart.endLineNumber,startColumn=selectionStart.endColumn,endLineNumber=position.lineNumber,endColumn=position.column):(startLineNumber=selectionStart.startLineNumber,startColumn=selectionStart.startColumn,endLineNumber=position.lineNumber,endColumn=position.column),new _core_selection_js__WEBPACK_IMPORTED_MODULE_4__.a(startLineNumber,startColumn,endLineNumber,endColumn)}}class CursorContext{constructor(model,coordinatesConverter,cursorConfig){this.model=model,this.coordinatesConverter=coordinatesConverter,this.cursorConfig=cursorConfig}}class PartialModelCursorState{constructor(modelState){this.modelState=modelState,this.viewState=null}}class PartialViewCursorState{constructor(viewState){this.modelState=null,this.viewState=viewState}}class CursorState{constructor(modelState,viewState){this.modelState=modelState,this.viewState=viewState}static fromModelState(modelState){return new PartialModelCursorState(modelState)}static fromViewState(viewState){return new PartialViewCursorState(viewState)}static fromModelSelection(modelSelection){const selectionStartLineNumber=modelSelection.selectionStartLineNumber,selectionStartColumn=modelSelection.selectionStartColumn,positionLineNumber=modelSelection.positionLineNumber,positionColumn=modelSelection.positionColumn,modelState=new SingleCursorState(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(selectionStartLineNumber,selectionStartColumn,selectionStartLineNumber,selectionStartColumn),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(positionLineNumber,positionColumn),0);return CursorState.fromModelState(modelState)}static fromModelSelections(modelSelections){let states=[];for(let i=0,len=modelSelections.length;i<len;i++)states[i]=this.fromModelSelection(modelSelections[i]);return states}equals(other){return this.viewState.equals(other.viewState)&&this.modelState.equals(other.modelState)}}class EditOperationResult{constructor(type,commands,opts){this.type=type,this.commands=commands,this.shouldPushStackElementBefore=opts.shouldPushStackElementBefore,this.shouldPushStackElementAfter=opts.shouldPushStackElementAfter}}class CursorColumns{static visibleColumnFromColumn(lineContent,column,tabSize){const lineContentLength=lineContent.length,endOffset=column-1<lineContentLength?column-1:lineContentLength;let result=0,i=0;for(;i<endOffset;){const codePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.A(lineContent,endOffset,i);if(i+=codePoint>=65536?2:1,9===codePoint)result=CursorColumns.nextRenderTabStop(result,tabSize);else{let graphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.y(codePoint);for(;i<endOffset;){const nextCodePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.A(lineContent,endOffset,i),nextGraphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.y(nextCodePoint);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.c(graphemeBreakType,nextGraphemeBreakType))break;i+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.E(codePoint)||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.C(codePoint)?result+=2:result+=1}}return result}static visibleColumnFromColumn2(config,model,position){return this.visibleColumnFromColumn(model.getLineContent(position.lineNumber),position.column,config.tabSize)}static columnFromVisibleColumn(lineContent,visibleColumn,tabSize){if(visibleColumn<=0)return 1;const lineLength=lineContent.length;let beforeVisibleColumn=0,beforeColumn=1,i=0;for(;i<lineLength;){const codePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.A(lineContent,lineLength,i);let afterVisibleColumn;if(i+=codePoint>=65536?2:1,9===codePoint)afterVisibleColumn=CursorColumns.nextRenderTabStop(beforeVisibleColumn,tabSize);else{let graphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.y(codePoint);for(;i<lineLength;){const nextCodePoint=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.A(lineContent,lineLength,i),nextGraphemeBreakType=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.y(nextCodePoint);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.c(graphemeBreakType,nextGraphemeBreakType))break;i+=nextCodePoint>=65536?2:1,graphemeBreakType=nextGraphemeBreakType}afterVisibleColumn=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.E(codePoint)||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__.C(codePoint)?beforeVisibleColumn+2:beforeVisibleColumn+1}const afterColumn=i+1;if(afterVisibleColumn>=visibleColumn){return afterVisibleColumn-visibleColumn<visibleColumn-beforeVisibleColumn?afterColumn:beforeColumn}beforeVisibleColumn=afterVisibleColumn,beforeColumn=afterColumn}return lineLength+1}static columnFromVisibleColumn2(config,model,lineNumber,visibleColumn){let result=this.columnFromVisibleColumn(model.getLineContent(lineNumber),visibleColumn,config.tabSize),minColumn=model.getLineMinColumn(lineNumber);if(result<minColumn)return minColumn;let maxColumn=model.getLineMaxColumn(lineNumber);return result>maxColumn?maxColumn:result}static nextRenderTabStop(visibleColumn,tabSize){return visibleColumn+tabSize-visibleColumn%tabSize}static nextIndentTabStop(visibleColumn,indentSize){return visibleColumn+indentSize-visibleColumn%indentSize}static prevRenderTabStop(column,tabSize){return column-1-(column-1)%tabSize}static prevIndentTabStop(column,indentSize){return column-1-(column-1)%indentSize}}function isQuote(ch){return"'"===ch||'"'===ch||"`"===ch}},2334:function(module,__webpack_exports__,__webpack_require__){"use strict";var common_event=__webpack_require__(2296),lifecycle=__webpack_require__(2294),strings=__webpack_require__(2299),wordHelper=__webpack_require__(2395),languageConfiguration=__webpack_require__(2388),supports=__webpack_require__(2432);class characterPair_CharacterPairSupport{constructor(config){if(config.autoClosingPairs?this._autoClosingPairs=config.autoClosingPairs.map(el=>new languageConfiguration.b(el)):config.brackets?this._autoClosingPairs=config.brackets.map(b=>new languageConfiguration.b({open:b[0],close:b[1]})):this._autoClosingPairs=[],config.__electricCharacterSupport&&config.__electricCharacterSupport.docComment){const docComment=config.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new languageConfiguration.b({open:docComment.open,close:docComment.close||""}))}this._autoCloseBefore="string"==typeof config.autoCloseBefore?config.autoCloseBefore:characterPair_CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=config.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(autoClosingPair,context,column){if(0===context.getTokenCount())return!0;const tokenIndex=context.findTokenIndexAtOffset(column-2),standardTokenType=context.getStandardTokenType(tokenIndex);return autoClosingPair.isOK(standardTokenType)}getSurroundingPairs(){return this._surroundingPairs}}characterPair_CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var richEditBrackets=__webpack_require__(2433);class electricCharacter_BracketElectricCharacterSupport{constructor(richEditBrackets){this._richEditBrackets=richEditBrackets}getElectricCharacters(){let result=[];if(this._richEditBrackets)for(const bracket of this._richEditBrackets.brackets)for(const close of bracket.close){const lastChar=close.charAt(close.length-1);result.push(lastChar)}return result=result.filter((item,pos,array)=>array.indexOf(item)===pos)}onElectricCharacter(character,context,column){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const tokenIndex=context.findTokenIndexAtOffset(column-1);if(Object(supports.b)(context.getStandardTokenType(tokenIndex)))return null;const reversedBracketRegex=this._richEditBrackets.reversedRegex,text=context.getLineContent().substring(0,column-1)+character,r=richEditBrackets.a.findPrevBracketInRange(reversedBracketRegex,1,text,0,text.length);if(!r)return null;const bracketText=text.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[bracketText])return null;const textBeforeBracket=context.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(textBeforeBracket)?{matchOpenBracket:bracketText}:null}}class IndentRulesSupport{constructor(indentationRules){this._indentationRules=indentationRules}shouldIncrease(text){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(text))}shouldDecrease(text){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(text))}shouldIndentNextLine(text){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(text))}shouldIgnore(text){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(text))}getIndentMetadata(text){let ret=0;return this.shouldIncrease(text)&&(ret+=1),this.shouldDecrease(text)&&(ret+=2),this.shouldIndentNextLine(text)&&(ret+=4),this.shouldIgnore(text)&&(ret+=8),ret}}var errors=__webpack_require__(2302);class onEnter_OnEnterSupport{constructor(opts){(opts=opts||{}).brackets=opts.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],opts.brackets.forEach(bracket=>{const openRegExp=onEnter_OnEnterSupport._createOpenBracketRegExp(bracket[0]),closeRegExp=onEnter_OnEnterSupport._createCloseBracketRegExp(bracket[1]);openRegExp&&closeRegExp&&this._brackets.push({open:bracket[0],openRegExp:openRegExp,close:bracket[1],closeRegExp:closeRegExp})}),this._regExpRules=opts.onEnterRules||[]}onEnter(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText){if(autoIndent>=3)for(let i=0,len=this._regExpRules.length;i<len;i++){let rule=this._regExpRules[i];if([{reg:rule.beforeText,text:beforeEnterText},{reg:rule.afterText,text:afterEnterText},{reg:rule.oneLineAboveText,text:oneLineAboveText}].every(obj=>!obj.reg||obj.reg.test(obj.text)))return rule.action}if(autoIndent>=2&&beforeEnterText.length>0&&afterEnterText.length>0)for(let i=0,len=this._brackets.length;i<len;i++){let bracket=this._brackets[i];if(bracket.openRegExp.test(beforeEnterText)&&bracket.closeRegExp.test(afterEnterText))return{indentAction:languageConfiguration.a.IndentOutdent}}if(autoIndent>=2&&beforeEnterText.length>0)for(let i=0,len=this._brackets.length;i<len;i++){if(this._brackets[i].openRegExp.test(beforeEnterText))return{indentAction:languageConfiguration.a.Indent}}return null}static _createOpenBracketRegExp(bracket){let str=strings.v(bracket);return/\B/.test(str.charAt(0))||(str="\\b"+str),str+="\\s*$",onEnter_OnEnterSupport._safeRegExp(str)}static _createCloseBracketRegExp(bracket){let str=strings.v(bracket);return/\B/.test(str.charAt(str.length-1))||(str+="\\b"),str="^\\s*"+str,onEnter_OnEnterSupport._safeRegExp(str)}static _safeRegExp(def){try{return new RegExp(def)}catch(err){return Object(errors.e)(err),null}}}__webpack_require__.d(__webpack_exports__,"a",function(){return LanguageConfigurationRegistry});class languageConfigurationRegistry_RichEditSupport{constructor(languageIdentifier,previous,rawConf){this._languageIdentifier=languageIdentifier,this._brackets=null,this._electricCharacter=null;let prev=null;previous&&(prev=previous._conf),this._conf=languageConfigurationRegistry_RichEditSupport._mergeConf(prev,rawConf),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new onEnter_OnEnterSupport(this._conf):null,this.comments=languageConfigurationRegistry_RichEditSupport._handleComments(this._conf),this.characterPair=new characterPair_CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||wordHelper.a,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new richEditBrackets.b(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new electricCharacter_BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText){return this._onEnterSupport?this._onEnterSupport.onEnter(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText):null}static _mergeConf(prev,current){return{comments:prev?current.comments||prev.comments:current.comments,brackets:prev?current.brackets||prev.brackets:current.brackets,wordPattern:prev?current.wordPattern||prev.wordPattern:current.wordPattern,indentationRules:prev?current.indentationRules||prev.indentationRules:current.indentationRules,onEnterRules:prev?current.onEnterRules||prev.onEnterRules:current.onEnterRules,autoClosingPairs:prev?current.autoClosingPairs||prev.autoClosingPairs:current.autoClosingPairs,surroundingPairs:prev?current.surroundingPairs||prev.surroundingPairs:current.surroundingPairs,autoCloseBefore:prev?current.autoCloseBefore||prev.autoCloseBefore:current.autoCloseBefore,folding:prev?current.folding||prev.folding:current.folding,__electricCharacterSupport:prev?current.__electricCharacterSupport||prev.__electricCharacterSupport:current.__electricCharacterSupport}}static _handleComments(conf){let commentRule=conf.comments;if(!commentRule)return null;let comments={};if(commentRule.lineComment&&(comments.lineCommentToken=commentRule.lineComment),commentRule.blockComment){let[blockStart,blockEnd]=commentRule.blockComment;comments.blockCommentStartToken=blockStart,comments.blockCommentEndToken=blockEnd}return comments}}class LanguageConfigurationChangeEvent{constructor(languageIdentifier){this.languageIdentifier=languageIdentifier}}const LanguageConfigurationRegistry=new class languageConfigurationRegistry_LanguageConfigurationRegistryImpl{constructor(){this._entries=new Map,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event}register(languageIdentifier,configuration){let previous=this._getRichEditSupport(languageIdentifier.id),current=new languageConfigurationRegistry_RichEditSupport(languageIdentifier,previous,configuration);return this._entries.set(languageIdentifier.id,current),this._onDidChange.fire(new LanguageConfigurationChangeEvent(languageIdentifier)),Object(lifecycle.h)(()=>{this._entries.get(languageIdentifier.id)===current&&(this._entries.set(languageIdentifier.id,previous),this._onDidChange.fire(new LanguageConfigurationChangeEvent(languageIdentifier)))})}_getRichEditSupport(languageId){return this._entries.get(languageId)}getIndentationRules(languageId){const value=this._entries.get(languageId);return value&&value.indentationRules||null}_getElectricCharacterSupport(languageId){let value=this._getRichEditSupport(languageId);return value&&value.electricCharacter||null}getElectricCharacters(languageId){let electricCharacterSupport=this._getElectricCharacterSupport(languageId);return electricCharacterSupport?electricCharacterSupport.getElectricCharacters():[]}onElectricCharacter(character,context,column){let scopedLineTokens=Object(supports.a)(context,column-1),electricCharacterSupport=this._getElectricCharacterSupport(scopedLineTokens.languageId);return electricCharacterSupport?electricCharacterSupport.onElectricCharacter(character,scopedLineTokens,column-scopedLineTokens.firstCharOffset):null}getComments(languageId){let value=this._getRichEditSupport(languageId);return value&&value.comments||null}_getCharacterPairSupport(languageId){let value=this._getRichEditSupport(languageId);return value&&value.characterPair||null}getAutoClosingPairs(languageId){let characterPairSupport=this._getCharacterPairSupport(languageId);return characterPairSupport?characterPairSupport.getAutoClosingPairs():[]}getAutoCloseBeforeSet(languageId){let characterPairSupport=this._getCharacterPairSupport(languageId);return characterPairSupport?characterPairSupport.getAutoCloseBeforeSet():characterPair_CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(languageId){let characterPairSupport=this._getCharacterPairSupport(languageId);return characterPairSupport?characterPairSupport.getSurroundingPairs():[]}shouldAutoClosePair(autoClosingPair,context,column){const scopedLineTokens=Object(supports.a)(context,column-1);return characterPair_CharacterPairSupport.shouldAutoClosePair(autoClosingPair,scopedLineTokens,column-scopedLineTokens.firstCharOffset)}getWordDefinition(languageId){let value=this._getRichEditSupport(languageId);return value?Object(wordHelper.c)(value.wordDefinition||null):Object(wordHelper.c)(null)}getFoldingRules(languageId){let value=this._getRichEditSupport(languageId);return value?value.foldingRules:{}}getIndentRulesSupport(languageId){let value=this._getRichEditSupport(languageId);return value&&value.indentRulesSupport||null}getPrecedingValidLine(model,lineNumber,indentRulesSupport){let languageID=model.getLanguageIdAtPosition(lineNumber,0);if(lineNumber>1){let lastLineNumber,resultLineNumber=-1;for(lastLineNumber=lineNumber-1;lastLineNumber>=1;lastLineNumber--){if(model.getLanguageIdAtPosition(lastLineNumber,0)!==languageID)return resultLineNumber;let text=model.getLineContent(lastLineNumber);if(!indentRulesSupport.shouldIgnore(text)&&!/^\s+$/.test(text)&&""!==text)return lastLineNumber;resultLineNumber=lastLineNumber}}return-1}getInheritIndentForLine(autoIndent,model,lineNumber,honorIntentialIndent=!0){if(autoIndent<4)return null;const indentRulesSupport=this.getIndentRulesSupport(model.getLanguageIdentifier().id);if(!indentRulesSupport)return null;if(lineNumber<=1)return{indentation:"",action:null};const precedingUnIgnoredLine=this.getPrecedingValidLine(model,lineNumber,indentRulesSupport);if(precedingUnIgnoredLine<0)return null;if(precedingUnIgnoredLine<1)return{indentation:"",action:null};const precedingUnIgnoredLineContent=model.getLineContent(precedingUnIgnoredLine);if(indentRulesSupport.shouldIncrease(precedingUnIgnoredLineContent)||indentRulesSupport.shouldIndentNextLine(precedingUnIgnoredLineContent))return{indentation:strings.z(precedingUnIgnoredLineContent),action:languageConfiguration.a.Indent,line:precedingUnIgnoredLine};if(indentRulesSupport.shouldDecrease(precedingUnIgnoredLineContent))return{indentation:strings.z(precedingUnIgnoredLineContent),action:null,line:precedingUnIgnoredLine};{if(1===precedingUnIgnoredLine)return{indentation:strings.z(model.getLineContent(precedingUnIgnoredLine)),action:null,line:precedingUnIgnoredLine};const previousLine=precedingUnIgnoredLine-1,previousLineIndentMetadata=indentRulesSupport.getIndentMetadata(model.getLineContent(previousLine));if(!(3&previousLineIndentMetadata)&&4&previousLineIndentMetadata){let stopLine=0;for(let i=previousLine-1;i>0;i--)if(!indentRulesSupport.shouldIndentNextLine(model.getLineContent(i))){stopLine=i;break}return{indentation:strings.z(model.getLineContent(stopLine+1)),action:null,line:stopLine+1}}if(honorIntentialIndent)return{indentation:strings.z(model.getLineContent(precedingUnIgnoredLine)),action:null,line:precedingUnIgnoredLine};for(let i=precedingUnIgnoredLine;i>0;i--){const lineContent=model.getLineContent(i);if(indentRulesSupport.shouldIncrease(lineContent))return{indentation:strings.z(lineContent),action:languageConfiguration.a.Indent,line:i};if(indentRulesSupport.shouldIndentNextLine(lineContent)){let stopLine=0;for(let j=i-1;j>0;j--)if(!indentRulesSupport.shouldIndentNextLine(model.getLineContent(i))){stopLine=j;break}return{indentation:strings.z(model.getLineContent(stopLine+1)),action:null,line:stopLine+1}}if(indentRulesSupport.shouldDecrease(lineContent))return{indentation:strings.z(lineContent),action:null,line:i}}return{indentation:strings.z(model.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(autoIndent,virtualModel,languageId,lineNumber,indentConverter){if(autoIndent<4)return null;const richEditSupport=this._getRichEditSupport(languageId);if(!richEditSupport)return null;const indentRulesSupport=this.getIndentRulesSupport(languageId);if(!indentRulesSupport)return null;const indent=this.getInheritIndentForLine(autoIndent,virtualModel,lineNumber),lineContent=virtualModel.getLineContent(lineNumber);if(indent){const inheritLine=indent.line;if(void 0!==inheritLine){const enterResult=richEditSupport.onEnter(autoIndent,"",virtualModel.getLineContent(inheritLine),"");if(enterResult){let indentation=strings.z(virtualModel.getLineContent(inheritLine));return enterResult.removeText&&(indentation=indentation.substring(0,indentation.length-enterResult.removeText)),enterResult.indentAction===languageConfiguration.a.Indent||enterResult.indentAction===languageConfiguration.a.IndentOutdent?indentation=indentConverter.shiftIndent(indentation):enterResult.indentAction===languageConfiguration.a.Outdent&&(indentation=indentConverter.unshiftIndent(indentation)),indentRulesSupport.shouldDecrease(lineContent)&&(indentation=indentConverter.unshiftIndent(indentation)),enterResult.appendText&&(indentation+=enterResult.appendText),strings.z(indentation)}}return indentRulesSupport.shouldDecrease(lineContent)?indent.action===languageConfiguration.a.Indent?indent.indentation:indentConverter.unshiftIndent(indent.indentation):indent.action===languageConfiguration.a.Indent?indentConverter.shiftIndent(indent.indentation):indent.indentation}return null}getIndentForEnter(autoIndent,model,range,indentConverter){if(autoIndent<4)return null;model.forceTokenization(range.startLineNumber);const lineTokens=model.getLineTokens(range.startLineNumber),scopedLineTokens=Object(supports.a)(lineTokens,range.startColumn-1),scopedLineText=scopedLineTokens.getLineContent();let beforeEnterText,afterEnterText,embeddedLanguage=!1;scopedLineTokens.firstCharOffset>0&&lineTokens.getLanguageId(0)!==scopedLineTokens.languageId?(embeddedLanguage=!0,beforeEnterText=scopedLineText.substr(0,range.startColumn-1-scopedLineTokens.firstCharOffset)):beforeEnterText=lineTokens.getLineContent().substring(0,range.startColumn-1),afterEnterText=range.isEmpty()?scopedLineText.substr(range.startColumn-1-scopedLineTokens.firstCharOffset):this.getScopedLineTokens(model,range.endLineNumber,range.endColumn).getLineContent().substr(range.endColumn-1-scopedLineTokens.firstCharOffset);const indentRulesSupport=this.getIndentRulesSupport(scopedLineTokens.languageId);if(!indentRulesSupport)return null;const beforeEnterResult=beforeEnterText,beforeEnterIndent=strings.z(beforeEnterText),virtualModel={getLineTokens:lineNumber=>model.getLineTokens(lineNumber),getLanguageIdentifier:()=>model.getLanguageIdentifier(),getLanguageIdAtPosition:(lineNumber,column)=>model.getLanguageIdAtPosition(lineNumber,column),getLineContent:lineNumber=>lineNumber===range.startLineNumber?beforeEnterResult:model.getLineContent(lineNumber)},currentLineIndent=strings.z(lineTokens.getLineContent()),afterEnterAction=this.getInheritIndentForLine(autoIndent,virtualModel,range.startLineNumber+1);if(!afterEnterAction){const beforeEnter=embeddedLanguage?currentLineIndent:beforeEnterIndent;return{beforeEnter:beforeEnter,afterEnter:beforeEnter}}let afterEnterIndent=embeddedLanguage?currentLineIndent:afterEnterAction.indentation;return afterEnterAction.action===languageConfiguration.a.Indent&&(afterEnterIndent=indentConverter.shiftIndent(afterEnterIndent)),indentRulesSupport.shouldDecrease(afterEnterText)&&(afterEnterIndent=indentConverter.unshiftIndent(afterEnterIndent)),{beforeEnter:embeddedLanguage?currentLineIndent:beforeEnterIndent,afterEnter:afterEnterIndent}}getIndentActionForType(autoIndent,model,range,ch,indentConverter){if(autoIndent<4)return null;const scopedLineTokens=this.getScopedLineTokens(model,range.startLineNumber,range.startColumn),indentRulesSupport=this.getIndentRulesSupport(scopedLineTokens.languageId);if(!indentRulesSupport)return null;const scopedLineText=scopedLineTokens.getLineContent(),beforeTypeText=scopedLineText.substr(0,range.startColumn-1-scopedLineTokens.firstCharOffset);let afterTypeText;if(afterTypeText=range.isEmpty()?scopedLineText.substr(range.startColumn-1-scopedLineTokens.firstCharOffset):this.getScopedLineTokens(model,range.endLineNumber,range.endColumn).getLineContent().substr(range.endColumn-1-scopedLineTokens.firstCharOffset),!indentRulesSupport.shouldDecrease(beforeTypeText+afterTypeText)&&indentRulesSupport.shouldDecrease(beforeTypeText+ch+afterTypeText)){const r=this.getInheritIndentForLine(autoIndent,model,range.startLineNumber,!1);if(!r)return null;let indentation=r.indentation;return r.action!==languageConfiguration.a.Indent&&(indentation=indentConverter.unshiftIndent(indentation)),indentation}return null}getIndentMetadata(model,lineNumber){const indentRulesSupport=this.getIndentRulesSupport(model.getLanguageIdentifier().id);return indentRulesSupport?lineNumber<1||lineNumber>model.getLineCount()?null:indentRulesSupport.getIndentMetadata(model.getLineContent(lineNumber)):null}getEnterAction(autoIndent,model,range){const scopedLineTokens=this.getScopedLineTokens(model,range.startLineNumber,range.startColumn),richEditSupport=this._getRichEditSupport(scopedLineTokens.languageId);if(!richEditSupport)return null;const scopedLineText=scopedLineTokens.getLineContent(),beforeEnterText=scopedLineText.substr(0,range.startColumn-1-scopedLineTokens.firstCharOffset);let afterEnterText;afterEnterText=range.isEmpty()?scopedLineText.substr(range.startColumn-1-scopedLineTokens.firstCharOffset):this.getScopedLineTokens(model,range.endLineNumber,range.endColumn).getLineContent().substr(range.endColumn-1-scopedLineTokens.firstCharOffset);let oneLineAboveText="";if(range.startLineNumber>1&&0===scopedLineTokens.firstCharOffset){const oneLineAboveScopedLineTokens=this.getScopedLineTokens(model,range.startLineNumber-1);oneLineAboveScopedLineTokens.languageId===scopedLineTokens.languageId&&(oneLineAboveText=oneLineAboveScopedLineTokens.getLineContent())}const enterResult=richEditSupport.onEnter(autoIndent,oneLineAboveText,beforeEnterText,afterEnterText);if(!enterResult)return null;const indentAction=enterResult.indentAction;let appendText=enterResult.appendText;const removeText=enterResult.removeText||0;appendText||(appendText=indentAction===languageConfiguration.a.Indent||indentAction===languageConfiguration.a.IndentOutdent?"\t":"");let indentation=this.getIndentationAtPosition(model,range.startLineNumber,range.startColumn);return removeText&&(indentation=indentation.substring(0,indentation.length-removeText)),{indentAction:indentAction,appendText:appendText,removeText:removeText,indentation:indentation}}getIndentationAtPosition(model,lineNumber,column){const lineText=model.getLineContent(lineNumber);let indentation=strings.z(lineText);return indentation.length>column-1&&(indentation=indentation.substring(0,column-1)),indentation}getScopedLineTokens(model,lineNumber,columnNumber){model.forceTokenization(lineNumber);const lineTokens=model.getLineTokens(lineNumber),column=void 0===columnNumber?model.getLineMaxColumn(lineNumber)-1:columnNumber-1;return Object(supports.a)(lineTokens,column)}getBracketsSupport(languageId){const value=this._getRichEditSupport(languageId);return value&&value.brackets||null}}},2335:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return setARIAContainer}),__webpack_require__.d(__webpack_exports__,"a",function(){return alert}),__webpack_require__.d(__webpack_exports__,"c",function(){return status});__webpack_require__(2507);var _common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305),_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2298);const MAX_MESSAGE_LENGTH=2e4;let ariaContainer,alertContainer,alertContainer2,statusContainer,statusContainer2;function setARIAContainer(parent){(ariaContainer=document.createElement("div")).className="monaco-aria-container";const createAlertContainer=()=>{const element=document.createElement("div");return element.className="monaco-alert",element.setAttribute("role","alert"),element.setAttribute("aria-atomic","true"),ariaContainer.appendChild(element),element};alertContainer=createAlertContainer(),alertContainer2=createAlertContainer();const createStatusContainer=()=>{const element=document.createElement("div");return element.className="monaco-status",element.setAttribute("role","complementary"),element.setAttribute("aria-live","polite"),element.setAttribute("aria-atomic","true"),ariaContainer.appendChild(element),element};statusContainer=createStatusContainer(),statusContainer2=createStatusContainer(),parent.appendChild(ariaContainer)}function alert(msg){ariaContainer&&(alertContainer.textContent!==msg?(_dom_js__WEBPACK_IMPORTED_MODULE_2__.s(alertContainer2),insertMessage(alertContainer,msg)):(_dom_js__WEBPACK_IMPORTED_MODULE_2__.s(alertContainer),insertMessage(alertContainer2,msg)))}function status(msg){ariaContainer&&(_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f?alert(msg):statusContainer.textContent!==msg?(_dom_js__WEBPACK_IMPORTED_MODULE_2__.s(statusContainer2),insertMessage(statusContainer,msg)):(_dom_js__WEBPACK_IMPORTED_MODULE_2__.s(statusContainer),insertMessage(statusContainer2,msg)))}function insertMessage(target,msg){_dom_js__WEBPACK_IMPORTED_MODULE_2__.s(target),msg.length>MAX_MESSAGE_LENGTH&&(msg=msg.substr(0,MAX_MESSAGE_LENGTH)),target.textContent=msg,target.style.visibility="hidden",target.style.visibility="visible"}},2336:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IModelService}),__webpack_require__.d(__webpack_exports__,"b",function(){return shouldSynchronizeModel});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IModelService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("modelService");function shouldSynchronizeModel(model){return!model.isTooLargeForSyncing()&&!model.isForSimpleWidget}},2337:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Action}),__webpack_require__.d(__webpack_exports__,"b",function(){return ActionRunner}),__webpack_require__.d(__webpack_exports__,"c",function(){return Separator}),__webpack_require__.d(__webpack_exports__,"d",function(){return SubmenuAction});var _lifecycle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2294),_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class Action extends _lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.a{constructor(id,label="",cssClass="",enabled=!0,actionCallback){super(),this._onDidChange=this._register(new _event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=id,this._label=label,this._cssClass=cssClass,this._enabled=enabled,this._actionCallback=actionCallback}get id(){return this._id}get label(){return this._label}set label(value){this._setLabel(value)}_setLabel(value){this._label!==value&&(this._label=value,this._onDidChange.fire({label:value}))}get tooltip(){return this._tooltip||""}set tooltip(value){this._setTooltip(value)}_setTooltip(value){this._tooltip!==value&&(this._tooltip=value,this._onDidChange.fire({tooltip:value}))}get class(){return this._cssClass}set class(value){this._setClass(value)}_setClass(value){this._cssClass!==value&&(this._cssClass=value,this._onDidChange.fire({class:value}))}get enabled(){return this._enabled}set enabled(value){this._setEnabled(value)}_setEnabled(value){this._enabled!==value&&(this._enabled=value,this._onDidChange.fire({enabled:value}))}get checked(){return this._checked}set checked(value){this._setChecked(value)}_setChecked(value){this._checked!==value&&(this._checked=value,this._onDidChange.fire({checked:value}))}run(event,_data){return this._actionCallback?this._actionCallback(event):Promise.resolve(!0)}}class ActionRunner extends _lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.a{constructor(){super(...arguments),this._onDidBeforeRun=this._register(new _event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onDidBeforeRun=this._onDidBeforeRun.event,this._onDidRun=this._register(new _event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onDidRun=this._onDidRun.event}run(action,context){return __awaiter(this,void 0,void 0,function*(){if(!action.enabled)return Promise.resolve(null);this._onDidBeforeRun.fire({action:action});try{const result=yield this.runAction(action,context);this._onDidRun.fire({action:action,result:result})}catch(error){this._onDidRun.fire({action:action,error:error})}})}runAction(action,context){const res=context?action.run(context):action.run();return Promise.resolve(res)}}class Separator extends Action{constructor(label){super(Separator.ID,label,label?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Separator.ID="vs.actions.separator";class SubmenuAction extends Action{constructor(id,label,_actions,cssClass){super(id,label,cssClass,!0),this._actions=_actions}get actions(){return Array.isArray(this._actions)?this._actions:this._actions()}}},2338:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return editorLineHighlight}),__webpack_require__.d(__webpack_exports__,"j",function(){return editorLineHighlightBorder}),__webpack_require__.d(__webpack_exports__,"g",function(){return editorCursorForeground}),__webpack_require__.d(__webpack_exports__,"f",function(){return editorCursorBackground}),__webpack_require__.d(__webpack_exports__,"h",function(){return editorIndentGuides}),__webpack_require__.d(__webpack_exports__,"a",function(){return editorActiveIndentGuides}),__webpack_require__.d(__webpack_exports__,"k",function(){return editorLineNumbers}),__webpack_require__.d(__webpack_exports__,"b",function(){return editorActiveLineNumber}),__webpack_require__.d(__webpack_exports__,"n",function(){return editorRuler}),__webpack_require__.d(__webpack_exports__,"e",function(){return editorCodeLensForeground}),__webpack_require__.d(__webpack_exports__,"c",function(){return editorBracketMatchBackground}),__webpack_require__.d(__webpack_exports__,"d",function(){return editorBracketMatchBorder}),__webpack_require__.d(__webpack_exports__,"m",function(){return editorOverviewRulerBorder}),__webpack_require__.d(__webpack_exports__,"l",function(){return editorOverviewRulerBackground}),__webpack_require__.d(__webpack_exports__,"o",function(){return editorUnnecessaryCodeBorder}),__webpack_require__.d(__webpack_exports__,"p",function(){return editorUnnecessaryCodeOpacity}),__webpack_require__.d(__webpack_exports__,"s",function(){return overviewRulerRangeHighlight}),__webpack_require__.d(__webpack_exports__,"q",function(){return overviewRulerError}),__webpack_require__.d(__webpack_exports__,"t",function(){return overviewRulerWarning}),__webpack_require__.d(__webpack_exports__,"r",function(){return overviewRulerInfo});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2320),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2304);const editorLineHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineHighlight","Background color for the highlight of line at the cursor position.")),editorLineHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),editorRangeHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),editorRangeHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editor.rangeHighlightBorder",{dark:null,light:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),editorSymbolHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editor.symbolHighlightBackground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.x,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.x,hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),editorSymbolHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editor.symbolHighlightBorder",{dark:null,light:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),editorCursorForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorCursor.foreground",{dark:"#AEAFAD",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.black,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("caret","Color of the editor cursor.")),editorCursorBackground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorCursor.background",null,_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),editorWhitespaces=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorWhitespaces","Color of whitespace characters in the editor.")),editorIndentGuides=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorIndentGuide.background",{dark:editorWhitespaces,light:editorWhitespaces,hc:editorWhitespaces},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorIndentGuides","Color of the editor indentation guides.")),editorActiveIndentGuides=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorIndentGuide.activeBackground",{dark:editorWhitespaces,light:editorWhitespaces,hc:editorWhitespaces},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorActiveIndentGuide","Color of the active editor indentation guides.")),editorLineNumbers=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorLineNumbers","Color of editor line numbers.")),deprecatedEditorActiveLineNumber=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorActiveLineNumber","Color of editor active line number"),!1,_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),editorActiveLineNumber=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorLineNumber.activeForeground",{dark:deprecatedEditorActiveLineNumber,light:deprecatedEditorActiveLineNumber,hc:deprecatedEditorActiveLineNumber},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorActiveLineNumber","Color of editor active line number")),editorRuler=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorRuler.foreground",{dark:"#5A5A5A",light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.lightgrey,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.white},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorRuler","Color of the editor rulers.")),editorCodeLensForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorCodeLensForeground","Foreground color of editor CodeLens")),editorBracketMatchBackground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorBracketMatchBackground","Background color behind matching brackets")),editorBracketMatchBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.h},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorBracketMatchBorder","Color for matching brackets boxes")),editorOverviewRulerBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorOverviewRulerBorder","Color of the overview ruler border.")),editorOverviewRulerBackground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorOverviewRuler.background",null,_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),editorGutter=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorGutter.background",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.s,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.s,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.s},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),editorUnnecessaryCodeBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorUnnecessaryCode.border",{dark:null,light:null,hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#fff").transparent(.8)},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),editorUnnecessaryCodeOpacity=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorUnnecessaryCode.opacity",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#000a"),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a.fromHex("#0007"),hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),rulerRangeDefault=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(0,122,204,.6)),overviewRulerRangeHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorOverviewRuler.rangeHighlightForeground",{dark:rulerRangeDefault,light:rulerRangeDefault,hc:rulerRangeDefault},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),overviewRulerError=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorOverviewRuler.errorForeground",{dark:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),light:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,18,18,.7)),hc:new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.a(new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(255,50,50,1))},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRuleError","Overview ruler marker color for errors.")),overviewRulerWarning=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorOverviewRuler.warningForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.T,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.T,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.S},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRuleWarning","Overview ruler marker color for warnings.")),overviewRulerInfo=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.gc)("editorOverviewRuler.infoForeground",{dark:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.L,light:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.L,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.K},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRuleInfo","Overview ruler marker color for infos."));Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__.g)((theme,collector)=>{const background=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.s);background&&collector.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${background}; }`);const foreground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.B);foreground&&collector.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${foreground}; }`);const gutter=theme.getColor(editorGutter);gutter&&collector.addRule(`.monaco-editor .margin { background-color: ${gutter}; }`);const rangeHighlight=theme.getColor(editorRangeHighlight);rangeHighlight&&collector.addRule(`.monaco-editor .rangeHighlight { background-color: ${rangeHighlight}; }`);const rangeHighlightBorder=theme.getColor(editorRangeHighlightBorder);rangeHighlightBorder&&collector.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===theme.type?"dotted":"solid"} ${rangeHighlightBorder}; }`);const symbolHighlight=theme.getColor(editorSymbolHighlight);symbolHighlight&&collector.addRule(`.monaco-editor .symbolHighlight { background-color: ${symbolHighlight}; }`);const symbolHighlightBorder=theme.getColor(editorSymbolHighlightBorder);symbolHighlightBorder&&collector.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===theme.type?"dotted":"solid"} ${symbolHighlightBorder}; }`);const invisibles=theme.getColor(editorWhitespaces);invisibles&&(collector.addRule(`.monaco-editor .mtkw { color: ${invisibles} !important; }`),collector.addRule(`.monaco-editor .mtkz { color: ${invisibles} !important; }`))})},2339:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StandardMouseEvent}),__webpack_require__.d(__webpack_exports__,"b",function(){return StandardWheelEvent});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2326),_iframe_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2457),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305);class StandardMouseEvent{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let iframeOffsets=_iframe_js__WEBPACK_IMPORTED_MODULE_1__.a.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=iframeOffsets.left,this.posy-=iframeOffsets.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class StandardWheelEvent{constructor(e,deltaX=0,deltaY=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=deltaY,this.deltaX=deltaX,e){let e1=e,e2=e;if(void 0!==e1.wheelDeltaY)this.deltaY=e1.wheelDeltaY/120;else if(void 0!==e2.VERTICAL_AXIS&&e2.axis===e2.VERTICAL_AXIS)this.deltaY=-e2.detail/3;else if("wheel"===e.type){const ev=e;ev.deltaMode===ev.DOM_DELTA_LINE?_browser_js__WEBPACK_IMPORTED_MODULE_0__.h&&!_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==e1.wheelDeltaX)_browser_js__WEBPACK_IMPORTED_MODULE_0__.j&&_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.i?this.deltaX=-e1.wheelDeltaX/120:this.deltaX=e1.wheelDeltaX/120;else if(void 0!==e2.HORIZONTAL_AXIS&&e2.axis===e2.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const ev=e;ev.deltaMode===ev.DOM_DELTA_LINE?_browser_js__WEBPACK_IMPORTED_MODULE_0__.h&&!_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},2340:function(module,__webpack_exports__,__webpack_require__){"use strict";var OverviewRulerLane,MinimapPosition;__webpack_require__.d(__webpack_exports__,"d",function(){return OverviewRulerLane}),__webpack_require__.d(__webpack_exports__,"c",function(){return MinimapPosition}),__webpack_require__.d(__webpack_exports__,"e",function(){return TextModelResolvedOptions}),__webpack_require__.d(__webpack_exports__,"b",function(){return FindMatch}),__webpack_require__.d(__webpack_exports__,"f",function(){return ValidAnnotatedEditOperation}),__webpack_require__.d(__webpack_exports__,"a",function(){return ApplyEditsResult}),function(OverviewRulerLane){OverviewRulerLane[OverviewRulerLane.Left=1]="Left",OverviewRulerLane[OverviewRulerLane.Center=2]="Center",OverviewRulerLane[OverviewRulerLane.Right=4]="Right",OverviewRulerLane[OverviewRulerLane.Full=7]="Full"}(OverviewRulerLane||(OverviewRulerLane={})),function(MinimapPosition){MinimapPosition[MinimapPosition.Inline=1]="Inline",MinimapPosition[MinimapPosition.Gutter=2]="Gutter"}(MinimapPosition||(MinimapPosition={}));class TextModelResolvedOptions{constructor(src){this.tabSize=Math.max(1,0|src.tabSize),this.indentSize=0|src.tabSize,this.insertSpaces=Boolean(src.insertSpaces),this.defaultEOL=0|src.defaultEOL,this.trimAutoWhitespace=Boolean(src.trimAutoWhitespace)}equals(other){return this.tabSize===other.tabSize&&this.indentSize===other.indentSize&&this.insertSpaces===other.insertSpaces&&this.defaultEOL===other.defaultEOL&&this.trimAutoWhitespace===other.trimAutoWhitespace}createChangeEvent(newOpts){return{tabSize:this.tabSize!==newOpts.tabSize,indentSize:this.indentSize!==newOpts.indentSize,insertSpaces:this.insertSpaces!==newOpts.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==newOpts.trimAutoWhitespace}}}class FindMatch{constructor(range,matches){this.range=range,this.matches=matches}}class ValidAnnotatedEditOperation{constructor(identifier,range,text,forceMoveMarkers,isAutoWhitespaceEdit,_isTracked){this.identifier=identifier,this.range=range,this.text=text,this.forceMoveMarkers=forceMoveMarkers,this.isAutoWhitespaceEdit=isAutoWhitespaceEdit,this._isTracked=_isTracked}}class ApplyEditsResult{constructor(reverseEdits,changes,trimAutoWhitespaceLineNumbers){this.reverseEdits=reverseEdits,this.changes=changes,this.trimAutoWhitespaceLineNumbers=trimAutoWhitespaceLineNumbers}}},2341:function(module,__webpack_exports__,__webpack_require__){"use strict";var Iterable;__webpack_require__.d(__webpack_exports__,"a",function(){return Iterable}),function(Iterable){Iterable.is=function is(thing){return thing&&"object"==typeof thing&&"function"==typeof thing[Symbol.iterator]};const _empty=Object.freeze([]);Iterable.empty=function empty(){return _empty},Iterable.single=function*single(element){yield element},Iterable.from=function from(iterable){return iterable||_empty},Iterable.first=function first(iterable){return iterable[Symbol.iterator]().next().value},Iterable.some=function some(iterable,predicate){for(const element of iterable)if(predicate(element))return!0;return!1},Iterable.filter=function*filter(iterable,predicate){for(const element of iterable)predicate(element)&&(yield element)},Iterable.map=function*map(iterable,fn){for(const element of iterable)yield fn(element)},Iterable.concat=function*concat(...iterables){for(const iterable of iterables)for(const element of iterable)yield element},Iterable.consume=function consume(iterable,atMost=Number.POSITIVE_INFINITY){const consumed=[];if(0===atMost)return[consumed,iterable];const iterator=iterable[Symbol.iterator]();for(let i=0;i<atMost;i++){const next=iterator.next();if(next.done)return[consumed,Iterable.empty()];consumed.push(next.value)}return[consumed,{[Symbol.iterator]:()=>iterator}]}}(Iterable||(Iterable={}))},2342:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StandardKeyboardEvent});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2326),_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2329),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305);let KEY_CODE_MAP=new Array(230),INVERSE_KEY_CODE_MAP=new Array(112);!function(){for(let i=0;i<INVERSE_KEY_CODE_MAP.length;i++)INVERSE_KEY_CODE_MAP[i]=-1;function define(code,keyCode){KEY_CODE_MAP[code]=keyCode,INVERSE_KEY_CODE_MAP[keyCode]=code}define(3,7),define(8,1),define(9,2),define(13,3),define(16,4),define(17,5),define(18,6),define(19,7),define(20,8),define(27,9),define(32,10),define(33,11),define(34,12),define(35,13),define(36,14),define(37,15),define(38,16),define(39,17),define(40,18),define(45,19),define(46,20),define(48,21),define(49,22),define(50,23),define(51,24),define(52,25),define(53,26),define(54,27),define(55,28),define(56,29),define(57,30),define(65,31),define(66,32),define(67,33),define(68,34),define(69,35),define(70,36),define(71,37),define(72,38),define(73,39),define(74,40),define(75,41),define(76,42),define(77,43),define(78,44),define(79,45),define(80,46),define(81,47),define(82,48),define(83,49),define(84,50),define(85,51),define(86,52),define(87,53),define(88,54),define(89,55),define(90,56),define(93,58),define(96,93),define(97,94),define(98,95),define(99,96),define(100,97),define(101,98),define(102,99),define(103,100),define(104,101),define(105,102),define(106,103),define(107,104),define(108,105),define(109,106),define(110,107),define(111,108),define(112,59),define(113,60),define(114,61),define(115,62),define(116,63),define(117,64),define(118,65),define(119,66),define(120,67),define(121,68),define(122,69),define(123,70),define(124,71),define(125,72),define(126,73),define(127,74),define(128,75),define(129,76),define(130,77),define(144,78),define(145,79),define(186,80),define(187,81),define(188,82),define(189,83),define(190,84),define(191,85),define(192,86),define(193,110),define(194,111),define(219,87),define(220,88),define(221,89),define(222,90),define(223,91),define(226,92),define(229,109),_browser_js__WEBPACK_IMPORTED_MODULE_0__.h?(define(59,80),define(107,81),define(109,83),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f&&define(224,57)):_browser_js__WEBPACK_IMPORTED_MODULE_0__.l&&(define(91,57),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?define(93,57):define(92,57))}();const ctrlKeyMod=_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?256:2048,altKeyMod=512,shiftKeyMod=1024,metaKeyMod=_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?2048:256;class StandardKeyboardEvent{constructor(source){this._standardKeyboardEventBrand=!0;let e=source;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.keyCode=function extractKeyCode(e){if(e.charCode){let char=String.fromCharCode(e.charCode).toUpperCase();return _common_keyCodes_js__WEBPACK_IMPORTED_MODULE_1__.b.fromString(char)}return KEY_CODE_MAP[e.keyCode]||0}(e),this.code=e.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(other){return this._asKeybinding===other}_computeKeybinding(){let key=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(key=this.keyCode);let result=0;return this.ctrlKey&&(result|=ctrlKeyMod),this.altKey&&(result|=altKeyMod),this.shiftKey&&(result|=shiftKeyMod),this.metaKey&&(result|=metaKeyMod),result|=key}_computeRuntimeKeybinding(){let key=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(key=this.keyCode),new _common_keyCodes_js__WEBPACK_IMPORTED_MODULE_1__.e(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,key)}}},2343:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Widget});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2298),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2342),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2339),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_touch_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2348);class Widget extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{onclick(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.CLICK,e=>listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.a(e))))}onmousedown(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.MOUSE_DOWN,e=>listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.a(e))))}onmouseover(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.MOUSE_OVER,e=>listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.a(e))))}onnonbubblingmouseout(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.j(domNode,e=>listener(new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_2__.a(e))))}onkeydown(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.KEY_DOWN,e=>listener(new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__.a(e))))}onkeyup(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.KEY_UP,e=>listener(new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_1__.a(e))))}oninput(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.INPUT,listener))}onblur(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.BLUR,listener))}onfocus(domNode,listener){this._register(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(domNode,_dom_js__WEBPACK_IMPORTED_MODULE_0__.c.FOCUS,listener))}ignoreGesture(domNode){_touch_js__WEBPACK_IMPORTED_MODULE_4__.b.ignoreTarget(domNode)}}},2344:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IOpenerService}),__webpack_require__.d(__webpack_exports__,"b",function(){return NullOpenerService}),__webpack_require__.d(__webpack_exports__,"c",function(){return matchesScheme});var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2313),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2300),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2294),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2299),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const IOpenerService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_1__.c)("openerService"),NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener:()=>_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None,registerValidator:()=>_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None,registerExternalUriResolver:()=>_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a.None,setExternalOpener(){},open(){return __awaiter(this,void 0,void 0,function*(){return!1})},resolveExternalUri(uri){return __awaiter(this,void 0,void 0,function*(){return{resolved:uri,dispose(){}}})}});function matchesScheme(target,scheme){return _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.isUri(target)?Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.t)(target.scheme,scheme):Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.T)(target,scheme+":")}},2345:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Progress}),__webpack_require__.d(__webpack_exports__,"a",function(){return IEditorProgressService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);class Progress{constructor(callback){this.callback=callback}report(item){this._value=item,this.callback(this._value)}}Progress.None=Object.freeze({report(){}});const IEditorProgressService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("editorProgressService")},2346:function(module,exports,__webpack_require__){self.MonacoEnvironment=function(paths){return{getWorkerUrl:function(moduleId,label){var pathPrefix=__webpack_require__.p,result=(pathPrefix?function stripTrailingSlash(str){return str.replace(/\/$/,"")}(pathPrefix)+"/":"")+paths[label];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(result)){var currentUrl=String(window.location),currentOrigin=currentUrl.substr(0,currentUrl.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(result.substring(0,currentOrigin.length)!==currentOrigin){var blob=new Blob(["/*"+label+'*/importScripts("'+result+'");'],{type:"application/javascript"});return URL.createObjectURL(blob)}}return result}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",json:"json.worker.js",javascript:"ts.worker.js"}),__webpack_require__(2503),__webpack_require__(2509),__webpack_require__(2512),__webpack_require__(2702),__webpack_require__(2515),__webpack_require__(2516),__webpack_require__(2697),__webpack_require__(2470),__webpack_require__(2701),__webpack_require__(2523),__webpack_require__(2455),__webpack_require__(2525),__webpack_require__(2703),__webpack_require__(2497),__webpack_require__(2693),__webpack_require__(2541),__webpack_require__(2698),__webpack_require__(2499),__webpack_require__(2704),__webpack_require__(2502),__webpack_require__(2486),__webpack_require__(2692),__webpack_require__(2601),__webpack_require__(2705),__webpack_require__(2604),__webpack_require__(2605),__webpack_require__(2695),__webpack_require__(2706),__webpack_require__(2610),__webpack_require__(2611),__webpack_require__(2699),__webpack_require__(2696),__webpack_require__(2707),__webpack_require__(2700),__webpack_require__(2616),__webpack_require__(2708),__webpack_require__(2709),__webpack_require__(2452),__webpack_require__(2691),__webpack_require__(2637),__webpack_require__(2459),__webpack_require__(2638),__webpack_require__(2639),__webpack_require__(2640),__webpack_require__(2641),__webpack_require__(2494),__webpack_require__(2642),module.exports=__webpack_require__(2689),__webpack_require__(2662),__webpack_require__(2663),__webpack_require__(2710),__webpack_require__(2664)},2347:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return domEvent}),__webpack_require__.d(__webpack_exports__,"b",function(){return stop});var _common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296);const domEvent=(element,type,useCapture)=>{const fn=e=>emitter.fire(e),emitter=new _common_event_js__WEBPACK_IMPORTED_MODULE_0__.a({onFirstListenerAdd:()=>{element.addEventListener(type,fn,useCapture)},onLastListenerRemove:()=>{element.removeEventListener(type,fn,useCapture)}});return emitter.event};function stop(event){return _common_event_js__WEBPACK_IMPORTED_MODULE_0__.b.map(event,e=>(e.preventDefault(),e.stopPropagation(),e))}},2348:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EventType}),__webpack_require__.d(__webpack_exports__,"b",function(){return Gesture});var EventType,_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2309),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2298),_common_decorators_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2384),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(EventType){EventType.Tap="-monaco-gesturetap",EventType.Change="-monaco-gesturechange",EventType.Start="-monaco-gesturestart",EventType.End="-monaco-gesturesend",EventType.Contextmenu="-monaco-gesturecontextmenu"}(EventType||(EventType={}));class Gesture extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(_dom_js__WEBPACK_IMPORTED_MODULE_2__.i(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_2__.i(document,"touchend",e=>this.onTouchEnd(e))),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_2__.i(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(element){return Gesture.isTouchDevice()?(Gesture.INSTANCE||(Gesture.INSTANCE=new Gesture),Gesture.INSTANCE.targets.push(element),{dispose:()=>{Gesture.INSTANCE.targets=Gesture.INSTANCE.targets.filter(t=>t!==element)}}):_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a.None}static ignoreTarget(element){return Gesture.isTouchDevice()?(Gesture.INSTANCE||(Gesture.INSTANCE=new Gesture),Gesture.INSTANCE.ignoreTargets.push(element),{dispose:()=>{Gesture.INSTANCE.ignoreTargets=Gesture.INSTANCE.ignoreTargets.filter(t=>t!==element)}}):_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let timestamp=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,len=e.targetTouches.length;i<len;i++){let touch=e.targetTouches.item(i);this.activeTouches[touch.identifier]={id:touch.identifier,initialTarget:touch.target,initialTimeStamp:timestamp,initialPageX:touch.pageX,initialPageY:touch.pageY,rollingTimestamps:[timestamp],rollingPageX:[touch.pageX],rollingPageY:[touch.pageY]};let evt=this.newGestureEvent(EventType.Start,touch.target);evt.pageX=touch.pageX,evt.pageY=touch.pageY,this.dispatchEvent(evt)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let timestamp=Date.now(),activeTouchCount=Object.keys(this.activeTouches).length;for(let i=0,len=e.changedTouches.length;i<len;i++){let touch=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(touch.identifier))){console.warn("move of an UNKNOWN touch",touch);continue}let data=this.activeTouches[touch.identifier],holdTime=Date.now()-data.initialTimeStamp;if(holdTime<Gesture.HOLD_DELAY&&Math.abs(data.initialPageX-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageX))<30&&Math.abs(data.initialPageY-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageY))<30){let evt=this.newGestureEvent(EventType.Tap,data.initialTarget);evt.pageX=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageX),evt.pageY=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageY),this.dispatchEvent(evt)}else if(holdTime>=Gesture.HOLD_DELAY&&Math.abs(data.initialPageX-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageX))<30&&Math.abs(data.initialPageY-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageY))<30){let evt=this.newGestureEvent(EventType.Contextmenu,data.initialTarget);evt.pageX=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageX),evt.pageY=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageY),this.dispatchEvent(evt)}else if(1===activeTouchCount){let finalX=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageX),finalY=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageY),deltaT=_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingTimestamps)-data.rollingTimestamps[0],deltaX=finalX-data.rollingPageX[0],deltaY=finalY-data.rollingPageY[0];const dispatchTo=this.targets.filter(t=>data.initialTarget instanceof Node&&t.contains(data.initialTarget));this.inertia(dispatchTo,timestamp,Math.abs(deltaX)/deltaT,deltaX>0?1:-1,finalX,Math.abs(deltaY)/deltaT,deltaY>0?1:-1,finalY)}this.dispatchEvent(this.newGestureEvent(EventType.End,data.initialTarget)),delete this.activeTouches[touch.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(type,initialTarget){let event=document.createEvent("CustomEvent");return event.initEvent(type,!1,!0),event.initialTarget=initialTarget,event.tapCount=0,event}dispatchEvent(event){if(event.type===EventType.Tap){const currentTime=(new Date).getTime();let setTapCount=0;setTapCount=currentTime-this._lastSetTapCountTime>Gesture.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=currentTime,event.tapCount=setTapCount}else event.type!==EventType.Change&&event.type!==EventType.Contextmenu||(this._lastSetTapCountTime=0);for(let i=0;i<this.ignoreTargets.length;i++)if(event.initialTarget instanceof Node&&this.ignoreTargets[i].contains(event.initialTarget))return;this.targets.forEach(target=>{event.initialTarget instanceof Node&&target.contains(event.initialTarget)&&(target.dispatchEvent(event),this.dispatched=!0)})}inertia(dispatchTo,t1,vX,dirX,x,vY,dirY,y){this.handle=_dom_js__WEBPACK_IMPORTED_MODULE_2__.Y(()=>{let now=Date.now(),deltaT=now-t1,delta_pos_x=0,delta_pos_y=0,stopped=!0;vX+=Gesture.SCROLL_FRICTION*deltaT,vY+=Gesture.SCROLL_FRICTION*deltaT,vX>0&&(stopped=!1,delta_pos_x=dirX*vX*deltaT),vY>0&&(stopped=!1,delta_pos_y=dirY*vY*deltaT);let evt=this.newGestureEvent(EventType.Change);evt.translationX=delta_pos_x,evt.translationY=delta_pos_y,dispatchTo.forEach(d=>d.dispatchEvent(evt)),stopped||this.inertia(dispatchTo,now,vX,dirX,x+delta_pos_x,vY,dirY,y+delta_pos_y)})}onTouchMove(e){let timestamp=Date.now();for(let i=0,len=e.changedTouches.length;i<len;i++){let touch=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(touch.identifier))){console.warn("end of an UNKNOWN touch",touch);continue}let data=this.activeTouches[touch.identifier],evt=this.newGestureEvent(EventType.Change,data.initialTarget);evt.translationX=touch.pageX-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageX),evt.translationY=touch.pageY-_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.t(data.rollingPageY),evt.pageX=touch.pageX,evt.pageY=touch.pageY,this.dispatchEvent(evt),data.rollingPageX.length>3&&(data.rollingPageX.shift(),data.rollingPageY.shift(),data.rollingTimestamps.shift()),data.rollingPageX.push(touch.pageX),data.rollingPageY.push(touch.pageY),data.rollingTimestamps.push(timestamp)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}Gesture.SCROLL_FRICTION=-.005,Gesture.HOLD_DELAY=700,Gesture.CLEAR_TAP_COUNT_TIME=400,__decorate([_common_decorators_js__WEBPACK_IMPORTED_MODULE_3__.a],Gesture,"isTouchDevice",null)},2349:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return TernarySearchTree}),__webpack_require__.d(__webpack_exports__,"b",function(){return ResourceMap}),__webpack_require__.d(__webpack_exports__,"a",function(){return LRUCache});var _uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2313),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2299),_network_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2330),_platform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2305);class StringIterator{constructor(){this._value="",this._pos=0}reset(key){return this._value=key,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(a){return a.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class PathIterator{constructor(_splitOnBackslash=!0,_caseSensitive=!0){this._splitOnBackslash=_splitOnBackslash,this._caseSensitive=_caseSensitive}reset(key){return this._value=key.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let justSeps=!0;for(;this._to<this._value.length;this._to++){const ch=this._value.charCodeAt(this._to);if(47===ch||this._splitOnBackslash&&92===ch){if(!justSeps)break;this._from++}else justSeps=!1}return this}cmp(a){return this._caseSensitive?Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.h)(a,this._value,0,a.length,this._from,this._to):Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.i)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class UriIterator{constructor(){this._states=[],this._stateIdx=0}reset(key){if(this._value=key,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path){const caseSensitive=key.scheme===_network_js__WEBPACK_IMPORTED_MODULE_2__.b.file&&_platform_js__WEBPACK_IMPORTED_MODULE_3__.d;this._pathIterator=new PathIterator(!1,caseSensitive),this._pathIterator.reset(key.path),this._pathIterator.value()&&this._states.push(3)}return this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(a){if(1===this._states[this._stateIdx])return Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.f)(a,this._value.scheme);if(2===this._states[this._stateIdx])return Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.i)(a,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(a);if(4===this._states[this._stateIdx])return Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.f)(a,this._value.query);if(5===this._states[this._stateIdx])return Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.f)(a,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class TernarySearchTreeNode{}class TernarySearchTree{constructor(segments){this._iter=segments}static forUris(){return new TernarySearchTree(new UriIterator)}static forStrings(){return new TernarySearchTree(new StringIterator)}clear(){this._root=void 0}set(key,element){const iter=this._iter.reset(key);let node;for(this._root||(this._root=new TernarySearchTreeNode,this._root.segment=iter.value()),node=this._root;;){const val=iter.cmp(node.segment);if(val>0)node.left||(node.left=new TernarySearchTreeNode,node.left.segment=iter.value()),node=node.left;else if(val<0)node.right||(node.right=new TernarySearchTreeNode,node.right.segment=iter.value()),node=node.right;else{if(!iter.hasNext())break;iter.next(),node.mid||(node.mid=new TernarySearchTreeNode,node.mid.segment=iter.value()),node=node.mid}}const oldElement=node.value;return node.value=element,node.key=key,oldElement}get(key){const iter=this._iter.reset(key);let node=this._root;for(;node;){const val=iter.cmp(node.segment);if(val>0)node=node.left;else if(val<0)node=node.right;else{if(!iter.hasNext())break;iter.next(),node=node.mid}}return node?node.value:void 0}findSubstr(key){const iter=this._iter.reset(key);let node=this._root,candidate=void 0;for(;node;){const val=iter.cmp(node.segment);if(val>0)node=node.left;else if(val<0)node=node.right;else{if(!iter.hasNext())break;iter.next(),candidate=node.value||candidate,node=node.mid}}return node&&node.value||candidate}forEach(callback){this._forEach(this._root,callback)}_forEach(node,callback){node&&(this._forEach(node.left,callback),node.value&&callback(node.value,node.key),this._forEach(node.mid,callback),this._forEach(node.right,callback))}}class ResourceMap{constructor(mapOrKeyFn,toKey){this[Symbol.toStringTag]="ResourceMap",mapOrKeyFn instanceof ResourceMap?(this.map=new Map(mapOrKeyFn.map),this.toKey=null!=toKey?toKey:ResourceMap.defaultToKey):(this.map=new Map,this.toKey=null!=mapOrKeyFn?mapOrKeyFn:ResourceMap.defaultToKey)}set(resource,value){return this.map.set(this.toKey(resource),value),this}get(resource){return this.map.get(this.toKey(resource))}has(resource){return this.map.has(this.toKey(resource))}get size(){return this.map.size}clear(){this.map.clear()}delete(resource){return this.map.delete(this.toKey(resource))}forEach(clb,thisArg){void 0!==thisArg&&(clb=clb.bind(thisArg));for(let[index,value]of this.map)clb(value,_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.parse(index),this)}values(){return this.map.values()}*keys(){for(let key of this.map.keys())yield _uri_js__WEBPACK_IMPORTED_MODULE_0__.a.parse(key)}*entries(){for(let tuple of this.map.entries())yield[_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.parse(tuple[0]),tuple[1]]}*[Symbol.iterator](){for(let item of this.map)yield[_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.parse(item[0]),item[1]]}}ResourceMap.defaultToKey=resource=>resource.toString();class LinkedMap{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var _a;return null===(_a=this._head)||void 0===_a?void 0:_a.value}get last(){var _a;return null===(_a=this._tail)||void 0===_a?void 0:_a.value}has(key){return this._map.has(key)}get(key,touch=0){const item=this._map.get(key);if(item)return 0!==touch&&this.touch(item,touch),item.value}set(key,value,touch=0){let item=this._map.get(key);if(item)item.value=value,0!==touch&&this.touch(item,touch);else{switch(item={key:key,value:value,next:void 0,previous:void 0},touch){case 0:this.addItemLast(item);break;case 1:this.addItemFirst(item);break;case 2:default:this.addItemLast(item)}this._map.set(key,item),this._size++}return this}delete(key){return!!this.remove(key)}remove(key){const item=this._map.get(key);if(item)return this._map.delete(key),this.removeItem(item),this._size--,item.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const item=this._head;return this._map.delete(item.key),this.removeItem(item),this._size--,item.value}forEach(callbackfn,thisArg){const state=this._state;let current=this._head;for(;current;){if(thisArg?callbackfn.bind(thisArg)(current.value,current.key,this):callbackfn(current.value,current.key,this),this._state!==state)throw new Error("LinkedMap got modified during iteration.");current=current.next}}keys(){const map=this,state=this._state;let current=this._head;const iterator={[Symbol.iterator]:()=>iterator,next(){if(map._state!==state)throw new Error("LinkedMap got modified during iteration.");if(current){const result={value:current.key,done:!1};return current=current.next,result}return{value:void 0,done:!0}}};return iterator}values(){const map=this,state=this._state;let current=this._head;const iterator={[Symbol.iterator]:()=>iterator,next(){if(map._state!==state)throw new Error("LinkedMap got modified during iteration.");if(current){const result={value:current.value,done:!1};return current=current.next,result}return{value:void 0,done:!0}}};return iterator}entries(){const map=this,state=this._state;let current=this._head;const iterator={[Symbol.iterator]:()=>iterator,next(){if(map._state!==state)throw new Error("LinkedMap got modified during iteration.");if(current){const result={value:[current.key,current.value],done:!1};return current=current.next,result}return{value:void 0,done:!0}}};return iterator}[Symbol.iterator](){return this.entries()}trimOld(newSize){if(newSize>=this.size)return;if(0===newSize)return void this.clear();let current=this._head,currentSize=this.size;for(;current&&currentSize>newSize;)this._map.delete(current.key),current=current.next,currentSize--;this._head=current,this._size=currentSize,current&&(current.previous=void 0),this._state++}addItemFirst(item){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");item.next=this._head,this._head.previous=item}else this._tail=item;this._head=item,this._state++}addItemLast(item){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");item.previous=this._tail,this._tail.next=item}else this._head=item;this._tail=item,this._state++}removeItem(item){if(item===this._head&&item===this._tail)this._head=void 0,this._tail=void 0;else if(item===this._head){if(!item.next)throw new Error("Invalid list");item.next.previous=void 0,this._head=item.next}else if(item===this._tail){if(!item.previous)throw new Error("Invalid list");item.previous.next=void 0,this._tail=item.previous}else{const next=item.next,previous=item.previous;if(!next||!previous)throw new Error("Invalid list");next.previous=previous,previous.next=next}item.next=void 0,item.previous=void 0,this._state++}touch(item,touch){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===touch||2===touch)if(1===touch){if(item===this._head)return;const next=item.next,previous=item.previous;item===this._tail?(previous.next=void 0,this._tail=previous):(next.previous=previous,previous.next=next),item.previous=void 0,item.next=this._head,this._head.previous=item,this._head=item,this._state++}else if(2===touch){if(item===this._tail)return;const next=item.next,previous=item.previous;item===this._head?(next.previous=void 0,this._head=next):(next.previous=previous,previous.next=next),item.next=void 0,item.previous=this._tail,this._tail.next=item,this._tail=item,this._state++}}toJSON(){const data=[];return this.forEach((value,key)=>{data.push([key,value])}),data}fromJSON(data){this.clear();for(const[key,value]of data)this.set(key,value)}}class LRUCache extends LinkedMap{constructor(limit,ratio=1){super(),this._limit=limit,this._ratio=Math.min(Math.max(0,ratio),1)}get limit(){return this._limit}set limit(limit){this._limit=limit,this.checkTrim()}get(key,touch=2){return super.get(key,touch)}peek(key){return super.get(key,0)}set(key,value){return super.set(key,value,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},2350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditOperation});var _range_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2295);class EditOperation{static insert(position,text){return{range:new _range_js__WEBPACK_IMPORTED_MODULE_0__.a(position.lineNumber,position.column,position.lineNumber,position.column),text:text,forceMoveMarkers:!0}}static delete(range){return{range:range,text:null}}static replace(range,text){return{range:range,text:text}}static replaceMove(range,text){return{range:range,text:text,forceMoveMarkers:!0}}}},2351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return IAccessibilityService}),__webpack_require__.d(__webpack_exports__,"a",function(){return CONTEXT_ACCESSIBILITY_MODE_ENABLED});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2307);const IAccessibilityService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("accessibilityService"),CONTEXT_ACCESSIBILITY_MODE_ENABLED=new _contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_1__.c("accessibilityModeEnabled",!1)},2352:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",function(){return win32}),__webpack_require__.d(__webpack_exports__,"e",function(){return posix}),__webpack_require__.d(__webpack_exports__,"d",function(){return normalize}),__webpack_require__.d(__webpack_exports__,"g",function(){return resolve}),__webpack_require__.d(__webpack_exports__,"f",function(){return relative}),__webpack_require__.d(__webpack_exports__,"b",function(){return dirname}),__webpack_require__.d(__webpack_exports__,"a",function(){return basename}),__webpack_require__.d(__webpack_exports__,"c",function(){return extname}),__webpack_require__.d(__webpack_exports__,"h",function(){return sep});var _process_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2506);const CHAR_UPPERCASE_A=65,CHAR_LOWERCASE_A=97,CHAR_UPPERCASE_Z=90,CHAR_LOWERCASE_Z=122,CHAR_DOT=46,CHAR_FORWARD_SLASH=47,CHAR_BACKWARD_SLASH=92;class ErrorInvalidArgType extends Error{constructor(name,expected,actual){let determiner;"string"==typeof expected&&0===expected.indexOf("not ")?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be";const type=-1!==name.indexOf(".")?"property":"argument";let msg=`The "${name}" ${type} ${determiner} of type ${expected}`;super(msg+=`. Received type ${typeof actual}`),this.code="ERR_INVALID_ARG_TYPE"}}function validateString(value,name){if("string"!=typeof value)throw new ErrorInvalidArgType(name,"string",value)}function isPathSeparator(code){return code===CHAR_FORWARD_SLASH||code===CHAR_BACKWARD_SLASH}function isPosixPathSeparator(code){return code===CHAR_FORWARD_SLASH}function isWindowsDeviceRoot(code){return code>=CHAR_UPPERCASE_A&&code<=CHAR_UPPERCASE_Z||code>=CHAR_LOWERCASE_A&&code<=CHAR_LOWERCASE_Z}function normalizeString(path,allowAboveRoot,separator,isPathSeparator){let res="",lastSegmentLength=0,lastSlash=-1,dots=0,code=0;for(let i=0;i<=path.length;++i){if(i<path.length)code=path.charCodeAt(i);else{if(isPathSeparator(code))break;code=CHAR_FORWARD_SLASH}if(isPathSeparator(code)){if(lastSlash===i-1||1===dots);else if(2===dots){if(res.length<2||2!==lastSegmentLength||res.charCodeAt(res.length-1)!==CHAR_DOT||res.charCodeAt(res.length-2)!==CHAR_DOT){if(res.length>2){const lastSlashIndex=res.lastIndexOf(separator);-1===lastSlashIndex?(res="",lastSegmentLength=0):lastSegmentLength=(res=res.slice(0,lastSlashIndex)).length-1-res.lastIndexOf(separator),lastSlash=i,dots=0;continue}if(0!==res.length){res="",lastSegmentLength=0,lastSlash=i,dots=0;continue}}allowAboveRoot&&(res+=res.length>0?`${separator}..`:"..",lastSegmentLength=2)}else res.length>0?res+=`${separator}${path.slice(lastSlash+1,i)}`:res=path.slice(lastSlash+1,i),lastSegmentLength=i-lastSlash-1;lastSlash=i,dots=0}else code===CHAR_DOT&&-1!==dots?++dots:dots=-1}return res}function _format(sep,pathObject){if(null===pathObject||"object"!=typeof pathObject)throw new ErrorInvalidArgType("pathObject","Object",pathObject);const dir=pathObject.dir||pathObject.root,base=pathObject.base||`${pathObject.name||""}${pathObject.ext||""}`;return dir?dir===pathObject.root?`${dir}${base}`:`${dir}${sep}${base}`:base}const win32={resolve(...pathSegments){let resolvedDevice="",resolvedTail="",resolvedAbsolute=!1;for(let i=pathSegments.length-1;i>=-1;i--){let path;if(i>=0){if(validateString(path=pathSegments[i],"path"),0===path.length)continue}else 0===resolvedDevice.length?path=_process_js__WEBPACK_IMPORTED_MODULE_0__.a():(void 0===(path=_process_js__WEBPACK_IMPORTED_MODULE_0__.b[`=${resolvedDevice}`]||_process_js__WEBPACK_IMPORTED_MODULE_0__.a())||path.slice(0,2).toLowerCase()!==resolvedDevice.toLowerCase()&&path.charCodeAt(2)===CHAR_BACKWARD_SLASH)&&(path=`${resolvedDevice}\\`);const len=path.length;let rootEnd=0,device="",isAbsolute=!1;const code=path.charCodeAt(0);if(1===len)isPathSeparator(code)&&(rootEnd=1,isAbsolute=!0);else if(isPathSeparator(code))if(isAbsolute=!0,isPathSeparator(path.charCodeAt(1))){let j=2,last=j;for(;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){const firstPart=path.slice(last,j);for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;j!==len&&j===last||(device=`\\\\${firstPart}\\${path.slice(last,j)}`,rootEnd=j)}}}else rootEnd=1;else isWindowsDeviceRoot(code)&&58===path.charCodeAt(1)&&(device=path.slice(0,2),rootEnd=2,len>2&&isPathSeparator(path.charCodeAt(2))&&(isAbsolute=!0,rootEnd=3));if(device.length>0)if(resolvedDevice.length>0){if(device.toLowerCase()!==resolvedDevice.toLowerCase())continue}else resolvedDevice=device;if(resolvedAbsolute){if(resolvedDevice.length>0)break}else if(resolvedTail=`${path.slice(rootEnd)}\\${resolvedTail}`,resolvedAbsolute=isAbsolute,isAbsolute&&resolvedDevice.length>0)break}return resolvedTail=normalizeString(resolvedTail,!resolvedAbsolute,"\\",isPathSeparator),resolvedAbsolute?`${resolvedDevice}\\${resolvedTail}`:`${resolvedDevice}${resolvedTail}`||"."},normalize(path){validateString(path,"path");const len=path.length;if(0===len)return".";let device,rootEnd=0,isAbsolute=!1;const code=path.charCodeAt(0);if(1===len)return isPosixPathSeparator(code)?"\\":path;if(isPathSeparator(code))if(isAbsolute=!0,isPathSeparator(path.charCodeAt(1))){let j=2,last=j;for(;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){const firstPart=path.slice(last,j);for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;if(j===len)return`\\\\${firstPart}\\${path.slice(last)}\\`;j!==last&&(device=`\\\\${firstPart}\\${path.slice(last,j)}`,rootEnd=j)}}}else rootEnd=1;else isWindowsDeviceRoot(code)&&58===path.charCodeAt(1)&&(device=path.slice(0,2),rootEnd=2,len>2&&isPathSeparator(path.charCodeAt(2))&&(isAbsolute=!0,rootEnd=3));let tail=rootEnd<len?normalizeString(path.slice(rootEnd),!isAbsolute,"\\",isPathSeparator):"";return 0!==tail.length||isAbsolute||(tail="."),tail.length>0&&isPathSeparator(path.charCodeAt(len-1))&&(tail+="\\"),void 0===device?isAbsolute?`\\${tail}`:tail:isAbsolute?`${device}\\${tail}`:`${device}${tail}`},isAbsolute(path){validateString(path,"path");const len=path.length;if(0===len)return!1;const code=path.charCodeAt(0);return isPathSeparator(code)||len>2&&isWindowsDeviceRoot(code)&&58===path.charCodeAt(1)&&isPathSeparator(path.charCodeAt(2))},join(...paths){if(0===paths.length)return".";let joined,firstPart;for(let i=0;i<paths.length;++i){const arg=paths[i];validateString(arg,"path"),arg.length>0&&(void 0===joined?joined=firstPart=arg:joined+=`\\${arg}`)}if(void 0===joined)return".";let needsReplace=!0,slashCount=0;if("string"==typeof firstPart&&isPathSeparator(firstPart.charCodeAt(0))){++slashCount;const firstLen=firstPart.length;firstLen>1&&isPathSeparator(firstPart.charCodeAt(1))&&(++slashCount,firstLen>2&&(isPathSeparator(firstPart.charCodeAt(2))?++slashCount:needsReplace=!1))}if(needsReplace){for(;slashCount<joined.length&&isPathSeparator(joined.charCodeAt(slashCount));)slashCount++;slashCount>=2&&(joined=`\\${joined.slice(slashCount)}`)}return win32.normalize(joined)},relative(from,to){if(validateString(from,"from"),validateString(to,"to"),from===to)return"";const fromOrig=win32.resolve(from),toOrig=win32.resolve(to);if(fromOrig===toOrig)return"";if((from=fromOrig.toLowerCase())===(to=toOrig.toLowerCase()))return"";let fromStart=0;for(;fromStart<from.length&&from.charCodeAt(fromStart)===CHAR_BACKWARD_SLASH;)fromStart++;let fromEnd=from.length;for(;fromEnd-1>fromStart&&from.charCodeAt(fromEnd-1)===CHAR_BACKWARD_SLASH;)fromEnd--;const fromLen=fromEnd-fromStart;let toStart=0;for(;toStart<to.length&&to.charCodeAt(toStart)===CHAR_BACKWARD_SLASH;)toStart++;let toEnd=to.length;for(;toEnd-1>toStart&&to.charCodeAt(toEnd-1)===CHAR_BACKWARD_SLASH;)toEnd--;const toLen=toEnd-toStart,length=fromLen<toLen?fromLen:toLen;let lastCommonSep=-1,i=0;for(;i<length;i++){const fromCode=from.charCodeAt(fromStart+i);if(fromCode!==to.charCodeAt(toStart+i))break;fromCode===CHAR_BACKWARD_SLASH&&(lastCommonSep=i)}if(i!==length){if(-1===lastCommonSep)return toOrig}else{if(toLen>length){if(to.charCodeAt(toStart+i)===CHAR_BACKWARD_SLASH)return toOrig.slice(toStart+i+1);if(2===i)return toOrig.slice(toStart+i)}fromLen>length&&(from.charCodeAt(fromStart+i)===CHAR_BACKWARD_SLASH?lastCommonSep=i:2===i&&(lastCommonSep=3)),-1===lastCommonSep&&(lastCommonSep=0)}let out="";for(i=fromStart+lastCommonSep+1;i<=fromEnd;++i)i!==fromEnd&&from.charCodeAt(i)!==CHAR_BACKWARD_SLASH||(out+=0===out.length?"..":"\\..");return toStart+=lastCommonSep,out.length>0?`${out}${toOrig.slice(toStart,toEnd)}`:(toOrig.charCodeAt(toStart)===CHAR_BACKWARD_SLASH&&++toStart,toOrig.slice(toStart,toEnd))},toNamespacedPath(path){if("string"!=typeof path)return path;if(0===path.length)return"";const resolvedPath=win32.resolve(path);if(resolvedPath.length<=2)return path;if(resolvedPath.charCodeAt(0)===CHAR_BACKWARD_SLASH){if(resolvedPath.charCodeAt(1)===CHAR_BACKWARD_SLASH){const code=resolvedPath.charCodeAt(2);if(63!==code&&code!==CHAR_DOT)return`\\\\?\\UNC\\${resolvedPath.slice(2)}`}}else if(isWindowsDeviceRoot(resolvedPath.charCodeAt(0))&&58===resolvedPath.charCodeAt(1)&&resolvedPath.charCodeAt(2)===CHAR_BACKWARD_SLASH)return`\\\\?\\${resolvedPath}`;return path},dirname(path){validateString(path,"path");const len=path.length;if(0===len)return".";let rootEnd=-1,offset=0;const code=path.charCodeAt(0);if(1===len)return isPathSeparator(code)?path:".";if(isPathSeparator(code)){if(rootEnd=offset=1,isPathSeparator(path.charCodeAt(1))){let j=2,last=j;for(;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;if(j===len)return path;j!==last&&(rootEnd=offset=j+1)}}}}else isWindowsDeviceRoot(code)&&58===path.charCodeAt(1)&&(offset=rootEnd=len>2&&isPathSeparator(path.charCodeAt(2))?3:2);let end=-1,matchedSlash=!0;for(let i=len-1;i>=offset;--i)if(isPathSeparator(path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;if(-1===end){if(-1===rootEnd)return".";end=rootEnd}return path.slice(0,end)},basename(path,ext){void 0!==ext&&validateString(ext,"ext"),validateString(path,"path");let i,start=0,end=-1,matchedSlash=!0;if(path.length>=2&&isWindowsDeviceRoot(path.charCodeAt(0))&&58===path.charCodeAt(1)&&(start=2),void 0!==ext&&ext.length>0&&ext.length<=path.length){if(ext===path)return"";let extIdx=ext.length-1,firstNonSlashEnd=-1;for(i=path.length-1;i>=start;--i){const code=path.charCodeAt(i);if(isPathSeparator(code)){if(!matchedSlash){start=i+1;break}}else-1===firstNonSlashEnd&&(matchedSlash=!1,firstNonSlashEnd=i+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?-1==--extIdx&&(end=i):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:-1===end&&(end=path.length),path.slice(start,end)}for(i=path.length-1;i>=start;--i)if(isPathSeparator(path.charCodeAt(i))){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)},extname(path){validateString(path,"path");let start=0,startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0;path.length>=2&&58===path.charCodeAt(1)&&isWindowsDeviceRoot(path.charCodeAt(0))&&(start=startPart=2);for(let i=path.length-1;i>=start;--i){const code=path.charCodeAt(i);if(isPathSeparator(code)){if(!matchedSlash){startPart=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1)}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)},format:_format.bind(null,"\\"),parse(path){validateString(path,"path");const ret={root:"",dir:"",base:"",ext:"",name:""};if(0===path.length)return ret;const len=path.length;let rootEnd=0,code=path.charCodeAt(0);if(1===len)return isPathSeparator(code)?(ret.root=ret.dir=path,ret):(ret.base=ret.name=path,ret);if(isPathSeparator(code)){if(rootEnd=1,isPathSeparator(path.charCodeAt(1))){let j=2,last=j;for(;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){for(last=j;j<len&&isPathSeparator(path.charCodeAt(j));)j++;if(j<len&&j!==last){for(last=j;j<len&&!isPathSeparator(path.charCodeAt(j));)j++;j===len?rootEnd=j:j!==last&&(rootEnd=j+1)}}}}else if(isWindowsDeviceRoot(code)&&58===path.charCodeAt(1)){if(len<=2)return ret.root=ret.dir=path,ret;if(rootEnd=2,isPathSeparator(path.charCodeAt(2))){if(3===len)return ret.root=ret.dir=path,ret;rootEnd=3}}rootEnd>0&&(ret.root=path.slice(0,rootEnd));let startDot=-1,startPart=rootEnd,end=-1,matchedSlash=!0,i=path.length-1,preDotState=0;for(;i>=rootEnd;--i)if(isPathSeparator(code=path.charCodeAt(i))){if(!matchedSlash){startPart=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);return-1!==end&&(-1===startDot||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?ret.base=ret.name=path.slice(startPart,end):(ret.name=path.slice(startPart,startDot),ret.base=path.slice(startPart,end),ret.ext=path.slice(startDot,end))),ret.dir=startPart>0&&startPart!==rootEnd?path.slice(0,startPart-1):ret.root,ret},sep:"\\",delimiter:";",win32:null,posix:null},posix={resolve(...pathSegments){let resolvedPath="",resolvedAbsolute=!1;for(let i=pathSegments.length-1;i>=-1&&!resolvedAbsolute;i--){const path=i>=0?pathSegments[i]:_process_js__WEBPACK_IMPORTED_MODULE_0__.a();validateString(path,"path"),0!==path.length&&(resolvedPath=`${path}/${resolvedPath}`,resolvedAbsolute=path.charCodeAt(0)===CHAR_FORWARD_SLASH)}return resolvedPath=normalizeString(resolvedPath,!resolvedAbsolute,"/",isPosixPathSeparator),resolvedAbsolute?`/${resolvedPath}`:resolvedPath.length>0?resolvedPath:"."},normalize(path){if(validateString(path,"path"),0===path.length)return".";const isAbsolute=path.charCodeAt(0)===CHAR_FORWARD_SLASH,trailingSeparator=path.charCodeAt(path.length-1)===CHAR_FORWARD_SLASH;return 0===(path=normalizeString(path,!isAbsolute,"/",isPosixPathSeparator)).length?isAbsolute?"/":trailingSeparator?"./":".":(trailingSeparator&&(path+="/"),isAbsolute?`/${path}`:path)},isAbsolute:path=>(validateString(path,"path"),path.length>0&&path.charCodeAt(0)===CHAR_FORWARD_SLASH),join(...paths){if(0===paths.length)return".";let joined;for(let i=0;i<paths.length;++i){const arg=paths[i];validateString(arg,"path"),arg.length>0&&(void 0===joined?joined=arg:joined+=`/${arg}`)}return void 0===joined?".":posix.normalize(joined)},relative(from,to){if(validateString(from,"from"),validateString(to,"to"),from===to)return"";if((from=posix.resolve(from))===(to=posix.resolve(to)))return"";const fromEnd=from.length,fromLen=fromEnd-1,toLen=to.length-1,length=fromLen<toLen?fromLen:toLen;let lastCommonSep=-1,i=0;for(;i<length;i++){const fromCode=from.charCodeAt(1+i);if(fromCode!==to.charCodeAt(1+i))break;fromCode===CHAR_FORWARD_SLASH&&(lastCommonSep=i)}if(i===length)if(toLen>length){if(to.charCodeAt(1+i)===CHAR_FORWARD_SLASH)return to.slice(1+i+1);if(0===i)return to.slice(1+i)}else fromLen>length&&(from.charCodeAt(1+i)===CHAR_FORWARD_SLASH?lastCommonSep=i:0===i&&(lastCommonSep=0));let out="";for(i=1+lastCommonSep+1;i<=fromEnd;++i)i!==fromEnd&&from.charCodeAt(i)!==CHAR_FORWARD_SLASH||(out+=0===out.length?"..":"/..");return`${out}${to.slice(1+lastCommonSep)}`},toNamespacedPath:path=>path,dirname(path){if(validateString(path,"path"),0===path.length)return".";const hasRoot=path.charCodeAt(0)===CHAR_FORWARD_SLASH;let end=-1,matchedSlash=!0;for(let i=path.length-1;i>=1;--i)if(path.charCodeAt(i)===CHAR_FORWARD_SLASH){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"//":path.slice(0,end)},basename(path,ext){void 0!==ext&&validateString(ext,"ext"),validateString(path,"path");let i,start=0,end=-1,matchedSlash=!0;if(void 0!==ext&&ext.length>0&&ext.length<=path.length){if(ext===path)return"";let extIdx=ext.length-1,firstNonSlashEnd=-1;for(i=path.length-1;i>=0;--i){const code=path.charCodeAt(i);if(code===CHAR_FORWARD_SLASH){if(!matchedSlash){start=i+1;break}}else-1===firstNonSlashEnd&&(matchedSlash=!1,firstNonSlashEnd=i+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?-1==--extIdx&&(end=i):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:-1===end&&(end=path.length),path.slice(start,end)}for(i=path.length-1;i>=0;--i)if(path.charCodeAt(i)===CHAR_FORWARD_SLASH){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)},extname(path){validateString(path,"path");let startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0;for(let i=path.length-1;i>=0;--i){const code=path.charCodeAt(i);if(code!==CHAR_FORWARD_SLASH)-1===end&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)},format:_format.bind(null,"/"),parse(path){validateString(path,"path");const ret={root:"",dir:"",base:"",ext:"",name:""};if(0===path.length)return ret;const isAbsolute=path.charCodeAt(0)===CHAR_FORWARD_SLASH;let start;isAbsolute?(ret.root="/",start=1):start=0;let startDot=-1,startPart=0,end=-1,matchedSlash=!0,i=path.length-1,preDotState=0;for(;i>=start;--i){const code=path.charCodeAt(i);if(code!==CHAR_FORWARD_SLASH)-1===end&&(matchedSlash=!1,end=i+1),code===CHAR_DOT?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}if(-1!==end){const start=0===startPart&&isAbsolute?1:startPart;-1===startDot||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?ret.base=ret.name=path.slice(start,end):(ret.name=path.slice(start,startDot),ret.base=path.slice(start,end),ret.ext=path.slice(startDot,end))}return startPart>0?ret.dir=path.slice(0,startPart-1):isAbsolute&&(ret.dir="/"),ret},sep:"/",delimiter:":",win32:null,posix:null};posix.win32=win32.win32=win32,posix.posix=win32.posix=posix;const normalize="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.normalize:posix.normalize,resolve="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.resolve:posix.resolve,relative="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.relative:posix.relative,dirname="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.dirname:posix.dirname,basename="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.basename:posix.basename,extname="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.extname:posix.extname,sep="win32"===_process_js__WEBPACK_IMPORTED_MODULE_0__.c?win32.sep:posix.sep},2353:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AccessibilityHelpNLS}),__webpack_require__.d(__webpack_exports__,"c",function(){return InspectTokensNLS}),__webpack_require__.d(__webpack_exports__,"b",function(){return GoToLineNLS}),__webpack_require__.d(__webpack_exports__,"e",function(){return QuickHelpNLS}),__webpack_require__.d(__webpack_exports__,"d",function(){return QuickCommandNLS}),__webpack_require__.d(__webpack_exports__,"f",function(){return QuickOutlineNLS}),__webpack_require__.d(__webpack_exports__,"h",function(){return StandaloneCodeEditorNLS}),__webpack_require__.d(__webpack_exports__,"i",function(){return ToggleHighContrastNLS}),__webpack_require__.d(__webpack_exports__,"g",function(){return SimpleServicesNLS});var AccessibilityHelpNLS,InspectTokensNLS,GoToLineNLS,QuickHelpNLS,QuickCommandNLS,QuickOutlineNLS,StandaloneCodeEditorNLS,ToggleHighContrastNLS,SimpleServicesNLS,_nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297);!function(AccessibilityHelpNLS){AccessibilityHelpNLS.noSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("noSelection","No selection"),AccessibilityHelpNLS.singleSelectionRange=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),AccessibilityHelpNLS.singleSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("singleSelection","Line {0}, Column {1}"),AccessibilityHelpNLS.multiSelectionRange=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiSelectionRange","{0} selections ({1} characters selected)"),AccessibilityHelpNLS.multiSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("multiSelection","{0} selections"),AccessibilityHelpNLS.emergencyConfOn=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),AccessibilityHelpNLS.openingDocs=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("openingDocs","Now opening the Editor Accessibility documentation page."),AccessibilityHelpNLS.readonlyDiffEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("readonlyDiffEditor"," in a read-only pane of a diff editor."),AccessibilityHelpNLS.editableDiffEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editableDiffEditor"," in a pane of a diff editor."),AccessibilityHelpNLS.readonlyEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("readonlyEditor"," in a read-only code editor"),AccessibilityHelpNLS.editableEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editableEditor"," in a code editor"),AccessibilityHelpNLS.changeConfigToOnMac=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),AccessibilityHelpNLS.changeConfigToOnWinLinux=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),AccessibilityHelpNLS.auto_on=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),AccessibilityHelpNLS.auto_off=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),AccessibilityHelpNLS.tabFocusModeOnMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),AccessibilityHelpNLS.tabFocusModeOnMsgNoKb=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),AccessibilityHelpNLS.tabFocusModeOffMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),AccessibilityHelpNLS.tabFocusModeOffMsgNoKb=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),AccessibilityHelpNLS.openDocMac=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),AccessibilityHelpNLS.openDocWinLinux=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),AccessibilityHelpNLS.outroMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),AccessibilityHelpNLS.showAccessibilityHelpAction=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("showAccessibilityHelpAction","Show Accessibility Help")}(AccessibilityHelpNLS||(AccessibilityHelpNLS={})),function(InspectTokensNLS){InspectTokensNLS.inspectTokensAction=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("inspectTokens","Developer: Inspect Tokens")}(InspectTokensNLS||(InspectTokensNLS={})),function(GoToLineNLS){GoToLineNLS.gotoLineActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("gotoLineActionLabel","Go to Line/Column...")}(GoToLineNLS||(GoToLineNLS={})),function(QuickHelpNLS){QuickHelpNLS.helpQuickAccessActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("helpQuickAccess","Show all Quick Access Providers")}(QuickHelpNLS||(QuickHelpNLS={})),function(QuickCommandNLS){QuickCommandNLS.quickCommandActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickCommandActionLabel","Command Palette"),QuickCommandNLS.quickCommandHelp=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickCommandActionHelp","Show And Run Commands")}(QuickCommandNLS||(QuickCommandNLS={})),function(QuickOutlineNLS){QuickOutlineNLS.quickOutlineActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickOutlineActionLabel","Go to Symbol..."),QuickOutlineNLS.quickOutlineByCategoryActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(QuickOutlineNLS||(QuickOutlineNLS={})),function(StandaloneCodeEditorNLS){StandaloneCodeEditorNLS.editorViewAccessibleLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorViewAccessibleLabel","Editor content"),StandaloneCodeEditorNLS.accessibilityHelpMessage=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(StandaloneCodeEditorNLS||(StandaloneCodeEditorNLS={})),function(ToggleHighContrastNLS){ToggleHighContrastNLS.toggleHighContrast=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("toggleHighContrast","Toggle High Contrast Theme")}(ToggleHighContrastNLS||(ToggleHighContrastNLS={})),function(SimpleServicesNLS){SimpleServicesNLS.bulkEditServiceSummary=_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("bulkEditServiceSummary","Made {0} edits in {1} files")}(SimpleServicesNLS||(SimpleServicesNLS={}))},2354:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"j",function(){return or}),__webpack_require__.d(__webpack_exports__,"h",function(){return matchesPrefix}),__webpack_require__.d(__webpack_exports__,"f",function(){return matchesContiguousSubString}),__webpack_require__.d(__webpack_exports__,"i",function(){return matchesWords}),__webpack_require__.d(__webpack_exports__,"g",function(){return matchesFuzzy}),__webpack_require__.d(__webpack_exports__,"b",function(){return anyScore}),__webpack_require__.d(__webpack_exports__,"c",function(){return createMatches}),__webpack_require__.d(__webpack_exports__,"a",function(){return FuzzyScore}),__webpack_require__.d(__webpack_exports__,"d",function(){return fuzzyScore}),__webpack_require__.d(__webpack_exports__,"e",function(){return fuzzyScoreGracefulAggressive});var _map_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2349),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2299);function or(...filter){return function(word,wordToMatchAgainst){for(let i=0,len=filter.length;i<len;i++){const match=filter[i](word,wordToMatchAgainst);if(match)return match}return null}}const matchesPrefix=function _matchesPrefix(ignoreCase,word,wordToMatchAgainst){if(!wordToMatchAgainst||wordToMatchAgainst.length<word.length)return null;let matches;matches=ignoreCase?_strings_js__WEBPACK_IMPORTED_MODULE_1__.T(wordToMatchAgainst,word):0===wordToMatchAgainst.indexOf(word);if(!matches)return null;return word.length>0?[{start:0,end:word.length}]:[]}.bind(void 0,!0);function matchesContiguousSubString(word,wordToMatchAgainst){const index=wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());return-1===index?null:[{start:index,end:index+word.length}]}function isLower(code){return 97<=code&&code<=122}function isUpper(code){return 65<=code&&code<=90}function isNumber(code){return 48<=code&&code<=57}function isWhitespace(code){return 32===code||9===code||10===code||13===code}const wordSeparators=new Set;function isWordSeparator(code){return isWhitespace(code)||wordSeparators.has(code)}function isAlphanumeric(code){return isLower(code)||isUpper(code)||isNumber(code)}function join(head,tail){return 0===tail.length?tail=[head]:head.end===tail[0].start?tail[0].start=head.start:tail.unshift(head),tail}function nextAnchor(camelCaseWord,start){for(let i=start;i<camelCaseWord.length;i++){const c=camelCaseWord.charCodeAt(i);if(isUpper(c)||isNumber(c)||i>0&&!isAlphanumeric(camelCaseWord.charCodeAt(i-1)))return i}return camelCaseWord.length}function _matchesCamelCase(word,camelCaseWord,i,j){if(i===word.length)return[];if(j===camelCaseWord.length)return null;if(word[i]!==camelCaseWord[j].toLowerCase())return null;{let result=null,nextUpperIndex=j+1;for(result=_matchesCamelCase(word,camelCaseWord,i+1,j+1);!result&&(nextUpperIndex=nextAnchor(camelCaseWord,nextUpperIndex))<camelCaseWord.length;)result=_matchesCamelCase(word,camelCaseWord,i+1,nextUpperIndex),nextUpperIndex++;return null===result?null:join({start:j,end:j+1},result)}}function matchesCamelCase(word,camelCaseWord){if(!camelCaseWord)return null;if(0===(camelCaseWord=camelCaseWord.trim()).length)return null;if(!function isCamelCasePattern(word){let upper=0,lower=0,code=0,whitespace=0;for(let i=0;i<word.length;i++)isUpper(code=word.charCodeAt(i))&&upper++,isLower(code)&&lower++,isWhitespace(code)&&whitespace++;return 0!==upper&&0!==lower||0!==whitespace?upper<=5:word.length<=30}(word))return null;if(camelCaseWord.length>60)return null;const analysis=function analyzeCamelCaseWord(word){let upper=0,lower=0,alpha=0,numeric=0,code=0;for(let i=0;i<word.length;i++)isUpper(code=word.charCodeAt(i))&&upper++,isLower(code)&&lower++,isAlphanumeric(code)&&alpha++,isNumber(code)&&numeric++;return{upperPercent:upper/word.length,lowerPercent:lower/word.length,alphaPercent:alpha/word.length,numericPercent:numeric/word.length}}(camelCaseWord);if(!function isCamelCaseWord(analysis){const{upperPercent:upperPercent,lowerPercent:lowerPercent,alphaPercent:alphaPercent,numericPercent:numericPercent}=analysis;return lowerPercent>.2&&upperPercent<.8&&alphaPercent>.6&&numericPercent<.2}(analysis)){if(!function isUpperCaseWord(analysis){const{upperPercent:upperPercent,lowerPercent:lowerPercent}=analysis;return 0===lowerPercent&&upperPercent>.6}(analysis))return null;camelCaseWord=camelCaseWord.toLowerCase()}let result=null,i=0;for(word=word.toLowerCase();i<camelCaseWord.length&&null===(result=_matchesCamelCase(word,camelCaseWord,0,i));)i=nextAnchor(camelCaseWord,i+1);return result}function matchesWords(word,target,contiguous=!1){if(!target||0===target.length)return null;let result=null,i=0;for(word=word.toLowerCase(),target=target.toLowerCase();i<target.length&&null===(result=_matchesWords(word,target,0,i,contiguous));)i=nextWord(target,i+1);return result}function _matchesWords(word,target,i,j,contiguous){if(i===word.length)return[];if(j===target.length)return null;if(function charactersMatch(codeA,codeB){return codeA===codeB||isWordSeparator(codeA)&&isWordSeparator(codeB)}(word.charCodeAt(i),target.charCodeAt(j))){let result=null,nextWordIndex=j+1;if(result=_matchesWords(word,target,i+1,j+1,contiguous),!contiguous)for(;!result&&(nextWordIndex=nextWord(target,nextWordIndex))<target.length;)result=_matchesWords(word,target,i+1,nextWordIndex,contiguous),nextWordIndex++;return null===result?null:join({start:j,end:j+1},result)}return null}function nextWord(word,start){for(let i=start;i<word.length;i++)if(isWordSeparator(word.charCodeAt(i))||i>0&&isWordSeparator(word.charCodeAt(i-1)))return i;return word.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(s=>wordSeparators.add(s.charCodeAt(0)));const fuzzyContiguousFilter=or(matchesPrefix,matchesCamelCase,matchesContiguousSubString),fuzzySeparateFilter=or(matchesPrefix,matchesCamelCase,function matchesSubString(word,wordToMatchAgainst){return function _matchesSubString(word,wordToMatchAgainst,i,j){if(i===word.length)return[];if(j===wordToMatchAgainst.length)return null;if(word[i]===wordToMatchAgainst[j]){let result=null;return(result=_matchesSubString(word,wordToMatchAgainst,i+1,j+1))?join({start:j,end:j+1},result):null}return _matchesSubString(word,wordToMatchAgainst,i,j+1)}(word.toLowerCase(),wordToMatchAgainst.toLowerCase(),0,0)}),fuzzyRegExpCache=new _map_js__WEBPACK_IMPORTED_MODULE_0__.a(1e4);function matchesFuzzy(word,wordToMatchAgainst,enableSeparateSubstringMatching=!1){if("string"!=typeof word||"string"!=typeof wordToMatchAgainst)return null;let regexp=fuzzyRegExpCache.get(word);regexp||(regexp=new RegExp(_strings_js__WEBPACK_IMPORTED_MODULE_1__.p(word),"i"),fuzzyRegExpCache.set(word,regexp));const match=regexp.exec(wordToMatchAgainst);return match?[{start:match.index,end:match.index+match[0].length}]:enableSeparateSubstringMatching?fuzzySeparateFilter(word,wordToMatchAgainst):fuzzyContiguousFilter(word,wordToMatchAgainst)}function anyScore(pattern,lowPattern,_patternPos,word,lowWord,_wordPos){const result=fuzzyScore(pattern,lowPattern,0,word,lowWord,0,!0);if(result)return result;let matches=0,score=0,idx=_wordPos;for(let patternPos=0;patternPos<lowPattern.length&&patternPos<_maxLen;++patternPos){const wordPos=lowWord.indexOf(lowPattern.charAt(patternPos),idx);if(wordPos>=0)score+=1,matches+=Math.pow(2,wordPos),idx=wordPos+1;else if(0!==matches)break}return[score,matches,_wordPos]}function createMatches(score){if(void 0===score)return[];const matches=score[1].toString(2),res=[];for(let pos=score[2];pos<_maxLen;pos++)if("1"===matches[matches.length-(pos+1)]){const last=res[res.length-1];last&&last.end===pos?last.end=pos+1:res.push({start:pos,end:pos+1})}return res}const _maxLen=128;function initTable(){const table=[],row=[0];for(let i=1;i<=_maxLen;i++)row.push(-i);for(let i=0;i<=_maxLen;i++){const thisRow=row.slice(0);thisRow[0]=-i,table.push(thisRow)}return table}const _table=initTable(),_scores=initTable(),_arrows=initTable(),_debug=!1;function printTable(table,pattern,patternLen,word,wordLen){function pad(s,n,pad=" "){for(;s.length<n;)s=pad+s;return s}let ret=` |   |${word.split("").map(c=>pad(c,3)).join("|")}\n`;for(let i=0;i<=patternLen;i++)ret+=0===i?" |":`${pattern[i-1]}|`,ret+=table[i].slice(0,wordLen+1).map(n=>pad(n.toString(),3)).join("|")+"\n";return ret}function isSeparatorAtPos(value,index){if(index<0||index>=value.length)return!1;switch(value.charCodeAt(index)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function isUpperCaseAtPos(pos,word,wordLow){return word[pos]!==wordLow[pos]}var FuzzyScore;function fuzzyScore(pattern,patternLow,patternStart,word,wordLow,wordStart,firstMatchCanBeWeak){const patternLen=pattern.length>_maxLen?_maxLen:pattern.length,wordLen=word.length>_maxLen?_maxLen:word.length;if(patternStart>=patternLen||wordStart>=wordLen||patternLen-patternStart>wordLen-wordStart)return;if(!function isPatternInWord(patternLow,patternPos,patternLen,wordLow,wordPos,wordLen){for(;patternPos<patternLen&&wordPos<wordLen;)patternLow[patternPos]===wordLow[wordPos]&&(patternPos+=1),wordPos+=1;return patternPos===patternLen}(patternLow,patternStart,patternLen,wordLow,wordStart,wordLen))return;let row=1,column=1,patternPos=patternStart,wordPos=wordStart,hasStrongFirstMatch=!1;for(row=1,patternPos=patternStart;patternPos<patternLen;row++,patternPos++)for(column=1,wordPos=wordStart;wordPos<wordLen;column++,wordPos++){const score=_doScore(pattern,patternLow,patternPos,patternStart,word,wordLow,wordPos);patternPos===patternStart&&score>1&&(hasStrongFirstMatch=!0),_scores[row][column]=score;const diag=_table[row-1][column-1]+(score>1?1:score),top=_table[row-1][column]+-1,left=_table[row][column-1]+-1;left>=top?left>diag?(_table[row][column]=left,_arrows[row][column]=4):left===diag?(_table[row][column]=left,_arrows[row][column]=6):(_table[row][column]=diag,_arrows[row][column]=2):top>diag?(_table[row][column]=top,_arrows[row][column]=1):top===diag?(_table[row][column]=top,_arrows[row][column]=3):(_table[row][column]=diag,_arrows[row][column]=2)}return _debug&&function printTables(pattern,patternStart,word,wordStart){pattern=pattern.substr(patternStart),word=word.substr(wordStart),console.log(printTable(_table,pattern,pattern.length,word,word.length)),console.log(printTable(_arrows,pattern,pattern.length,word,word.length)),console.log(printTable(_scores,pattern,pattern.length,word,word.length))}(pattern,patternStart,word,wordStart),(hasStrongFirstMatch||firstMatchCanBeWeak)&&(_matchesCount=0,_topScore=-100,_wordStart=wordStart,_firstMatchCanBeWeak=firstMatchCanBeWeak,function _findAllMatches2(row,column,total,matches,lastMatched){if(_matchesCount>=10||total<-25)return;let simpleMatchCount=0;for(;row>0&&column>0;){const score=_scores[row][column],arrow=_arrows[row][column];if(4===arrow)column-=1,lastMatched?total-=5:0!==matches&&(total-=1),lastMatched=!1,simpleMatchCount=0;else{if(!(2&arrow))return;if(4&arrow&&_findAllMatches2(row,column-1,0!==matches?total-1:total,matches,lastMatched),total+=score,row-=1,column-=1,lastMatched=!0,matches+=Math.pow(2,column+_wordStart),1===score){if(simpleMatchCount+=1,0===row&&!_firstMatchCanBeWeak)return}else total+=1+simpleMatchCount*(score-1),simpleMatchCount=0}}total-=column>=3?9:3*column;_matchesCount+=1;total>_topScore&&(_topScore=total,_topMatch2=matches)}(row-1,column-1,patternLen===wordLen?1:0,0,!1),0!==_matchesCount)?[_topScore,_topMatch2,wordStart]:void 0}function _doScore(pattern,patternLow,patternPos,patternStart,word,wordLow,wordPos){return patternLow[patternPos]!==wordLow[wordPos]?-1:wordPos===patternPos-patternStart?pattern[patternPos]===word[wordPos]?7:5:!isUpperCaseAtPos(wordPos,word,wordLow)||0!==wordPos&&isUpperCaseAtPos(wordPos-1,word,wordLow)?!isSeparatorAtPos(wordLow,wordPos)||0!==wordPos&&isSeparatorAtPos(wordLow,wordPos-1)?isSeparatorAtPos(wordLow,wordPos-1)||function isWhitespaceAtPos(value,index){if(index<0||index>=value.length)return!1;switch(value.charCodeAt(index)){case 32:case 9:return!0;default:return!1}}(wordLow,wordPos-1)?5:1:5:pattern[patternPos]===word[wordPos]?7:5}!function(FuzzyScore){FuzzyScore.Default=Object.freeze([-100,0,0]),FuzzyScore.isDefault=function isDefault(score){return!score||-100===score[0]&&0===score[1]&&0===score[2]}}(FuzzyScore||(FuzzyScore={}));let _matchesCount=0,_topMatch2=0,_topScore=0,_wordStart=0,_firstMatchCanBeWeak=!1;function fuzzyScoreGracefulAggressive(pattern,lowPattern,patternPos,word,lowWord,wordPos,firstMatchCanBeWeak){return function fuzzyScoreWithPermutations(pattern,lowPattern,patternPos,word,lowWord,wordPos,aggressive,firstMatchCanBeWeak){let top=fuzzyScore(pattern,lowPattern,patternPos,word,lowWord,wordPos,firstMatchCanBeWeak);if(top&&!aggressive)return top;if(pattern.length>=3){const tries=Math.min(7,pattern.length-1);for(let movingPatternPos=patternPos+1;movingPatternPos<tries;movingPatternPos++){const newPattern=nextTypoPermutation(pattern,movingPatternPos);if(newPattern){const candidate=fuzzyScore(newPattern,newPattern.toLowerCase(),patternPos,word,lowWord,wordPos,firstMatchCanBeWeak);candidate&&(candidate[0]-=3,(!top||candidate[0]>top[0])&&(top=candidate))}}}return top}(pattern,lowPattern,patternPos,word,lowWord,wordPos,!0,firstMatchCanBeWeak)}function nextTypoPermutation(pattern,patternPos){if(patternPos+1>=pattern.length)return;const swap1=pattern[patternPos],swap2=pattern[patternPos+1];return swap1!==swap2?pattern.slice(0,patternPos)+swap2+swap1+pattern.slice(patternPos+2):void 0}},2355:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return IContextViewService}),__webpack_require__.d(__webpack_exports__,"a",function(){return IContextMenuService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IContextViewService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("contextViewService"),IContextMenuService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("contextMenuService")},2356:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(2537);var dom=__webpack_require__(2298),fastDomNode=__webpack_require__(2319),mouseEvent=__webpack_require__(2339),globalMouseMoveMonitor=__webpack_require__(2378),widget=__webpack_require__(2343),common_async=__webpack_require__(2306);const ARROW_IMG_SIZE=11;class scrollbarArrow_ScrollbarArrow extends widget.a{constructor(opts){super(),this._onActivate=opts.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=opts.bgWidth+"px",this.bgDomNode.style.height=opts.bgHeight+"px",void 0!==opts.top&&(this.bgDomNode.style.top="0px"),void 0!==opts.left&&(this.bgDomNode.style.left="0px"),void 0!==opts.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==opts.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=opts.className,Object(dom.f)(this.domNode,opts.icon.classNames),this.domNode.style.position="absolute",this.domNode.style.width=ARROW_IMG_SIZE+"px",this.domNode.style.height=ARROW_IMG_SIZE+"px",void 0!==opts.top&&(this.domNode.style.top=opts.top+"px"),void 0!==opts.left&&(this.domNode.style.left=opts.left+"px"),void 0!==opts.bottom&&(this.domNode.style.bottom=opts.bottom+"px"),void 0!==opts.right&&(this.domNode.style.right=opts.right+"px"),this._mouseMoveMonitor=this._register(new globalMouseMoveMonitor.a),this.onmousedown(this.bgDomNode,e=>this._arrowMouseDown(e)),this.onmousedown(this.domNode,e=>this._arrowMouseDown(e)),this._mousedownRepeatTimer=this._register(new common_async.c),this._mousedownScheduleRepeatTimer=this._register(new common_async.e)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,globalMouseMoveMonitor.b,mouseMoveData=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}var lifecycle=__webpack_require__(2294);class scrollbarVisibilityController_ScrollbarVisibilityController extends lifecycle.a{constructor(visibility,visibleClassName,invisibleClassName){super(),this._visibility=visibility,this._visibleClassName=visibleClassName,this._invisibleClassName=invisibleClassName,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new common_async.e)}applyVisibilitySetting(shouldBeVisible){return 2!==this._visibility&&(3===this._visibility||shouldBeVisible)}setShouldBeVisible(rawShouldBeVisible){let shouldBeVisible=this.applyVisibilitySetting(rawShouldBeVisible);this._shouldBeVisible!==shouldBeVisible&&(this._shouldBeVisible=shouldBeVisible,this.ensureVisibility())}setIsNeeded(isNeeded){this._isNeeded!==isNeeded&&(this._isNeeded=isNeeded,this.ensureVisibility())}setDomNode(domNode){this._domNode=domNode,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(withFadeAway){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(withFadeAway?" fade":"")))}}var platform=__webpack_require__(2305);const MOUSE_DRAG_RESET_DISTANCE=140;class abstractScrollbar_AbstractScrollbar extends widget.a{constructor(opts){super(),this._lazyRender=opts.lazyRender,this._host=opts.host,this._scrollable=opts.scrollable,this._scrollbarState=opts.scrollbarState,this._visibilityController=this._register(new scrollbarVisibilityController_ScrollbarVisibilityController(opts.visibility,"visible scrollbar "+opts.extraScrollbarClassName,"invisible scrollbar "+opts.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new globalMouseMoveMonitor.a),this._shouldRender=!0,this.domNode=Object(fastDomNode.b)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,e=>this._domNodeMouseDown(e))}_createArrow(opts){let arrow=this._register(new scrollbarArrow_ScrollbarArrow(opts));this.domNode.domNode.appendChild(arrow.bgDomNode),this.domNode.domNode.appendChild(arrow.domNode)}_createSlider(top,left,width,height){this.slider=Object(fastDomNode.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(top),this.slider.setLeft(left),"number"==typeof width&&this.slider.setWidth(width),"number"==typeof height&&this.slider.setHeight(height),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}),this.onclick(this.slider.domNode,e=>{e.leftButton&&e.stopPropagation()})}_onElementSize(visibleSize){return this._scrollbarState.setVisibleSize(visibleSize)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(elementScrollSize){return this._scrollbarState.setScrollSize(elementScrollSize)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(elementScrollPosition){return this._scrollbarState.setScrollPosition(elementScrollPosition)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){let domTop=this.domNode.domNode.getClientRects()[0].top,sliderStart=domTop+this._scrollbarState.getSliderPosition(),sliderStop=domTop+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),mousePos=this._sliderMousePosition(e);sliderStart<=mousePos&&mousePos<=sliderStop?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let offsetX,offsetY;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)offsetX=e.browserEvent.offsetX,offsetY=e.browserEvent.offsetY;else{const domNodePosition=dom.C(this.domNode.domNode);offsetX=e.posx-domNodePosition.left,offsetY=e.posy-domNodePosition.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(offsetX,offsetY))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,onDragFinished){const initialMousePosition=this._sliderMousePosition(e),initialMouseOrthogonalPosition=this._sliderOrthogonalMousePosition(e),initialScrollbarState=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,globalMouseMoveMonitor.b,mouseMoveData=>{const mouseOrthogonalPosition=this._sliderOrthogonalMousePosition(mouseMoveData),mouseOrthogonalDelta=Math.abs(mouseOrthogonalPosition-initialMouseOrthogonalPosition);if(platform.i&&mouseOrthogonalDelta>MOUSE_DRAG_RESET_DISTANCE)return void this._setDesiredScrollPositionNow(initialScrollbarState.getScrollPosition());const mouseDelta=this._sliderMousePosition(mouseMoveData)-initialMousePosition;this._setDesiredScrollPositionNow(initialScrollbarState.getDesiredScrollPositionFromDelta(mouseDelta))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),onDragFinished()}),this._host.onDragStart()}_setDesiredScrollPositionNow(_desiredScrollPosition){let desiredScrollPosition={};this.writeScrollPosition(desiredScrollPosition,_desiredScrollPosition),this._scrollable.setScrollPositionNow(desiredScrollPosition)}updateScrollbarSize(scrollbarSize){this._updateScrollbarSize(scrollbarSize),this._scrollbarState.setScrollbarSize(scrollbarSize),this._shouldRender=!0,this._lazyRender||this.render()}}const MINIMUM_SLIDER_SIZE=20;class ScrollbarState{constructor(arrowSize,scrollbarSize,oppositeScrollbarSize,visibleSize,scrollSize,scrollPosition){this._scrollbarSize=Math.round(scrollbarSize),this._oppositeScrollbarSize=Math.round(oppositeScrollbarSize),this._arrowSize=Math.round(arrowSize),this._visibleSize=visibleSize,this._scrollSize=scrollSize,this._scrollPosition=scrollPosition,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new ScrollbarState(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(visibleSize){let iVisibleSize=Math.round(visibleSize);return this._visibleSize!==iVisibleSize&&(this._visibleSize=iVisibleSize,this._refreshComputedValues(),!0)}setScrollSize(scrollSize){let iScrollSize=Math.round(scrollSize);return this._scrollSize!==iScrollSize&&(this._scrollSize=iScrollSize,this._refreshComputedValues(),!0)}setScrollPosition(scrollPosition){let iScrollPosition=Math.round(scrollPosition);return this._scrollPosition!==iScrollPosition&&(this._scrollPosition=iScrollPosition,this._refreshComputedValues(),!0)}setScrollbarSize(scrollbarSize){this._scrollbarSize=scrollbarSize}static _computeValues(oppositeScrollbarSize,arrowSize,visibleSize,scrollSize,scrollPosition){const computedAvailableSize=Math.max(0,visibleSize-oppositeScrollbarSize),computedRepresentableSize=Math.max(0,computedAvailableSize-2*arrowSize),computedIsNeeded=scrollSize>0&&scrollSize>visibleSize;if(!computedIsNeeded)return{computedAvailableSize:Math.round(computedAvailableSize),computedIsNeeded:computedIsNeeded,computedSliderSize:Math.round(computedRepresentableSize),computedSliderRatio:0,computedSliderPosition:0};const computedSliderSize=Math.round(Math.max(MINIMUM_SLIDER_SIZE,Math.floor(visibleSize*computedRepresentableSize/scrollSize))),computedSliderRatio=(computedRepresentableSize-computedSliderSize)/(scrollSize-visibleSize),computedSliderPosition=scrollPosition*computedSliderRatio;return{computedAvailableSize:Math.round(computedAvailableSize),computedIsNeeded:computedIsNeeded,computedSliderSize:Math.round(computedSliderSize),computedSliderRatio:computedSliderRatio,computedSliderPosition:Math.round(computedSliderPosition)}}_refreshComputedValues(){const r=ScrollbarState._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=r.computedAvailableSize,this._computedIsNeeded=r.computedIsNeeded,this._computedSliderSize=r.computedSliderSize,this._computedSliderRatio=r.computedSliderRatio,this._computedSliderPosition=r.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(offset){if(!this._computedIsNeeded)return 0;let desiredSliderPosition=offset-this._arrowSize-this._computedSliderSize/2;return Math.round(desiredSliderPosition/this._computedSliderRatio)}getDesiredScrollPositionFromDelta(delta){if(!this._computedIsNeeded)return 0;let desiredSliderPosition=this._computedSliderPosition+delta;return Math.round(desiredSliderPosition/this._computedSliderRatio)}}var codicons=__webpack_require__(2316);const scrollbarButtonLeftIcon=Object(codicons.e)("scrollbar-button-left",codicons.a.triangleLeft),scrollbarButtonRightIcon=Object(codicons.e)("scrollbar-button-right",codicons.a.triangleRight);class horizontalScrollbar_HorizontalScrollbar extends abstractScrollbar_AbstractScrollbar{constructor(scrollable,options,host){const scrollDimensions=scrollable.getScrollDimensions(),scrollPosition=scrollable.getCurrentScrollPosition();if(super({lazyRender:options.lazyRender,host:host,scrollbarState:new ScrollbarState(options.horizontalHasArrows?options.arrowSize:0,2===options.horizontal?0:options.horizontalScrollbarSize,2===options.vertical?0:options.verticalScrollbarSize,scrollDimensions.width,scrollDimensions.scrollWidth,scrollPosition.scrollLeft),visibility:options.horizontal,extraScrollbarClassName:"horizontal",scrollable:scrollable}),options.horizontalHasArrows){let arrowDelta=(options.arrowSize-ARROW_IMG_SIZE)/2,scrollbarDelta=(options.horizontalScrollbarSize-ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:scrollbarButtonLeftIcon,top:scrollbarDelta,left:arrowDelta,bottom:void 0,right:void 0,bgWidth:options.arrowSize,bgHeight:options.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new mouseEvent.b(null,1,0))}),this._createArrow({className:"scra",icon:scrollbarButtonRightIcon,top:scrollbarDelta,left:void 0,bottom:void 0,right:arrowDelta,bgWidth:options.arrowSize,bgHeight:options.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new mouseEvent.b(null,-1,0))})}this._createSlider(Math.floor((options.horizontalScrollbarSize-options.horizontalSliderSize)/2),0,void 0,options.horizontalSliderSize)}_updateSlider(sliderSize,sliderPosition){this.slider.setWidth(sliderSize),this.slider.setLeft(sliderPosition)}_renderDomNode(largeSize,smallSize){this.domNode.setWidth(largeSize),this.domNode.setHeight(smallSize),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(offsetX,offsetY){return offsetX}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(size){this.slider.setHeight(size)}writeScrollPosition(target,scrollPosition){target.scrollLeft=scrollPosition}}const scrollbarButtonUpIcon=Object(codicons.e)("scrollbar-button-up",codicons.a.triangleUp),scrollbarButtonDownIcon=Object(codicons.e)("scrollbar-button-down",codicons.a.triangleDown);class verticalScrollbar_VerticalScrollbar extends abstractScrollbar_AbstractScrollbar{constructor(scrollable,options,host){const scrollDimensions=scrollable.getScrollDimensions(),scrollPosition=scrollable.getCurrentScrollPosition();if(super({lazyRender:options.lazyRender,host:host,scrollbarState:new ScrollbarState(options.verticalHasArrows?options.arrowSize:0,2===options.vertical?0:options.verticalScrollbarSize,0,scrollDimensions.height,scrollDimensions.scrollHeight,scrollPosition.scrollTop),visibility:options.vertical,extraScrollbarClassName:"vertical",scrollable:scrollable}),options.verticalHasArrows){let arrowDelta=(options.arrowSize-ARROW_IMG_SIZE)/2,scrollbarDelta=(options.verticalScrollbarSize-ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:scrollbarButtonUpIcon,top:arrowDelta,left:scrollbarDelta,bottom:void 0,right:void 0,bgWidth:options.verticalScrollbarSize,bgHeight:options.arrowSize,onActivate:()=>this._host.onMouseWheel(new mouseEvent.b(null,0,1))}),this._createArrow({className:"scra",icon:scrollbarButtonDownIcon,top:void 0,left:scrollbarDelta,bottom:arrowDelta,right:void 0,bgWidth:options.verticalScrollbarSize,bgHeight:options.arrowSize,onActivate:()=>this._host.onMouseWheel(new mouseEvent.b(null,0,-1))})}this._createSlider(0,Math.floor((options.verticalScrollbarSize-options.verticalSliderSize)/2),options.verticalSliderSize,void 0)}_updateSlider(sliderSize,sliderPosition){this.slider.setHeight(sliderSize),this.slider.setTop(sliderPosition)}_renderDomNode(largeSize,smallSize){this.domNode.setWidth(smallSize),this.domNode.setHeight(largeSize),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(offsetX,offsetY){return offsetY}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(size){this.slider.setWidth(size)}writeScrollPosition(target,scrollPosition){target.scrollTop=scrollPosition}}var common_event=__webpack_require__(2296),common_scrollable=__webpack_require__(2438),browser=__webpack_require__(2326);__webpack_require__.d(__webpack_exports__,"b",function(){return scrollableElement_ScrollableElement}),__webpack_require__.d(__webpack_exports__,"c",function(){return SmoothScrollableElement}),__webpack_require__.d(__webpack_exports__,"a",function(){return DomScrollableElement});const HIDE_TIMEOUT=500,SCROLL_WHEEL_SENSITIVITY=50,SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED=!0;class MouseWheelClassifierItem{constructor(timestamp,deltaX,deltaY){this.timestamp=timestamp,this.deltaX=deltaX,this.deltaY=deltaY,this.score=0}}class MouseWheelClassifier{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let remainingInfluence=1,score=0,iteration=1,index=this._rear;for(;;){const influence=index===this._front?remainingInfluence:Math.pow(2,-iteration);if(remainingInfluence-=influence,score+=this._memory[index].score*influence,index===this._front)break;index=(this._capacity+index-1)%this._capacity,iteration++}return score<=.5}accept(timestamp,deltaX,deltaY){const item=new MouseWheelClassifierItem(timestamp,deltaX,deltaY);item.score=this._computeScore(item),-1===this._front&&-1===this._rear?(this._memory[0]=item,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=item)}_computeScore(item){if(Math.abs(item.deltaX)>0&&Math.abs(item.deltaY)>0)return 1;let score=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(item.deltaX)&&this._isAlmostInt(item.deltaY)||(score+=.25),Math.min(Math.max(score,0),1)}_isAlmostInt(value){return Math.abs(Math.round(value)-value)<.01}}MouseWheelClassifier.INSTANCE=new MouseWheelClassifier;class scrollableElement_AbstractScrollableElement extends widget.a{constructor(element,options,scrollable){super(),this._onScroll=this._register(new common_event.a),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new common_event.a),element.style.overflow="hidden",this._options=function resolveOptions(opts){let result={lazyRender:void 0!==opts.lazyRender&&opts.lazyRender,className:void 0!==opts.className?opts.className:"",useShadows:void 0===opts.useShadows||opts.useShadows,handleMouseWheel:void 0===opts.handleMouseWheel||opts.handleMouseWheel,flipAxes:void 0!==opts.flipAxes&&opts.flipAxes,alwaysConsumeMouseWheel:void 0!==opts.alwaysConsumeMouseWheel&&opts.alwaysConsumeMouseWheel,scrollYToX:void 0!==opts.scrollYToX&&opts.scrollYToX,mouseWheelScrollSensitivity:void 0!==opts.mouseWheelScrollSensitivity?opts.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==opts.fastScrollSensitivity?opts.fastScrollSensitivity:5,scrollPredominantAxis:void 0===opts.scrollPredominantAxis||opts.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===opts.mouseWheelSmoothScroll||opts.mouseWheelSmoothScroll,arrowSize:void 0!==opts.arrowSize?opts.arrowSize:11,listenOnDomNode:void 0!==opts.listenOnDomNode?opts.listenOnDomNode:null,horizontal:void 0!==opts.horizontal?opts.horizontal:1,horizontalScrollbarSize:void 0!==opts.horizontalScrollbarSize?opts.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==opts.horizontalSliderSize?opts.horizontalSliderSize:0,horizontalHasArrows:void 0!==opts.horizontalHasArrows&&opts.horizontalHasArrows,vertical:void 0!==opts.vertical?opts.vertical:1,verticalScrollbarSize:void 0!==opts.verticalScrollbarSize?opts.verticalScrollbarSize:10,verticalHasArrows:void 0!==opts.verticalHasArrows&&opts.verticalHasArrows,verticalSliderSize:void 0!==opts.verticalSliderSize?opts.verticalSliderSize:0};result.horizontalSliderSize=void 0!==opts.horizontalSliderSize?opts.horizontalSliderSize:result.horizontalScrollbarSize,result.verticalSliderSize=void 0!==opts.verticalSliderSize?opts.verticalSliderSize:result.verticalScrollbarSize,platform.f&&(result.className+=" mac");return result}(options),this._scrollable=scrollable,this._register(this._scrollable.onScroll(e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)}));let scrollbarHost={onMouseWheel:mouseWheelEvent=>this._onMouseWheel(mouseWheelEvent),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new verticalScrollbar_VerticalScrollbar(this._scrollable,this._options,scrollbarHost)),this._horizontalScrollbar=this._register(new horizontalScrollbar_HorizontalScrollbar(this._scrollable,this._options,scrollbarHost)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(element),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Object(fastDomNode.b)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Object(fastDomNode.b)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Object(fastDomNode.b)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,e=>this._onMouseOver(e)),this.onnonbubblingmouseout(this._listenOnDomNode,e=>this._onMouseOut(e)),this._hideTimeout=this._register(new common_async.e),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Object(lifecycle.f)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(browserEvent){this._verticalScrollbar.delegateMouseDown(browserEvent)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(dimensions){this._scrollable.setScrollDimensions(dimensions,!1)}updateClassName(newClassName){this._options.className=newClassName,platform.f&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(newOptions){void 0!==newOptions.handleMouseWheel&&(this._options.handleMouseWheel=newOptions.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==newOptions.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=newOptions.mouseWheelScrollSensitivity),void 0!==newOptions.fastScrollSensitivity&&(this._options.fastScrollSensitivity=newOptions.fastScrollSensitivity),void 0!==newOptions.scrollPredominantAxis&&(this._options.scrollPredominantAxis=newOptions.scrollPredominantAxis),void 0!==newOptions.horizontalScrollbarSize&&this._horizontalScrollbar.updateScrollbarSize(newOptions.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(shouldListen){if(this._mouseWheelToDispose.length>0!==shouldListen&&(this._mouseWheelToDispose=Object(lifecycle.f)(this._mouseWheelToDispose),shouldListen)){let onMouseWheel=browserEvent=>{this._onMouseWheel(new mouseEvent.b(browserEvent))};this._mouseWheelToDispose.push(dom.i(this._listenOnDomNode,dom.c.MOUSE_WHEEL,onMouseWheel,{passive:!1}))}}_onMouseWheel(e){const classifier=MouseWheelClassifier.INSTANCE;if(SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED){const osZoomFactor=window.devicePixelRatio/Object(browser.c)();platform.i||platform.d?classifier.accept(Date.now(),e.deltaX/osZoomFactor,e.deltaY/osZoomFactor):classifier.accept(Date.now(),e.deltaX,e.deltaY)}if(e.deltaY||e.deltaX){let deltaY=e.deltaY*this._options.mouseWheelScrollSensitivity,deltaX=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(deltaY)>=Math.abs(deltaX)?deltaX=0:deltaY=0),this._options.flipAxes&&([deltaY,deltaX]=[deltaX,deltaY]);const shiftConvert=!platform.f&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!shiftConvert||deltaX||(deltaX=deltaY,deltaY=0),e.browserEvent&&e.browserEvent.altKey&&(deltaX*=this._options.fastScrollSensitivity,deltaY*=this._options.fastScrollSensitivity);const futureScrollPosition=this._scrollable.getFutureScrollPosition();let desiredScrollPosition={};if(deltaY){const desiredScrollTop=futureScrollPosition.scrollTop-SCROLL_WHEEL_SENSITIVITY*deltaY;this._verticalScrollbar.writeScrollPosition(desiredScrollPosition,desiredScrollTop)}if(deltaX){const desiredScrollLeft=futureScrollPosition.scrollLeft-SCROLL_WHEEL_SENSITIVITY*deltaX;this._horizontalScrollbar.writeScrollPosition(desiredScrollPosition,desiredScrollLeft)}if(desiredScrollPosition=this._scrollable.validateScrollPosition(desiredScrollPosition),futureScrollPosition.scrollLeft!==desiredScrollPosition.scrollLeft||futureScrollPosition.scrollTop!==desiredScrollPosition.scrollTop){SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED&&this._options.mouseWheelSmoothScroll&&classifier.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(desiredScrollPosition):this._scrollable.setScrollPositionNow(desiredScrollPosition),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const scrollState=this._scrollable.getCurrentScrollPosition();let enableTop=scrollState.scrollTop>0,enableLeft=scrollState.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(enableLeft?" left":"")),this._topShadowDomNode.setClassName("shadow"+(enableTop?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(enableTop?" top":"")+(enableLeft?" left":""))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(()=>this._hide(),HIDE_TIMEOUT)}}class scrollableElement_ScrollableElement extends scrollableElement_AbstractScrollableElement{constructor(element,options){(options=options||{}).mouseWheelSmoothScroll=!1;const scrollable=new common_scrollable.a(0,callback=>dom.Y(callback));super(element,options,scrollable),this._register(scrollable)}setScrollPosition(update){this._scrollable.setScrollPositionNow(update)}}class SmoothScrollableElement extends scrollableElement_AbstractScrollableElement{constructor(element,options,scrollable){super(element,options,scrollable)}setScrollPosition(update){this._scrollable.setScrollPositionNow(update)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class DomScrollableElement extends scrollableElement_ScrollableElement{constructor(element,options){super(element,options),this._element=element,this.onScroll(e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},2357:function(module,__webpack_exports__,__webpack_require__){"use strict";var strings=__webpack_require__(2299),core_range=__webpack_require__(2295),cancellation=__webpack_require__(2315),lifecycle=__webpack_require__(2294),editorExtensions=__webpack_require__(2301),contextkey=__webpack_require__(2307),linkedList=__webpack_require__(2359),instantiation=__webpack_require__(2300),extensions=__webpack_require__(2361);const IEditorCancellationTokens=Object(instantiation.c)("IEditorCancelService"),ctxCancellableOperation=new contextkey.c("cancellableOperation",!1);Object(extensions.b)(IEditorCancellationTokens,class{constructor(){this._tokens=new WeakMap}add(editor,cts){let removeFn,data=this._tokens.get(editor);return data||(data=editor.invokeWithinContext(accessor=>{return{key:ctxCancellableOperation.bindTo(accessor.get(contextkey.b)),tokens:new linkedList.a}}),this._tokens.set(editor,data)),data.key.set(!0),removeFn=data.tokens.push(cts),()=>{removeFn&&(removeFn(),data.key.set(!data.tokens.isEmpty()),removeFn=void 0)}}cancel(editor){const data=this._tokens.get(editor);if(!data)return;const cts=data.tokens.pop();cts&&(cts.cancel(),data.key.set(!data.tokens.isEmpty()))}},!0);class keybindingCancellation_EditorKeybindingCancellationTokenSource extends cancellation.b{constructor(editor,parent){super(parent),this.editor=editor,this._unregister=editor.invokeWithinContext(accessor=>accessor.get(IEditorCancellationTokens).add(editor,this))}dispose(){this._unregister(),super.dispose()}}Object(editorExtensions.l)(new class extends editorExtensions.c{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:ctxCancellableOperation})}runEditorCommand(accessor,editor){accessor.get(IEditorCancellationTokens).cancel(editor)}}),__webpack_require__.d(__webpack_exports__,"a",function(){return editorState_EditorState}),__webpack_require__.d(__webpack_exports__,"b",function(){return editorState_EditorStateCancellationTokenSource}),__webpack_require__.d(__webpack_exports__,"d",function(){return editorState_TextModelCancellationTokenSource}),__webpack_require__.d(__webpack_exports__,"c",function(){return StableEditorScrollState});class editorState_EditorState{constructor(editor,flags){if(this.flags=flags,0!=(1&this.flags)){const model=editor.getModel();this.modelVersionId=model?strings.x("{0}#{1}",model.uri.toString(),model.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=editor.getPosition():this.position=null,0!=(2&this.flags)?this.selection=editor.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=editor.getScrollLeft(),this.scrollTop=editor.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(other){if(!(other instanceof editorState_EditorState))return!1;const state=other;return this.modelVersionId===state.modelVersionId&&(this.scrollLeft===state.scrollLeft&&this.scrollTop===state.scrollTop&&(!(!this.position&&state.position||this.position&&!state.position||this.position&&state.position&&!this.position.equals(state.position))&&!(!this.selection&&state.selection||this.selection&&!state.selection||this.selection&&state.selection&&!this.selection.equalsRange(state.selection))))}validate(editor){return this._equals(new editorState_EditorState(editor,this.flags))}}class editorState_EditorStateCancellationTokenSource extends keybindingCancellation_EditorKeybindingCancellationTokenSource{constructor(editor,flags,range,parent){super(editor,parent),this.editor=editor,this._listener=new lifecycle.b,4&flags&&this._listener.add(editor.onDidChangeCursorPosition(e=>{range&&core_range.a.containsPosition(range,e.position)||this.cancel()})),2&flags&&this._listener.add(editor.onDidChangeCursorSelection(e=>{range&&core_range.a.containsRange(range,e.selection)||this.cancel()})),8&flags&&this._listener.add(editor.onDidScrollChange(_=>this.cancel())),1&flags&&(this._listener.add(editor.onDidChangeModel(_=>this.cancel())),this._listener.add(editor.onDidChangeModelContent(_=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class editorState_TextModelCancellationTokenSource extends cancellation.b{constructor(model,parent){super(parent),this._listener=model.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class StableEditorScrollState{constructor(_visiblePosition,_visiblePositionScrollDelta,_cursorPosition){this._visiblePosition=_visiblePosition,this._visiblePositionScrollDelta=_visiblePositionScrollDelta,this._cursorPosition=_cursorPosition}static capture(editor){let visiblePosition=null,visiblePositionScrollDelta=0;if(0!==editor.getScrollTop()){const visibleRanges=editor.getVisibleRanges();if(visibleRanges.length>0){visiblePosition=visibleRanges[0].getStartPosition();const visiblePositionScrollTop=editor.getTopForPosition(visiblePosition.lineNumber,visiblePosition.column);visiblePositionScrollDelta=editor.getScrollTop()-visiblePositionScrollTop}}return new StableEditorScrollState(visiblePosition,visiblePositionScrollDelta,editor.getPosition())}restore(editor){if(this._visiblePosition){const visiblePositionScrollTop=editor.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);editor.setScrollTop(visiblePositionScrollTop+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(editor){const currentCursorPosition=editor.getPosition();if(!this._cursorPosition||!currentCursorPosition)return;const offset=editor.getTopForLineNumber(currentCursorPosition.lineNumber)-editor.getTopForLineNumber(this._cursorPosition.lineNumber);editor.setScrollTop(editor.getScrollTop()+offset)}}},2358:function(module,__webpack_exports__,__webpack_require__){"use strict";var browser=__webpack_require__(2326),common_event=__webpack_require__(2296),lifecycle=__webpack_require__(2294),platform=__webpack_require__(2305);class CharWidthRequest{constructor(chr,type){this.chr=chr,this.type=type,this.width=0}fulfill(width){this.width=width}}class DomCharWidthReader{constructor(bareFontInfo,requests){this._bareFontInfo=bareFontInfo,this._requests=requests,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const container=document.createElement("div");container.style.position="absolute",container.style.top="-50000px",container.style.width="50000px";const regularDomNode=document.createElement("div");regularDomNode.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),regularDomNode.style.fontWeight=this._bareFontInfo.fontWeight,regularDomNode.style.fontSize=this._bareFontInfo.fontSize+"px",regularDomNode.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,regularDomNode.style.lineHeight=this._bareFontInfo.lineHeight+"px",regularDomNode.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",container.appendChild(regularDomNode);const boldDomNode=document.createElement("div");boldDomNode.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),boldDomNode.style.fontWeight="bold",boldDomNode.style.fontSize=this._bareFontInfo.fontSize+"px",boldDomNode.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,boldDomNode.style.lineHeight=this._bareFontInfo.lineHeight+"px",boldDomNode.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",container.appendChild(boldDomNode);const italicDomNode=document.createElement("div");italicDomNode.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),italicDomNode.style.fontWeight=this._bareFontInfo.fontWeight,italicDomNode.style.fontSize=this._bareFontInfo.fontSize+"px",italicDomNode.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,italicDomNode.style.lineHeight=this._bareFontInfo.lineHeight+"px",italicDomNode.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",italicDomNode.style.fontStyle="italic",container.appendChild(italicDomNode);const testElements=[];for(const request of this._requests){let parent;0===request.type&&(parent=regularDomNode),2===request.type&&(parent=boldDomNode),1===request.type&&(parent=italicDomNode),parent.appendChild(document.createElement("br"));const testElement=document.createElement("span");DomCharWidthReader._render(testElement,request),parent.appendChild(testElement),testElements.push(testElement)}this._container=container,this._testElements=testElements}static _render(testElement,request){if(" "===request.chr){let htmlString="";for(let i=0;i<8;i++)htmlString+=htmlString;testElement.innerText=htmlString}else{let testString=request.chr;for(let i=0;i<8;i++)testString+=testString;testElement.textContent=testString}}_readFromDomElements(){for(let i=0,len=this._requests.length;i<len;i++){const request=this._requests[i],testElement=this._testElements[i];request.fulfill(testElement.offsetWidth/256)}}}var elementSizeObserver=__webpack_require__(2476),commonEditorConfig=__webpack_require__(2428),editorOptions=__webpack_require__(2328),fontInfo=__webpack_require__(2429);__webpack_require__.d(__webpack_exports__,"b",function(){return clearAllFontInfos}),__webpack_require__.d(__webpack_exports__,"a",function(){return configuration_Configuration});class CSSBasedConfigurationCache{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(item){const itemId=item.getId();return!!this._values[itemId]}get(item){const itemId=item.getId();return this._values[itemId]}put(item,value){const itemId=item.getId();this._keys[itemId]=item,this._values[itemId]=value}remove(item){const itemId=item.getId();delete this._keys[itemId],delete this._values[itemId]}getValues(){return Object.keys(this._keys).map(id=>this._values[id])}}function clearAllFontInfos(){configuration_CSSBasedConfiguration.INSTANCE.clearCache()}class configuration_CSSBasedConfiguration extends lifecycle.a{constructor(){super(),this._onDidChange=this._register(new common_event.a),this.onDidChange=this._onDidChange.event,this._cache=new CSSBasedConfigurationCache,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new CSSBasedConfigurationCache,this._onDidChange.fire()}_writeToCache(item,value){this._cache.put(item,value),value.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const values=this._cache.getValues();let somethingRemoved=!1;for(let i=0,len=values.length;i<len;i++){const item=values[i];item.isTrusted||(somethingRemoved=!0,this._cache.remove(item))}somethingRemoved&&this._onDidChange.fire()}readConfiguration(bareFontInfo){if(!this._cache.has(bareFontInfo)){let readConfig=configuration_CSSBasedConfiguration._actualReadConfiguration(bareFontInfo);(readConfig.typicalHalfwidthCharacterWidth<=2||readConfig.typicalFullwidthCharacterWidth<=2||readConfig.spaceWidth<=2||readConfig.maxDigitWidth<=2)&&(readConfig=new fontInfo.b({zoomLevel:browser.d(),fontFamily:readConfig.fontFamily,fontWeight:readConfig.fontWeight,fontSize:readConfig.fontSize,fontFeatureSettings:readConfig.fontFeatureSettings,lineHeight:readConfig.lineHeight,letterSpacing:readConfig.letterSpacing,isMonospace:readConfig.isMonospace,typicalHalfwidthCharacterWidth:Math.max(readConfig.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(readConfig.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:readConfig.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(readConfig.spaceWidth,5),middotWidth:Math.max(readConfig.middotWidth,5),wsmiddotWidth:Math.max(readConfig.wsmiddotWidth,5),maxDigitWidth:Math.max(readConfig.maxDigitWidth,5)},!1)),this._writeToCache(bareFontInfo,readConfig)}return this._cache.get(bareFontInfo)}static createRequest(chr,type,all,monospace){const result=new CharWidthRequest(chr,type);return all.push(result),monospace&&monospace.push(result),result}static _actualReadConfiguration(bareFontInfo){const all=[],monospace=[],typicalHalfwidthCharacter=this.createRequest("n",0,all,monospace),typicalFullwidthCharacter=this.createRequest("",0,all,null),space=this.createRequest(" ",0,all,monospace),digit0=this.createRequest("0",0,all,monospace),digit1=this.createRequest("1",0,all,monospace),digit2=this.createRequest("2",0,all,monospace),digit3=this.createRequest("3",0,all,monospace),digit4=this.createRequest("4",0,all,monospace),digit5=this.createRequest("5",0,all,monospace),digit6=this.createRequest("6",0,all,monospace),digit7=this.createRequest("7",0,all,monospace),digit8=this.createRequest("8",0,all,monospace),digit9=this.createRequest("9",0,all,monospace),rightwardsArrow=this.createRequest("",0,all,monospace),halfwidthRightwardsArrow=this.createRequest("",0,all,null),middot=this.createRequest("",0,all,monospace),wsmiddotWidth=this.createRequest(String.fromCharCode(11825),0,all,null);this.createRequest("|",0,all,monospace),this.createRequest("/",0,all,monospace),this.createRequest("-",0,all,monospace),this.createRequest("_",0,all,monospace),this.createRequest("i",0,all,monospace),this.createRequest("l",0,all,monospace),this.createRequest("m",0,all,monospace),this.createRequest("|",1,all,monospace),this.createRequest("_",1,all,monospace),this.createRequest("i",1,all,monospace),this.createRequest("l",1,all,monospace),this.createRequest("m",1,all,monospace),this.createRequest("n",1,all,monospace),this.createRequest("|",2,all,monospace),this.createRequest("_",2,all,monospace),this.createRequest("i",2,all,monospace),this.createRequest("l",2,all,monospace),this.createRequest("m",2,all,monospace),this.createRequest("n",2,all,monospace),function readCharWidths(bareFontInfo,requests){new DomCharWidthReader(bareFontInfo,requests).read()}(bareFontInfo,all);const maxDigitWidth=Math.max(digit0.width,digit1.width,digit2.width,digit3.width,digit4.width,digit5.width,digit6.width,digit7.width,digit8.width,digit9.width);let isMonospace=bareFontInfo.fontFeatureSettings===editorOptions.e.OFF;const referenceWidth=monospace[0].width;for(let i=1,len=monospace.length;isMonospace&&i<len;i++){const diff=referenceWidth-monospace[i].width;if(diff<-.001||diff>.001){isMonospace=!1;break}}let canUseHalfwidthRightwardsArrow=!0;isMonospace&&halfwidthRightwardsArrow.width!==referenceWidth&&(canUseHalfwidthRightwardsArrow=!1),halfwidthRightwardsArrow.width>rightwardsArrow.width&&(canUseHalfwidthRightwardsArrow=!1);const canTrustBrowserZoomLevel=browser.b()>2e3;return new fontInfo.b({zoomLevel:browser.d(),fontFamily:bareFontInfo.fontFamily,fontWeight:bareFontInfo.fontWeight,fontSize:bareFontInfo.fontSize,fontFeatureSettings:bareFontInfo.fontFeatureSettings,lineHeight:bareFontInfo.lineHeight,letterSpacing:bareFontInfo.letterSpacing,isMonospace:isMonospace,typicalHalfwidthCharacterWidth:typicalHalfwidthCharacter.width,typicalFullwidthCharacterWidth:typicalFullwidthCharacter.width,canUseHalfwidthRightwardsArrow:canUseHalfwidthRightwardsArrow,spaceWidth:space.width,middotWidth:middot.width,wsmiddotWidth:wsmiddotWidth.width,maxDigitWidth:maxDigitWidth},canTrustBrowserZoomLevel)}}configuration_CSSBasedConfiguration.INSTANCE=new configuration_CSSBasedConfiguration;class configuration_Configuration extends commonEditorConfig.a{constructor(isSimpleWidget,options,referenceDomElement=null,accessibilityService){super(isSimpleWidget,options),this.accessibilityService=accessibilityService,this._elementSizeObserver=this._register(new elementSizeObserver.a(referenceDomElement,options.dimension,()=>this._onReferenceDomElementSizeChanged())),this._register(configuration_CSSBasedConfiguration.INSTANCE.onDidChange(()=>this._onCSSBasedConfigurationChanged())),this._validatedOptions.get(9)&&this._elementSizeObserver.startObserving(),this._register(browser.n(_=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(domNode,fontInfo){domNode.style.fontFamily=fontInfo.getMassagedFontFamily(),domNode.style.fontWeight=fontInfo.fontWeight,domNode.style.fontSize=fontInfo.fontSize+"px",domNode.style.fontFeatureSettings=fontInfo.fontFeatureSettings,domNode.style.lineHeight=fontInfo.lineHeight+"px",domNode.style.letterSpacing=fontInfo.letterSpacing+"px"}static applyFontInfo(domNode,fontInfo){domNode.setFontFamily(fontInfo.getMassagedFontFamily()),domNode.setFontWeight(fontInfo.fontWeight),domNode.setFontSize(fontInfo.fontSize),domNode.setFontFeatureSettings(fontInfo.fontFeatureSettings),domNode.setLineHeight(fontInfo.lineHeight),domNode.setLetterSpacing(fontInfo.letterSpacing)}_onReferenceDomElementSizeChanged(){this._recomputeOptions()}_onCSSBasedConfigurationChanged(){this._recomputeOptions()}observeReferenceElement(dimension){this._elementSizeObserver.observe(dimension)}dispose(){super.dispose()}_getExtraEditorClassName(){let extra="";return browser.j||browser.m||(extra+="no-user-select "),platform.f&&(extra+="mac "),extra}_getEnvConfiguration(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:browser.l||browser.h,pixelRatio:browser.a(),zoomLevel:browser.d(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(bareFontInfo){return configuration_CSSBasedConfiguration.INSTANCE.readConfiguration(bareFontInfo)}}},2359:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LinkedList});class Node{constructor(element){this.element=element,this.next=Node.Undefined,this.prev=Node.Undefined}}Node.Undefined=new Node(void 0);class LinkedList{constructor(){this._first=Node.Undefined,this._last=Node.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Node.Undefined}clear(){this._first=Node.Undefined,this._last=Node.Undefined,this._size=0}unshift(element){return this._insert(element,!1)}push(element){return this._insert(element,!0)}_insert(element,atTheEnd){const newNode=new Node(element);if(this._first===Node.Undefined)this._first=newNode,this._last=newNode;else if(atTheEnd){const oldLast=this._last;this._last=newNode,newNode.prev=oldLast,oldLast.next=newNode}else{const oldFirst=this._first;this._first=newNode,newNode.next=oldFirst,oldFirst.prev=newNode}this._size+=1;let didRemove=!1;return()=>{didRemove||(didRemove=!0,this._remove(newNode))}}shift(){if(this._first!==Node.Undefined){const res=this._first.element;return this._remove(this._first),res}}pop(){if(this._last!==Node.Undefined){const res=this._last.element;return this._remove(this._last),res}}_remove(node){if(node.prev!==Node.Undefined&&node.next!==Node.Undefined){const anchor=node.prev;anchor.next=node.next,node.next.prev=anchor}else node.prev===Node.Undefined&&node.next===Node.Undefined?(this._first=Node.Undefined,this._last=Node.Undefined):node.next===Node.Undefined?(this._last=this._last.prev,this._last.next=Node.Undefined):node.prev===Node.Undefined&&(this._first=this._first.next,this._first.prev=Node.Undefined);this._size-=1}*[Symbol.iterator](){let node=this._first;for(;node!==Node.Undefined;)yield node.element,node=node.next}toArray(){const result=[];for(let node=this._first;node!==Node.Undefined;node=node.next)result.push(node.element);return result}}},2360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return NULL_STATE}),__webpack_require__.d(__webpack_exports__,"b",function(){return NULL_MODE_ID}),__webpack_require__.d(__webpack_exports__,"a",function(){return NULL_LANGUAGE_IDENTIFIER}),__webpack_require__.d(__webpack_exports__,"d",function(){return nullTokenize}),__webpack_require__.d(__webpack_exports__,"e",function(){return nullTokenize2});var _core_token_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2400),_modes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2308);const NULL_STATE=new class NullStateImpl{clone(){return this}equals(other){return this===other}},NULL_MODE_ID="vs.editor.nullMode",NULL_LANGUAGE_IDENTIFIER=new _modes_js__WEBPACK_IMPORTED_MODULE_1__.r(NULL_MODE_ID,0);function nullTokenize(modeId,buffer,state,deltaOffset){return new _core_token_js__WEBPACK_IMPORTED_MODULE_0__.b([new _core_token_js__WEBPACK_IMPORTED_MODULE_0__.a(deltaOffset,"",modeId)],state)}function nullTokenize2(languageId,buffer,state,deltaOffset){let tokens=new Uint32Array(2);return tokens[0]=deltaOffset,tokens[1]=(16384|languageId<<0|2<<23)>>>0,new _core_token_js__WEBPACK_IMPORTED_MODULE_0__.c(tokens,null===state?NULL_STATE:state)}},2361:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return registerSingleton}),__webpack_require__.d(__webpack_exports__,"a",function(){return getSingletonServiceDescriptors});var _descriptors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2469);const _registry=[];function registerSingleton(id,ctor,supportsDelayedInstantiation){_registry.push([id,new _descriptors_js__WEBPACK_IMPORTED_MODULE_0__.a(ctor,[],supportsDelayedInstantiation)])}function getSingletonServiceDescriptors(){return _registry}},2362:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IStorageService}),__webpack_require__.d(__webpack_exports__,"c",function(){return WillSaveStateReason}),__webpack_require__.d(__webpack_exports__,"b",function(){return InMemoryStorageService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2294),_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2314);const IStorageService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("storageService");var WillSaveStateReason;!function(WillSaveStateReason){WillSaveStateReason[WillSaveStateReason.NONE=0]="NONE",WillSaveStateReason[WillSaveStateReason.SHUTDOWN=1]="SHUTDOWN"}(WillSaveStateReason||(WillSaveStateReason={}));class InMemoryStorageService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a{constructor(){super(...arguments),this._onDidChangeStorage=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this._onWillSaveState=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onWillSaveState=this._onWillSaveState.event,this.globalCache=new Map,this.workspaceCache=new Map}getCache(scope){return 0===scope?this.globalCache:this.workspaceCache}get(key,scope,fallbackValue){const value=this.getCache(scope).get(key);return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value)?fallbackValue:value}getBoolean(key,scope,fallbackValue){const value=this.getCache(scope).get(key);return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value)?fallbackValue:"true"===value}getNumber(key,scope,fallbackValue){const value=this.getCache(scope).get(key);return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value)?fallbackValue:parseInt(value,10)}store(key,value,scope){if(Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l)(value))return this.remove(key,scope);const valueStr=String(value);return this.getCache(scope).get(key)===valueStr?Promise.resolve():(this.getCache(scope).set(key,valueStr),this._onDidChangeStorage.fire({scope:scope,key:key}),Promise.resolve())}remove(key,scope){return this.getCache(scope).delete(key)?(this._onDidChangeStorage.fire({scope:scope,key:key}),Promise.resolve()):Promise.resolve()}}},2363:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IQuickInputService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_base_parts_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2434);__webpack_require__.d(__webpack_exports__,"b",function(){return _base_parts_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_1__.a});const IQuickInputService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("quickInputService")},2364:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IEditorWorkerService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IEditorWorkerService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("editorWorkerService")},2365:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return Viewport}),__webpack_require__.d(__webpack_exports__,"b",function(){return MinimapLinesRenderingData}),__webpack_require__.d(__webpack_exports__,"c",function(){return ViewLineData}),__webpack_require__.d(__webpack_exports__,"d",function(){return ViewLineRenderingData}),__webpack_require__.d(__webpack_exports__,"a",function(){return InlineDecoration}),__webpack_require__.d(__webpack_exports__,"e",function(){return ViewModelDecoration});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299);class Viewport{constructor(top,left,width,height){this.top=0|top,this.left=0|left,this.width=0|width,this.height=0|height}}class MinimapLinesRenderingData{constructor(tabSize,data){this.tabSize=tabSize,this.data=data}}class ViewLineData{constructor(content,continuesWithWrappedLine,minColumn,maxColumn,startVisibleColumn,tokens){this.content=content,this.continuesWithWrappedLine=continuesWithWrappedLine,this.minColumn=minColumn,this.maxColumn=maxColumn,this.startVisibleColumn=startVisibleColumn,this.tokens=tokens}}class ViewLineRenderingData{constructor(minColumn,maxColumn,content,continuesWithWrappedLine,mightContainRTL,mightContainNonBasicASCII,tokens,inlineDecorations,tabSize,startVisibleColumn){this.minColumn=minColumn,this.maxColumn=maxColumn,this.content=content,this.continuesWithWrappedLine=continuesWithWrappedLine,this.isBasicASCII=ViewLineRenderingData.isBasicASCII(content,mightContainNonBasicASCII),this.containsRTL=ViewLineRenderingData.containsRTL(content,this.isBasicASCII,mightContainRTL),this.tokens=tokens,this.inlineDecorations=inlineDecorations,this.tabSize=tabSize,this.startVisibleColumn=startVisibleColumn}static isBasicASCII(lineContent,mightContainNonBasicASCII){return!mightContainNonBasicASCII||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.B(lineContent)}static containsRTL(lineContent,isBasicASCII,mightContainRTL){return!(isBasicASCII||!mightContainRTL)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.m(lineContent)}}class InlineDecoration{constructor(range,inlineClassName,type){this.range=range,this.inlineClassName=inlineClassName,this.type=type}}class ViewModelDecoration{constructor(range,options){this.range=range,this.options=options}}},2366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IModeService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IModeService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("modeService")},2367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return KeybindingsRegistry});var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2329),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305),_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2318),_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2324);class KeybindingsRegistryImpl{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(kb){if(1===_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a){if(kb&&kb.win)return kb.win}else if(2===_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a){if(kb&&kb.mac)return kb.mac}else if(kb&&kb.linux)return kb.linux;return kb}registerKeybindingRule(rule){const actualKb=KeybindingsRegistryImpl.bindToCurrentPlatform(rule);if(actualKb&&actualKb.primary){const kk=Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_0__.f)(actualKb.primary,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a);kk&&this._registerDefaultKeybinding(kk,rule.id,rule.args,rule.weight,0,rule.when)}if(actualKb&&Array.isArray(actualKb.secondary))for(let i=0,len=actualKb.secondary.length;i<len;i++){const k=actualKb.secondary[i],kk=Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_0__.f)(k,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a);kk&&this._registerDefaultKeybinding(kk,rule.id,rule.args,rule.weight,-i-1,rule.when)}}registerCommandAndKeybindingRule(desc){this.registerKeybindingRule(desc),_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_2__.a.registerCommand(desc)}static _mightProduceChar(keyCode){return keyCode>=21&&keyCode<=30||(keyCode>=31&&keyCode<=56||(80===keyCode||81===keyCode||82===keyCode||83===keyCode||84===keyCode||85===keyCode||86===keyCode||110===keyCode||111===keyCode||87===keyCode||88===keyCode||89===keyCode||90===keyCode||91===keyCode||92===keyCode))}_assertNoCtrlAlt(keybinding,commandId){keybinding.ctrlKey&&keybinding.altKey&&!keybinding.metaKey&&KeybindingsRegistryImpl._mightProduceChar(keybinding.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",keybinding," for ",commandId)}_registerDefaultKeybinding(keybinding,commandId,commandArgs,weight1,weight2,when){1===_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.a&&this._assertNoCtrlAlt(keybinding.parts[0],commandId),this._coreKeybindings.push({keybinding:keybinding,command:commandId,commandArgs:commandArgs,when:when,weight1:weight1,weight2:weight2,extensionId:null}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(sorter)),this._cachedMergedKeybindings.slice(0)}}const KeybindingsRegistry=new KeybindingsRegistryImpl;function sorter(a,b){return a.weight1!==b.weight1?a.weight1-b.weight1:a.command<b.command?-1:a.command>b.command?1:a.weight2-b.weight2}_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_3__.a.add("platform.keybindingsRegistry",KeybindingsRegistry)},2368:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ITelemetryService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const ITelemetryService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("telemetryService")},2369:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MarkdownString}),__webpack_require__.d(__webpack_exports__,"b",function(){return isEmptyMarkdownString}),__webpack_require__.d(__webpack_exports__,"c",function(){return markedStringsEquals}),__webpack_require__.d(__webpack_exports__,"e",function(){return removeMarkdownEscapes}),__webpack_require__.d(__webpack_exports__,"d",function(){return parseHrefAndDimensions});var _arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2309),_codicons_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2316),_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2302);class MarkdownString{constructor(_value="",isTrustedOrOptions=!1){var _a,_b;if(this._value=_value,"string"!=typeof this._value)throw Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__.b)("value");"boolean"==typeof isTrustedOrOptions?(this._isTrusted=isTrustedOrOptions,this._supportThemeIcons=!1):(this._isTrusted=null!==(_a=isTrustedOrOptions.isTrusted)&&void 0!==_a&&_a,this._supportThemeIcons=null!==(_b=isTrustedOrOptions.supportThemeIcons)&&void 0!==_b&&_b)}get value(){return this._value}get isTrusted(){return this._isTrusted}get supportThemeIcons(){return this._supportThemeIcons}appendText(value){return this._value+=(this._supportThemeIcons?Object(_codicons_js__WEBPACK_IMPORTED_MODULE_1__.b)(value):value).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&").replace(/\n/g,"\n\n"),this}appendMarkdown(value){return this._value+=value,this}appendCodeblock(langId,code){return this._value+="\n```",this._value+=langId,this._value+="\n",this._value+=code,this._value+="\n```\n",this}}function isEmptyMarkdownString(oneOrMany){return isMarkdownString(oneOrMany)?!oneOrMany.value:!Array.isArray(oneOrMany)||oneOrMany.every(isEmptyMarkdownString)}function isMarkdownString(thing){return thing instanceof MarkdownString||!(!thing||"object"!=typeof thing)&&!("string"!=typeof thing.value||"boolean"!=typeof thing.isTrusted&&void 0!==thing.isTrusted||"boolean"!=typeof thing.supportThemeIcons&&void 0!==thing.supportThemeIcons)}function markedStringsEquals(a,b){return!a&&!b||!(!a||!b)&&(Array.isArray(a)&&Array.isArray(b)?Object(_arrays_js__WEBPACK_IMPORTED_MODULE_0__.g)(a,b,markdownStringEqual):!(!isMarkdownString(a)||!isMarkdownString(b))&&markdownStringEqual(a,b))}function markdownStringEqual(a,b){return a===b||!(!a||!b)&&(a.value===b.value&&a.isTrusted===b.isTrusted&&a.supportThemeIcons===b.supportThemeIcons)}function removeMarkdownEscapes(text){return text?text.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):text}function parseHrefAndDimensions(href){const dimensions=[],splitted=href.split("|").map(s=>s.trim());href=splitted[0];const parameters=splitted[1];if(parameters){const heightFromParams=/height=(\d+)/.exec(parameters),widthFromParams=/width=(\d+)/.exec(parameters),height=heightFromParams?heightFromParams[1]:"",width=widthFromParams?widthFromParams[1]:"",widthIsFinite=isFinite(parseInt(width)),heightIsFinite=isFinite(parseInt(height));widthIsFinite&&dimensions.push(`width="${width}"`),heightIsFinite&&dimensions.push(`height="${height}"`)}return{href:href,dimensions:dimensions}}},2370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IClipboardService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IClipboardService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("clipboardService")},2371:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return MarkerSeverity}),__webpack_require__.d(__webpack_exports__,"a",function(){return IMarkerData}),__webpack_require__.d(__webpack_exports__,"b",function(){return IMarkerService});var MarkerSeverity,IMarkerData,_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2297),_base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2372);!function(MarkerSeverity){MarkerSeverity[MarkerSeverity.Hint=1]="Hint",MarkerSeverity[MarkerSeverity.Info=2]="Info",MarkerSeverity[MarkerSeverity.Warning=4]="Warning",MarkerSeverity[MarkerSeverity.Error=8]="Error"}(MarkerSeverity||(MarkerSeverity={})),function(MarkerSeverity){MarkerSeverity.compare=function compare(a,b){return b-a};const _displayStrings=Object.create(null);_displayStrings[MarkerSeverity.Error]=Object(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a)("sev.error","Error"),_displayStrings[MarkerSeverity.Warning]=Object(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a)("sev.warning","Warning"),_displayStrings[MarkerSeverity.Info]=Object(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a)("sev.info","Info"),MarkerSeverity.toString=function toString(a){return _displayStrings[a]||""},MarkerSeverity.fromSeverity=function fromSeverity(severity){switch(severity){case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Error:return MarkerSeverity.Error;case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Warning:return MarkerSeverity.Warning;case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Info:return MarkerSeverity.Info;case _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Ignore:return MarkerSeverity.Hint}},MarkerSeverity.toSeverity=function toSeverity(severity){switch(severity){case MarkerSeverity.Error:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Error;case MarkerSeverity.Warning:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Warning;case MarkerSeverity.Info:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Info;case MarkerSeverity.Hint:return _base_common_severity_js__WEBPACK_IMPORTED_MODULE_2__.a.Ignore}}}(MarkerSeverity||(MarkerSeverity={})),function(IMarkerData){const emptyString="";function makeKeyOptionalMessage(markerData,useMessage){let result=[emptyString];return markerData.source?result.push(markerData.source.replace("","\\")):result.push(emptyString),markerData.code?"string"==typeof markerData.code?result.push(markerData.code.replace("","\\")):result.push(markerData.code.value.replace("","\\")):result.push(emptyString),void 0!==markerData.severity&&null!==markerData.severity?result.push(MarkerSeverity.toString(markerData.severity)):result.push(emptyString),markerData.message&&useMessage?result.push(markerData.message.replace("","\\")):result.push(emptyString),void 0!==markerData.startLineNumber&&null!==markerData.startLineNumber?result.push(markerData.startLineNumber.toString()):result.push(emptyString),void 0!==markerData.startColumn&&null!==markerData.startColumn?result.push(markerData.startColumn.toString()):result.push(emptyString),void 0!==markerData.endLineNumber&&null!==markerData.endLineNumber?result.push(markerData.endLineNumber.toString()):result.push(emptyString),void 0!==markerData.endColumn&&null!==markerData.endColumn?result.push(markerData.endColumn.toString()):result.push(emptyString),result.push(emptyString),result.join("")}IMarkerData.makeKey=function makeKey(markerData){return makeKeyOptionalMessage(markerData,!0)},IMarkerData.makeKeyOptionalMessage=makeKeyOptionalMessage}(IMarkerData||(IMarkerData={}));const IMarkerService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("markerService")},2372:function(module,__webpack_exports__,__webpack_require__){"use strict";var Severity,_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299);!function(Severity){Severity[Severity.Ignore=0]="Ignore",Severity[Severity.Info=1]="Info",Severity[Severity.Warning=2]="Warning",Severity[Severity.Error=3]="Error"}(Severity||(Severity={})),function(Severity){const _error="error",_warning="warning",_warn="warn",_info="info";Severity.fromValue=function fromValue(value){return value?_strings_js__WEBPACK_IMPORTED_MODULE_0__.t(_error,value)?Severity.Error:_strings_js__WEBPACK_IMPORTED_MODULE_0__.t(_warning,value)||_strings_js__WEBPACK_IMPORTED_MODULE_0__.t(_warn,value)?Severity.Warning:_strings_js__WEBPACK_IMPORTED_MODULE_0__.t(_info,value)?Severity.Info:Severity.Ignore:Severity.Ignore}}(Severity||(Severity={})),__webpack_exports__.a=Severity},2373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ActionBar});__webpack_require__(2472);var _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_common_actions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2337),_dom_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2298),_common_types_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2314),_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2342),_common_event_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2296),_actionViewItems_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2380);class ActionBar extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(container,options={}){var _a,_b,_c;let previousKey,nextKey;switch(super(),this._onDidBlur=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidCancel=this._onDidCancel.event,this._onDidRun=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidRun=this._onDidRun.event,this._onDidBeforeRun=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidBeforeRun=this._onDidBeforeRun.event,this.options=options,this._context=null!==(_a=options.context)&&void 0!==_a?_a:null,this._orientation=null!==(_b=this.options.orientation)&&void 0!==_b?_b:0,this._triggerKeys=null!==(_c=this.options.triggerKeys)&&void 0!==_c?_c:{keys:[3,10],keyDown:!1},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new _common_actions_js__WEBPACK_IMPORTED_MODULE_2__.b,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(e=>this._onDidRun.fire(e))),this._register(this._actionRunner.onDidBeforeRun(e=>this._onDidBeforeRun.fire(e))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==options.animated&&_dom_js__WEBPACK_IMPORTED_MODULE_3__.e(this.domNode,"animated"),this._orientation){case 0:previousKey=15,nextKey=17;break;case 1:previousKey=17,nextKey=15,this.domNode.className+=" reverse";break;case 2:previousKey=16,nextKey=18,this.domNode.className+=" vertical";break;case 3:previousKey=18,nextKey=16,this.domNode.className+=" vertical reverse"}this._register(_dom_js__WEBPACK_IMPORTED_MODULE_3__.i(this.domNode,_dom_js__WEBPACK_IMPORTED_MODULE_3__.c.KEY_DOWN,e=>{const event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_5__.a(e);let eventHandled=!0;event.equals(previousKey)?eventHandled=this.focusPrevious():event.equals(nextKey)?eventHandled=this.focusNext():event.equals(9)?this._onDidCancel.fire():this.isTriggerKeyEvent(event)?this._triggerKeys.keyDown&&this.doTrigger(event):eventHandled=!1,eventHandled&&(event.preventDefault(),event.stopPropagation())})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_3__.i(this.domNode,_dom_js__WEBPACK_IMPORTED_MODULE_3__.c.KEY_UP,e=>{const event=new _keyboardEvent_js__WEBPACK_IMPORTED_MODULE_5__.a(e);this.isTriggerKeyEvent(event)?(this._triggerKeys.keyDown||this.doTrigger(event),event.preventDefault(),event.stopPropagation()):(event.equals(2)||event.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(_dom_js__WEBPACK_IMPORTED_MODULE_3__.bb(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{_dom_js__WEBPACK_IMPORTED_MODULE_3__.x()!==this.domNode&&_dom_js__WEBPACK_IMPORTED_MODULE_3__.L(_dom_js__WEBPACK_IMPORTED_MODULE_3__.x(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),container.appendChild(this.domNode)}isTriggerKeyEvent(event){let ret=!1;return this._triggerKeys.keys.forEach(keyCode=>{ret=ret||event.equals(keyCode)}),ret}updateFocusedItem(){for(let i=0;i<this.actionsList.children.length;i++){const elem=this.actionsList.children[i];if(_dom_js__WEBPACK_IMPORTED_MODULE_3__.L(_dom_js__WEBPACK_IMPORTED_MODULE_3__.x(),elem)){this.focusedItem=i;break}}}get context(){return this._context}set context(context){this._context=context,this.viewItems.forEach(i=>i.setActionContext(context))}get actionRunner(){return this._actionRunner}set actionRunner(actionRunner){actionRunner&&(this._actionRunner=actionRunner,this.viewItems.forEach(item=>item.actionRunner=actionRunner))}getContainer(){return this.domNode}push(arg,options={}){const actions=Array.isArray(arg)?arg:[arg];let index=_common_types_js__WEBPACK_IMPORTED_MODULE_4__.h(options.index)?options.index:null;actions.forEach(action=>{const actionViewItemElement=document.createElement("li");let item;actionViewItemElement.className="action-item",actionViewItemElement.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(_dom_js__WEBPACK_IMPORTED_MODULE_3__.i(actionViewItemElement,_dom_js__WEBPACK_IMPORTED_MODULE_3__.c.CONTEXT_MENU,e=>{_dom_js__WEBPACK_IMPORTED_MODULE_3__.b.stop(e,!0)})),this.options.actionViewItemProvider&&(item=this.options.actionViewItemProvider(action)),item||(item=new _actionViewItems_js__WEBPACK_IMPORTED_MODULE_7__.a(this.context,action,options)),item.actionRunner=this._actionRunner,item.setActionContext(this.context),item.render(actionViewItemElement),null===index||index<0||index>=this.actionsList.children.length?(this.actionsList.appendChild(actionViewItemElement),this.viewItems.push(item)):(this.actionsList.insertBefore(actionViewItemElement,this.actionsList.children[index]),this.viewItems.splice(index,0,item),index++)}),this.focusedItem&&this.focus(this.focusedItem)}clear(){Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.viewItems),this.viewItems=[],_dom_js__WEBPACK_IMPORTED_MODULE_3__.s(this.actionsList)}focus(arg){let selectFirst=!1,index=void 0;void 0===arg?selectFirst=!0:"number"==typeof arg?index=arg:"boolean"==typeof arg&&(selectFirst=arg),selectFirst&&void 0===this.focusedItem?(this.focusedItem=-1,this.focusNext()):(void 0!==index&&(this.focusedItem=index),this.updateFocus())}focusNext(){void 0===this.focusedItem&&(this.focusedItem=this.viewItems.length-1);const startIndex=this.focusedItem;let item;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=startIndex,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,item=this.viewItems[this.focusedItem]}while(this.focusedItem!==startIndex&&!item.isEnabled());return this.focusedItem!==startIndex||item.isEnabled()||(this.focusedItem=void 0),this.updateFocus(),!0}focusPrevious(){void 0===this.focusedItem&&(this.focusedItem=0);const startIndex=this.focusedItem;let item;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=startIndex,!1;this.focusedItem=this.viewItems.length-1}item=this.viewItems[this.focusedItem]}while(this.focusedItem!==startIndex&&!item.isEnabled());return this.focusedItem!==startIndex||item.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0),!0}updateFocus(fromRight,preventScroll){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:preventScroll});for(let i=0;i<this.viewItems.length;i++){const actionViewItem=this.viewItems[i];i===this.focusedItem?_common_types_js__WEBPACK_IMPORTED_MODULE_4__.g(actionViewItem.isEnabled)&&(actionViewItem.isEnabled()&&_common_types_js__WEBPACK_IMPORTED_MODULE_4__.g(actionViewItem.focus)?actionViewItem.focus(fromRight):this.actionsList.focus({preventScroll:preventScroll})):_common_types_js__WEBPACK_IMPORTED_MODULE_4__.g(actionViewItem.blur)&&actionViewItem.blur()}}doTrigger(event){if(void 0===this.focusedItem)return;const actionViewItem=this.viewItems[this.focusedItem];if(actionViewItem instanceof _actionViewItems_js__WEBPACK_IMPORTED_MODULE_7__.b){const context=null===actionViewItem._context||void 0===actionViewItem._context?event:actionViewItem._context;this.run(actionViewItem._action,context)}}run(action,context){return this._actionRunner.run(action,context)}dispose(){Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.viewItems),this.viewItems=[],_dom_js__WEBPACK_IMPORTED_MODULE_3__.S(this.getContainer()),super.dispose()}}},2374:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return ILogService}),__webpack_require__.d(__webpack_exports__,"c",function(){return LogLevel}),__webpack_require__.d(__webpack_exports__,"a",function(){return ConsoleLogService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_base_common_event_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2296);const ILogService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("logService");var LogLevel;!function(LogLevel){LogLevel[LogLevel.Trace=0]="Trace",LogLevel[LogLevel.Debug=1]="Debug",LogLevel[LogLevel.Info=2]="Info",LogLevel[LogLevel.Warning=3]="Warning",LogLevel[LogLevel.Error=4]="Error",LogLevel[LogLevel.Critical=5]="Critical",LogLevel[LogLevel.Off=6]="Off"}(LogLevel||(LogLevel={}));const DEFAULT_LOG_LEVEL=LogLevel.Info;class AbstractLogService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.level=DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__.a)}setLevel(level){this.level!==level&&(this.level=level,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class ConsoleLogService extends AbstractLogService{constructor(logLevel=DEFAULT_LOG_LEVEL){super(),this.setLevel(logLevel)}trace(message,...args){this.getLevel()<=LogLevel.Trace&&console.log("%cTRACE","color: #888",message,...args)}info(message,...args){this.getLevel()<=LogLevel.Info&&console.log("%c INFO","color: #33f",message,...args)}error(message,...args){this.getLevel()<=LogLevel.Error&&console.log("%c  ERR","color: #f33",message,...args)}dispose(){}}},2375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions}),__webpack_require__.d(__webpack_exports__,"b",function(){return OVERRIDE_PROPERTY_PATTERN}),__webpack_require__.d(__webpack_exports__,"c",function(){return overrideIdentifierFromKey});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2324),_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2314),_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2460);const Extensions={Configuration:"base.contributions.configuration"},allSettings={properties:{},patternProperties:{}},applicationSettings={properties:{},patternProperties:{}},machineSettings={properties:{},patternProperties:{}},machineOverridableSettings={properties:{},patternProperties:{}},windowSettings={properties:{},patternProperties:{}},resourceSettings={properties:{},patternProperties:{}},resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage",contributionRegistry=_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a.as(_jsonschemas_common_jsonContributionRegistry_js__WEBPACK_IMPORTED_MODULE_4__.a.JSONContribution);const OVERRIDE_PROPERTY_PATTERN=new RegExp("\\[.*\\]$");function overrideIdentifierFromKey(key){return key.substring(1,key.length-1)}const configurationRegistry=new class ConfigurationRegistry{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this._onDidUpdateConfiguration=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(configuration,validate=!0){this.registerConfigurations([configuration],validate)}registerConfigurations(configurations,validate=!0){const properties=[];configurations.forEach(configuration=>{properties.push(...this.validateAndRegisterProperties(configuration,validate)),this.configurationContributors.push(configuration),this.registerJSONConfiguration(configuration)}),contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(properties)}registerOverrideIdentifiers(overrideIdentifiers){for(const overrideIdentifier of overrideIdentifiers)this.overrideIdentifiers.add(overrideIdentifier);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(configuration,validate=!0,scope=3){scope=_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l(configuration.scope)?scope:configuration.scope;let propertyKeys=[],properties=configuration.properties;if(properties)for(let key in properties){if(validate&&validateProperty(key)){delete properties[key];continue}const property=properties[key];this.updatePropertyDefaultValue(key,property),OVERRIDE_PROPERTY_PATTERN.test(key)?property.scope=void 0:property.scope=_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.l(property.scope)?scope:property.scope,!properties[key].hasOwnProperty("included")||properties[key].included?(this.configurationProperties[key]=properties[key],!properties[key].deprecationMessage&&properties[key].markdownDeprecationMessage&&(properties[key].deprecationMessage=properties[key].markdownDeprecationMessage),propertyKeys.push(key)):(this.excludedConfigurationProperties[key]=properties[key],delete properties[key])}let subNodes=configuration.allOf;if(subNodes)for(let node of subNodes)propertyKeys.push(...this.validateAndRegisterProperties(node,validate,scope));return propertyKeys}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(configuration){const register=configuration=>{let properties=configuration.properties;if(properties)for(const key in properties)this.updateSchema(key,properties[key]);let subNodes=configuration.allOf;subNodes&&subNodes.forEach(register)};register(configuration)}updateSchema(key,property){switch(allSettings.properties[key]=property,property.scope){case 1:applicationSettings.properties[key]=property;break;case 2:machineSettings.properties[key]=property;break;case 6:machineOverridableSettings.properties[key]=property;break;case 3:windowSettings.properties[key]=property;break;case 4:resourceSettings.properties[key]=property;break;case 5:resourceSettings.properties[key]=property,this.resourceLanguageSettingsSchema.properties[key]=property}}updateOverridePropertyPatternKey(){for(const overrideIdentifier of this.overrideIdentifiers.values()){const overrideIdentifierProperty=`[${overrideIdentifier}]`,resourceLanguagePropertiesSchema={type:"object",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(overrideIdentifierProperty,resourceLanguagePropertiesSchema),allSettings.properties[overrideIdentifierProperty]=resourceLanguagePropertiesSchema,applicationSettings.properties[overrideIdentifierProperty]=resourceLanguagePropertiesSchema,machineSettings.properties[overrideIdentifierProperty]=resourceLanguagePropertiesSchema,machineOverridableSettings.properties[overrideIdentifierProperty]=resourceLanguagePropertiesSchema,windowSettings.properties[overrideIdentifierProperty]=resourceLanguagePropertiesSchema,resourceSettings.properties[overrideIdentifierProperty]=resourceLanguagePropertiesSchema}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(key,property){let defaultValue=this.defaultValues[key];_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.k(defaultValue)&&(defaultValue=property.default),_base_common_types_js__WEBPACK_IMPORTED_MODULE_3__.k(defaultValue)&&(defaultValue=function getDefaultValue(type){switch(Array.isArray(type)?type[0]:type){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(property.type)),property.default=defaultValue}};function validateProperty(property){return OVERRIDE_PROPERTY_PATTERN.test(property)?_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",property):void 0!==configurationRegistry.getConfigurationProperties()[property]?_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("config.property.duplicate","Cannot register '{0}'. This property is already registered.",property):null}_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a.add(Extensions.Configuration,configurationRegistry)},2376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getPlatformTextDecoder}),__webpack_require__.d(__webpack_exports__,"d",function(){return hasTextDecoder}),__webpack_require__.d(__webpack_exports__,"a",function(){return createStringBuilder}),__webpack_require__.d(__webpack_exports__,"b",function(){return decodeUTF16LE});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305),_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2397);let _platformTextDecoder;function getPlatformTextDecoder(){return _platformTextDecoder||(_platformTextDecoder=new TextDecoder(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.e()?"UTF-16LE":"UTF-16BE")),_platformTextDecoder}const hasTextDecoder="undefined"!=typeof TextDecoder;let createStringBuilder,decodeUTF16LE;hasTextDecoder?(createStringBuilder=capacity=>new StringBuilder(capacity),decodeUTF16LE=function standardDecodeUTF16LE(source,offset,len){const view=new Uint16Array(source.buffer,offset,len);return getPlatformTextDecoder().decode(view)}):(createStringBuilder=capacity=>new CompatStringBuilder,decodeUTF16LE=function compatDecodeUTF16LE(source,offset,len){let result=[],resultLen=0;for(let i=0;i<len;i++){const charCode=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_2__.b(source,offset);offset+=2,result[resultLen++]=String.fromCharCode(charCode)}return result.join("")});class StringBuilder{constructor(capacity){this._capacity=0|capacity,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const view=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return getPlatformTextDecoder().decode(view)}_flushBuffer(){const bufferString=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[bufferString]:this._completedStrings[this._completedStrings.length]=bufferString}write1(charCode){const remainingSpace=this._capacity-this._bufferLength;remainingSpace<=1&&(0===remainingSpace||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.F(charCode))&&this._flushBuffer(),this._buffer[this._bufferLength++]=charCode}appendASCII(charCode){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=charCode}appendASCIIString(str){const strLen=str.length;if(this._bufferLength+strLen>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=str);for(let i=0;i<strLen;i++)this._buffer[this._bufferLength++]=str.charCodeAt(i)}}class CompatStringBuilder{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(charCode){this._pieces[this._piecesLen++]=String.fromCharCode(charCode)}appendASCII(charCode){this._pieces[this._piecesLen++]=String.fromCharCode(charCode)}appendASCIIString(str){this._pieces[this._piecesLen++]=str}}},2377:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CharacterClassifier}),__webpack_require__.d(__webpack_exports__,"b",function(){return CharacterSet});var _base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2398);class CharacterClassifier{constructor(_defaultValue){let defaultValue=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.b)(_defaultValue);this._defaultValue=defaultValue,this._asciiMap=CharacterClassifier._createAsciiMap(defaultValue),this._map=new Map}static _createAsciiMap(defaultValue){let asciiMap=new Uint8Array(256);for(let i=0;i<256;i++)asciiMap[i]=defaultValue;return asciiMap}set(charCode,_value){let value=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.b)(_value);charCode>=0&&charCode<256?this._asciiMap[charCode]=value:this._map.set(charCode,value)}get(charCode){return charCode>=0&&charCode<256?this._asciiMap[charCode]:this._map.get(charCode)||this._defaultValue}}class CharacterSet{constructor(){this._actual=new CharacterClassifier(0)}add(charCode){this._actual.set(charCode,1)}has(charCode){return 1===this._actual.get(charCode)}}},2378:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return standardMouseMoveMerger}),__webpack_require__.d(__webpack_exports__,"a",function(){return GlobalMouseMoveMonitor});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2298),_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305),_iframe_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2457),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2339),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2294),_canIUse_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2383);function standardMouseMoveMerger(lastEvent,currentEvent){let ev=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.a(currentEvent);return ev.preventDefault(),{leftButton:ev.leftButton,buttons:ev.buttons,posx:ev.posx,posy:ev.posy}}class GlobalMouseMoveMonitor{constructor(){this._hooks=new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.b,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(invokeStopCallback){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const onStopCallback=this._onStopCallback;this._onStopCallback=null,invokeStopCallback&&onStopCallback&&onStopCallback()}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(initialElement,initialButtons,mouseMoveEventMerger,mouseMoveCallback,onStopCallback){if(this.isMonitoring())return;this._mouseMoveEventMerger=mouseMoveEventMerger,this._mouseMoveCallback=mouseMoveCallback,this._onStopCallback=onStopCallback;const windowChain=_iframe_js__WEBPACK_IMPORTED_MODULE_2__.a.getSameOriginWindowChain(),mouseMove=_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_5__.a.pointerEvents?"pointermove":"mousemove",mouseUp=_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.c&&_canIUse_js__WEBPACK_IMPORTED_MODULE_5__.a.pointerEvents?"pointerup":"mouseup",listenTo=windowChain.map(element=>element.window.document),shadowRoot=_dom_js__WEBPACK_IMPORTED_MODULE_0__.E(initialElement);shadowRoot&&listenTo.unshift(shadowRoot);for(const element of listenTo)this._hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.l(element,mouseMove,data=>{data.buttons===initialButtons?this._mouseMoveCallback(data):this.stopMonitoring(!0)},(lastEvent,currentEvent)=>this._mouseMoveEventMerger(lastEvent,currentEvent))),this._hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(element,mouseUp,e=>this.stopMonitoring(!0)));if(_iframe_js__WEBPACK_IMPORTED_MODULE_2__.a.hasDifferentOriginAncestor()){let lastSameOriginAncestor=windowChain[windowChain.length-1];this._hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(lastSameOriginAncestor.window.document,"mouseout",browserEvent=>{"html"===new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.a(browserEvent).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(lastSameOriginAncestor.window.document,"mouseover",browserEvent=>{"html"===new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_3__.a(browserEvent).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.i(lastSameOriginAncestor.window.document.body,"mouseleave",browserEvent=>{this.stopMonitoring(!0)}))}}}},2379:function(module,__webpack_exports__,__webpack_require__){"use strict";function once(fn){const _this=this;let result,didCall=!1;return function(){return didCall?result:(didCall=!0,result=fn.apply(_this,arguments))}}__webpack_require__.d(__webpack_exports__,"a",function(){return once})},2380:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return BaseActionViewItem}),__webpack_require__.d(__webpack_exports__,"a",function(){return ActionViewItem});__webpack_require__(2472);var _common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305),_nls_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2297),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_common_actions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2337),_dom_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2298),_common_types_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2314),_touch_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2348),_dnd_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2435),_browser_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2326);class BaseActionViewItem extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(context,action,options={}){super(),this.options=options,this._context=context||this,this._action=action,action instanceof _common_actions_js__WEBPACK_IMPORTED_MODULE_4__.a&&this._register(action.onDidChange(event=>{this.element&&this.handleActionChangeEvent(event)}))}handleActionChangeEvent(event){void 0!==event.enabled&&this.updateEnabled(),void 0!==event.checked&&this.updateChecked(),void 0!==event.class&&this.updateClass(),void 0!==event.label&&(this.updateLabel(),this.updateTooltip()),void 0!==event.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _common_actions_js__WEBPACK_IMPORTED_MODULE_4__.b)),this._actionRunner}set actionRunner(actionRunner){this._actionRunner=actionRunner}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(newContext){this._context=newContext}render(container){const element=this.element=container;this._register(_touch_js__WEBPACK_IMPORTED_MODULE_7__.b.addTarget(container));const enableDragging=this.options&&this.options.draggable;enableDragging&&(container.draggable=!0,_browser_js__WEBPACK_IMPORTED_MODULE_9__.h&&this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(container,_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.DRAG_START,e=>{var _a;return null===(_a=e.dataTransfer)||void 0===_a?void 0:_a.setData(_dnd_js__WEBPACK_IMPORTED_MODULE_8__.a.TEXT,this._action.label)}))),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(element,_touch_js__WEBPACK_IMPORTED_MODULE_7__.a.Tap,e=>this.onClick(e))),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.MOUSE_DOWN,e=>{enableDragging||_dom_js__WEBPACK_IMPORTED_MODULE_5__.b.stop(e,!0),this._action.enabled&&0===e.button&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.e(element,"active")})),_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.f&&this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.CONTEXT_MENU,e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.CLICK,e=>{_dom_js__WEBPACK_IMPORTED_MODULE_5__.b.stop(e,!0),this.options&&this.options.isMenu||_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.j(()=>this.onClick(e))})),this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.DBLCLICK,e=>{_dom_js__WEBPACK_IMPORTED_MODULE_5__.b.stop(e,!0)})),[_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.MOUSE_UP,_dom_js__WEBPACK_IMPORTED_MODULE_5__.c.MOUSE_OUT].forEach(event=>{this._register(_dom_js__WEBPACK_IMPORTED_MODULE_5__.i(element,event,e=>{_dom_js__WEBPACK_IMPORTED_MODULE_5__.b.stop(e),_dom_js__WEBPACK_IMPORTED_MODULE_5__.Q(element,"active")}))})}onClick(event){var _a;_dom_js__WEBPACK_IMPORTED_MODULE_5__.b.stop(event,!0);const context=_common_types_js__WEBPACK_IMPORTED_MODULE_6__.l(this._context)?(null===(_a=this.options)||void 0===_a?void 0:_a.useEventAsContext)?event:void 0:this._context;this.actionRunner.run(this._action,context)}focus(){this.element&&(this.element.focus(),_dom_js__WEBPACK_IMPORTED_MODULE_5__.e(this.element,"focused"))}blur(){this.element&&(this.element.blur(),_dom_js__WEBPACK_IMPORTED_MODULE_5__.Q(this.element,"focused"))}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.S(this.element),this.element=void 0),super.dispose()}}class ActionViewItem extends BaseActionViewItem{constructor(context,action,options={}){super(context,action,options),this.options=options,this.options.icon=void 0!==options.icon&&options.icon,this.options.label=void 0===options.label||options.label,this.cssClass=""}render(container){super.render(container),this.element&&(this.label=_dom_js__WEBPACK_IMPORTED_MODULE_5__.p(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.a("a.action-label"))),this.label&&(this._action.id===_common_actions_js__WEBPACK_IMPORTED_MODULE_4__.c.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.p(this.element,_dom_js__WEBPACK_IMPORTED_MODULE_5__.a("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){super.focus(),this.label&&this.label.focus()}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let title=null;this.getAction().tooltip?title=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(title=this.getAction().label,this.options.keybinding&&(title=_nls_js__WEBPACK_IMPORTED_MODULE_2__.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",title,this.options.keybinding))),title&&this.label&&(this.label.title=title)}updateClass(){this.cssClass&&this.label&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.R(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(_dom_js__WEBPACK_IMPORTED_MODULE_5__.e(this.label,"codicon"),this.cssClass&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.f(this.label,this.cssClass)),this.updateEnabled()):this.label&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.Q(this.label,"codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),_dom_js__WEBPACK_IMPORTED_MODULE_5__.Q(this.label,"disabled"),this.label.tabIndex=0),this.element&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.Q(this.element,"disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),_dom_js__WEBPACK_IMPORTED_MODULE_5__.e(this.label,"disabled"),_dom_js__WEBPACK_IMPORTED_MODULE_5__.T(this.label)),this.element&&_dom_js__WEBPACK_IMPORTED_MODULE_5__.e(this.element,"disabled"))}updateChecked(){this.label&&(this.getAction().checked?_dom_js__WEBPACK_IMPORTED_MODULE_5__.e(this.label,"checked"):_dom_js__WEBPACK_IMPORTED_MODULE_5__.Q(this.label,"checked"))}}},2381:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ReplaceCommand}),__webpack_require__.d(__webpack_exports__,"c",function(){return ReplaceCommandThatSelectsText}),__webpack_require__.d(__webpack_exports__,"e",function(){return ReplaceCommandWithoutChangingPosition}),__webpack_require__.d(__webpack_exports__,"d",function(){return ReplaceCommandWithOffsetCursorState}),__webpack_require__.d(__webpack_exports__,"b",function(){return ReplaceCommandThatPreservesSelection});var _core_selection_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2311);class ReplaceCommand{constructor(range,text,insertsAutoWhitespace=!1){this._range=range,this._text=text,this.insertsAutoWhitespace=insertsAutoWhitespace}getEditOperations(model,builder){builder.addTrackedEditOperation(this._range,this._text)}computeCursorState(model,helper){let srcRange=helper.getInverseEditOperations()[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.endLineNumber,srcRange.endColumn,srcRange.endLineNumber,srcRange.endColumn)}}class ReplaceCommandThatSelectsText{constructor(range,text){this._range=range,this._text=text}getEditOperations(model,builder){builder.addTrackedEditOperation(this._range,this._text)}computeCursorState(model,helper){const srcRange=helper.getInverseEditOperations()[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.startLineNumber,srcRange.startColumn,srcRange.endLineNumber,srcRange.endColumn)}}class ReplaceCommandWithoutChangingPosition{constructor(range,text,insertsAutoWhitespace=!1){this._range=range,this._text=text,this.insertsAutoWhitespace=insertsAutoWhitespace}getEditOperations(model,builder){builder.addTrackedEditOperation(this._range,this._text)}computeCursorState(model,helper){let srcRange=helper.getInverseEditOperations()[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.startLineNumber,srcRange.startColumn,srcRange.startLineNumber,srcRange.startColumn)}}class ReplaceCommandWithOffsetCursorState{constructor(range,text,lineNumberDeltaOffset,columnDeltaOffset,insertsAutoWhitespace=!1){this._range=range,this._text=text,this._columnDeltaOffset=columnDeltaOffset,this._lineNumberDeltaOffset=lineNumberDeltaOffset,this.insertsAutoWhitespace=insertsAutoWhitespace}getEditOperations(model,builder){builder.addTrackedEditOperation(this._range,this._text)}computeCursorState(model,helper){let srcRange=helper.getInverseEditOperations()[0].range;return new _core_selection_js__WEBPACK_IMPORTED_MODULE_0__.a(srcRange.endLineNumber+this._lineNumberDeltaOffset,srcRange.endColumn+this._columnDeltaOffset,srcRange.endLineNumber+this._lineNumberDeltaOffset,srcRange.endColumn+this._columnDeltaOffset)}}class ReplaceCommandThatPreservesSelection{constructor(editRange,text,initialSelection,forceMoveMarkers=!1){this._range=editRange,this._text=text,this._initialSelection=initialSelection,this._forceMoveMarkers=forceMoveMarkers,this._selectionId=null}getEditOperations(model,builder){builder.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=builder.trackSelection(this._initialSelection)}computeCursorState(model,helper){return helper.getTrackedSelection(this._selectionId)}}},2382:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DefaultQuickAccessFilterValue}),__webpack_require__.d(__webpack_exports__,"b",function(){return Extensions});var DefaultQuickAccessFilterValue,_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2324),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2309),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2294);!function(DefaultQuickAccessFilterValue){DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue.PRESERVE=0]="PRESERVE",DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue.LAST=1]="LAST"}(DefaultQuickAccessFilterValue||(DefaultQuickAccessFilterValue={}));const Extensions={Quickaccess:"workbench.contributions.quickaccess"};_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.add(Extensions.Quickaccess,new class QuickAccessRegistry{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(provider){return 0===provider.prefix.length?this.defaultProvider=provider:this.providers.push(provider),this.providers.sort((providerA,providerB)=>providerB.prefix.length-providerA.prefix.length),Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.h)(()=>{this.providers.splice(this.providers.indexOf(provider),1),this.defaultProvider===provider&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.d)([this.defaultProvider,...this.providers])}getQuickAccessProvider(prefix){return prefix&&this.providers.find(provider=>prefix.startsWith(provider.prefix))||this.defaultProvider}})},2383:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BrowserFeatures});var _browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2326),_common_platform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2305);const BrowserFeatures={clipboard:{writeText:_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.g||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.g||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:(()=>{if(_browser_js__WEBPACK_IMPORTED_MODULE_0__.f){let index=navigator.userAgent.indexOf("Edge/"),version=parseInt(navigator.userAgent.substring(index+5,navigator.userAgent.indexOf(".",index)),10);if(!version||version>=12&&version<=16)return!1}return!0})()},keyboard:(()=>_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.g||_browser_js__WEBPACK_IMPORTED_MODULE_0__.k?0:navigator.keyboard||_browser_js__WEBPACK_IMPORTED_MODULE_0__.j?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}},2384:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return memoize});let memoizeId=0;function memoize(target,key,descriptor){return function createMemoizer(){const memoizeKeyPrefix=`$memoize${memoizeId++}`;let self=void 0;const result=function memoize(target,key,descriptor){let fnKey=null,fn=null;if("function"==typeof descriptor.value?(fnKey="value",0!==(fn=descriptor.value).length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof descriptor.get&&(fnKey="get",fn=descriptor.get),!fn)throw new Error("not supported");const memoizeKey=`${memoizeKeyPrefix}:${key}`;descriptor[fnKey]=function(...args){return self=this,this.hasOwnProperty(memoizeKey)||Object.defineProperty(this,memoizeKey,{configurable:!0,enumerable:!1,writable:!0,value:fn.apply(this,args)}),this[memoizeKey]}};return result.clear=()=>{void 0!==self&&Object.getOwnPropertyNames(self).forEach(property=>{0===property.indexOf(memoizeKeyPrefix)&&delete self[property]})},result}()(target,key,descriptor)}},2385:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ITextModelService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const ITextModelService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("textModelService")},2386:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return getMapForWordSeparators});var _core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2377);class WordCharacterClassifier extends _core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_0__.a{constructor(wordSeparators){super(0);for(let i=0,len=wordSeparators.length;i<len;i++)this.set(wordSeparators.charCodeAt(i),2);this.set(32,1),this.set(9,1)}}const getMapForWordSeparators=function once(computeFn){let cache={};return input=>(cache.hasOwnProperty(input)||(cache[input]=computeFn(input)),cache[input])}(input=>new WordCharacterClassifier(input))},2387:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LineTokens});var _modes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2308);class LineTokens{constructor(tokens,text){this._tokens=tokens,this._tokensCount=this._tokens.length>>>1,this._text=text}equals(other){return other instanceof LineTokens&&this.slicedEquals(other,0,this._tokensCount)}slicedEquals(other,sliceFromTokenIndex,sliceTokenCount){if(this._text!==other._text)return!1;if(this._tokensCount!==other._tokensCount)return!1;const from=sliceFromTokenIndex<<1,to=from+(sliceTokenCount<<1);for(let i=from;i<to;i++)if(this._tokens[i]!==other._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(tokenIndex){return tokenIndex>0?this._tokens[tokenIndex-1<<1]:0}getMetadata(tokenIndex){return this._tokens[1+(tokenIndex<<1)]}getLanguageId(tokenIndex){const metadata=this._tokens[1+(tokenIndex<<1)];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getLanguageId(metadata)}getStandardTokenType(tokenIndex){const metadata=this._tokens[1+(tokenIndex<<1)];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getTokenType(metadata)}getForeground(tokenIndex){const metadata=this._tokens[1+(tokenIndex<<1)];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getForeground(metadata)}getClassName(tokenIndex){const metadata=this._tokens[1+(tokenIndex<<1)];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getClassNameFromMetadata(metadata)}getInlineStyle(tokenIndex,colorMap){const metadata=this._tokens[1+(tokenIndex<<1)];return _modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getInlineStyleFromMetadata(metadata,colorMap)}getEndOffset(tokenIndex){return this._tokens[tokenIndex<<1]}findTokenIndexAtOffset(offset){return LineTokens.findIndexInTokensArray(this._tokens,offset)}inflate(){return this}sliceAndInflate(startOffset,endOffset,deltaOffset){return new SlicedLineTokens(this,startOffset,endOffset,deltaOffset)}static convertToEndOffset(tokens,lineTextLength){const lastTokenIndex=(tokens.length>>>1)-1;for(let tokenIndex=0;tokenIndex<lastTokenIndex;tokenIndex++)tokens[tokenIndex<<1]=tokens[tokenIndex+1<<1];tokens[lastTokenIndex<<1]=lineTextLength}static findIndexInTokensArray(tokens,desiredIndex){if(tokens.length<=2)return 0;let low=0,high=(tokens.length>>>1)-1;for(;low<high;){const mid=low+Math.floor((high-low)/2),endOffset=tokens[mid<<1];if(endOffset===desiredIndex)return mid+1;endOffset<desiredIndex?low=mid+1:endOffset>desiredIndex&&(high=mid)}return low}}class SlicedLineTokens{constructor(source,startOffset,endOffset,deltaOffset){this._source=source,this._startOffset=startOffset,this._endOffset=endOffset,this._deltaOffset=deltaOffset,this._firstTokenIndex=source.findTokenIndexAtOffset(startOffset),this._tokensCount=0;for(let i=this._firstTokenIndex,len=source.getCount();i<len;i++){if(source.getStartOffset(i)>=endOffset)break;this._tokensCount++}}equals(other){return other instanceof SlicedLineTokens&&(this._startOffset===other._startOffset&&this._endOffset===other._endOffset&&this._deltaOffset===other._deltaOffset&&this._source.slicedEquals(other._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(tokenIndex){return this._source.getForeground(this._firstTokenIndex+tokenIndex)}getEndOffset(tokenIndex){const tokenEndOffset=this._source.getEndOffset(this._firstTokenIndex+tokenIndex);return Math.min(this._endOffset,tokenEndOffset)-this._startOffset+this._deltaOffset}getClassName(tokenIndex){return this._source.getClassName(this._firstTokenIndex+tokenIndex)}getInlineStyle(tokenIndex,colorMap){return this._source.getInlineStyle(this._firstTokenIndex+tokenIndex,colorMap)}findTokenIndexAtOffset(offset){return this._source.findTokenIndexAtOffset(offset+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},2388:function(module,__webpack_exports__,__webpack_require__){"use strict";var IndentAction;__webpack_require__.d(__webpack_exports__,"a",function(){return IndentAction}),__webpack_require__.d(__webpack_exports__,"b",function(){return StandardAutoClosingPairConditional}),function(IndentAction){IndentAction[IndentAction.None=0]="None",IndentAction[IndentAction.Indent=1]="Indent",IndentAction[IndentAction.IndentOutdent=2]="IndentOutdent",IndentAction[IndentAction.Outdent=3]="Outdent"}(IndentAction||(IndentAction={}));class StandardAutoClosingPairConditional{constructor(source){if(this.open=source.open,this.close=source.close,this._standardTokenMask=0,Array.isArray(source.notIn))for(let i=0,len=source.notIn.length;i<len;i++){switch(source.notIn[i]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(standardToken){return 0==(this._standardTokenMask&standardToken)}}},2389:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return isCodeEditor}),__webpack_require__.d(__webpack_exports__,"c",function(){return isDiffEditor}),__webpack_require__.d(__webpack_exports__,"a",function(){return getCodeEditor});var _common_editorCommon_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2390);function isCodeEditor(thing){return!(!thing||"function"!=typeof thing.getEditorType)&&thing.getEditorType()===_common_editorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.ICodeEditor}function isDiffEditor(thing){return!(!thing||"function"!=typeof thing.getEditorType)&&thing.getEditorType()===_common_editorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.IDiffEditor}function getCodeEditor(thing){return isCodeEditor(thing)?thing:isDiffEditor(thing)?thing.getModifiedEditor():null}},2390:function(module,__webpack_exports__,__webpack_require__){"use strict";function isThemeColor(o){return o&&"string"==typeof o.id}__webpack_require__.d(__webpack_exports__,"b",function(){return isThemeColor}),__webpack_require__.d(__webpack_exports__,"a",function(){return EditorType});const EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},2391:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdGenerator}),__webpack_require__.d(__webpack_exports__,"b",function(){return defaultGenerator});class IdGenerator{constructor(prefix){this._prefix=prefix,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const defaultGenerator=new IdGenerator("id#")},2392:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return computeStyles}),__webpack_require__.d(__webpack_exports__,"a",function(){return attachBadgeStyler}),__webpack_require__.d(__webpack_exports__,"b",function(){return attachListStyler}),__webpack_require__.d(__webpack_exports__,"e",function(){return defaultListStyles}),__webpack_require__.d(__webpack_exports__,"c",function(){return attachMenuStyler});var _colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2310);function computeStyles(theme,styleMap){const styles=Object.create(null);for(let key in styleMap){const value=styleMap[key];value&&(styles[key]=Object(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.hc)(value,theme))}return styles}function attachStyler(themeService,styleMap,widgetOrCallback){function applyStyles(theme){const styles=computeStyles(themeService.getColorTheme(),styleMap);"function"==typeof widgetOrCallback?widgetOrCallback(styles):widgetOrCallback.style(styles)}return applyStyles(themeService.getColorTheme()),themeService.onDidColorThemeChange(applyStyles)}function attachBadgeStyler(widget,themeService,style){return attachStyler(themeService,{badgeBackground:style&&style.badgeBackground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.c,badgeForeground:style&&style.badgeForeground||_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.d,badgeBorder:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.h},widget)}function attachListStyler(widget,themeService,overrides){return attachStyler(themeService,Object.assign(Object.assign({},defaultListStyles),overrides||{}),widget)}const defaultListStyles={listFocusBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.xb,listFocusForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.yb,listActiveSelectionBackground:Object(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.i)(_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.rb,.1),listActiveSelectionForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.sb,listFocusAndSelectionBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.rb,listFocusAndSelectionForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.sb,listInactiveSelectionBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Db,listInactiveSelectionForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Eb,listInactiveFocusBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Cb,listHoverBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Ab,listHoverForeground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Bb,listDropBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.tb,listFocusOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listSelectionOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listHoverOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.b,listFilterWidgetBackground:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.ub,listFilterWidgetOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.wb,listFilterWidgetNoMatchesOutline:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.vb,listMatchesShadow:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.uc,treeIndentGuidesStroke:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.tc},defaultMenuStyles={shadowColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.uc,borderColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Gb,foregroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Hb,backgroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Fb,selectionForegroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Kb,selectionBackgroundColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Ib,selectionBorderColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Jb,separatorColor:_colorRegistry_js__WEBPACK_IMPORTED_MODULE_0__.Lb};function attachMenuStyler(widget,themeService,style){return attachStyler(themeService,Object.assign(Object.assign({},defaultMenuStyles),style),widget)}},2393:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IStandaloneThemeService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IStandaloneThemeService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("themeService")},2394:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(2544);var dom=__webpack_require__(2298),actionbar=__webpack_require__(2373),actions=__webpack_require__(2337),color=__webpack_require__(2320),common_event=__webpack_require__(2296),objects=__webpack_require__(2327),codeEditorService=__webpack_require__(2317),embeddedCodeEditorWidget=__webpack_require__(2441),sash=(__webpack_require__(2580),__webpack_require__(2407)),idGenerator=__webpack_require__(2391),lifecycle=__webpack_require__(2294),core_range=__webpack_require__(2295),textModel=__webpack_require__(2321);const defaultColor=new color.a(new color.c(0,122,204)),defaultOptions={showArrow:!0,showFrame:!0,className:"",frameColor:defaultColor,arrowColor:defaultColor,keepEditorSelection:!1},WIDGET_ID="vs.editor.contrib.zoneWidget";class ViewZoneDelegate{constructor(domNode,afterLineNumber,afterColumn,heightInLines,onDomNodeTop,onComputedHeight){this.id="",this.domNode=domNode,this.afterLineNumber=afterLineNumber,this.afterColumn=afterColumn,this.heightInLines=heightInLines,this._onDomNodeTop=onDomNodeTop,this._onComputedHeight=onComputedHeight}onDomNodeTop(top){this._onDomNodeTop(top)}onComputedHeight(height){this._onComputedHeight(height)}}class OverlayWidgetDelegate{constructor(id,domNode){this._id=id,this._domNode=domNode}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class zoneWidget_Arrow{constructor(_editor){this._editor=_editor,this._ruleName=zoneWidget_Arrow._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),dom.P(this._ruleName)}set color(value){this._color!==value&&(this._color=value,this._updateStyle())}set height(value){this._height!==value&&(this._height=value,this._updateStyle())}_updateStyle(){dom.P(this._ruleName),dom.u(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(where){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:core_range.a.fromPositions(where),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}zoneWidget_Arrow._IdGenerator=new idGenerator.a(".arrow-decoration-");var nls=__webpack_require__(2297),contextkey=__webpack_require__(2307),instantiation=__webpack_require__(2300),extensions=__webpack_require__(2361),editorExtensions=__webpack_require__(2301),colorRegistry=__webpack_require__(2310),codicons=__webpack_require__(2316),common_actions=__webpack_require__(2323),menuEntryActionViewItem=__webpack_require__(2501);__webpack_require__.d(__webpack_exports__,"a",function(){return IPeekViewService}),__webpack_require__.d(__webpack_exports__,"b",function(){return peekView_PeekContext}),__webpack_require__.d(__webpack_exports__,"d",function(){return getOuterEditor}),__webpack_require__.d(__webpack_exports__,"c",function(){return peekView_PeekViewWidget}),__webpack_require__.d(__webpack_exports__,"p",function(){return peekViewTitleBackground}),__webpack_require__.d(__webpack_exports__,"q",function(){return peekViewTitleForeground}),__webpack_require__.d(__webpack_exports__,"r",function(){return peekViewTitleInfoForeground}),__webpack_require__.d(__webpack_exports__,"e",function(){return peekViewBorder}),__webpack_require__.d(__webpack_exports__,"j",function(){return peekViewResultsBackground}),__webpack_require__.d(__webpack_exports__,"l",function(){return peekViewResultsMatchForeground}),__webpack_require__.d(__webpack_exports__,"k",function(){return peekViewResultsFileForeground}),__webpack_require__.d(__webpack_exports__,"n",function(){return peekViewResultsSelectionBackground}),__webpack_require__.d(__webpack_exports__,"o",function(){return peekViewResultsSelectionForeground}),__webpack_require__.d(__webpack_exports__,"f",function(){return peekViewEditorBackground}),__webpack_require__.d(__webpack_exports__,"g",function(){return peekViewEditorGutterBackground}),__webpack_require__.d(__webpack_exports__,"m",function(){return peekViewResultsMatchHighlight}),__webpack_require__.d(__webpack_exports__,"h",function(){return peekViewEditorMatchHighlight}),__webpack_require__.d(__webpack_exports__,"i",function(){return peekViewEditorMatchHighlightBorder});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const IPeekViewService=Object(instantiation.c)("IPeekViewService");var peekView_PeekContext,PeekContext;Object(extensions.b)(IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(editor,widget){const existing=this._widgets.get(editor);existing&&(existing.listener.dispose(),existing.widget.dispose());this._widgets.set(editor,{widget:widget,listener:widget.onDidClose(()=>{const data=this._widgets.get(editor);data&&data.widget===widget&&(data.listener.dispose(),this._widgets.delete(editor))})})}}),(PeekContext=peekView_PeekContext||(peekView_PeekContext={})).inPeekEditor=new contextkey.c("inReferenceSearchEditor",!0),PeekContext.notInPeekEditor=PeekContext.inPeekEditor.toNegated();let peekView_PeekContextController=class PeekContextController{constructor(editor,contextKeyService){editor instanceof embeddedCodeEditorWidget.a&&peekView_PeekContext.inPeekEditor.bindTo(contextKeyService)}dispose(){}};function getOuterEditor(accessor){let editor=accessor.get(codeEditorService.a).getFocusedCodeEditor();return editor instanceof embeddedCodeEditorWidget.a?editor.getParentEditor():editor}peekView_PeekContextController.ID="editor.contrib.referenceController",peekView_PeekContextController=__decorate([__param(1,contextkey.b)],peekView_PeekContextController),Object(editorExtensions.m)(peekView_PeekContextController.ID,peekView_PeekContextController);const peekView_defaultOptions={headerBackgroundColor:color.a.white,primaryHeadingColor:color.a.fromHex("#333333"),secondaryHeadingColor:color.a.fromHex("#6c6c6cb3")};let peekView_PeekViewWidget=class PeekViewWidget extends class zoneWidget_ZoneWidget{constructor(editor,options={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new lifecycle.b,this.container=null,this._isShowing=!1,this.editor=editor,this.options=objects.c(options),objects.g(this.options,defaultOptions,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(info=>{const width=this._getWidth(info);this.domNode.style.width=width+"px",this.domNode.style.left=this._getLeft(info)+"px",this._onWidth(width)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(accessor=>{this._viewZone&&accessor.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new zoneWidget_Arrow(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(styles){styles.frameColor&&(this.options.frameColor=styles.frameColor),styles.arrowColor&&(this.options.arrowColor=styles.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let frameColor=this.options.frameColor.toString();this.container.style.borderTopColor=frameColor,this.container.style.borderBottomColor=frameColor}if(this._arrow&&this.options.arrowColor){let arrowColor=this.options.arrowColor.toString();this._arrow.color=arrowColor}}_getWidth(info){return info.width-info.minimap.minimapWidth-info.verticalScrollbarWidth}_getLeft(info){return info.minimap.minimapWidth>0&&0===info.minimap.minimapLeft?info.minimap.minimapWidth:0}_onViewZoneTop(top){this.domNode.style.top=top+"px"}_onViewZoneHeight(height){if(this.domNode.style.height=`${height}px`,this.container){let containerHeight=height-this._decoratingElementsHeight();this.container.style.height=`${containerHeight}px`;const layoutInfo=this.editor.getLayoutInfo();this._doLayout(containerHeight,this._getWidth(layoutInfo))}this._resizeSash&&this._resizeSash.layout()}get position(){const[id]=this._positionMarkerId;if(!id)return;const model=this.editor.getModel();if(!model)return;const range=model.getDecorationRange(id);return range?range.getStartPosition():void 0}show(rangeOrPos,heightInLines){const range=core_range.a.isIRange(rangeOrPos)?core_range.a.lift(rangeOrPos):core_range.a.fromPositions(rangeOrPos);this._isShowing=!0,this._showImpl(range,heightInLines),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:range,options:textModel.a.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(accessor=>{this._viewZone&&accessor.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let lineHeight=this.editor.getOption(51),result=0;return this.options.showArrow&&(result+=2*Math.round(lineHeight/3)),this.options.showFrame&&(result+=2*Math.round(lineHeight/9)),result}_showImpl(where,heightInLines){const position=where.getStartPosition(),layoutInfo=this.editor.getLayoutInfo(),width=this._getWidth(layoutInfo);this.domNode.style.width=`${width}px`,this.domNode.style.left=this._getLeft(layoutInfo)+"px";const viewZoneDomNode=document.createElement("div");viewZoneDomNode.style.overflow="hidden";const lineHeight=this.editor.getOption(51),maxHeightInLines=Math.max(12,this.editor.getLayoutInfo().height/lineHeight*.8);heightInLines=Math.min(heightInLines,maxHeightInLines);let arrowHeight=0,frameThickness=0;if(this._arrow&&this.options.showArrow&&(arrowHeight=Math.round(lineHeight/3),this._arrow.height=arrowHeight,this._arrow.show(position)),this.options.showFrame&&(frameThickness=Math.round(lineHeight/9)),this.editor.changeViewZones(accessor=>{this._viewZone&&accessor.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new ViewZoneDelegate(viewZoneDomNode,position.lineNumber,position.column,heightInLines,top=>this._onViewZoneTop(top),height=>this._onViewZoneHeight(height)),this._viewZone.id=accessor.addZone(this._viewZone),this._overlayWidget=new OverlayWidgetDelegate(WIDGET_ID+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const width=this.options.frameWidth?this.options.frameWidth:frameThickness;this.container.style.borderTopWidth=width+"px",this.container.style.borderBottomWidth=width+"px"}let containerHeight=heightInLines*lineHeight-this._decoratingElementsHeight();this.container&&(this.container.style.top=arrowHeight+"px",this.container.style.height=containerHeight+"px",this.container.style.overflow="hidden"),this._doLayout(containerHeight,width),this.options.keepEditorSelection||this.editor.setSelection(where);const model=this.editor.getModel();if(model){const revealLine=where.endLineNumber+1;revealLine<=model.getLineCount()?this.revealLine(revealLine,!1):this.revealLine(model.getLineCount(),!0)}}revealLine(lineNumber,isLastLine){isLastLine?this.editor.revealLineInCenter(lineNumber,0):this.editor.revealLine(lineNumber,0)}setCssClass(className,classToReplace){this.container&&(classToReplace&&this.container.classList.remove(classToReplace),dom.e(this.container,className))}_onWidth(widthInPixel){}_doLayout(heightInPixel,widthInPixel){}_relayout(newHeightInLines){this._viewZone&&this._viewZone.heightInLines!==newHeightInLines&&this.editor.changeViewZones(accessor=>{this._viewZone&&(this._viewZone.heightInLines=newHeightInLines,accessor.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let data;this._resizeSash=this._disposables.add(new sash.a(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(e=>{this._viewZone&&(data={startY:e.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{data=void 0})),this._disposables.add(this._resizeSash.onDidChange(evt=>{if(data){let lineDelta=(evt.currentY-data.startY)/this.editor.getOption(51),roundedLineDelta=lineDelta<0?Math.ceil(lineDelta):Math.floor(lineDelta),newHeightInLines=data.heightInLines+roundedLineDelta;newHeightInLines>5&&newHeightInLines<35&&this._relayout(newHeightInLines)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const layoutInfo=this.editor.getLayoutInfo();return layoutInfo.width-layoutInfo.minimap.minimapWidth}}{constructor(editor,options,instantiationService){super(editor,options),this.instantiationService=instantiationService,this._onDidClose=new common_event.a,this.onDidClose=this._onDidClose.event,objects.g(this.options,peekView_defaultOptions,!1)}dispose(){super.dispose(),this._onDidClose.fire(this)}style(styles){let options=this.options;styles.headerBackgroundColor&&(options.headerBackgroundColor=styles.headerBackgroundColor),styles.primaryHeadingColor&&(options.primaryHeadingColor=styles.primaryHeadingColor),styles.secondaryHeadingColor&&(options.secondaryHeadingColor=styles.secondaryHeadingColor),super.style(styles)}_applyStyles(){super._applyStyles();let options=this.options;this._headElement&&options.headerBackgroundColor&&(this._headElement.style.backgroundColor=options.headerBackgroundColor.toString()),this._primaryHeading&&options.primaryHeadingColor&&(this._primaryHeading.style.color=options.primaryHeadingColor.toString()),this._secondaryHeading&&options.secondaryHeadingColor&&(this._secondaryHeading.style.color=options.secondaryHeadingColor.toString()),this._bodyElement&&options.frameColor&&(this._bodyElement.style.borderColor=options.frameColor.toString())}_fillContainer(container){this.setCssClass("peekview-widget"),this._headElement=dom.a(".head"),this._bodyElement=dom.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),container.appendChild(this._headElement),container.appendChild(this._bodyElement)}_fillHead(container,noCloseAction){const titleElement=dom.a(".peekview-title");dom.p(this._headElement,titleElement),dom.n(titleElement,"click",event=>this._onTitleClick(event)),this._fillTitleIcon(titleElement),this._primaryHeading=dom.a("span.filename"),this._secondaryHeading=dom.a("span.dirname"),this._metaHeading=dom.a("span.meta"),dom.p(titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const actionsContainer=dom.a(".peekview-actions");dom.p(this._headElement,actionsContainer);const actionBarOptions=this._getActionBarOptions();this._actionbarWidget=new actionbar.a(actionsContainer,actionBarOptions),this._disposables.add(this._actionbarWidget),noCloseAction||this._actionbarWidget.push(new actions.a("peekview.close",nls.a("label.close","Close"),codicons.a.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(container){}_getActionBarOptions(){return{actionViewItemProvider:action=>action instanceof common_actions.c?this.instantiationService.createInstance(menuEntryActionViewItem.a,action):action instanceof common_actions.e?this.instantiationService.createInstance(menuEntryActionViewItem.b,action):void 0}}_onTitleClick(event){}setTitle(primaryHeading,secondaryHeading){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=primaryHeading,this._primaryHeading.setAttribute("aria-label",primaryHeading),secondaryHeading?this._secondaryHeading.innerText=secondaryHeading:dom.s(this._secondaryHeading))}setMetaTitle(value){this._metaHeading&&(value?(this._metaHeading.innerText=value,dom.Z(this._metaHeading)):dom.K(this._metaHeading))}_doLayout(heightInPixel,widthInPixel){if(!this._isShowing&&heightInPixel<0)return void this.dispose();const headHeight=Math.ceil(1.2*this.editor.getOption(51)),bodyHeight=Math.round(heightInPixel-(headHeight+2));this._doLayoutHead(headHeight,widthInPixel),this._doLayoutBody(bodyHeight,widthInPixel)}_doLayoutHead(heightInPixel,widthInPixel){this._headElement&&(this._headElement.style.height=`${heightInPixel}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(heightInPixel,widthInPixel){this._bodyElement&&(this._bodyElement.style.height=`${heightInPixel}px`)}};peekView_PeekViewWidget=__decorate([__param(2,instantiation.a)],peekView_PeekViewWidget);const peekViewTitleBackground=Object(colorRegistry.gc)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},nls.a("peekViewTitleBackground","Background color of the peek view title area.")),peekViewTitleForeground=Object(colorRegistry.gc)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},nls.a("peekViewTitleForeground","Color of the peek view title.")),peekViewTitleInfoForeground=Object(colorRegistry.gc)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},nls.a("peekViewTitleInfoForeground","Color of the peek view title info.")),peekViewBorder=Object(colorRegistry.gc)("peekView.border",{dark:"#007acc",light:"#007acc",hc:colorRegistry.h},nls.a("peekViewBorder","Color of the peek view borders and arrow.")),peekViewResultsBackground=Object(colorRegistry.gc)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:color.a.black},nls.a("peekViewResultsBackground","Background color of the peek view result list.")),peekViewResultsMatchForeground=Object(colorRegistry.gc)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:color.a.white},nls.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),peekViewResultsFileForeground=Object(colorRegistry.gc)("peekViewResult.fileForeground",{dark:color.a.white,light:"#1E1E1E",hc:color.a.white},nls.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),peekViewResultsSelectionBackground=Object(colorRegistry.gc)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},nls.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),peekViewResultsSelectionForeground=Object(colorRegistry.gc)("peekViewResult.selectionForeground",{dark:color.a.white,light:"#6C6C6C",hc:color.a.white},nls.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),peekViewEditorBackground=Object(colorRegistry.gc)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:color.a.black},nls.a("peekViewEditorBackground","Background color of the peek view editor.")),peekViewEditorGutterBackground=Object(colorRegistry.gc)("peekViewEditorGutter.background",{dark:peekViewEditorBackground,light:peekViewEditorBackground,hc:peekViewEditorBackground},nls.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),peekViewResultsMatchHighlight=Object(colorRegistry.gc)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},nls.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),peekViewEditorMatchHighlight=Object(colorRegistry.gc)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},nls.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),peekViewEditorMatchHighlightBorder=Object(colorRegistry.gc)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:colorRegistry.b},nls.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},2395:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return USUAL_WORD_SEPARATORS}),__webpack_require__.d(__webpack_exports__,"a",function(){return DEFAULT_WORD_REGEXP}),__webpack_require__.d(__webpack_exports__,"c",function(){return ensureValidWordDefinition}),__webpack_require__.d(__webpack_exports__,"d",function(){return getWordAtText});const USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";const DEFAULT_WORD_REGEXP=function createWordRegExp(allowInWords=""){let source="(-?\\d*\\.\\d\\w*)|([^";for(const sep of USUAL_WORD_SEPARATORS)allowInWords.indexOf(sep)>=0||(source+="\\"+sep);return source+="\\s]+)",new RegExp(source,"g")}();function ensureValidWordDefinition(wordDefinition){let result=DEFAULT_WORD_REGEXP;if(wordDefinition&&wordDefinition instanceof RegExp)if(wordDefinition.global)result=wordDefinition;else{let flags="g";wordDefinition.ignoreCase&&(flags+="i"),wordDefinition.multiline&&(flags+="m"),wordDefinition.unicode&&(flags+="u"),result=new RegExp(wordDefinition.source,flags)}return result.lastIndex=0,result}const _defaultConfig={maxLen:1e3,windowSize:15,timeBudget:150};function getWordAtText(column,wordDefinition,text,textOffset,config=_defaultConfig){if(text.length>config.maxLen){let start=column-config.maxLen/2;return start<0?(textOffset+=column,start=0):textOffset+=start,getWordAtText(column,wordDefinition,text=text.substring(start,column+config.maxLen/2),textOffset,config)}Date.now();const pos=column-1-textOffset;let prevRegexIndex=-1,match=null;for(let i=1;;i++){Date.now(),config.timeBudget;const regexIndex=pos-config.windowSize*i;wordDefinition.lastIndex=Math.max(0,regexIndex);const thisMatch=_findRegexMatchEnclosingPosition(wordDefinition,text,pos,prevRegexIndex);if(!thisMatch&&match)break;if(match=thisMatch,regexIndex<=0)break;prevRegexIndex=regexIndex}if(match){let result={word:match[0],startColumn:textOffset+1+match.index,endColumn:textOffset+1+match.index+match[0].length};return wordDefinition.lastIndex=0,result}return null}function _findRegexMatchEnclosingPosition(wordDefinition,text,pos,stopPos){let match;for(;match=wordDefinition.exec(text);){const matchIndex=match.index||0;if(matchIndex<=pos&&wordDefinition.lastIndex>=pos)return match;if(stopPos>0&&matchIndex>stopPos)return null}return null}},2396:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EditorZoom});var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296);const EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.a,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(zoomLevel){zoomLevel=Math.min(Math.max(-5,zoomLevel),20),this._zoomLevel!==zoomLevel&&(this._zoomLevel=zoomLevel,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},2397:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return VSBuffer}),__webpack_require__.d(__webpack_exports__,"b",function(){return readUInt16LE}),__webpack_require__.d(__webpack_exports__,"e",function(){return writeUInt16LE}),__webpack_require__.d(__webpack_exports__,"c",function(){return readUInt32BE}),__webpack_require__.d(__webpack_exports__,"f",function(){return writeUInt32BE}),__webpack_require__.d(__webpack_exports__,"d",function(){return readUInt8}),__webpack_require__.d(__webpack_exports__,"g",function(){return writeUInt8});var _strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299);const hasBuffer=void 0!==Buffer,hasTextDecoder="undefined"!=typeof TextDecoder;let textDecoder;class VSBuffer{constructor(buffer){this.buffer=buffer,this.byteLength=this.buffer.byteLength}toString(){return hasBuffer?this.buffer.toString():hasTextDecoder?(textDecoder||(textDecoder=new TextDecoder),textDecoder.decode(this.buffer)):_strings_js__WEBPACK_IMPORTED_MODULE_0__.r(this.buffer)}}function readUInt16LE(source,offset){return source[offset+0]<<0>>>0|source[offset+1]<<8>>>0}function writeUInt16LE(destination,value,offset){destination[offset+0]=255&value,value>>>=8,destination[offset+1]=255&value}function readUInt32BE(source,offset){return source[offset]*Math.pow(2,24)+source[offset+1]*Math.pow(2,16)+source[offset+2]*Math.pow(2,8)+source[offset+3]}function writeUInt32BE(destination,value,offset){destination[offset+3]=value,value>>>=8,destination[offset+2]=value,value>>>=8,destination[offset+1]=value,value>>>=8,destination[offset]=value}function readUInt8(source,offset){return source[offset]}function writeUInt8(destination,value,offset){destination[offset]=value}}).call(this,__webpack_require__(544).Buffer)},2398:function(module,__webpack_exports__,__webpack_require__){"use strict";function toUint8(v){return v<0?0:v>255?255:0|v}function toUint32(v){return v<0?0:v>4294967295?4294967295:0|v}__webpack_require__.d(__webpack_exports__,"b",function(){return toUint8}),__webpack_require__.d(__webpack_exports__,"a",function(){return toUint32})},2399:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return countEOL}),__webpack_require__.d(__webpack_exports__,"b",function(){return MultilineTokensBuilder}),__webpack_require__.d(__webpack_exports__,"c",function(){return SparseEncodedTokens}),__webpack_require__.d(__webpack_exports__,"a",function(){return MultilineTokens2}),__webpack_require__.d(__webpack_exports__,"e",function(){return TokensStore2}),__webpack_require__.d(__webpack_exports__,"d",function(){return TokensStore});var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2309),_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2387),_core_position_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2303),_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2295),_modes_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2308);function countEOL(text){let eolCount=0,firstLineLength=0,lastLineStart=0,eol=0;for(let i=0,len=text.length;i<len;i++){const chr=text.charCodeAt(i);13===chr?(0===eolCount&&(firstLineLength=i),eolCount++,i+1<len&&10===text.charCodeAt(i+1)?(eol|=2,i++):eol|=3,lastLineStart=i+1):10===chr&&(eol|=1,0===eolCount&&(firstLineLength=i),eolCount++,lastLineStart=i+1)}return 0===eolCount&&(firstLineLength=text.length),[eolCount,firstLineLength,text.length-lastLineStart,eol]}function getDefaultMetadata(topLevelLanguageId){return(16384|topLevelLanguageId<<0|2<<23)>>>0}const EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class MultilineTokensBuilder{constructor(){this.tokens=[]}add(lineNumber,lineTokens){if(this.tokens.length>0){const last=this.tokens[this.tokens.length-1];if(last.startLineNumber+last.tokens.length-1+1===lineNumber)return void last.tokens.push(lineTokens)}this.tokens.push(new MultilineTokens(lineNumber,[lineTokens]))}}class SparseEncodedTokens{constructor(tokens){this._tokens=tokens,this._tokenCount=tokens.length/4}toString(startLineNumber){let pieces=[];for(let i=0;i<this._tokenCount;i++)pieces.push(`(${this._getDeltaLine(i)+startLineNumber},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${pieces.join(",")}]`}getMaxDeltaLine(){const tokenCount=this._getTokenCount();return 0===tokenCount?-1:this._getDeltaLine(tokenCount-1)}getRange(){const tokenCount=this._getTokenCount();if(0===tokenCount)return null;const startChar=this._getStartCharacter(0),maxDeltaLine=this._getDeltaLine(tokenCount-1),endChar=this._getEndCharacter(tokenCount-1);return new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(0,startChar+1,maxDeltaLine,endChar+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(tokenIndex){return this._tokens[4*tokenIndex]}_getStartCharacter(tokenIndex){return this._tokens[4*tokenIndex+1]}_getEndCharacter(tokenIndex){return this._tokens[4*tokenIndex+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(deltaLine){let low=0,high=this._getTokenCount()-1;for(;low<high;){const mid=low+Math.floor((high-low)/2),midDeltaLine=this._getDeltaLine(mid);if(midDeltaLine<deltaLine)low=mid+1;else{if(!(midDeltaLine>deltaLine)){let min=mid;for(;min>low&&this._getDeltaLine(min-1)===deltaLine;)min--;let max=mid;for(;max<high&&this._getDeltaLine(max+1)===deltaLine;)max++;return new LineTokens2(this._tokens.subarray(4*min,4*max+4))}high=mid-1}}return this._getDeltaLine(low)===deltaLine?new LineTokens2(this._tokens.subarray(4*low,4*low+4)):null}clear(){this._tokenCount=0}removeTokens(startDeltaLine,startChar,endDeltaLine,endChar){const tokens=this._tokens,tokenCount=this._tokenCount;let newTokenCount=0,hasDeletedTokens=!1,firstDeltaLine=0;for(let i=0;i<tokenCount;i++){const srcOffset=4*i,tokenDeltaLine=tokens[srcOffset],tokenStartCharacter=tokens[srcOffset+1],tokenEndCharacter=tokens[srcOffset+2],tokenMetadata=tokens[srcOffset+3];if((tokenDeltaLine>startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter>=startChar)&&(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<=endChar))hasDeletedTokens=!0;else{if(0===newTokenCount&&(firstDeltaLine=tokenDeltaLine),hasDeletedTokens){const destOffset=4*newTokenCount;tokens[destOffset]=tokenDeltaLine-firstDeltaLine,tokens[destOffset+1]=tokenStartCharacter,tokens[destOffset+2]=tokenEndCharacter,tokens[destOffset+3]=tokenMetadata}newTokenCount++}}return this._tokenCount=newTokenCount,firstDeltaLine}split(startDeltaLine,startChar,endDeltaLine,endChar){const tokens=this._tokens,tokenCount=this._tokenCount;let aTokens=[],bTokens=[],destTokens=aTokens,destOffset=0,destFirstDeltaLine=0;for(let i=0;i<tokenCount;i++){const srcOffset=4*i,tokenDeltaLine=tokens[srcOffset],tokenStartCharacter=tokens[srcOffset+1],tokenEndCharacter=tokens[srcOffset+2],tokenMetadata=tokens[srcOffset+3];if(tokenDeltaLine>startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter>=startChar){if(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<=endChar)continue;destTokens!==bTokens&&(destTokens=bTokens,destOffset=0,destFirstDeltaLine=tokenDeltaLine)}destTokens[destOffset++]=tokenDeltaLine-destFirstDeltaLine,destTokens[destOffset++]=tokenStartCharacter,destTokens[destOffset++]=tokenEndCharacter,destTokens[destOffset++]=tokenMetadata}return[new SparseEncodedTokens(new Uint32Array(aTokens)),new SparseEncodedTokens(new Uint32Array(bTokens)),destFirstDeltaLine]}acceptDeleteRange(horizontalShiftForFirstLineTokens,startDeltaLine,startCharacter,endDeltaLine,endCharacter){const tokens=this._tokens,tokenCount=this._tokenCount,deletedLineCount=endDeltaLine-startDeltaLine;let newTokenCount=0,hasDeletedTokens=!1;for(let i=0;i<tokenCount;i++){const srcOffset=4*i;let tokenDeltaLine=tokens[srcOffset],tokenStartCharacter=tokens[srcOffset+1],tokenEndCharacter=tokens[srcOffset+2];const tokenMetadata=tokens[srcOffset+3];if(tokenDeltaLine<startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter<=startCharacter){newTokenCount++;continue}if(tokenDeltaLine===startDeltaLine&&tokenStartCharacter<startCharacter)tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter?tokenEndCharacter-=endCharacter-startCharacter:tokenEndCharacter=startCharacter;else if(tokenDeltaLine===startDeltaLine&&tokenStartCharacter===startCharacter){if(!(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter)){hasDeletedTokens=!0;continue}tokenEndCharacter-=endCharacter-startCharacter}else if(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<endCharacter){if(!(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter)){hasDeletedTokens=!0;continue}tokenEndCharacter=tokenDeltaLine===startDeltaLine?(tokenStartCharacter=startCharacter)+(tokenEndCharacter-endCharacter):(tokenStartCharacter=0)+(tokenEndCharacter-endCharacter)}else if(tokenDeltaLine>endDeltaLine){if(0===deletedLineCount&&!hasDeletedTokens){newTokenCount=tokenCount;break}tokenDeltaLine-=deletedLineCount}else{if(!(tokenDeltaLine===endDeltaLine&&tokenStartCharacter>=endCharacter))throw new Error("Not possible!");horizontalShiftForFirstLineTokens&&0===tokenDeltaLine&&(tokenStartCharacter+=horizontalShiftForFirstLineTokens,tokenEndCharacter+=horizontalShiftForFirstLineTokens),tokenDeltaLine-=deletedLineCount,tokenStartCharacter-=endCharacter-startCharacter,tokenEndCharacter-=endCharacter-startCharacter}const destOffset=4*newTokenCount;tokens[destOffset]=tokenDeltaLine,tokens[destOffset+1]=tokenStartCharacter,tokens[destOffset+2]=tokenEndCharacter,tokens[destOffset+3]=tokenMetadata,newTokenCount++}this._tokenCount=newTokenCount}acceptInsertText(deltaLine,character,eolCount,firstLineLength,lastLineLength,firstCharCode){const isInsertingPreciselyOneWordCharacter=0===eolCount&&1===firstLineLength&&(firstCharCode>=48&&firstCharCode<=57||firstCharCode>=65&&firstCharCode<=90||firstCharCode>=97&&firstCharCode<=122),tokens=this._tokens,tokenCount=this._tokenCount;for(let i=0;i<tokenCount;i++){const offset=4*i;let tokenDeltaLine=tokens[offset],tokenStartCharacter=tokens[offset+1],tokenEndCharacter=tokens[offset+2];if(!(tokenDeltaLine<deltaLine||tokenDeltaLine===deltaLine&&tokenEndCharacter<character)){if(tokenDeltaLine===deltaLine&&tokenEndCharacter===character){if(!isInsertingPreciselyOneWordCharacter)continue;tokenEndCharacter+=1}else if(tokenDeltaLine===deltaLine&&tokenStartCharacter<character&&character<tokenEndCharacter)0===eolCount?tokenEndCharacter+=firstLineLength:tokenEndCharacter=character;else{if(tokenDeltaLine===deltaLine&&tokenStartCharacter===character&&isInsertingPreciselyOneWordCharacter)continue;if(tokenDeltaLine===deltaLine)if(tokenDeltaLine+=eolCount,0===eolCount)tokenStartCharacter+=firstLineLength,tokenEndCharacter+=firstLineLength;else{const tokenLength=tokenEndCharacter-tokenStartCharacter;tokenEndCharacter=(tokenStartCharacter=lastLineLength+(tokenStartCharacter-character))+tokenLength}else tokenDeltaLine+=eolCount}tokens[offset]=tokenDeltaLine,tokens[offset+1]=tokenStartCharacter,tokens[offset+2]=tokenEndCharacter}}}}class LineTokens2{constructor(tokens){this._tokens=tokens}getCount(){return this._tokens.length/4}getStartCharacter(tokenIndex){return this._tokens[4*tokenIndex+1]}getEndCharacter(tokenIndex){return this._tokens[4*tokenIndex+2]}getMetadata(tokenIndex){return this._tokens[4*tokenIndex+3]}}class MultilineTokens2{constructor(startLineNumber,tokens){this.startLineNumber=startLineNumber,this.tokens=tokens,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(lineNumber){return this.startLineNumber<=lineNumber&&lineNumber<=this.endLineNumber?this.tokens.getLineTokens(lineNumber-this.startLineNumber):null}getRange(){const deltaRange=this.tokens.getRange();return deltaRange?new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(this.startLineNumber+deltaRange.startLineNumber,deltaRange.startColumn,this.startLineNumber+deltaRange.endLineNumber,deltaRange.endColumn):deltaRange}removeTokens(range){const startLineIndex=range.startLineNumber-this.startLineNumber,endLineIndex=range.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(startLineIndex,range.startColumn-1,endLineIndex,range.endColumn-1),this._updateEndLineNumber()}split(range){const startLineIndex=range.startLineNumber-this.startLineNumber,endLineIndex=range.endLineNumber-this.startLineNumber,[a,b,bDeltaLine]=this.tokens.split(startLineIndex,range.startColumn-1,endLineIndex,range.endColumn-1);return[new MultilineTokens2(this.startLineNumber,a),new MultilineTokens2(this.startLineNumber+bDeltaLine,b)]}applyEdit(range,text){const[eolCount,firstLineLength,lastLineLength]=countEOL(text);this.acceptEdit(range,eolCount,firstLineLength,lastLineLength,text.length>0?text.charCodeAt(0):0)}acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode){this._acceptDeleteRange(range),this._acceptInsertText(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(range.startLineNumber,range.startColumn),eolCount,firstLineLength,lastLineLength,firstCharCode),this._updateEndLineNumber()}_acceptDeleteRange(range){if(range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn)return;const firstLineIndex=range.startLineNumber-this.startLineNumber,lastLineIndex=range.endLineNumber-this.startLineNumber;if(lastLineIndex<0){const deletedLinesCount=lastLineIndex-firstLineIndex;return void(this.startLineNumber-=deletedLinesCount)}const tokenMaxDeltaLine=this.tokens.getMaxDeltaLine();if(!(firstLineIndex>=tokenMaxDeltaLine+1)){if(firstLineIndex<0&&lastLineIndex>=tokenMaxDeltaLine+1)return this.startLineNumber=0,void this.tokens.clear();if(firstLineIndex<0){const deletedBefore=-firstLineIndex;this.startLineNumber-=deletedBefore,this.tokens.acceptDeleteRange(range.startColumn-1,0,0,lastLineIndex,range.endColumn-1)}else this.tokens.acceptDeleteRange(0,firstLineIndex,range.startColumn-1,lastLineIndex,range.endColumn-1)}}_acceptInsertText(position,eolCount,firstLineLength,lastLineLength,firstCharCode){if(0===eolCount&&0===firstLineLength)return;const lineIndex=position.lineNumber-this.startLineNumber;lineIndex<0?this.startLineNumber+=eolCount:lineIndex>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(lineIndex,position.column-1,eolCount,firstLineLength,lastLineLength,firstCharCode)}}class MultilineTokens{constructor(startLineNumber,tokens){this.startLineNumber=startLineNumber,this.tokens=tokens}}function toUint32Array(arr){return arr instanceof Uint32Array?arr:new Uint32Array(arr)}class TokensStore2{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}set(pieces,isComplete){this._pieces=pieces||[],this._isComplete=isComplete}setPartial(_range,pieces){let range=_range;if(pieces.length>0){const _firstRange=pieces[0].getRange(),_lastRange=pieces[pieces.length-1].getRange();if(!_firstRange||!_lastRange)return _range;range=_range.plusRange(_firstRange).plusRange(_lastRange)}let insertPosition=null;for(let i=0,len=this._pieces.length;i<len;i++){const piece=this._pieces[i];if(piece.endLineNumber<range.startLineNumber)continue;if(piece.startLineNumber>range.endLineNumber){insertPosition=insertPosition||{index:i};break}if(piece.removeTokens(range),piece.isEmpty()){this._pieces.splice(i,1),i--,len--;continue}if(piece.endLineNumber<range.startLineNumber)continue;if(piece.startLineNumber>range.endLineNumber){insertPosition=insertPosition||{index:i};continue}const[a,b]=piece.split(range);a.isEmpty()?insertPosition=insertPosition||{index:i}:b.isEmpty()||(this._pieces.splice(i,1,a,b),i++,len++,insertPosition=insertPosition||{index:i})}return insertPosition=insertPosition||{index:this._pieces.length},pieces.length>0&&(this._pieces=_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.a(this._pieces,insertPosition.index,pieces)),range}isComplete(){return this._isComplete}addSemanticTokens(lineNumber,aTokens){const pieces=this._pieces;if(0===pieces.length)return aTokens;const bTokens=pieces[TokensStore2._findFirstPieceWithLine(pieces,lineNumber)].getLineTokens(lineNumber);if(!bTokens)return aTokens;const aLen=aTokens.getCount(),bLen=bTokens.getCount();let aIndex=0,result=[],resultLen=0,lastEndOffset=0;const emitToken=(endOffset,metadata)=>{endOffset!==lastEndOffset&&(lastEndOffset=endOffset,result[resultLen++]=endOffset,result[resultLen++]=metadata)};for(let bIndex=0;bIndex<bLen;bIndex++){const bStartCharacter=bTokens.getStartCharacter(bIndex),bEndCharacter=bTokens.getEndCharacter(bIndex),bMetadata=bTokens.getMetadata(bIndex),bMask=((1&bMetadata?2048:0)|(2&bMetadata?4096:0)|(4&bMetadata?8192:0)|(8&bMetadata?8372224:0)|(16&bMetadata?4286578688:0))>>>0,aMask=~bMask>>>0;for(;aIndex<aLen&&aTokens.getEndOffset(aIndex)<=bStartCharacter;)emitToken(aTokens.getEndOffset(aIndex),aTokens.getMetadata(aIndex)),aIndex++;for(aIndex<aLen&&aTokens.getStartOffset(aIndex)<bStartCharacter&&emitToken(bStartCharacter,aTokens.getMetadata(aIndex));aIndex<aLen&&aTokens.getEndOffset(aIndex)<bEndCharacter;)emitToken(aTokens.getEndOffset(aIndex),aTokens.getMetadata(aIndex)&aMask|bMetadata&bMask),aIndex++;if(aIndex<aLen)emitToken(bEndCharacter,aTokens.getMetadata(aIndex)&aMask|bMetadata&bMask),aTokens.getEndOffset(aIndex)===bEndCharacter&&aIndex++;else{const aMergeIndex=Math.min(Math.max(0,aIndex-1),aLen-1);emitToken(bEndCharacter,aTokens.getMetadata(aMergeIndex)&aMask|bMetadata&bMask)}}for(;aIndex<aLen;)emitToken(aTokens.getEndOffset(aIndex),aTokens.getMetadata(aIndex)),aIndex++;return new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(new Uint32Array(result),aTokens.getLineContent())}static _findFirstPieceWithLine(pieces,lineNumber){let low=0,high=pieces.length-1;for(;low<high;){let mid=low+Math.floor((high-low)/2);if(pieces[mid].endLineNumber<lineNumber)low=mid+1;else{if(!(pieces[mid].startLineNumber>lineNumber)){for(;mid>low&&pieces[mid-1].startLineNumber<=lineNumber&&lineNumber<=pieces[mid-1].endLineNumber;)mid--;return mid}high=mid-1}}return low}acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode){for(const piece of this._pieces)piece.acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode)}}class TokensStore{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(topLevelLanguageId,lineIndex,lineText){let rawLineTokens=null;if(lineIndex<this._len&&(rawLineTokens=this._lineTokens[lineIndex]),null!==rawLineTokens&&rawLineTokens!==EMPTY_LINE_TOKENS)return new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(toUint32Array(rawLineTokens),lineText);let lineTokens=new Uint32Array(2);return lineTokens[0]=lineText.length,lineTokens[1]=getDefaultMetadata(topLevelLanguageId),new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(lineTokens,lineText)}static _massageTokens(topLevelLanguageId,lineTextLength,_tokens){const tokens=_tokens?toUint32Array(_tokens):null;if(0===lineTextLength){let hasDifferentLanguageId=!1;if(tokens&&tokens.length>1&&(hasDifferentLanguageId=_modes_js__WEBPACK_IMPORTED_MODULE_4__.B.getLanguageId(tokens[1])!==topLevelLanguageId),!hasDifferentLanguageId)return EMPTY_LINE_TOKENS}if(!tokens||0===tokens.length){const tokens=new Uint32Array(2);return tokens[0]=lineTextLength,tokens[1]=getDefaultMetadata(topLevelLanguageId),tokens.buffer}return tokens[tokens.length-2]=lineTextLength,0===tokens.byteOffset&&tokens.byteLength===tokens.buffer.byteLength?tokens.buffer:tokens}_ensureLine(lineIndex){for(;lineIndex>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(start,deleteCount){0!==deleteCount&&(start+deleteCount>this._len&&(deleteCount=this._len-start),this._lineTokens.splice(start,deleteCount),this._len-=deleteCount)}_insertLines(insertIndex,insertCount){if(0===insertCount)return;let lineTokens=[];for(let i=0;i<insertCount;i++)lineTokens[i]=null;this._lineTokens=_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.a(this._lineTokens,insertIndex,lineTokens),this._len+=insertCount}setTokens(topLevelLanguageId,lineIndex,lineTextLength,_tokens,checkEquality){const tokens=TokensStore._massageTokens(topLevelLanguageId,lineTextLength,_tokens);this._ensureLine(lineIndex);const oldTokens=this._lineTokens[lineIndex];return this._lineTokens[lineIndex]=tokens,!!checkEquality&&!TokensStore._equals(oldTokens,tokens)}static _equals(_a,_b){if(!_a||!_b)return!_a&&!_b;const a=toUint32Array(_a),b=toUint32Array(_b);if(a.length!==b.length)return!1;for(let i=0,len=a.length;i<len;i++)if(a[i]!==b[i])return!1;return!0}acceptEdit(range,eolCount,firstLineLength){this._acceptDeleteRange(range),this._acceptInsertText(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(range.startLineNumber,range.startColumn),eolCount,firstLineLength)}_acceptDeleteRange(range){const firstLineIndex=range.startLineNumber-1;if(firstLineIndex>=this._len)return;if(range.startLineNumber===range.endLineNumber){if(range.startColumn===range.endColumn)return;return void(this._lineTokens[firstLineIndex]=TokensStore._delete(this._lineTokens[firstLineIndex],range.startColumn-1,range.endColumn-1))}this._lineTokens[firstLineIndex]=TokensStore._deleteEnding(this._lineTokens[firstLineIndex],range.startColumn-1);const lastLineIndex=range.endLineNumber-1;let lastLineTokens=null;lastLineIndex<this._len&&(lastLineTokens=TokensStore._deleteBeginning(this._lineTokens[lastLineIndex],range.endColumn-1)),this._lineTokens[firstLineIndex]=TokensStore._append(this._lineTokens[firstLineIndex],lastLineTokens),this._deleteLines(range.startLineNumber,range.endLineNumber-range.startLineNumber)}_acceptInsertText(position,eolCount,firstLineLength){if(0===eolCount&&0===firstLineLength)return;const lineIndex=position.lineNumber-1;lineIndex>=this._len||(0!==eolCount?(this._lineTokens[lineIndex]=TokensStore._deleteEnding(this._lineTokens[lineIndex],position.column-1),this._lineTokens[lineIndex]=TokensStore._insert(this._lineTokens[lineIndex],position.column-1,firstLineLength),this._insertLines(position.lineNumber,eolCount)):this._lineTokens[lineIndex]=TokensStore._insert(this._lineTokens[lineIndex],position.column-1,firstLineLength))}static _deleteBeginning(lineTokens,toChIndex){return null===lineTokens||lineTokens===EMPTY_LINE_TOKENS?lineTokens:TokensStore._delete(lineTokens,0,toChIndex)}static _deleteEnding(lineTokens,fromChIndex){if(null===lineTokens||lineTokens===EMPTY_LINE_TOKENS)return lineTokens;const tokens=toUint32Array(lineTokens),lineTextLength=tokens[tokens.length-2];return TokensStore._delete(lineTokens,fromChIndex,lineTextLength)}static _delete(lineTokens,fromChIndex,toChIndex){if(null===lineTokens||lineTokens===EMPTY_LINE_TOKENS||fromChIndex===toChIndex)return lineTokens;const tokens=toUint32Array(lineTokens),tokensCount=tokens.length>>>1;if(0===fromChIndex&&tokens[tokens.length-2]===toChIndex)return EMPTY_LINE_TOKENS;const fromTokenIndex=_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a.findIndexInTokensArray(tokens,fromChIndex),fromTokenStartOffset=fromTokenIndex>0?tokens[fromTokenIndex-1<<1]:0;if(toChIndex<tokens[fromTokenIndex<<1]){const delta=toChIndex-fromChIndex;for(let i=fromTokenIndex;i<tokensCount;i++)tokens[i<<1]-=delta;return lineTokens}let dest,lastEnd;fromTokenStartOffset!==fromChIndex?(tokens[fromTokenIndex<<1]=fromChIndex,dest=fromTokenIndex+1<<1,lastEnd=fromChIndex):(dest=fromTokenIndex<<1,lastEnd=fromTokenStartOffset);const delta=toChIndex-fromChIndex;for(let tokenIndex=fromTokenIndex+1;tokenIndex<tokensCount;tokenIndex++){const tokenEndOffset=tokens[tokenIndex<<1]-delta;tokenEndOffset>lastEnd&&(tokens[dest++]=tokenEndOffset,tokens[dest++]=tokens[1+(tokenIndex<<1)],lastEnd=tokenEndOffset)}if(dest===tokens.length)return lineTokens;let tmp=new Uint32Array(dest);return tmp.set(tokens.subarray(0,dest),0),tmp.buffer}static _append(lineTokens,_otherTokens){if(_otherTokens===EMPTY_LINE_TOKENS)return lineTokens;if(lineTokens===EMPTY_LINE_TOKENS)return _otherTokens;if(null===lineTokens)return lineTokens;if(null===_otherTokens)return null;const myTokens=toUint32Array(lineTokens),otherTokens=toUint32Array(_otherTokens),otherTokensCount=otherTokens.length>>>1;let result=new Uint32Array(myTokens.length+otherTokens.length);result.set(myTokens,0);let dest=myTokens.length;const delta=myTokens[myTokens.length-2];for(let i=0;i<otherTokensCount;i++)result[dest++]=otherTokens[i<<1]+delta,result[dest++]=otherTokens[1+(i<<1)];return result.buffer}static _insert(lineTokens,chIndex,textLength){if(null===lineTokens||lineTokens===EMPTY_LINE_TOKENS)return lineTokens;const tokens=toUint32Array(lineTokens),tokensCount=tokens.length>>>1;let fromTokenIndex=_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a.findIndexInTokensArray(tokens,chIndex);if(fromTokenIndex>0){tokens[fromTokenIndex-1<<1]===chIndex&&fromTokenIndex--}for(let tokenIndex=fromTokenIndex;tokenIndex<tokensCount;tokenIndex++)tokens[tokenIndex<<1]+=textLength;return lineTokens}}},2400:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Token}),__webpack_require__.d(__webpack_exports__,"b",function(){return TokenizationResult}),__webpack_require__.d(__webpack_exports__,"c",function(){return TokenizationResult2});class Token{constructor(offset,type,language){this.offset=0|offset,this.type=type,this.language=language}toString(){return"("+this.offset+", "+this.type+")"}}class TokenizationResult{constructor(tokens,endState){this.tokens=tokens,this.endState=endState}}class TokenizationResult2{constructor(tokens,endState){this.tokens=tokens,this.endState=endState}}},2401:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IBulkEditService}),__webpack_require__.d(__webpack_exports__,"b",function(){return ResourceEdit}),__webpack_require__.d(__webpack_exports__,"c",function(){return ResourceTextEdit});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2313),_base_common_types_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2314);const IBulkEditService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("IWorkspaceEditService");class ResourceEdit{constructor(metadata){this.metadata=metadata}static convert(edit){return edit.edits.map(edit=>{if(function isWorkspaceTextEdit(thing){return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_2__.i)(thing)&&_base_common_uri_js__WEBPACK_IMPORTED_MODULE_1__.a.isUri(thing.resource)&&Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_2__.i)(thing.edit)}(edit))return new ResourceTextEdit(edit.resource,edit.edit,edit.modelVersionId,edit.metadata);if(function isWorkspaceFileEdit(thing){return Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_2__.i)(thing)&&(Boolean(thing.newUri)||Boolean(thing.oldUri))}(edit))return new ResourceFileEdit(edit.oldUri,edit.newUri,edit.options,edit.metadata);throw new Error("Unsupported edit")})}}class ResourceTextEdit extends ResourceEdit{constructor(resource,textEdit,versionId,metadata){super(metadata),this.resource=resource,this.textEdit=textEdit,this.versionId=versionId,this.metadata=metadata}}class ResourceFileEdit extends ResourceEdit{constructor(oldResource,newResource,options,metadata){super(metadata),this.oldResource=oldResource,this.newResource=newResource,this.options=options,this.metadata=metadata}}},2402:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return codeActionCommandId}),__webpack_require__.d(__webpack_exports__,"e",function(){return refactorCommandId}),__webpack_require__.d(__webpack_exports__,"f",function(){return sourceActionCommandId}),__webpack_require__.d(__webpack_exports__,"d",function(){return organizeImportsCommandId}),__webpack_require__.d(__webpack_exports__,"b",function(){return fixAllCommandId}),__webpack_require__.d(__webpack_exports__,"c",function(){return getCodeActions});var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2309),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2315),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2302),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2313),_browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2357),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2301),_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2295),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2311),_common_modes_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2308),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2336),_types_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2403),_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2345),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const codeActionCommandId="editor.action.codeAction",refactorCommandId="editor.action.refactor",sourceActionCommandId="editor.action.sourceAction",organizeImportsCommandId="editor.action.organizeImports",fixAllCommandId="editor.action.fixAll";class ManagedCodeActionSet extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(actions,documentation,disposables){super(),this.documentation=documentation,this._register(disposables),this.allActions=Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.p)([...actions],ManagedCodeActionSet.codeActionsComparator),this.validActions=this.allActions.filter(action=>!action.disabled)}static codeActionsComparator(a,b){return a.isPreferred&&!b.isPreferred?-1:!a.isPreferred&&b.isPreferred?1:Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.o)(a.diagnostics)?Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.o)(b.diagnostics)?a.diagnostics[0].message.localeCompare(b.diagnostics[0].message):-1:Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.o)(b.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(fix=>!!fix.kind&&_types_js__WEBPACK_IMPORTED_MODULE_11__.b.QuickFix.contains(new _types_js__WEBPACK_IMPORTED_MODULE_11__.b(fix.kind))&&!!fix.isPreferred)}}const emptyCodeActionsResponse={actions:[],documentation:void 0};function getCodeActions(model,rangeOrSelection,trigger,progress,token){var _a;const filter=trigger.filter||{},codeActionContext={only:null===(_a=filter.include)||void 0===_a?void 0:_a.value,trigger:trigger.type},cts=new _browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_5__.d(model,token),providers=function getCodeActionProviders(model,filter){return _common_modes_js__WEBPACK_IMPORTED_MODULE_9__.a.all(model).filter(provider=>!provider.providedCodeActionKinds||provider.providedCodeActionKinds.some(kind=>Object(_types_js__WEBPACK_IMPORTED_MODULE_11__.d)(filter,new _types_js__WEBPACK_IMPORTED_MODULE_11__.b(kind))))}(model,filter),disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b,promises=providers.map(provider=>__awaiter(this,void 0,void 0,function*(){try{progress.report(provider);const providedCodeActions=yield provider.provideCodeActions(model,rangeOrSelection,codeActionContext,cts.token);if(providedCodeActions&&disposables.add(providedCodeActions),cts.token.isCancellationRequested)return emptyCodeActionsResponse;const filteredActions=((null==providedCodeActions?void 0:providedCodeActions.actions)||[]).filter(action=>action&&Object(_types_js__WEBPACK_IMPORTED_MODULE_11__.c)(filter,action));return{actions:filteredActions,documentation:function getDocumentation(provider,providedCodeActions,only){if(!provider.documentation)return;const documentation=provider.documentation.map(entry=>({kind:new _types_js__WEBPACK_IMPORTED_MODULE_11__.b(entry.kind),command:entry.command}));if(only){let currentBest;for(const entry of documentation)entry.kind.contains(only)&&(currentBest?currentBest.kind.contains(entry.kind)&&(currentBest=entry):currentBest=entry);if(currentBest)return null==currentBest?void 0:currentBest.command}for(const action of providedCodeActions)if(action.kind)for(const entry of documentation)if(entry.kind.contains(new _types_js__WEBPACK_IMPORTED_MODULE_11__.b(action.kind)))return entry.command;return}(provider,filteredActions,filter.include)}}catch(err){if(Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.d)(err))throw err;return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.f)(err),emptyCodeActionsResponse}})),listener=_common_modes_js__WEBPACK_IMPORTED_MODULE_9__.a.onDidChange(()=>{const newProviders=_common_modes_js__WEBPACK_IMPORTED_MODULE_9__.a.all(model);Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.g)(newProviders,providers)||cts.cancel()});return Promise.all(promises).then(actions=>{const allActions=Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.l)(actions.map(x=>x.actions)),allDocumentation=Object(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_0__.d)(actions.map(x=>x.documentation));return new ManagedCodeActionSet(allActions,allDocumentation,disposables)}).finally(()=>{listener.dispose(),cts.dispose()})}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.o)("_executeCodeActionProvider",function(accessor,args){return __awaiter(this,void 0,void 0,function*(){const{resource:resource,rangeOrSelection:rangeOrSelection,kind:kind}=args;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_4__.a))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.b)();const model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_10__.a).getModel(resource);if(!model)throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.b)();const validatedRangeOrSelection=_common_core_selection_js__WEBPACK_IMPORTED_MODULE_8__.a.isISelection(rangeOrSelection)?_common_core_selection_js__WEBPACK_IMPORTED_MODULE_8__.a.liftSelection(rangeOrSelection):_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a.isIRange(rangeOrSelection)?model.validateRange(rangeOrSelection):void 0;if(!validatedRangeOrSelection)throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.b)();const codeActionSet=yield getCodeActions(model,validatedRangeOrSelection,{type:2,filter:{includeSourceActions:!0,include:kind&&kind.value?new _types_js__WEBPACK_IMPORTED_MODULE_11__.b(kind.value):void 0}},_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_12__.b.None,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__.a.None);return setTimeout(()=>codeActionSet.dispose(),100),codeActionSet.validActions})})},2403:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return CodeActionKind}),__webpack_require__.d(__webpack_exports__,"d",function(){return mayIncludeActionsOfKind}),__webpack_require__.d(__webpack_exports__,"c",function(){return filtersAction}),__webpack_require__.d(__webpack_exports__,"a",function(){return CodeActionCommandArgs});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299);class CodeActionKind{constructor(value){this.value=value}equals(other){return this.value===other.value}contains(other){return this.equals(other)||""===this.value||Object(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.S)(other.value,this.value+CodeActionKind.sep)}intersects(other){return this.contains(other)||other.contains(this)}append(part){return new CodeActionKind(this.value+CodeActionKind.sep+part)}}function mayIncludeActionsOfKind(filter,providedKind){return!(filter.include&&!filter.include.intersects(providedKind))&&((!filter.excludes||!filter.excludes.some(exclude=>excludesAction(providedKind,exclude,filter.include)))&&!(!filter.includeSourceActions&&CodeActionKind.Source.contains(providedKind)))}function filtersAction(filter,action){const actionKind=action.kind?new CodeActionKind(action.kind):void 0;return!!(!filter.include||actionKind&&filter.include.contains(actionKind))&&(!(filter.excludes&&actionKind&&filter.excludes.some(exclude=>excludesAction(actionKind,exclude,filter.include)))&&(!(!filter.includeSourceActions&&actionKind&&CodeActionKind.Source.contains(actionKind))&&!(filter.onlyIncludePreferredActions&&!action.isPreferred)))}function excludesAction(providedKind,exclude,include){return!!exclude.contains(providedKind)&&(!include||!exclude.contains(include))}CodeActionKind.sep=".",CodeActionKind.None=new CodeActionKind("@@none@@"),CodeActionKind.Empty=new CodeActionKind(""),CodeActionKind.QuickFix=new CodeActionKind("quickfix"),CodeActionKind.Refactor=new CodeActionKind("refactor"),CodeActionKind.Source=new CodeActionKind("source"),CodeActionKind.SourceOrganizeImports=CodeActionKind.Source.append("organizeImports"),CodeActionKind.SourceFixAll=CodeActionKind.Source.append("fixAll");class CodeActionCommandArgs{constructor(kind,apply,preferred){this.kind=kind,this.apply=apply,this.preferred=preferred}static fromUser(arg,defaults){return arg&&"object"==typeof arg?new CodeActionCommandArgs(CodeActionCommandArgs.getKindFromUser(arg,defaults.kind),CodeActionCommandArgs.getApplyFromUser(arg,defaults.apply),CodeActionCommandArgs.getPreferredUser(arg)):new CodeActionCommandArgs(defaults.kind,defaults.apply,!1)}static getApplyFromUser(arg,defaultAutoApply){switch("string"==typeof arg.apply?arg.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return defaultAutoApply}}static getKindFromUser(arg,defaultKind){return"string"==typeof arg.kind?new CodeActionKind(arg.kind):defaultKind}static getPreferredUser(arg){return"boolean"==typeof arg.preferred&&arg.preferred}}},2404:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MessageController});__webpack_require__(2517);var _nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2297),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2306),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2335),_common_core_range_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2295),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2301),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2307),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2304),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2310),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let MessageController=class MessageController extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor,contextKeyService){super(),this._messageWidget=this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.d),this._messageListeners=this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b),this._editor=editor,this._visible=MessageController.MESSAGE_VISIBLE.bindTo(contextKeyService),this._register(this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}static get(editor){return editor.getContribution(MessageController.ID)}dispose(){super.dispose(),this._visible.reset()}showMessage(message,position){let bounds;Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__.a)(message),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new MessageWidget(this._editor,position,message),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.e(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(e=>{e.target.position&&(bounds?bounds.containsPosition(e.target.position)||this.closeMessage():bounds=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(position.lineNumber-3,1,e.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};MessageController.ID="editor.contrib.messageController",MessageController.MESSAGE_VISIBLE=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.c("messageVisible",!1),MessageController=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.b)],MessageController);const MessageCommand=_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.c.bindToContribution(MessageController.get);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.l)(new MessageCommand({id:"leaveEditorMessage",precondition:MessageController.MESSAGE_VISIBLE,handler:c=>c.closeMessage(),kbOpts:{weight:130,primary:9}}));class MessageWidget{constructor(editor,{lineNumber:lineNumber,column:column},text){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=editor,this._editor.revealLinesInCenterIfOutsideViewport(lineNumber,lineNumber,0),this._position={lineNumber:lineNumber,column:column-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const message=document.createElement("div");message.classList.add("message"),message.textContent=text,this._domNode.appendChild(message);const anchor=document.createElement("div");anchor.classList.add("anchor"),this._domNode.appendChild(anchor),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(messageWidget){let handle;const dispose=()=>{messageWidget.dispose(),clearTimeout(handle),messageWidget.getDomNode().removeEventListener("animationend",dispose)};return handle=setTimeout(dispose,110),messageWidget.getDomNode().addEventListener("animationend",dispose),messageWidget.getDomNode().classList.add("fadeOut"),{dispose:dispose}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.m)(MessageController.ID,MessageController),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_8__.g)((theme,collector)=>{const border=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.mb);if(border){let borderWidth=theme.type===_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_8__.b?2:1;collector.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: ${border}; }`),collector.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${borderWidth}px solid ${border}; }`)}const background=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.lb);background&&collector.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${background}; }`);const foreground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.nb);foreground&&collector.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${foreground}; }`)})},2405:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return hash}),__webpack_require__.d(__webpack_exports__,"c",function(){return stringHash}),__webpack_require__.d(__webpack_exports__,"a",function(){return StringSHA1});var _strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299);function hash(obj){return doHash(obj,0)}function doHash(obj,hashVal){switch(typeof obj){case"object":return null===obj?numberHash(349,hashVal):Array.isArray(obj)?function arrayHash(arr,initialHashVal){return initialHashVal=numberHash(104579,initialHashVal),arr.reduce((hashVal,item)=>doHash(item,hashVal),initialHashVal)}(obj,hashVal):function objectHash(obj,initialHashVal){return initialHashVal=numberHash(181387,initialHashVal),Object.keys(obj).sort().reduce((hashVal,key)=>(hashVal=stringHash(key,hashVal),doHash(obj[key],hashVal)),initialHashVal)}(obj,hashVal);case"string":return stringHash(obj,hashVal);case"boolean":return function booleanHash(b,initialHashVal){return numberHash(b?433:863,initialHashVal)}(obj,hashVal);case"number":return numberHash(obj,hashVal);case"undefined":return numberHash(937,hashVal);default:return numberHash(617,hashVal)}}function numberHash(val,initialHashVal){return(initialHashVal<<5)-initialHashVal+val|0}function stringHash(s,hashVal){hashVal=numberHash(149417,hashVal);for(let i=0,length=s.length;i<length;i++)hashVal=numberHash(s.charCodeAt(i),hashVal);return hashVal}function leftRotate(value,bits,totalBits=32){const delta=totalBits-bits;return(value<<bits|(~((1<<delta)-1)&value)>>>delta)>>>0}function fill(dest,index=0,count=dest.byteLength,value=0){for(let i=0;i<count;i++)dest[index+i]=value}function toHexString(value,bitsize=32){return function leftPad(value,length,char="0"){for(;value.length<length;)value=char+value;return value}((value>>>0).toString(16),bitsize/4)}class StringSHA1{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(str){const strLen=str.length;if(0===strLen)return;const buff=this._buff;let charCode,offset,buffLen=this._buffLen,leftoverHighSurrogate=this._leftoverHighSurrogate;for(0!==leftoverHighSurrogate?(charCode=leftoverHighSurrogate,offset=-1,leftoverHighSurrogate=0):(charCode=str.charCodeAt(0),offset=0);;){let codePoint=charCode;if(_strings_js__WEBPACK_IMPORTED_MODULE_0__.F(charCode)){if(!(offset+1<strLen)){leftoverHighSurrogate=charCode;break}{const nextCharCode=str.charCodeAt(offset+1);_strings_js__WEBPACK_IMPORTED_MODULE_0__.G(nextCharCode)?(offset++,codePoint=_strings_js__WEBPACK_IMPORTED_MODULE_0__.j(charCode,nextCharCode)):codePoint=65533}}else _strings_js__WEBPACK_IMPORTED_MODULE_0__.G(charCode)&&(codePoint=65533);if(buffLen=this._push(buff,buffLen,codePoint),!(++offset<strLen))break;charCode=str.charCodeAt(offset)}this._buffLen=buffLen,this._leftoverHighSurrogate=leftoverHighSurrogate}_push(buff,buffLen,codePoint){return codePoint<128?buff[buffLen++]=codePoint:codePoint<2048?(buff[buffLen++]=192|(1984&codePoint)>>>6,buff[buffLen++]=128|(63&codePoint)>>>0):codePoint<65536?(buff[buffLen++]=224|(61440&codePoint)>>>12,buff[buffLen++]=128|(4032&codePoint)>>>6,buff[buffLen++]=128|(63&codePoint)>>>0):(buff[buffLen++]=240|(1835008&codePoint)>>>18,buff[buffLen++]=128|(258048&codePoint)>>>12,buff[buffLen++]=128|(4032&codePoint)>>>6,buff[buffLen++]=128|(63&codePoint)>>>0),buffLen>=64&&(this._step(),buffLen-=64,this._totalLen+=64,buff[0]=buff[64],buff[1]=buff[65],buff[2]=buff[66]),buffLen}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),toHexString(this._h0)+toHexString(this._h1)+toHexString(this._h2)+toHexString(this._h3)+toHexString(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,fill(this._buff,this._buffLen),this._buffLen>56&&(this._step(),fill(this._buff));const ml=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(ml/4294967296),!1),this._buffDV.setUint32(60,ml%4294967296,!1),this._step()}_step(){const bigBlock32=StringSHA1._bigBlock32,data=this._buffDV;for(let j=0;j<64;j+=4)bigBlock32.setUint32(j,data.getUint32(j,!1),!1);for(let j=64;j<320;j+=4)bigBlock32.setUint32(j,leftRotate(bigBlock32.getUint32(j-12,!1)^bigBlock32.getUint32(j-32,!1)^bigBlock32.getUint32(j-56,!1)^bigBlock32.getUint32(j-64,!1),1),!1);let f,k,temp,a=this._h0,b=this._h1,c=this._h2,d=this._h3,e=this._h4;for(let j=0;j<80;j++)j<20?(f=b&c|~b&d,k=1518500249):j<40?(f=b^c^d,k=1859775393):j<60?(f=b&c|b&d|c&d,k=2400959708):(f=b^c^d,k=3395469782),temp=leftRotate(a,5)+f+e+k+bigBlock32.getUint32(4*j,!1)&4294967295,e=d,d=c,c=leftRotate(b,30),b=a,a=temp;this._h0=this._h0+a&4294967295,this._h1=this._h1+b&4294967295,this._h2=this._h2+c&4294967295,this._h3=this._h3+d&4294967295,this._h4=this._h4+e&4294967295}}StringSHA1._bigBlock32=new DataView(new ArrayBuffer(320))},2406:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return WordOperations}),__webpack_require__.d(__webpack_exports__,"b",function(){return WordPartOperations});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2333),_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2386),_core_position_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2303),_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2295);class WordOperations{static _createWord(lineContent,wordType,nextCharClass,start,end){return{start:start,end:end,wordType:wordType,nextCharClass:nextCharClass}}static _findPreviousWordOnLine(wordSeparators,model,position){let lineContent=model.getLineContent(position.lineNumber);return this._doFindPreviousWordOnLine(lineContent,wordSeparators,position)}static _doFindPreviousWordOnLine(lineContent,wordSeparators,position){let wordType=0;for(let chIndex=position.column-2;chIndex>=0;chIndex--){let chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(0===chClass){if(2===wordType)return this._createWord(lineContent,wordType,chClass,chIndex+1,this._findEndOfWord(lineContent,wordSeparators,wordType,chIndex+1));wordType=1}else if(2===chClass){if(1===wordType)return this._createWord(lineContent,wordType,chClass,chIndex+1,this._findEndOfWord(lineContent,wordSeparators,wordType,chIndex+1));wordType=2}else if(1===chClass&&0!==wordType)return this._createWord(lineContent,wordType,chClass,chIndex+1,this._findEndOfWord(lineContent,wordSeparators,wordType,chIndex+1))}return 0!==wordType?this._createWord(lineContent,wordType,1,0,this._findEndOfWord(lineContent,wordSeparators,wordType,0)):null}static _findEndOfWord(lineContent,wordSeparators,wordType,startIndex){let len=lineContent.length;for(let chIndex=startIndex;chIndex<len;chIndex++){let chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(1===chClass)return chIndex;if(1===wordType&&2===chClass)return chIndex;if(2===wordType&&0===chClass)return chIndex}return len}static _findNextWordOnLine(wordSeparators,model,position){let lineContent=model.getLineContent(position.lineNumber);return this._doFindNextWordOnLine(lineContent,wordSeparators,position)}static _doFindNextWordOnLine(lineContent,wordSeparators,position){let wordType=0,len=lineContent.length;for(let chIndex=position.column-1;chIndex<len;chIndex++){let chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(0===chClass){if(2===wordType)return this._createWord(lineContent,wordType,chClass,this._findStartOfWord(lineContent,wordSeparators,wordType,chIndex-1),chIndex);wordType=1}else if(2===chClass){if(1===wordType)return this._createWord(lineContent,wordType,chClass,this._findStartOfWord(lineContent,wordSeparators,wordType,chIndex-1),chIndex);wordType=2}else if(1===chClass&&0!==wordType)return this._createWord(lineContent,wordType,chClass,this._findStartOfWord(lineContent,wordSeparators,wordType,chIndex-1),chIndex)}return 0!==wordType?this._createWord(lineContent,wordType,1,this._findStartOfWord(lineContent,wordSeparators,wordType,len-1),len):null}static _findStartOfWord(lineContent,wordSeparators,wordType,startIndex){for(let chIndex=startIndex;chIndex>=0;chIndex--){let chCode=lineContent.charCodeAt(chIndex),chClass=wordSeparators.get(chCode);if(1===chClass)return chIndex+1;if(1===wordType&&2===chClass)return chIndex+1;if(2===wordType&&0===chClass)return chIndex+1}return 0}static moveWordLeft(wordSeparators,model,position,wordNavigationType){let lineNumber=position.lineNumber,column=position.column;1===column&&lineNumber>1&&(lineNumber-=1,column=model.getLineMaxColumn(lineNumber));let prevWordOnLine=WordOperations._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column));if(0===wordNavigationType)return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.start+1:1);if(1===wordNavigationType)return prevWordOnLine&&2===prevWordOnLine.wordType&&prevWordOnLine.end-prevWordOnLine.start==1&&0===prevWordOnLine.nextCharClass&&(prevWordOnLine=WordOperations._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1))),new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.start+1:1);if(3===wordNavigationType){for(;prevWordOnLine&&2===prevWordOnLine.wordType;)prevWordOnLine=WordOperations._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1));return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.start+1:1)}return prevWordOnLine&&column<=prevWordOnLine.end+1&&(prevWordOnLine=WordOperations._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1))),new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine?prevWordOnLine.end+1:1)}static _moveWordPartLeft(model,position){const lineNumber=position.lineNumber,maxColumn=model.getLineMaxColumn(lineNumber);if(1===position.column)return lineNumber>1?new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber-1,model.getLineMaxColumn(lineNumber-1)):position;const lineContent=model.getLineContent(lineNumber);for(let column=position.column-1;column>1;column--){const left=lineContent.charCodeAt(column-2),right=lineContent.charCodeAt(column-1);if(95===left&&95!==right)return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.H(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.I(right))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.I(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.I(right)&&column+1<maxColumn){const rightRight=lineContent.charCodeAt(column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.H(rightRight))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column)}}return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,1)}static moveWordRight(wordSeparators,model,position,wordNavigationType){let lineNumber=position.lineNumber,column=position.column,movedDown=!1;column===model.getLineMaxColumn(lineNumber)&&lineNumber<model.getLineCount()&&(movedDown=!0,lineNumber+=1,column=1);let nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column));if(2===wordNavigationType)nextWordOnLine&&2===nextWordOnLine.wordType&&nextWordOnLine.end-nextWordOnLine.start==1&&0===nextWordOnLine.nextCharClass&&(nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1))),column=nextWordOnLine?nextWordOnLine.end+1:model.getLineMaxColumn(lineNumber);else if(3===wordNavigationType){for(movedDown&&(column=0);nextWordOnLine&&(2===nextWordOnLine.wordType||nextWordOnLine.start+1<=column);)nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1));column=nextWordOnLine?nextWordOnLine.start+1:model.getLineMaxColumn(lineNumber)}else nextWordOnLine&&!movedDown&&column>=nextWordOnLine.start+1&&(nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1))),column=nextWordOnLine?nextWordOnLine.start+1:model.getLineMaxColumn(lineNumber);return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column)}static _moveWordPartRight(model,position){const lineNumber=position.lineNumber,maxColumn=model.getLineMaxColumn(lineNumber);if(position.column===maxColumn)return lineNumber<model.getLineCount()?new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber+1,1):position;const lineContent=model.getLineContent(lineNumber);for(let column=position.column+1;column<maxColumn;column++){const left=lineContent.charCodeAt(column-2),right=lineContent.charCodeAt(column-1);if(95!==left&&95===right)return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.H(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.I(right))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.I(left)&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.I(right)&&column+1<maxColumn){const rightRight=lineContent.charCodeAt(column);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.H(rightRight))return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column)}}return new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,maxColumn)}static _deleteWordLeftWhitespace(model,position){const lineContent=model.getLineContent(position.lineNumber),startIndex=position.column-2,lastNonWhitespace=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.J(lineContent,startIndex);return lastNonWhitespace+1<startIndex?new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,lastNonWhitespace+2,position.lineNumber,position.column):null}static deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){if(!selection.isEmpty())return selection;const position=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(selection.positionLineNumber,selection.positionColumn);let lineNumber=position.lineNumber,column=position.column;if(1===lineNumber&&1===column)return null;if(whitespaceHeuristics){let r=this._deleteWordLeftWhitespace(model,position);if(r)return r}let prevWordOnLine=WordOperations._findPreviousWordOnLine(wordSeparators,model,position);return 0===wordNavigationType?prevWordOnLine?column=prevWordOnLine.start+1:column>1?column=1:(lineNumber--,column=model.getLineMaxColumn(lineNumber)):(prevWordOnLine&&column<=prevWordOnLine.end+1&&(prevWordOnLine=WordOperations._findPreviousWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,prevWordOnLine.start+1))),prevWordOnLine?column=prevWordOnLine.end+1:column>1?column=1:(lineNumber--,column=model.getLineMaxColumn(lineNumber))),new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,column,position.lineNumber,position.column)}static _deleteWordPartLeft(model,selection){if(!selection.isEmpty())return selection;const pos=selection.getPosition(),toPosition=WordOperations._moveWordPartLeft(model,pos);return new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(pos.lineNumber,pos.column,toPosition.lineNumber,toPosition.column)}static _findFirstNonWhitespaceChar(str,startIndex){let len=str.length;for(let chIndex=startIndex;chIndex<len;chIndex++){let ch=str.charAt(chIndex);if(" "!==ch&&"\t"!==ch)return chIndex}return len}static _deleteWordRightWhitespace(model,position){const lineContent=model.getLineContent(position.lineNumber),startIndex=position.column-1,firstNonWhitespace=this._findFirstNonWhitespaceChar(lineContent,startIndex);return startIndex+1<firstNonWhitespace?new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,position.column,position.lineNumber,firstNonWhitespace+1):null}static deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){if(!selection.isEmpty())return selection;const position=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(selection.positionLineNumber,selection.positionColumn);let lineNumber=position.lineNumber,column=position.column;const lineCount=model.getLineCount(),maxColumn=model.getLineMaxColumn(lineNumber);if(lineNumber===lineCount&&column===maxColumn)return null;if(whitespaceHeuristics){let r=this._deleteWordRightWhitespace(model,position);if(r)return r}let nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,position);return 2===wordNavigationType?nextWordOnLine?column=nextWordOnLine.end+1:column<maxColumn||lineNumber===lineCount?column=maxColumn:(lineNumber++,column=(nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,1)))?nextWordOnLine.start+1:model.getLineMaxColumn(lineNumber)):(nextWordOnLine&&column>=nextWordOnLine.start+1&&(nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,nextWordOnLine.end+1))),nextWordOnLine?column=nextWordOnLine.start+1:column<maxColumn||lineNumber===lineCount?column=maxColumn:(lineNumber++,column=(nextWordOnLine=WordOperations._findNextWordOnLine(wordSeparators,model,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,1)))?nextWordOnLine.start+1:model.getLineMaxColumn(lineNumber))),new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,column,position.lineNumber,position.column)}static _deleteWordPartRight(model,selection){if(!selection.isEmpty())return selection;const pos=selection.getPosition(),toPosition=WordOperations._moveWordPartRight(model,pos);return new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(pos.lineNumber,pos.column,toPosition.lineNumber,toPosition.column)}static _createWordAtPosition(model,lineNumber,word){const range=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,word.start+1,lineNumber,word.end+1);return{word:model.getValueInRange(range),startColumn:range.startColumn,endColumn:range.endColumn}}static getWordAtPosition(model,_wordSeparators,position){const wordSeparators=Object(_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_2__.a)(_wordSeparators),prevWord=WordOperations._findPreviousWordOnLine(wordSeparators,model,position);if(prevWord&&1===prevWord.wordType&&prevWord.start<=position.column-1&&position.column-1<=prevWord.end)return WordOperations._createWordAtPosition(model,position.lineNumber,prevWord);const nextWord=WordOperations._findNextWordOnLine(wordSeparators,model,position);return nextWord&&1===nextWord.wordType&&nextWord.start<=position.column-1&&position.column-1<=nextWord.end?WordOperations._createWordAtPosition(model,position.lineNumber,nextWord):null}static word(config,model,cursor,inSelectionMode,position){const wordSeparators=Object(_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_2__.a)(config.wordSeparators);let startColumn,endColumn,prevWord=WordOperations._findPreviousWordOnLine(wordSeparators,model,position),nextWord=WordOperations._findNextWordOnLine(wordSeparators,model,position);if(!inSelectionMode){let startColumn,endColumn;return prevWord&&1===prevWord.wordType&&prevWord.start<=position.column-1&&position.column-1<=prevWord.end?(startColumn=prevWord.start+1,endColumn=prevWord.end+1):nextWord&&1===nextWord.wordType&&nextWord.start<=position.column-1&&position.column-1<=nextWord.end?(startColumn=nextWord.start+1,endColumn=nextWord.end+1):(startColumn=prevWord?prevWord.end+1:1,endColumn=nextWord?nextWord.start+1:model.getLineMaxColumn(position.lineNumber)),new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,startColumn,position.lineNumber,endColumn),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(position.lineNumber,endColumn),0)}prevWord&&1===prevWord.wordType&&prevWord.start<position.column-1&&position.column-1<prevWord.end?(startColumn=prevWord.start+1,endColumn=prevWord.end+1):nextWord&&1===nextWord.wordType&&nextWord.start<position.column-1&&position.column-1<nextWord.end?(startColumn=nextWord.start+1,endColumn=nextWord.end+1):(startColumn=position.column,endColumn=position.column);let column,lineNumber=position.lineNumber;if(cursor.selectionStart.containsPosition(position))column=cursor.selectionStart.endColumn;else if(position.isBeforeOrEqual(cursor.selectionStart.getStartPosition())){column=startColumn;let possiblePosition=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);cursor.selectionStart.containsPosition(possiblePosition)&&(column=cursor.selectionStart.endColumn)}else{column=endColumn;let possiblePosition=new _core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,column);cursor.selectionStart.containsPosition(possiblePosition)&&(column=cursor.selectionStart.startColumn)}return cursor.move(!0,lineNumber,column,0)}}class WordPartOperations extends WordOperations{static deleteWordPartLeft(wordSeparators,model,selection,whitespaceHeuristics){const candidates=enforceDefined([WordOperations.deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,0),WordOperations.deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,2),WordOperations._deleteWordPartLeft(model,selection)]);return candidates.sort(_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a.compareRangesUsingEnds),candidates[2]}static deleteWordPartRight(wordSeparators,model,selection,whitespaceHeuristics){const candidates=enforceDefined([WordOperations.deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,0),WordOperations.deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,2),WordOperations._deleteWordPartRight(model,selection)]);return candidates.sort(_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a.compareRangesUsingStarts),candidates[0]}static moveWordPartLeft(wordSeparators,model,position){const candidates=enforceDefined([WordOperations.moveWordLeft(wordSeparators,model,position,0),WordOperations.moveWordLeft(wordSeparators,model,position,2),WordOperations._moveWordPartLeft(model,position)]);return candidates.sort(_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.compare),candidates[2]}static moveWordPartRight(wordSeparators,model,position){const candidates=enforceDefined([WordOperations.moveWordRight(wordSeparators,model,position,0),WordOperations.moveWordRight(wordSeparators,model,position,2),WordOperations._moveWordPartRight(model,position)]);return candidates.sort(_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a.compare),candidates[0]}}function enforceDefined(arr){return arr.filter(el=>Boolean(el))}},2407:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Sash});__webpack_require__(2532);var _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305),_common_types_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2314),_touch_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2348),_mouseEvent_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2339),_common_event_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2296),_dom_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2298),_event_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2347);const DEBUG=!1;let globalSize=4;const onDidChangeGlobalSize=new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a;class Sash extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(container,layoutProvider,options){super(),this._state=3,this._onDidEnablementChange=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new _common_event_js__WEBPACK_IMPORTED_MODULE_6__.a),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b),this.orthogonalEndSashDisposables=this._register(new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b),this.el=Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.p)(container,Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.a)(".monaco-sash")),_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f&&Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.e)(this.el,"mac"),this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.el,"mousedown")(this.onMouseDown,this)),this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register(_touch_js__WEBPACK_IMPORTED_MODULE_4__.b.addTarget(this.el)),this._register(Object(_event_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.el,_touch_js__WEBPACK_IMPORTED_MODULE_4__.a.Start)(this.onTouchStart,this)),"number"==typeof options.size?(this.size=options.size,0===options.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=globalSize,this._register(onDidChangeGlobalSize.event(size=>{this.size=size,this.layout()}))),this.hidden=!1,this.layoutProvider=layoutProvider,this.orthogonalStartSash=options.orthogonalStartSash,this.orthogonalEndSash=options.orthogonalEndSash,this.orientation=options.orientation||0,1===this.orientation?(Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.e)(this.el,"horizontal"),Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.Q)(this.el,"vertical")):(Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.Q)(this.el,"horizontal"),Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.e)(this.el,"vertical")),Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.ab)(this.el,"debug",DEBUG),this.layout()}get state(){return this._state}set state(state){this._state!==state&&(Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.ab)(this.el,"disabled",0===state),Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.ab)(this.el,"minimum",1===state),Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.ab)(this.el,"maximum",2===state),this._state=state,this._onDidEnablementChange.fire(state))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(sash){this.orthogonalStartSashDisposables.clear(),sash?(this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(sash.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=sash}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(sash){this.orthogonalEndSashDisposables.clear(),sash?(this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(sash.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=sash}onMouseDown(e){_dom_js__WEBPACK_IMPORTED_MODULE_7__.b.stop(e,!1);let isMultisashResize=!1;if(!e.__orthogonalSashEvent){const orthogonalSash=this.getOrthogonalSash(e);orthogonalSash&&(isMultisashResize=!0,e.__orthogonalSashEvent=!0,orthogonalSash.onMouseDown(e))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),!this.state)return;const iframes=[...Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.D)("iframe"),...Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.D)("webview")];for(const iframe of iframes)iframe.style.pointerEvents="none";const mouseDownEvent=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_5__.a(e),startX=mouseDownEvent.posx,startY=mouseDownEvent.posy,altKey=mouseDownEvent.altKey,startEvent={startX:startX,currentX:startX,startY:startY,currentY:startY,altKey:altKey};Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.e)(this.el,"active"),this._onDidStart.fire(startEvent);const style=Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.v)(this.el),updateStyle=()=>{let cursor="";cursor=isMultisashResize?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?"col-resize":"ew-resize",style.innerHTML=`* { cursor: ${cursor} !important; }`},disposables=new _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b;updateStyle(),isMultisashResize||this.onDidEnablementChange(updateStyle,null,disposables);Object(_event_js__WEBPACK_IMPORTED_MODULE_8__.a)(window,"mousemove")(e=>{_dom_js__WEBPACK_IMPORTED_MODULE_7__.b.stop(e,!1);const mouseMoveEvent=new _mouseEvent_js__WEBPACK_IMPORTED_MODULE_5__.a(e),event={startX:startX,currentX:mouseMoveEvent.posx,startY:startY,currentY:mouseMoveEvent.posy,altKey:altKey};this._onDidChange.fire(event)},null,disposables),Object(_event_js__WEBPACK_IMPORTED_MODULE_8__.a)(window,"mouseup")(e=>{_dom_js__WEBPACK_IMPORTED_MODULE_7__.b.stop(e,!1),this.el.removeChild(style),Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.Q)(this.el,"active"),this._onDidEnd.fire(),disposables.dispose();for(const iframe of iframes)iframe.style.pointerEvents="auto"},null,disposables)}onMouseDoubleClick(e){const orthogonalSash=this.getOrthogonalSash(e);orthogonalSash&&orthogonalSash._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(event){_dom_js__WEBPACK_IMPORTED_MODULE_7__.b.stop(event);const listeners=[],startX=event.pageX,startY=event.pageY,altKey=event.altKey;this._onDidStart.fire({startX:startX,currentX:startX,startY:startY,currentY:startY,altKey:altKey}),listeners.push(Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.i)(this.el,_touch_js__WEBPACK_IMPORTED_MODULE_4__.a.Change,event=>{_common_types_js__WEBPACK_IMPORTED_MODULE_3__.h(event.pageX)&&_common_types_js__WEBPACK_IMPORTED_MODULE_3__.h(event.pageY)&&this._onDidChange.fire({startX:startX,currentX:event.pageX,startY:startY,currentY:event.pageY,altKey:altKey})})),listeners.push(Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.i)(this.el,_touch_js__WEBPACK_IMPORTED_MODULE_4__.a.End,event=>{this._onDidEnd.fire(),Object(_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.f)(listeners)}))}layout(){if(0===this.orientation){const verticalProvider=this.layoutProvider;this.el.style.left=verticalProvider.getVerticalSashLeft(this)-this.size/2+"px",verticalProvider.getVerticalSashTop&&(this.el.style.top=verticalProvider.getVerticalSashTop(this)+"px"),verticalProvider.getVerticalSashHeight&&(this.el.style.height=verticalProvider.getVerticalSashHeight(this)+"px")}else{const horizontalProvider=this.layoutProvider;this.el.style.top=horizontalProvider.getHorizontalSashTop(this)-this.size/2+"px",horizontalProvider.getHorizontalSashLeft&&(this.el.style.left=horizontalProvider.getHorizontalSashLeft(this)+"px"),horizontalProvider.getHorizontalSashWidth&&(this.el.style.width=horizontalProvider.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}onOrthogonalStartSashEnablementChange(state){Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.ab)(this.el,"orthogonal-start",0!==state)}onOrthogonalEndSashEnablementChange(state){Object(_dom_js__WEBPACK_IMPORTED_MODULE_7__.ab)(this.el,"orthogonal-end",0!==state)}getOrthogonalSash(e){if(0===this.orientation){if(e.offsetY<=this.size)return this.orthogonalStartSash;if(e.offsetY>=this.el.clientHeight-this.size)return this.orthogonalEndSash}else{if(e.offsetX<=this.size)return this.orthogonalStartSash;if(e.offsetX>=this.el.clientWidth-this.size)return this.orthogonalEndSash}}dispose(){super.dispose(),this.el.remove()}}},2408:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return LineRange}),__webpack_require__.d(__webpack_exports__,"c",function(){return RenderLineInput}),__webpack_require__.d(__webpack_exports__,"a",function(){return CharacterMapping}),__webpack_require__.d(__webpack_exports__,"d",function(){return renderViewLine}),__webpack_require__.d(__webpack_exports__,"e",function(){return renderViewLine2});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2376),_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2442);class LinePart{constructor(endIndex,type,metadata){this.endIndex=endIndex,this.type=type,this.metadata=metadata}isWhitespace(){return!!(1&this.metadata)}}class LineRange{constructor(startIndex,endIndex){this.startOffset=startIndex,this.endOffset=endIndex}equals(otherLineRange){return this.startOffset===otherLineRange.startOffset&&this.endOffset===otherLineRange.endOffset}}class RenderLineInput{constructor(useMonospaceOptimizations,canUseHalfwidthRightwardsArrow,lineContent,continuesWithWrappedLine,isBasicASCII,containsRTL,fauxIndentLength,lineTokens,lineDecorations,tabSize,startVisibleColumn,spaceWidth,middotWidth,wsmiddotWidth,stopRenderingLineAfter,renderWhitespace,renderControlCharacters,fontLigatures,selectionsOnLine){this.useMonospaceOptimizations=useMonospaceOptimizations,this.canUseHalfwidthRightwardsArrow=canUseHalfwidthRightwardsArrow,this.lineContent=lineContent,this.continuesWithWrappedLine=continuesWithWrappedLine,this.isBasicASCII=isBasicASCII,this.containsRTL=containsRTL,this.fauxIndentLength=fauxIndentLength,this.lineTokens=lineTokens,this.lineDecorations=lineDecorations,this.tabSize=tabSize,this.startVisibleColumn=startVisibleColumn,this.spaceWidth=spaceWidth,this.stopRenderingLineAfter=stopRenderingLineAfter,this.renderWhitespace="all"===renderWhitespace?4:"boundary"===renderWhitespace?1:"selection"===renderWhitespace?2:"trailing"===renderWhitespace?3:0,this.renderControlCharacters=renderControlCharacters,this.fontLigatures=fontLigatures,this.selectionsOnLine=selectionsOnLine&&selectionsOnLine.sort((a,b)=>a.startOffset<b.startOffset?-1:1),Math.abs(wsmiddotWidth-spaceWidth)<Math.abs(middotWidth-spaceWidth)?(this.renderSpaceWidth=wsmiddotWidth,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=middotWidth,this.renderSpaceCharCode=183)}sameSelection(otherSelections){if(null===this.selectionsOnLine)return null===otherSelections;if(null===otherSelections)return!1;if(otherSelections.length!==this.selectionsOnLine.length)return!1;for(let i=0;i<this.selectionsOnLine.length;i++)if(!this.selectionsOnLine[i].equals(otherSelections[i]))return!1;return!0}equals(other){return this.useMonospaceOptimizations===other.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===other.canUseHalfwidthRightwardsArrow&&this.lineContent===other.lineContent&&this.continuesWithWrappedLine===other.continuesWithWrappedLine&&this.isBasicASCII===other.isBasicASCII&&this.containsRTL===other.containsRTL&&this.fauxIndentLength===other.fauxIndentLength&&this.tabSize===other.tabSize&&this.startVisibleColumn===other.startVisibleColumn&&this.spaceWidth===other.spaceWidth&&this.renderSpaceWidth===other.renderSpaceWidth&&this.renderSpaceCharCode===other.renderSpaceCharCode&&this.stopRenderingLineAfter===other.stopRenderingLineAfter&&this.renderWhitespace===other.renderWhitespace&&this.renderControlCharacters===other.renderControlCharacters&&this.fontLigatures===other.fontLigatures&&_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__.a.equalsArr(this.lineDecorations,other.lineDecorations)&&this.lineTokens.equals(other.lineTokens)&&this.sameSelection(other.selectionsOnLine)}}class CharacterMapping{constructor(length,partCount){this.length=length,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(partData){return(4294901760&partData)>>>16}static getCharIndex(partData){return(65535&partData)>>>0}setPartData(charOffset,partIndex,charIndex,partAbsoluteOffset){let partData=(partIndex<<16|charIndex<<0)>>>0;this._data[charOffset]=partData,this._absoluteOffsets[charOffset]=partAbsoluteOffset+charIndex}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(charOffset){return 0===this.length?0:charOffset<0?this._data[0]:charOffset>=this.length?this._data[this.length-1]:this._data[charOffset]}partDataToCharOffset(partIndex,partLength,charIndex){if(0===this.length)return 0;let searchEntry=(partIndex<<16|charIndex<<0)>>>0,min=0,max=this.length-1;for(;min+1<max;){let mid=min+max>>>1,midEntry=this._data[mid];if(midEntry===searchEntry)return mid;midEntry>searchEntry?max=mid:min=mid}if(min===max)return min;let minEntry=this._data[min],maxEntry=this._data[max];if(minEntry===searchEntry)return min;if(maxEntry===searchEntry)return max;let maxCharIndex,minPartIndex=CharacterMapping.getPartIndex(minEntry);return charIndex-CharacterMapping.getCharIndex(minEntry)<=(maxCharIndex=minPartIndex!==CharacterMapping.getPartIndex(maxEntry)?partLength:CharacterMapping.getCharIndex(maxEntry))-charIndex?min:max}}class RenderLineOutput{constructor(characterMapping,containsRTL,containsForeignElements){this.characterMapping=characterMapping,this.containsRTL=containsRTL,this.containsForeignElements=containsForeignElements}}function renderViewLine(input,sb){if(0===input.lineContent.length){let containsForeignElements=0,content="<span><span></span></span>";if(input.lineDecorations.length>0){const beforeClassNames=[],afterClassNames=[];for(let i=0,len=input.lineDecorations.length;i<len;i++){const lineDecoration=input.lineDecorations[i];1===lineDecoration.type&&(beforeClassNames.push(input.lineDecorations[i].className),containsForeignElements|=1),2===lineDecoration.type&&(afterClassNames.push(input.lineDecorations[i].className),containsForeignElements|=2)}if(0!==containsForeignElements){content=`<span>${beforeClassNames.length>0?`<span class="${beforeClassNames.join(" ")}"></span>`:""}${afterClassNames.length>0?`<span class="${afterClassNames.join(" ")}"></span>`:""}</span>`}}return sb.appendASCIIString(content),new RenderLineOutput(new CharacterMapping(0,0),!1,containsForeignElements)}return function _renderLine(input,sb){const fontIsMonospace=input.fontIsMonospace,canUseHalfwidthRightwardsArrow=input.canUseHalfwidthRightwardsArrow,containsForeignElements=input.containsForeignElements,lineContent=input.lineContent,len=input.len,isOverflowing=input.isOverflowing,parts=input.parts,fauxIndentLength=input.fauxIndentLength,tabSize=input.tabSize,startVisibleColumn=input.startVisibleColumn,containsRTL=input.containsRTL,spaceWidth=input.spaceWidth,renderSpaceCharCode=input.renderSpaceCharCode,renderWhitespace=input.renderWhitespace,renderControlCharacters=input.renderControlCharacters,characterMapping=new CharacterMapping(len+1,parts.length);let charIndex=0,visibleColumn=startVisibleColumn,charOffsetInPart=0,partDisplacement=0,prevPartContentCnt=0,partAbsoluteOffset=0;containsRTL?sb.appendASCIIString('<span dir="ltr">'):sb.appendASCIIString("<span>");for(let partIndex=0,tokensLen=parts.length;partIndex<tokensLen;partIndex++){partAbsoluteOffset+=prevPartContentCnt;const part=parts[partIndex],partEndIndex=part.endIndex,partType=part.type,partRendersWhitespace=0!==renderWhitespace&&part.isWhitespace(),partRendersWhitespaceWithWidth=partRendersWhitespace&&!fontIsMonospace&&("mtkw"===partType||!containsForeignElements),partIsEmptyAndHasPseudoAfter=charIndex===partEndIndex&&4===part.metadata;if(charOffsetInPart=0,sb.appendASCIIString('<span class="'),sb.appendASCIIString(partRendersWhitespaceWithWidth?"mtkz":partType),sb.appendASCII(34),partRendersWhitespace){let partContentCnt=0;{let _charIndex=charIndex,_visibleColumn=visibleColumn;for(;_charIndex<partEndIndex;_charIndex++){const charCode=lineContent.charCodeAt(_charIndex),charWidth=0|(9===charCode?tabSize-_visibleColumn%tabSize:1);partContentCnt+=charWidth,_charIndex>=fauxIndentLength&&(_visibleColumn+=charWidth)}}for(partRendersWhitespaceWithWidth&&(sb.appendASCIIString(' style="width:'),sb.appendASCIIString(String(spaceWidth*partContentCnt)),sb.appendASCIIString('px"')),sb.appendASCII(62);charIndex<partEndIndex;charIndex++){characterMapping.setPartData(charIndex,partIndex-partDisplacement,charOffsetInPart,partAbsoluteOffset),partDisplacement=0;const charCode=lineContent.charCodeAt(charIndex);let charWidth;if(9===charCode){charWidth=tabSize-visibleColumn%tabSize|0,!canUseHalfwidthRightwardsArrow||charWidth>1?sb.write1(8594):sb.write1(65515);for(let space=2;space<=charWidth;space++)sb.write1(160)}else charWidth=1,sb.write1(renderSpaceCharCode);charOffsetInPart+=charWidth,charIndex>=fauxIndentLength&&(visibleColumn+=charWidth)}prevPartContentCnt=partContentCnt}else{let partContentCnt=0;for(sb.appendASCII(62);charIndex<partEndIndex;charIndex++){characterMapping.setPartData(charIndex,partIndex-partDisplacement,charOffsetInPart,partAbsoluteOffset),partDisplacement=0;const charCode=lineContent.charCodeAt(charIndex);let producedCharacters=1,charWidth=1;switch(charCode){case 9:charWidth=producedCharacters=tabSize-visibleColumn%tabSize;for(let space=1;space<=producedCharacters;space++)sb.write1(160);break;case 32:sb.write1(160);break;case 60:sb.appendASCIIString("&lt;");break;case 62:sb.appendASCIIString("&gt;");break;case 38:sb.appendASCIIString("&amp;");break;case 0:sb.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:sb.write1(65533);break;default:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.E(charCode)&&charWidth++,renderControlCharacters&&charCode<32?sb.write1(9216+charCode):sb.write1(charCode)}charOffsetInPart+=producedCharacters,partContentCnt+=producedCharacters,charIndex>=fauxIndentLength&&(visibleColumn+=charWidth)}prevPartContentCnt=partContentCnt}partIsEmptyAndHasPseudoAfter?partDisplacement++:partDisplacement=0,sb.appendASCIIString("</span>")}characterMapping.setPartData(len,parts.length-1,charOffsetInPart,partAbsoluteOffset),isOverflowing&&sb.appendASCIIString("<span>&hellip;</span>");return sb.appendASCIIString("</span>"),new RenderLineOutput(characterMapping,containsRTL,containsForeignElements)}(function resolveRenderLineInput(input){const lineContent=input.lineContent;let isOverflowing,len;-1!==input.stopRenderingLineAfter&&input.stopRenderingLineAfter<lineContent.length?(isOverflowing=!0,len=input.stopRenderingLineAfter):(isOverflowing=!1,len=lineContent.length);let tokens=function transformAndRemoveOverflowing(tokens,fauxIndentLength,len){let result=[],resultLen=0;fauxIndentLength>0&&(result[resultLen++]=new LinePart(fauxIndentLength,"",0));for(let tokenIndex=0,tokensLen=tokens.getCount();tokenIndex<tokensLen;tokenIndex++){const endIndex=tokens.getEndOffset(tokenIndex);if(endIndex<=fauxIndentLength)continue;const type=tokens.getClassName(tokenIndex);if(endIndex>=len){result[resultLen++]=new LinePart(len,type,0);break}result[resultLen++]=new LinePart(endIndex,type,0)}return result}(input.lineTokens,input.fauxIndentLength,len);(4===input.renderWhitespace||1===input.renderWhitespace||2===input.renderWhitespace&&input.selectionsOnLine||3===input.renderWhitespace)&&(tokens=function _applyRenderWhitespace(input,lineContent,len,tokens){const continuesWithWrappedLine=input.continuesWithWrappedLine,fauxIndentLength=input.fauxIndentLength,tabSize=input.tabSize,startVisibleColumn=input.startVisibleColumn,useMonospaceOptimizations=input.useMonospaceOptimizations,selections=input.selectionsOnLine,onlyBoundary=1===input.renderWhitespace,onlyTrailing=3===input.renderWhitespace,generateLinePartForEachWhitespace=input.renderSpaceWidth!==input.spaceWidth;let result=[],resultLen=0,tokenIndex=0,tokenType=tokens[tokenIndex].type,tokenEndIndex=tokens[tokenIndex].endIndex;const tokensLength=tokens.length;let lastNonWhitespaceIndex,lineIsEmptyOrWhitespace=!1,firstNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.w(lineContent);-1===firstNonWhitespaceIndex?(lineIsEmptyOrWhitespace=!0,firstNonWhitespaceIndex=len,lastNonWhitespaceIndex=len):lastNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.J(lineContent);let wasInWhitespace=!1,currentSelectionIndex=0,currentSelection=selections&&selections[currentSelectionIndex],tmpIndent=startVisibleColumn%tabSize;for(let charIndex=fauxIndentLength;charIndex<len;charIndex++){const chCode=lineContent.charCodeAt(charIndex);let isInWhitespace;if(currentSelection&&charIndex>=currentSelection.endOffset&&(currentSelectionIndex++,currentSelection=selections&&selections[currentSelectionIndex]),charIndex<firstNonWhitespaceIndex||charIndex>lastNonWhitespaceIndex)isInWhitespace=!0;else if(9===chCode)isInWhitespace=!0;else if(32===chCode)if(onlyBoundary)if(wasInWhitespace)isInWhitespace=!0;else{const nextChCode=charIndex+1<len?lineContent.charCodeAt(charIndex+1):0;isInWhitespace=32===nextChCode||9===nextChCode}else isInWhitespace=!0;else isInWhitespace=!1;if(isInWhitespace&&selections&&(isInWhitespace=!!currentSelection&&currentSelection.startOffset<=charIndex&&currentSelection.endOffset>charIndex),isInWhitespace&&onlyTrailing&&(isInWhitespace=lineIsEmptyOrWhitespace||charIndex>lastNonWhitespaceIndex),wasInWhitespace){if(!isInWhitespace||!useMonospaceOptimizations&&tmpIndent>=tabSize){if(generateLinePartForEachWhitespace){const lastEndIndex=resultLen>0?result[resultLen-1].endIndex:fauxIndentLength;for(let i=lastEndIndex+1;i<=charIndex;i++)result[resultLen++]=new LinePart(i,"mtkw",1)}else result[resultLen++]=new LinePart(charIndex,"mtkw",1);tmpIndent%=tabSize}}else(charIndex===tokenEndIndex||isInWhitespace&&charIndex>fauxIndentLength)&&(result[resultLen++]=new LinePart(charIndex,tokenType,0),tmpIndent%=tabSize);for(9===chCode?tmpIndent=tabSize:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.E(chCode)?tmpIndent+=2:tmpIndent++,wasInWhitespace=isInWhitespace;charIndex===tokenEndIndex;)++tokenIndex<tokensLength&&(tokenType=tokens[tokenIndex].type,tokenEndIndex=tokens[tokenIndex].endIndex)}let generateWhitespace=!1;if(wasInWhitespace)if(continuesWithWrappedLine&&onlyBoundary){let lastCharCode=len>0?lineContent.charCodeAt(len-1):0,prevCharCode=len>1?lineContent.charCodeAt(len-2):0,isSingleTrailingSpace=32===lastCharCode&&32!==prevCharCode&&9!==prevCharCode;isSingleTrailingSpace||(generateWhitespace=!0)}else generateWhitespace=!0;if(generateWhitespace)if(generateLinePartForEachWhitespace){const lastEndIndex=resultLen>0?result[resultLen-1].endIndex:fauxIndentLength;for(let i=lastEndIndex+1;i<=len;i++)result[resultLen++]=new LinePart(i,"mtkw",1)}else result[resultLen++]=new LinePart(len,"mtkw",1);else result[resultLen++]=new LinePart(len,tokenType,0);return result}(input,lineContent,len,tokens));let containsForeignElements=0;if(input.lineDecorations.length>0){for(let i=0,len=input.lineDecorations.length;i<len;i++){const lineDecoration=input.lineDecorations[i];3===lineDecoration.type?containsForeignElements|=1:1===lineDecoration.type?containsForeignElements|=1:2===lineDecoration.type&&(containsForeignElements|=2)}tokens=function _applyInlineDecorations(lineContent,len,tokens,_lineDecorations){_lineDecorations.sort(_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__.a.compare);const lineDecorations=_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__.b.normalize(lineContent,_lineDecorations),lineDecorationsLen=lineDecorations.length;let lineDecorationIndex=0,result=[],resultLen=0,lastResultEndIndex=0;for(let tokenIndex=0,len=tokens.length;tokenIndex<len;tokenIndex++){const token=tokens[tokenIndex],tokenEndIndex=token.endIndex,tokenType=token.type,tokenMetadata=token.metadata;for(;lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset<tokenEndIndex;){const lineDecoration=lineDecorations[lineDecorationIndex];if(lineDecoration.startOffset>lastResultEndIndex&&(lastResultEndIndex=lineDecoration.startOffset,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType,tokenMetadata)),!(lineDecoration.endOffset+1<=tokenEndIndex)){lastResultEndIndex=tokenEndIndex,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType+" "+lineDecoration.className,tokenMetadata|lineDecoration.metadata);break}lastResultEndIndex=lineDecoration.endOffset+1,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType+" "+lineDecoration.className,tokenMetadata|lineDecoration.metadata),lineDecorationIndex++}tokenEndIndex>lastResultEndIndex&&(lastResultEndIndex=tokenEndIndex,result[resultLen++]=new LinePart(lastResultEndIndex,tokenType,tokenMetadata))}const lastTokenEndIndex=tokens[tokens.length-1].endIndex;if(lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset===lastTokenEndIndex){let classNames=[],metadata=0;for(;lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset===lastTokenEndIndex;)classNames.push(lineDecorations[lineDecorationIndex].className),metadata|=lineDecorations[lineDecorationIndex].metadata,lineDecorationIndex++;result[resultLen++]=new LinePart(lastResultEndIndex,classNames.join(" "),metadata)}return result}(lineContent,0,tokens,input.lineDecorations)}input.containsRTL||(tokens=function splitLargeTokens(lineContent,tokens,onlyAtSpaces){let lastTokenEndIndex=0,result=[],resultLen=0;if(onlyAtSpaces)for(let i=0,len=tokens.length;i<len;i++){const token=tokens[i],tokenEndIndex=token.endIndex;if(lastTokenEndIndex+50<tokenEndIndex){const tokenType=token.type,tokenMetadata=token.metadata;let lastSpaceOffset=-1,currTokenStart=lastTokenEndIndex;for(let j=lastTokenEndIndex;j<tokenEndIndex;j++)32===lineContent.charCodeAt(j)&&(lastSpaceOffset=j),-1!==lastSpaceOffset&&j-currTokenStart>=50&&(result[resultLen++]=new LinePart(lastSpaceOffset+1,tokenType,tokenMetadata),currTokenStart=lastSpaceOffset+1,lastSpaceOffset=-1);currTokenStart!==tokenEndIndex&&(result[resultLen++]=new LinePart(tokenEndIndex,tokenType,tokenMetadata))}else result[resultLen++]=token;lastTokenEndIndex=tokenEndIndex}else for(let i=0,len=tokens.length;i<len;i++){const token=tokens[i],tokenEndIndex=token.endIndex;let diff=tokenEndIndex-lastTokenEndIndex;if(diff>50){const tokenType=token.type,tokenMetadata=token.metadata,piecesCount=Math.ceil(diff/50);for(let j=1;j<piecesCount;j++){let pieceEndIndex=lastTokenEndIndex+50*j;result[resultLen++]=new LinePart(pieceEndIndex,tokenType,tokenMetadata)}result[resultLen++]=new LinePart(tokenEndIndex,tokenType,tokenMetadata)}else result[resultLen++]=token;lastTokenEndIndex=tokenEndIndex}return result}(lineContent,tokens,!input.isBasicASCII||input.fontLigatures));return new ResolvedRenderLineInput(input.useMonospaceOptimizations,input.canUseHalfwidthRightwardsArrow,lineContent,len,isOverflowing,tokens,containsForeignElements,input.fauxIndentLength,input.tabSize,input.startVisibleColumn,input.containsRTL,input.spaceWidth,input.renderSpaceCharCode,input.renderWhitespace,input.renderControlCharacters)}(input),sb)}class RenderLineOutput2{constructor(characterMapping,html,containsRTL,containsForeignElements){this.characterMapping=characterMapping,this.html=html,this.containsRTL=containsRTL,this.containsForeignElements=containsForeignElements}}function renderViewLine2(input){let sb=Object(_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__.a)(1e4),out=renderViewLine(input,sb);return new RenderLineOutput2(out.characterMapping,sb.build(),out.containsRTL,out.containsForeignElements)}class ResolvedRenderLineInput{constructor(fontIsMonospace,canUseHalfwidthRightwardsArrow,lineContent,len,isOverflowing,parts,containsForeignElements,fauxIndentLength,tabSize,startVisibleColumn,containsRTL,spaceWidth,renderSpaceCharCode,renderWhitespace,renderControlCharacters){this.fontIsMonospace=fontIsMonospace,this.canUseHalfwidthRightwardsArrow=canUseHalfwidthRightwardsArrow,this.lineContent=lineContent,this.len=len,this.isOverflowing=isOverflowing,this.parts=parts,this.containsForeignElements=containsForeignElements,this.fauxIndentLength=fauxIndentLength,this.tabSize=tabSize,this.startVisibleColumn=startVisibleColumn,this.containsRTL=containsRTL,this.spaceWidth=spaceWidth,this.renderSpaceCharCode=renderSpaceCharCode,this.renderWhitespace=renderWhitespace,this.renderControlCharacters=renderControlCharacters}}},2409:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MOUSE_CURSOR_TEXT_CSS_CLASS_NAME});__webpack_require__(2552);const MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"},2410:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ServiceCollection});class ServiceCollection{constructor(...entries){this._entries=new Map;for(let[id,service]of entries)this.set(id,service)}set(id,instanceOrDescriptor){const result=this._entries.get(id);return this._entries.set(id,instanceOrDescriptor),result}has(id){return this._entries.has(id)}get(id){return this._entries.get(id)}}},2411:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return OneReference}),__webpack_require__.d(__webpack_exports__,"a",function(){return FileReferences}),__webpack_require__.d(__webpack_exports__,"c",function(){return ReferencesModel});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2331),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2299),_base_common_idGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2391),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_base_common_map_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2349),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2302),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class OneReference{constructor(isProviderFirst,parent,uri,_range,_rangeCallback){this.isProviderFirst=isProviderFirst,this.parent=parent,this.uri=uri,this._range=_range,this._rangeCallback=_rangeCallback,this.id=_base_common_idGenerator_js__WEBPACK_IMPORTED_MODULE_5__.b.nextId()}get range(){return this._range}set range(value){this._range=value,this._rangeCallback(this)}get ariaMessage(){return Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class FilePreview{constructor(_modelReference){this._modelReference=_modelReference}dispose(){this._modelReference.dispose()}preview(range,n=8){const model=this._modelReference.object.textEditorModel;if(!model)return;const{startLineNumber:startLineNumber,startColumn:startColumn,endLineNumber:endLineNumber,endColumn:endColumn}=range,word=model.getWordUntilPosition({lineNumber:startLineNumber,column:startColumn-n}),beforeRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,word.startColumn,startLineNumber,startColumn),afterRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(endLineNumber,endColumn,endLineNumber,1073741824),before=model.getValueInRange(beforeRange).replace(/^\s+/,""),inside=model.getValueInRange(range);return{value:before+inside+model.getValueInRange(afterRange).replace(/\s+$/,""),highlight:{start:before.length,end:before.length+inside.length}}}}class FileReferences{constructor(parent,uri){this.parent=parent,this.uri=uri,this.children=[],this._previews=new _base_common_map_js__WEBPACK_IMPORTED_MODULE_7__.b}dispose(){Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.f)(this._previews.values()),this._previews.clear()}getPreview(child){return this._previews.get(child.uri)}get ariaMessage(){const len=this.children.length;return 1===len?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.uri),this.uri.fsPath):Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",len,Object(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.uri),this.uri.fsPath)}resolve(textModelResolverService){return __awaiter(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(let child of this.children)if(!this._previews.has(child.uri))try{const ref=yield textModelResolverService.createModelReference(child.uri);this._previews.set(child.uri,new FilePreview(ref))}catch(err){Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_8__.e)(err)}return this})}}class ReferencesModel{constructor(links,title){this._disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=links,this._title=title;const[providersFirst]=links;let current;links.sort(ReferencesModel._compareReferences);for(let link of links)if(current&&_base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.e.isEqual(current.uri,link.uri,!0)||(current=new FileReferences(this,link.uri),this.groups.push(current)),0===current.children.length||0!==ReferencesModel._compareReferences(link,current.children[current.children.length-1])){const oneRef=new OneReference(providersFirst===link,current,link.uri,link.targetSelectionRange||link.range,ref=>this._onDidChangeReferenceRange.fire(ref));this.references.push(oneRef),current.children.push(oneRef)}}dispose(){Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.f)(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new ReferencesModel(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.0","No results found"):1===this.references.length?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(reference,next){let{parent:parent}=reference,idx=parent.children.indexOf(reference),childCount=parent.children.length,groupCount=parent.parent.groups.length;return 1===groupCount||next&&idx+1<childCount||!next&&idx>0?(idx=next?(idx+1)%childCount:(idx+childCount-1)%childCount,parent.children[idx]):(idx=parent.parent.groups.indexOf(parent),next?(idx=(idx+1)%groupCount,parent.parent.groups[idx].children[0]):(idx=(idx+groupCount-1)%groupCount,parent.parent.groups[idx].children[parent.parent.groups[idx].children.length-1]))}nearestReference(resource,position){const nearest=this.references.map((ref,idx)=>({idx:idx,prefixLen:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_4__.d(ref.uri.toString(),resource.toString()),offsetDist:100*Math.abs(ref.range.startLineNumber-position.lineNumber)+Math.abs(ref.range.startColumn-position.column)})).sort((a,b)=>a.prefixLen>b.prefixLen?-1:a.prefixLen<b.prefixLen?1:a.offsetDist<b.offsetDist?-1:a.offsetDist>b.offsetDist?1:0)[0];if(nearest)return this.references[nearest.idx]}referenceAt(resource,position){for(const ref of this.references)if(ref.uri.toString()===resource.toString()&&_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.containsPosition(ref.range,position))return ref}firstReference(){for(const ref of this.references)if(ref.isProviderFirst)return ref;return this.references[0]}static _compareReferences(a,b){return _base_common_resources_js__WEBPACK_IMPORTED_MODULE_2__.e.compare(a.uri,b.uri)||_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts(a.range,b.range)}}},2412:function(module,__webpack_exports__,__webpack_require__){"use strict";var Range;__webpack_require__.d(__webpack_exports__,"a",function(){return Range}),function(Range){function intersect(one,other){if(one.start>=other.end||other.start>=one.end)return{start:0,end:0};const start=Math.max(one.start,other.start),end=Math.min(one.end,other.end);return end-start<=0?{start:0,end:0}:{start:start,end:end}}function isEmpty(range){return range.end-range.start<=0}Range.intersect=intersect,Range.isEmpty=isEmpty,Range.intersects=function intersects(one,other){return!isEmpty(intersect(one,other))},Range.relativeComplement=function relativeComplement(one,other){const result=[],first={start:one.start,end:Math.min(other.start,one.end)},second={start:Math.max(other.end,one.start),end:one.end};return isEmpty(first)||result.push(first),isEmpty(second)||result.push(second),result}}(Range||(Range={}))},2413:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ILabelService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const ILabelService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("labelService")},2414:function(module,__webpack_exports__,__webpack_require__){"use strict";function clamp(value,min,max){return Math.min(Math.max(value,min),max)}__webpack_require__.d(__webpack_exports__,"b",function(){return clamp}),__webpack_require__.d(__webpack_exports__,"a",function(){return MovingAverage});class MovingAverage{constructor(){this._n=1,this._val=0}update(value){return this._val=this._val+(value-this._val)/this._n,this._n+=1,this}}},2415:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IUndoRedoService}),__webpack_require__.d(__webpack_exports__,"b",function(){return ResourceEditStackSnapshot});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IUndoRedoService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("undoRedoService");class ResourceEditStackSnapshot{constructor(resource,elements){this.resource=resource,this.elements=elements}}},2416:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ITextResourceConfigurationService}),__webpack_require__.d(__webpack_exports__,"b",function(){return ITextResourcePropertiesService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const ITextResourceConfigurationService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("textResourceConfigurationService"),ITextResourcePropertiesService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("textResourcePropertiesService")},2417:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Context}),__webpack_require__.d(__webpack_exports__,"g",function(){return suggestWidgetStatusbarMenu}),__webpack_require__.d(__webpack_exports__,"a",function(){return CompletionOptions}),__webpack_require__.d(__webpack_exports__,"c",function(){return getSnippetSuggestSupport}),__webpack_require__.d(__webpack_exports__,"e",function(){return provideSuggestionItems}),__webpack_require__.d(__webpack_exports__,"d",function(){return getSuggestionComparator}),__webpack_require__.d(__webpack_exports__,"f",function(){return showSimpleSuggestions});var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2302),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2301),_common_modes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2308),_common_core_position_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2303),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2307),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2315),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_base_common_filters_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2354),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2294),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2323),_snippet_snippetParser_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2418),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const Context={Visible:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("suggestWidgetVisible",!1),DetailsVisible:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("suggestWidgetDetailsVisible",!1),MultipleSuggestions:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("acceptSuggestionOnEnter",!0),HasInsertAndReplaceRange:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("suggestionHasInsertAndReplaceRange",!1),CanResolve:new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.c("suggestionCanResolve",!1)},suggestWidgetStatusbarMenu=new _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_9__.b("suggestWidgetStatusBar");class CompletionItem{constructor(position,completion,container,provider){this.position=position,this.completion=completion,this.container=container,this.provider=provider,this.isInvalid=!1,this.score=_base_common_filters_js__WEBPACK_IMPORTED_MODULE_7__.a.Default,this.distance=0,this.textLabel="string"==typeof completion.label?completion.label:completion.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=completion.sortText&&completion.sortText.toLowerCase(),this.filterTextLow=completion.filterText&&completion.filterText.toLowerCase(),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.isIRange(completion.range)?(this.editStart=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(completion.range.startLineNumber,completion.range.startColumn),this.editInsertEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(completion.range.endLineNumber,completion.range.endColumn),this.editReplaceEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(completion.range.endLineNumber,completion.range.endColumn),this.isInvalid=this.isInvalid||_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.spansMultipleLines(completion.range)||completion.range.startLineNumber!==position.lineNumber):(this.editStart=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(completion.range.insert.startLineNumber,completion.range.insert.startColumn),this.editInsertEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(completion.range.insert.endLineNumber,completion.range.insert.endColumn),this.editReplaceEnd=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_3__.a(completion.range.replace.endLineNumber,completion.range.replace.endColumn),this.isInvalid=this.isInvalid||_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.spansMultipleLines(completion.range.insert)||_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.spansMultipleLines(completion.range.replace)||completion.range.insert.startLineNumber!==position.lineNumber||completion.range.replace.startLineNumber!==position.lineNumber||completion.range.insert.startColumn!==completion.range.replace.startColumn),"function"!=typeof provider.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(token){return __awaiter(this,void 0,void 0,function*(){if(!this._resolveCache){const sub=token.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,token)).then(value=>{Object.assign(this.completion,value),this._isResolved=!0,sub.dispose()},err=>{Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.d)(err)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class CompletionOptions{constructor(snippetSortOrder=2,kindFilter=new Set,providerFilter=new Set){this.snippetSortOrder=snippetSortOrder,this.kindFilter=kindFilter,this.providerFilter=providerFilter}}let _snippetSuggestSupport;function getSnippetSuggestSupport(){return _snippetSuggestSupport}CompletionOptions.default=new CompletionOptions;class CompletionItemModel{constructor(items,needsClipboard,dispoables){this.items=items,this.needsClipboard=needsClipboard,this.dispoables=dispoables}}function provideSuggestionItems(model,position,options=CompletionOptions.default,context={triggerKind:0},token=_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_5__.a.None){return __awaiter(this,void 0,void 0,function*(){position=position.clone();const word=model.getWordAtPosition(position),defaultReplaceRange=word?new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn):_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.fromPositions(position),defaultRange={replace:defaultReplaceRange,insert:defaultReplaceRange.setEndPosition(position.lineNumber,position.column)},result=[],disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.b;let needsClipboard=!1;const onCompletionList=(provider,container)=>{if(container){for(let suggestion of container.suggestions)options.kindFilter.has(suggestion.kind)||(suggestion.range||(suggestion.range=defaultRange),suggestion.sortText||(suggestion.sortText="string"==typeof suggestion.label?suggestion.label:suggestion.label.name),!needsClipboard&&suggestion.insertTextRules&&4&suggestion.insertTextRules&&(needsClipboard=_snippet_snippetParser_js__WEBPACK_IMPORTED_MODULE_10__.c.guessNeedsClipboard(suggestion.insertText)),result.push(new CompletionItem(position,suggestion,container,provider)));Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_8__.g)(container)&&disposables.add(container)}},snippetCompletions=(()=>__awaiter(this,void 0,void 0,function*(){if(!_snippetSuggestSupport||options.kindFilter.has(27))return;if(options.providerFilter.size>0&&!options.providerFilter.has(_snippetSuggestSupport))return;const list=yield _snippetSuggestSupport.provideCompletionItems(model,position,context,token);onCompletionList(_snippetSuggestSupport,list)}))();for(let providerGroup of _common_modes_js__WEBPACK_IMPORTED_MODULE_2__.d.orderedGroups(model)){let lenBefore=result.length;if(yield Promise.all(providerGroup.map(provider=>__awaiter(this,void 0,void 0,function*(){if(!(options.providerFilter.size>0)||options.providerFilter.has(provider))try{const list=yield provider.provideCompletionItems(model,position,context,token);onCompletionList(provider,list)}catch(err){Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.f)(err)}}))),lenBefore!==result.length||token.isCancellationRequested)break}return yield snippetCompletions,token.isCancellationRequested?(disposables.dispose(),Promise.reject(Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_0__.a)())):new CompletionItemModel(result.sort(getSuggestionComparator(options.snippetSortOrder)),needsClipboard,disposables)})}function defaultComparator(a,b){if(a.sortTextLow&&b.sortTextLow){if(a.sortTextLow<b.sortTextLow)return-1;if(a.sortTextLow>b.sortTextLow)return 1}return a.completion.label<b.completion.label?-1:a.completion.label>b.completion.label?1:a.completion.kind-b.completion.kind}const _snippetComparators=new Map;function getSuggestionComparator(snippetConfig){return _snippetComparators.get(snippetConfig)}_snippetComparators.set(0,function snippetUpComparator(a,b){if(a.completion.kind!==b.completion.kind){if(27===a.completion.kind)return-1;if(27===b.completion.kind)return 1}return defaultComparator(a,b)}),_snippetComparators.set(2,function snippetDownComparator(a,b){if(a.completion.kind!==b.completion.kind){if(27===a.completion.kind)return 1;if(27===b.completion.kind)return-1}return defaultComparator(a,b)}),_snippetComparators.set(1,defaultComparator),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.j)("_executeCompletionItemProvider",(model,position,args)=>__awaiter(void 0,void 0,void 0,function*(){const result={incomplete:!1,suggestions:[]},resolving=[],maxItemsToResolve=args.maxItemsToResolve||0,completions=yield provideSuggestionItems(model,position);for(const item of completions.items)resolving.length<maxItemsToResolve&&resolving.push(item.resolve(_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_5__.a.None)),result.incomplete=result.incomplete||item.container.incomplete,result.suggestions.push(item.completion);try{return yield Promise.all(resolving),result}finally{setTimeout(()=>completions.dispoables.dispose(),100)}}));const _provider=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let result={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,result}};function showSimpleSuggestions(editor,suggestions){setTimeout(()=>{_provider.onlyOnceSuggestions.push(...suggestions),editor.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(_provider))},0)}_common_modes_js__WEBPACK_IMPORTED_MODULE_2__.d.register("*",_provider)},2418:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return Text}),__webpack_require__.d(__webpack_exports__,"b",function(){return Placeholder}),__webpack_require__.d(__webpack_exports__,"a",function(){return Choice}),__webpack_require__.d(__webpack_exports__,"c",function(){return SnippetParser});class Scanner{constructor(){this.value="",this.pos=0}static isDigitCharacter(ch){return ch>=48&&ch<=57}static isVariableCharacter(ch){return 95===ch||ch>=97&&ch<=122||ch>=65&&ch<=90}text(value){this.value=value,this.pos=0}tokenText(token){return this.value.substr(token.pos,token.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let type,pos=this.pos,len=0,ch=this.value.charCodeAt(pos);if("number"==typeof(type=Scanner._table[ch]))return this.pos+=1,{type:type,pos:pos,len:1};if(Scanner.isDigitCharacter(ch)){type=8;do{len+=1,ch=this.value.charCodeAt(pos+len)}while(Scanner.isDigitCharacter(ch));return this.pos+=len,{type:type,pos:pos,len:len}}if(Scanner.isVariableCharacter(ch)){type=9;do{ch=this.value.charCodeAt(pos+ ++len)}while(Scanner.isVariableCharacter(ch)||Scanner.isDigitCharacter(ch));return this.pos+=len,{type:type,pos:pos,len:len}}type=10;do{len+=1,ch=this.value.charCodeAt(pos+len)}while(!isNaN(ch)&&void 0===Scanner._table[ch]&&!Scanner.isDigitCharacter(ch)&&!Scanner.isVariableCharacter(ch));return this.pos+=len,{type:type,pos:pos,len:len}}}Scanner._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class Marker{constructor(){this._children=[]}appendChild(child){return child instanceof Text&&this._children[this._children.length-1]instanceof Text?this._children[this._children.length-1].value+=child.value:(child.parent=this,this._children.push(child)),this}replace(child,others){const{parent:parent}=child,idx=parent.children.indexOf(child),newChildren=parent.children.slice(0);newChildren.splice(idx,1,...others),parent._children=newChildren,function _fixParent(children,parent){for(const child of children)child.parent=parent,_fixParent(child.children,child)}(others,parent)}get children(){return this._children}get snippet(){let candidate=this;for(;;){if(!candidate)return;if(candidate instanceof TextmateSnippet)return candidate;candidate=candidate.parent}}toString(){return this.children.reduce((prev,cur)=>prev+cur.toString(),"")}len(){return 0}}class Text extends Marker{constructor(value){super(),this.value=value}toString(){return this.value}len(){return this.value.length}clone(){return new Text(this.value)}}class TransformableMarker extends Marker{}class Placeholder extends TransformableMarker{constructor(index){super(),this.index=index}static compareByIndex(a,b){return a.index===b.index?0:a.isFinalTabstop?1:b.isFinalTabstop?-1:a.index<b.index?-1:a.index>b.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof Choice?this._children[0]:void 0}clone(){let ret=new Placeholder(this.index);return this.transform&&(ret.transform=this.transform.clone()),ret._children=this.children.map(child=>child.clone()),ret}}class Choice extends Marker{constructor(){super(...arguments),this.options=[]}appendChild(marker){return marker instanceof Text&&(marker.parent=this,this.options.push(marker)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let ret=new Choice;return this.options.forEach(ret.appendChild,ret),ret}}class Transform extends Marker{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(value){const _this=this;let didMatch=!1,ret=value.replace(this.regexp,function(){return didMatch=!0,_this._replace(Array.prototype.slice.call(arguments,0,-2))});return!didMatch&&this._children.some(child=>child instanceof FormatString&&Boolean(child.elseValue))&&(ret=this._replace([])),ret}_replace(groups){let ret="";for(const marker of this._children)if(marker instanceof FormatString){let value=groups[marker.index]||"";ret+=value=marker.resolve(value)}else ret+=marker.toString();return ret}toString(){return""}clone(){let ret=new Transform;return ret.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),ret._children=this.children.map(child=>child.clone()),ret}}class FormatString extends Marker{constructor(index,shorthandName,ifValue,elseValue){super(),this.index=index,this.shorthandName=shorthandName,this.ifValue=ifValue,this.elseValue=elseValue}resolve(value){return"upcase"===this.shorthandName?value?value.toLocaleUpperCase():"":"downcase"===this.shorthandName?value?value.toLocaleLowerCase():"":"capitalize"===this.shorthandName?value?value[0].toLocaleUpperCase()+value.substr(1):"":"pascalcase"===this.shorthandName?value?this._toPascalCase(value):"":Boolean(value)&&"string"==typeof this.ifValue?this.ifValue:Boolean(value)||"string"!=typeof this.elseValue?value||"":this.elseValue}_toPascalCase(value){const match=value.match(/[a-z]+/gi);return match?match.map(function(word){return word.charAt(0).toUpperCase()+word.substr(1).toLowerCase()}).join(""):value}clone(){return new FormatString(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Variable extends TransformableMarker{constructor(name){super(),this.name=name}resolve(resolver){let value=resolver.resolve(this);return this.transform&&(value=this.transform.resolve(value||"")),void 0!==value&&(this._children=[new Text(value)],!0)}clone(){const ret=new Variable(this.name);return this.transform&&(ret.transform=this.transform.clone()),ret._children=this.children.map(child=>child.clone()),ret}}function walk(marker,visitor){const stack=[...marker];for(;stack.length>0;){const marker=stack.shift();if(!visitor(marker))break;stack.unshift(...marker.children)}}class TextmateSnippet extends Marker{get placeholderInfo(){if(!this._placeholders){let last,all=[];this.walk(function(candidate){return candidate instanceof Placeholder&&(all.push(candidate),last=!last||last.index<candidate.index?candidate:last),!0}),this._placeholders={all:all,last:last}}return this._placeholders}get placeholders(){const{all:all}=this.placeholderInfo;return all}offset(marker){let pos=0,found=!1;return this.walk(candidate=>candidate===marker?(found=!0,!1):(pos+=candidate.len(),!0)),found?pos:-1}fullLen(marker){let ret=0;return walk([marker],marker=>(ret+=marker.len(),!0)),ret}enclosingPlaceholders(placeholder){let ret=[],{parent:parent}=placeholder;for(;parent;)parent instanceof Placeholder&&ret.push(parent),parent=parent.parent;return ret}resolveVariables(resolver){return this.walk(candidate=>(candidate instanceof Variable&&candidate.resolve(resolver)&&(this._placeholders=void 0),!0)),this}appendChild(child){return this._placeholders=void 0,super.appendChild(child)}replace(child,others){return this._placeholders=void 0,super.replace(child,others)}clone(){let ret=new TextmateSnippet;return this._children=this.children.map(child=>child.clone()),ret}walk(visitor){walk(this.children,visitor)}}class SnippetParser{constructor(){this._scanner=new Scanner,this._token={type:14,pos:0,len:0}}static escape(value){return value.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(template){return/\${?CLIPBOARD/.test(template)}parse(value,insertFinalTabstop,enforceFinalTabstop){this._scanner.text(value),this._token=this._scanner.next();const snippet=new TextmateSnippet;for(;this._parse(snippet););const placeholderDefaultValues=new Map,incompletePlaceholders=[];let placeholderCount=0;snippet.walk(marker=>(marker instanceof Placeholder&&(placeholderCount+=1,marker.isFinalTabstop?placeholderDefaultValues.set(0,void 0):!placeholderDefaultValues.has(marker.index)&&marker.children.length>0?placeholderDefaultValues.set(marker.index,marker.children):incompletePlaceholders.push(marker)),!0));for(const placeholder of incompletePlaceholders){const defaultValues=placeholderDefaultValues.get(placeholder.index);if(defaultValues){const clone=new Placeholder(placeholder.index);clone.transform=placeholder.transform;for(const child of defaultValues)clone.appendChild(child.clone());snippet.replace(placeholder,[clone])}}return enforceFinalTabstop||(enforceFinalTabstop=placeholderCount>0&&insertFinalTabstop),!placeholderDefaultValues.has(0)&&enforceFinalTabstop&&snippet.appendChild(new Placeholder(0)),snippet}_accept(type,value){if(void 0===type||this._token.type===type){let ret=!value||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),ret}return!1}_backTo(token){return this._scanner.pos=token.pos+token.len,this._token=token,!1}_until(type){const start=this._token;for(;this._token.type!==type;){if(14===this._token.type)return!1;if(5===this._token.type){const nextToken=this._scanner.next();if(0!==nextToken.type&&4!==nextToken.type&&5!==nextToken.type)return!1}this._token=this._scanner.next()}const value=this._scanner.value.substring(start.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),value}_parse(marker){return this._parseEscaped(marker)||this._parseTabstopOrVariableName(marker)||this._parseComplexPlaceholder(marker)||this._parseComplexVariable(marker)||this._parseAnything(marker)}_parseEscaped(marker){let value;return!!(value=this._accept(5,!0))&&(value=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||value,marker.appendChild(new Text(value)),!0)}_parseTabstopOrVariableName(parent){let value;const token=this._token;return this._accept(0)&&(value=this._accept(9,!0)||this._accept(8,!0))?(parent.appendChild(/^\d+$/.test(value)?new Placeholder(Number(value)):new Variable(value)),!0):this._backTo(token)}_parseComplexPlaceholder(parent){let index;const token=this._token;if(!(this._accept(0)&&this._accept(3)&&(index=this._accept(8,!0))))return this._backTo(token);const placeholder=new Placeholder(Number(index));if(this._accept(1))for(;;){if(this._accept(4))return parent.appendChild(placeholder),!0;if(!this._parse(placeholder))return parent.appendChild(new Text("${"+index+":")),placeholder.children.forEach(parent.appendChild,parent),!0}else{if(!(placeholder.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(placeholder)?(parent.appendChild(placeholder),!0):(this._backTo(token),!1):this._accept(4)?(parent.appendChild(placeholder),!0):this._backTo(token);{const choice=new Choice;for(;;){if(this._parseChoiceElement(choice)){if(this._accept(2))continue;if(this._accept(7)&&(placeholder.appendChild(choice),this._accept(4)))return parent.appendChild(placeholder),!0}return this._backTo(token),!1}}}}_parseChoiceElement(parent){const token=this._token,values=[];for(;2!==this._token.type&&7!==this._token.type;){let value;if(!(value=(value=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||value:this._accept(void 0,!0)))return this._backTo(token),!1;values.push(value)}return 0===values.length?(this._backTo(token),!1):(parent.appendChild(new Text(values.join(""))),!0)}_parseComplexVariable(parent){let name;const token=this._token;if(!(this._accept(0)&&this._accept(3)&&(name=this._accept(9,!0))))return this._backTo(token);const variable=new Variable(name);if(!this._accept(1))return this._accept(6)?this._parseTransform(variable)?(parent.appendChild(variable),!0):(this._backTo(token),!1):this._accept(4)?(parent.appendChild(variable),!0):this._backTo(token);for(;;){if(this._accept(4))return parent.appendChild(variable),!0;if(!this._parse(variable))return parent.appendChild(new Text("${"+name+":")),variable.children.forEach(parent.appendChild,parent),!0}}_parseTransform(parent){let transform=new Transform,regexValue="",regexOptions="";for(;!this._accept(6);){let escaped;if(escaped=this._accept(5,!0))regexValue+=escaped=this._accept(6,!0)||escaped;else{if(14===this._token.type)return!1;regexValue+=this._accept(void 0,!0)}}for(;!this._accept(6);){let escaped;if(escaped=this._accept(5,!0))escaped=this._accept(5,!0)||this._accept(6,!0)||escaped,transform.appendChild(new Text(escaped));else if(!this._parseFormatString(transform)&&!this._parseAnything(transform))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;regexOptions+=this._accept(void 0,!0)}try{transform.regexp=new RegExp(regexValue,regexOptions)}catch(e){return!1}return parent.transform=transform,!0}_parseFormatString(parent){const token=this._token;if(!this._accept(0))return!1;let complex=!1;this._accept(3)&&(complex=!0);let index=this._accept(8,!0);if(!index)return this._backTo(token),!1;if(!complex)return parent.appendChild(new FormatString(Number(index))),!0;if(this._accept(4))return parent.appendChild(new FormatString(Number(index))),!0;if(!this._accept(1))return this._backTo(token),!1;if(this._accept(6)){let shorthand=this._accept(9,!0);return shorthand&&this._accept(4)?(parent.appendChild(new FormatString(Number(index),shorthand)),!0):(this._backTo(token),!1)}if(this._accept(11)){let ifValue=this._until(4);if(ifValue)return parent.appendChild(new FormatString(Number(index),void 0,ifValue,void 0)),!0}else if(this._accept(12)){let elseValue=this._until(4);if(elseValue)return parent.appendChild(new FormatString(Number(index),void 0,void 0,elseValue)),!0}else if(this._accept(13)){let ifValue=this._until(1);if(ifValue){let elseValue=this._until(4);if(elseValue)return parent.appendChild(new FormatString(Number(index),void 0,ifValue,elseValue)),!0}}else{let elseValue=this._until(4);if(elseValue)return parent.appendChild(new FormatString(Number(index),void 0,void 0,elseValue)),!0}return this._backTo(token),!1}_parseAnything(marker){return 14!==this._token.type&&(marker.appendChild(new Text(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},2419:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ModesRegistry}),__webpack_require__.d(__webpack_exports__,"c",function(){return PLAINTEXT_MODE_ID}),__webpack_require__.d(__webpack_exports__,"b",function(){return PLAINTEXT_LANGUAGE_IDENTIFIER});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),_modes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2308),_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2334),_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2324);const ModesRegistry=new class EditorModesRegistry{constructor(){this._onDidChangeLanguages=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(def){return this._languages.push(def),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let i=0,len=this._languages.length;i<len;i++)if(this._languages[i]===def)return void this._languages.splice(i,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_4__.a.add("editor.modesRegistry",ModesRegistry);const PLAINTEXT_MODE_ID="plaintext",PLAINTEXT_LANGUAGE_IDENTIFIER=new _modes_js__WEBPACK_IMPORTED_MODULE_2__.r(PLAINTEXT_MODE_ID,1);ModesRegistry.registerLanguage({id:PLAINTEXT_MODE_ID,extensions:[".txt"],aliases:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_3__.a.register(PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}})},2420:function(module,exports,__webpack_require__){var content=__webpack_require__(2655);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2421:function(module,__webpack_exports__,__webpack_require__){"use strict";var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2346);__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"Emitter")&&__webpack_require__.d(__webpack_exports__,"Emitter",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.Emitter}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"MarkerSeverity")&&__webpack_require__.d(__webpack_exports__,"MarkerSeverity",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.MarkerSeverity}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"MarkerTag")&&__webpack_require__.d(__webpack_exports__,"MarkerTag",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.MarkerTag}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"Range")&&__webpack_require__.d(__webpack_exports__,"Range",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.Range}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"Uri")&&__webpack_require__.d(__webpack_exports__,"Uri",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.Uri}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"editor")&&__webpack_require__.d(__webpack_exports__,"editor",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.editor}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"languages")&&__webpack_require__.d(__webpack_exports__,"languages",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.languages})},2422:function(module,__webpack_exports__,__webpack_require__){"use strict";var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2346);__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"Emitter")&&__webpack_require__.d(__webpack_exports__,"Emitter",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.Emitter}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"MarkerSeverity")&&__webpack_require__.d(__webpack_exports__,"MarkerSeverity",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.MarkerSeverity}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"Range")&&__webpack_require__.d(__webpack_exports__,"Range",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.Range}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"Uri")&&__webpack_require__.d(__webpack_exports__,"Uri",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.Uri}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"editor")&&__webpack_require__.d(__webpack_exports__,"editor",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.editor}),__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"languages")&&__webpack_require__.d(__webpack_exports__,"languages",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.languages})},2424:function(module,__webpack_exports__,__webpack_require__){"use strict";var dom=__webpack_require__(2298),lifecycle=(__webpack_require__(2484),__webpack_require__(2294)),arrays=__webpack_require__(2309),listWidget=__webpack_require__(2425),common_event=__webpack_require__(2296),cancellation=__webpack_require__(2315);class listPaging_PagedRenderer{constructor(renderer,modelProvider){this.renderer=renderer,this.modelProvider=modelProvider}get templateId(){return this.renderer.templateId}renderTemplate(container){return{data:this.renderer.renderTemplate(container),disposable:lifecycle.a.None}}renderElement(index,_,data,height){if(data.disposable&&data.disposable.dispose(),!data.data)return;const model=this.modelProvider();if(model.isResolved(index))return this.renderer.renderElement(model.get(index),index,data.data,height);const cts=new cancellation.b,promise=model.resolve(index,cts.token);data.disposable={dispose:()=>cts.cancel()},this.renderer.renderPlaceholder(index,data.data),promise.then(entry=>this.renderer.renderElement(entry,index,data.data,height))}disposeTemplate(data){data.disposable&&(data.disposable.dispose(),data.disposable=void 0),data.data&&(this.renderer.disposeTemplate(data.data),data.data=void 0)}}class PagedAccessibilityProvider{constructor(modelProvider,accessibilityProvider){this.modelProvider=modelProvider,this.accessibilityProvider=accessibilityProvider}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(index){const model=this.modelProvider();return model.isResolved(index)?this.accessibilityProvider.getAriaLabel(model.get(index)):null}}var nls=__webpack_require__(2297),configuration=__webpack_require__(2332),configurationRegistry=__webpack_require__(2375),contextkey=__webpack_require__(2307),instantiation=__webpack_require__(2300),keybinding=__webpack_require__(2325),platform=__webpack_require__(2324),styler=__webpack_require__(2392),common_themeService=__webpack_require__(2304);var TreeMouseEventTarget,iterator=__webpack_require__(2341),keyboardEvent=(__webpack_require__(2590),__webpack_require__(2342));!function(TreeMouseEventTarget){TreeMouseEventTarget[TreeMouseEventTarget.Unknown=0]="Unknown",TreeMouseEventTarget[TreeMouseEventTarget.Twistie=1]="Twistie",TreeMouseEventTarget[TreeMouseEventTarget.Element=2]="Element"}(TreeMouseEventTarget||(TreeMouseEventTarget={}));class TreeError extends Error{constructor(user,message){super(`TreeError [${user}] ${message}`)}}class WeakMapper{constructor(fn){this.fn=fn,this._map=new WeakMap}map(key){let result=this._map.get(key);return result||(result=this.fn(key),this._map.set(key,result)),result}}var browser_dnd=__webpack_require__(2435),listView=__webpack_require__(2453),browser_event=__webpack_require__(2347),filters=__webpack_require__(2354);function isFilterResult(obj){return"object"==typeof obj&&"visibility"in obj&&"data"in obj}function getVisibleState(visibility){switch(visibility){case!0:return 1;case!1:return 0;default:return visibility}}function isCollapsibleStateUpdate(update){return"boolean"==typeof update.collapsible}class indexTreeModel_IndexTreeModel{constructor(user,list,rootElement,options={}){this.user=user,this.list=list,this.rootRef=[],this.eventBufferer=new common_event.c,this._onDidChangeCollapseState=new common_event.a,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new common_event.a,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new common_event.a,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==options.collapseByDefault&&options.collapseByDefault,this.filter=options.filter,this.autoExpandSingleChildren=void 0!==options.autoExpandSingleChildren&&options.autoExpandSingleChildren,this.root={parent:void 0,element:rootElement,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(location,deleteCount,toInsert=iterator.a.empty(),onDidCreateNode,onDidDeleteNode){if(0===location.length)throw new TreeError(this.user,"Invalid tree location");const{parentNode:parentNode,listIndex:listIndex,revealed:revealed,visible:visible}=this.getParentNodeWithListIndex(location),treeListElementsToInsert=[],nodesToInsertIterator=iterator.a.map(toInsert,el=>this.createTreeNode(el,parentNode,parentNode.visible?1:0,revealed,treeListElementsToInsert,onDidCreateNode)),lastIndex=location[location.length-1];let visibleChildStartIndex=0;for(let i=lastIndex;i>=0&&i<parentNode.children.length;i--){const child=parentNode.children[i];if(child.visible){visibleChildStartIndex=child.visibleChildIndex;break}}const nodesToInsert=[];let insertedVisibleChildrenCount=0,renderNodeCount=0;for(const child of nodesToInsertIterator)nodesToInsert.push(child),renderNodeCount+=child.renderNodeCount,child.visible&&(child.visibleChildIndex=visibleChildStartIndex+insertedVisibleChildrenCount++);const deletedNodes=parentNode.children.splice(lastIndex,deleteCount,...nodesToInsert);let deletedVisibleChildrenCount=0;for(const child of deletedNodes)child.visible&&deletedVisibleChildrenCount++;if(0!==deletedVisibleChildrenCount)for(let i=lastIndex+nodesToInsert.length;i<parentNode.children.length;i++){const child=parentNode.children[i];child.visible&&(child.visibleChildIndex-=deletedVisibleChildrenCount)}if(parentNode.visibleChildrenCount+=insertedVisibleChildrenCount-deletedVisibleChildrenCount,revealed&&visible){const visibleDeleteCount=deletedNodes.reduce((r,node)=>r+(node.visible?node.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(parentNode,renderNodeCount-visibleDeleteCount),this.list.splice(listIndex,visibleDeleteCount,treeListElementsToInsert)}if(deletedNodes.length>0&&onDidDeleteNode){const visit=node=>{onDidDeleteNode(node),node.children.forEach(visit)};deletedNodes.forEach(visit)}this._onDidSplice.fire({insertedNodes:nodesToInsert,deletedNodes:deletedNodes});let node=parentNode;for(;node;){if(2===node.visibility){this.refilter();break}node=node.parent}}rerender(location){if(0===location.length)throw new TreeError(this.user,"Invalid tree location");const{node:node,listIndex:listIndex,revealed:revealed}=this.getTreeNodeWithListIndex(location);node.visible&&revealed&&this.list.splice(listIndex,1,[node])}has(location){return this.hasTreeNode(location)}getListIndex(location){const{listIndex:listIndex,visible:visible,revealed:revealed}=this.getTreeNodeWithListIndex(location);return visible&&revealed?listIndex:-1}getListRenderCount(location){return this.getTreeNode(location).renderNodeCount}isCollapsible(location){return this.getTreeNode(location).collapsible}setCollapsible(location,collapsible){const node=this.getTreeNode(location);void 0===collapsible&&(collapsible=!node.collapsible);const update={collapsible:collapsible};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(location,update))}isCollapsed(location){return this.getTreeNode(location).collapsed}setCollapsed(location,collapsed,recursive){const node=this.getTreeNode(location);void 0===collapsed&&(collapsed=!node.collapsed);const update={collapsed:collapsed,recursive:recursive||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(location,update))}_setCollapseState(location,update){const{node:node,listIndex:listIndex,revealed:revealed}=this.getTreeNodeWithListIndex(location),result=this._setListNodeCollapseState(node,listIndex,revealed,update);if(node!==this.root&&this.autoExpandSingleChildren&&result&&!isCollapsibleStateUpdate(update)&&node.collapsible&&!node.collapsed&&!update.recursive){let onlyVisibleChildIndex=-1;for(let i=0;i<node.children.length;i++){if(node.children[i].visible){if(onlyVisibleChildIndex>-1){onlyVisibleChildIndex=-1;break}onlyVisibleChildIndex=i}}onlyVisibleChildIndex>-1&&this._setCollapseState([...location,onlyVisibleChildIndex],update)}return result}_setListNodeCollapseState(node,listIndex,revealed,update){const result=this._setNodeCollapseState(node,update,!1);if(!revealed||!node.visible||!result)return result;const previousRenderNodeCount=node.renderNodeCount,toInsert=this.updateNodeAfterCollapseChange(node),deleteCount=previousRenderNodeCount-(-1===listIndex?0:1);return this.list.splice(listIndex+1,deleteCount,toInsert.slice(1)),result}_setNodeCollapseState(node,update,deep){let result;if(node===this.root?result=!1:(isCollapsibleStateUpdate(update)?(result=node.collapsible!==update.collapsible,node.collapsible=update.collapsible):node.collapsible?(result=node.collapsed!==update.collapsed,node.collapsed=update.collapsed):result=!1,result&&this._onDidChangeCollapseState.fire({node:node,deep:deep})),!isCollapsibleStateUpdate(update)&&update.recursive)for(const child of node.children)result=this._setNodeCollapseState(child,update,!0)||result;return result}expandTo(location){this.eventBufferer.bufferEvents(()=>{let node=this.getTreeNode(location);for(;node.parent;)node=node.parent,location=location.slice(0,location.length-1),node.collapsed&&this._setCollapseState(location,{collapsed:!1,recursive:!1})})}refilter(){const previousRenderNodeCount=this.root.renderNodeCount,toInsert=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,previousRenderNodeCount,toInsert)}createTreeNode(treeElement,parent,parentVisibility,revealed,treeListElements,onDidCreateNode){const node={parent:parent,element:treeElement.element,children:[],depth:parent.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof treeElement.collapsible?treeElement.collapsible:void 0!==treeElement.collapsed,collapsed:void 0===treeElement.collapsed?this.collapseByDefault:treeElement.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},visibility=this._filterNode(node,parentVisibility);node.visibility=visibility,revealed&&treeListElements.push(node);const childElements=treeElement.children||iterator.a.empty(),childRevealed=revealed&&0!==visibility&&!node.collapsed,childNodes=iterator.a.map(childElements,el=>this.createTreeNode(el,node,visibility,childRevealed,treeListElements,onDidCreateNode));let visibleChildrenCount=0,renderNodeCount=1;for(const child of childNodes)node.children.push(child),renderNodeCount+=child.renderNodeCount,child.visible&&(child.visibleChildIndex=visibleChildrenCount++);return node.collapsible=node.collapsible||node.children.length>0,node.visibleChildrenCount=visibleChildrenCount,node.visible=2===visibility?visibleChildrenCount>0:1===visibility,node.visible?node.collapsed||(node.renderNodeCount=renderNodeCount):(node.renderNodeCount=0,revealed&&treeListElements.pop()),onDidCreateNode&&onDidCreateNode(node),node}updateNodeAfterCollapseChange(node){const previousRenderNodeCount=node.renderNodeCount,result=[];return this._updateNodeAfterCollapseChange(node,result),this._updateAncestorsRenderNodeCount(node.parent,result.length-previousRenderNodeCount),result}_updateNodeAfterCollapseChange(node,result){if(!1===node.visible)return 0;if(result.push(node),node.renderNodeCount=1,!node.collapsed)for(const child of node.children)node.renderNodeCount+=this._updateNodeAfterCollapseChange(child,result);return this._onDidChangeRenderNodeCount.fire(node),node.renderNodeCount}updateNodeAfterFilterChange(node){const previousRenderNodeCount=node.renderNodeCount,result=[];return this._updateNodeAfterFilterChange(node,node.visible?1:0,result),this._updateAncestorsRenderNodeCount(node.parent,result.length-previousRenderNodeCount),result}_updateNodeAfterFilterChange(node,parentVisibility,result,revealed=!0){let visibility;if(node!==this.root){if(0===(visibility=this._filterNode(node,parentVisibility)))return node.visible=!1,node.renderNodeCount=0,!1;revealed&&result.push(node)}const resultStartLength=result.length;node.renderNodeCount=node===this.root?0:1;let hasVisibleDescendants=!1;if(node.collapsed&&0===visibility)node.visibleChildrenCount=0;else{let visibleChildIndex=0;for(const child of node.children)hasVisibleDescendants=this._updateNodeAfterFilterChange(child,visibility,result,revealed&&!node.collapsed)||hasVisibleDescendants,child.visible&&(child.visibleChildIndex=visibleChildIndex++);node.visibleChildrenCount=visibleChildIndex}return node!==this.root&&(node.visible=2===visibility?hasVisibleDescendants:1===visibility),node.visible?node.collapsed||(node.renderNodeCount+=result.length-resultStartLength):(node.renderNodeCount=0,revealed&&result.pop()),this._onDidChangeRenderNodeCount.fire(node),node.visible}_updateAncestorsRenderNodeCount(node,diff){if(0!==diff)for(;node;)node.renderNodeCount+=diff,this._onDidChangeRenderNodeCount.fire(node),node=node.parent}_filterNode(node,parentVisibility){const result=this.filter?this.filter.filter(node.element,parentVisibility):1;return"boolean"==typeof result?(node.filterData=void 0,result?1:0):isFilterResult(result)?(node.filterData=result.data,getVisibleState(result.visibility)):(node.filterData=void 0,getVisibleState(result))}hasTreeNode(location,node=this.root){if(!location||0===location.length)return!0;const[index,...rest]=location;return!(index<0||index>node.children.length)&&this.hasTreeNode(rest,node.children[index])}getTreeNode(location,node=this.root){if(!location||0===location.length)return node;const[index,...rest]=location;if(index<0||index>node.children.length)throw new TreeError(this.user,"Invalid tree location");return this.getTreeNode(rest,node.children[index])}getTreeNodeWithListIndex(location){if(0===location.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:parentNode,listIndex:listIndex,revealed:revealed,visible:visible}=this.getParentNodeWithListIndex(location),index=location[location.length-1];if(index<0||index>parentNode.children.length)throw new TreeError(this.user,"Invalid tree location");const node=parentNode.children[index];return{node:node,listIndex:listIndex,revealed:revealed,visible:visible&&node.visible}}getParentNodeWithListIndex(location,node=this.root,listIndex=0,revealed=!0,visible=!0){const[index,...rest]=location;if(index<0||index>node.children.length)throw new TreeError(this.user,"Invalid tree location");for(let i=0;i<index;i++)listIndex+=node.children[i].renderNodeCount;return revealed=revealed&&!node.collapsed,visible=visible&&node.visible,0===rest.length?{parentNode:node,listIndex:listIndex,revealed:revealed,visible:visible}:this.getParentNodeWithListIndex(rest,node.children[index],listIndex+1,revealed,visible)}getNode(location=[]){return this.getTreeNode(location)}getNodeLocation(node){const location=[];let indexTreeNode=node;for(;indexTreeNode.parent;)location.push(indexTreeNode.parent.children.indexOf(indexTreeNode)),indexTreeNode=indexTreeNode.parent;return location.reverse()}getParentNodeLocation(location){return 0===location.length?void 0:1===location.length?[]:Object(arrays.u)(location)[0]}}var common_async=__webpack_require__(2306),common_platform=__webpack_require__(2305),numbers=__webpack_require__(2414),collections=__webpack_require__(2461),codicons=__webpack_require__(2316);const treeItemExpandedIcon=Object(codicons.e)("tree-item-expanded",codicons.a.chevronDown),treeFilterOnTypeOnIcon=Object(codicons.e)("tree-filter-on-type-on",codicons.a.listFilter),treeFilterOnTypeOffIcon=Object(codicons.e)("tree-filter-on-type-off",codicons.a.listSelection),treeFilterClearIcon=Object(codicons.e)("tree-filter-clear",codicons.a.close),treeItemLoadingIcon=Object(codicons.e)("tree-item-loading",codicons.a.loading);class abstractTree_TreeElementsDragAndDropData extends listView.a{constructor(data){super(data.elements.map(node=>node.element)),this.data=data}}function asTreeDragAndDropData(data){return data instanceof listView.a?new abstractTree_TreeElementsDragAndDropData(data):data}class abstractTree_TreeNodeListDragAndDrop{constructor(modelProvider,dnd){this.modelProvider=modelProvider,this.dnd=dnd,this.autoExpandDisposable=lifecycle.a.None}getDragURI(node){return this.dnd.getDragURI(node.element)}getDragLabel(nodes,originalEvent){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(nodes.map(node=>node.element),originalEvent)}onDragStart(data,originalEvent){this.dnd.onDragStart&&this.dnd.onDragStart(asTreeDragAndDropData(data),originalEvent)}onDragOver(data,targetNode,targetIndex,originalEvent,raw=!0){const result=this.dnd.onDragOver(asTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent),didChangeAutoExpandNode=this.autoExpandNode!==targetNode;if(didChangeAutoExpandNode&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=targetNode),void 0===targetNode)return result;if(didChangeAutoExpandNode&&"boolean"!=typeof result&&result.autoExpand&&(this.autoExpandDisposable=Object(common_async.g)(()=>{const model=this.modelProvider(),ref=model.getNodeLocation(targetNode);model.isCollapsed(ref)&&model.setCollapsed(ref,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof result||!result.accept||void 0===result.bubble||result.feedback){if(!raw){return{accept:"boolean"==typeof result?result:result.accept,effect:"boolean"==typeof result?void 0:result.effect,feedback:[targetIndex]}}return result}if(1===result.bubble){const model=this.modelProvider(),ref=model.getNodeLocation(targetNode),parentRef=model.getParentNodeLocation(ref),parentNode=model.getNode(parentRef),parentIndex=parentRef&&model.getListIndex(parentRef);return this.onDragOver(data,parentNode,parentIndex,originalEvent,!1)}const model=this.modelProvider(),ref=model.getNodeLocation(targetNode),start=model.getListIndex(ref),length=model.getListRenderCount(ref);return Object.assign(Object.assign({},result),{feedback:Object(arrays.s)(start,start+length)})}drop(data,targetNode,targetIndex,originalEvent){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(asTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent)}onDragEnd(originalEvent){this.dnd.onDragEnd&&this.dnd.onDragEnd(originalEvent)}}class ComposedTreeDelegate{constructor(delegate){this.delegate=delegate}getHeight(element){return this.delegate.getHeight(element.element)}getTemplateId(element){return this.delegate.getTemplateId(element.element)}hasDynamicHeight(element){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(element.element)}setDynamicHeight(element,height){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(element.element,height)}}var RenderIndentGuides;!function(RenderIndentGuides){RenderIndentGuides.None="none",RenderIndentGuides.OnHover="onHover",RenderIndentGuides.Always="always"}(RenderIndentGuides||(RenderIndentGuides={}));class abstractTree_EventCollection{constructor(onDidChange,_elements=[]){this._elements=_elements,this.onDidChange=common_event.b.forEach(onDidChange,elements=>this._elements=elements)}get elements(){return this._elements}}class abstractTree_TreeRenderer{constructor(renderer,modelProvider,onDidChangeCollapseState,activeNodes,options={}){this.renderer=renderer,this.modelProvider=modelProvider,this.activeNodes=activeNodes,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=abstractTree_TreeRenderer.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new collections.a,this.activeIndentNodes=new Set,this.indentGuidesDisposable=lifecycle.a.None,this.disposables=new lifecycle.b,this.templateId=renderer.templateId,this.updateOptions(options),common_event.b.map(onDidChangeCollapseState,e=>e.node)(this.onDidChangeNodeTwistieState,this,this.disposables),renderer.onDidChangeTwistieState&&renderer.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(options={}){if(void 0!==options.indent&&(this.indent=Object(numbers.b)(options.indent,0,40)),void 0!==options.renderIndentGuides){const shouldRenderIndentGuides=options.renderIndentGuides!==RenderIndentGuides.None;if(shouldRenderIndentGuides!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=shouldRenderIndentGuides,this.indentGuidesDisposable.dispose(),shouldRenderIndentGuides)){const disposables=new lifecycle.b;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,disposables),this.indentGuidesDisposable=disposables,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==options.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=options.hideTwistiesOfChildlessElements)}renderTemplate(container){const el=Object(dom.p)(container,Object(dom.a)(".monaco-tl-row")),indent=Object(dom.p)(el,Object(dom.a)(".monaco-tl-indent")),twistie=Object(dom.p)(el,Object(dom.a)(".monaco-tl-twistie")),contents=Object(dom.p)(el,Object(dom.a)(".monaco-tl-contents")),templateData=this.renderer.renderTemplate(contents);return{container:container,indent:indent,twistie:twistie,indentGuidesDisposable:lifecycle.a.None,templateData:templateData}}renderElement(node,index,templateData,height){"number"==typeof height&&(this.renderedNodes.set(node,{templateData:templateData,height:height}),this.renderedElements.set(node.element,node));const indent=abstractTree_TreeRenderer.DefaultIndent+(node.depth-1)*this.indent;templateData.twistie.style.paddingLeft=`${indent}px`,templateData.indent.style.width=`${indent+this.indent-16}px`,this.renderTwistie(node,templateData),"number"==typeof height&&this.renderIndentGuides(node,templateData),this.renderer.renderElement(node,index,templateData.templateData,height)}disposeElement(node,index,templateData,height){templateData.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(node,index,templateData.templateData,height),"number"==typeof height&&(this.renderedNodes.delete(node),this.renderedElements.delete(node.element))}disposeTemplate(templateData){this.renderer.disposeTemplate(templateData.templateData)}onDidChangeTwistieState(element){const node=this.renderedElements.get(element);node&&this.onDidChangeNodeTwistieState(node)}onDidChangeNodeTwistieState(node){const data=this.renderedNodes.get(node);data&&(this.renderTwistie(node,data.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(node,data.templateData))}renderTwistie(node,templateData){this.renderer.renderTwistie&&this.renderer.renderTwistie(node.element,templateData.twistie),node.collapsible&&(!this.hideTwistiesOfChildlessElements||node.visibleChildrenCount>0)?(Object(dom.f)(templateData.twistie,treeItemExpandedIcon.classNames,"collapsible"),Object(dom.ab)(templateData.twistie,"collapsed",node.collapsed)):Object(dom.R)(templateData.twistie,treeItemExpandedIcon.classNames,"collapsible","collapsed"),node.collapsible?templateData.container.setAttribute("aria-expanded",String(!node.collapsed)):templateData.container.removeAttribute("aria-expanded")}renderIndentGuides(target,templateData){if(Object(dom.s)(templateData.indent),templateData.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const disposableStore=new lifecycle.b,model=this.modelProvider();let node=target;for(;;){const ref=model.getNodeLocation(node),parentRef=model.getParentNodeLocation(ref);if(!parentRef)break;const parent=model.getNode(parentRef),guide=Object(dom.a)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(parent)&&Object(dom.e)(guide,"active"),0===templateData.indent.childElementCount?templateData.indent.appendChild(guide):templateData.indent.insertBefore(guide,templateData.indent.firstElementChild),this.renderedIndentGuides.add(parent,guide),disposableStore.add(Object(lifecycle.h)(()=>this.renderedIndentGuides.delete(parent,guide))),node=parent}templateData.indentGuidesDisposable=disposableStore}_onDidChangeActiveNodes(nodes){if(!this.shouldRenderIndentGuides)return;const set=new Set,model=this.modelProvider();nodes.forEach(node=>{const ref=model.getNodeLocation(node);try{const parentRef=model.getParentNodeLocation(ref);node.collapsible&&node.children.length>0&&!node.collapsed?set.add(node):parentRef&&set.add(model.getNode(parentRef))}catch(_a){}}),this.activeIndentNodes.forEach(node=>{set.has(node)||this.renderedIndentGuides.forEach(node,line=>Object(dom.Q)(line,"active"))}),set.forEach(node=>{this.activeIndentNodes.has(node)||this.renderedIndentGuides.forEach(node,line=>Object(dom.e)(line,"active"))}),this.activeIndentNodes=set}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Object(lifecycle.f)(this.disposables)}}abstractTree_TreeRenderer.DefaultIndent=8;class abstractTree_TypeFilter{constructor(tree,keyboardNavigationLabelProvider,_filter){this.tree=tree,this.keyboardNavigationLabelProvider=keyboardNavigationLabelProvider,this._filter=_filter,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new lifecycle.b,tree.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(pattern){this._pattern=pattern,this._lowercasePattern=pattern.toLowerCase()}filter(element,parentVisibility){if(this._filter){const result=this._filter.filter(element,parentVisibility);if(this.tree.options.simpleKeyboardNavigation)return result;let visibility;if(0===(visibility="boolean"==typeof result?result?1:0:isFilterResult(result)?getVisibleState(result.visibility):result))return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:filters.a.Default,visibility:!0};const label=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(element),labelStr=label&&label.toString();if(void 0===labelStr)return{data:filters.a.Default,visibility:!0};const score=Object(filters.d)(this._pattern,this._lowercasePattern,0,labelStr,labelStr.toLowerCase(),0,!0);return score?(this._matchCount++,{data:score,visibility:!0}):this.tree.options.filterOnType?2:{data:filters.a.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Object(lifecycle.f)(this.disposables)}}class abstractTree_TypeFilterController{constructor(tree,model,view,filter,keyboardNavigationDelegate){this.tree=tree,this.view=view,this.filter=filter,this.keyboardNavigationDelegate=keyboardNavigationDelegate,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new common_event.a,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new common_event.a,this.enabledDisposables=new lifecycle.b,this.disposables=new lifecycle.b,this.domNode=Object(dom.a)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,Object(browser_event.a)(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=Object(dom.p)(view.getHTMLElement(),Object(dom.a)(".monaco-list-type-filter-message")),this.labelDomNode=Object(dom.p)(this.domNode,Object(dom.a)("span.label"));const controls=Object(dom.p)(this.domNode,Object(dom.a)(".controls"));this._filterOnType=!!tree.options.filterOnType,this.filterOnTypeDomNode=Object(dom.p)(controls,Object(dom.a)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),Object(browser_event.a)(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=Object(dom.p)(controls,Object(dom.a)("button.clear"+treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=Object(nls.a)("clear","Clear"),this.keyboardNavigationEventFilter=tree.options.keyboardNavigationEventFilter,model.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(tree.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(options){options.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==options.filterOnType&&(this._filterOnType=!!options.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),void 0!==options.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=options.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const onKeyDown=common_event.b.chain(Object(browser_event.a)(this.view.getHTMLElement(),"keydown")).filter(e=>!Object(listWidget.e)(e.target)||e.target===this.filterOnTypeDomNode).filter(e=>"Dead"!==e.key&&!/^Media/.test(e.key)).map(e=>new keyboardEvent.a(e)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(common_platform.f?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey).forEach(e=>{e.stopPropagation(),e.preventDefault()}).event,onClear=Object(browser_event.a)(this.clearDomNode,"click");common_event.b.chain(common_event.b.any(onKeyDown,onClear)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(common_platform.f?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(pattern){const container=this.view.getHTMLElement();pattern&&!this.domNode.parentElement?container.append(this.domNode):!pattern&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=pattern,this._onDidChangePattern.fire(pattern),this.filter.pattern=pattern,this.tree.refilter(),pattern&&this.tree.focusNext(0,!0,void 0,node=>!filters.a.isDefault(node.filterData));const focus=this.tree.getFocus();if(focus.length>0){const element=focus[0];null===this.tree.getRelativeTop(element)&&this.tree.reveal(element,.5)}this.render(),pattern||(this.triggered=!1)}onDragStart(){const container=this.view.getHTMLElement(),{left:left}=Object(dom.C)(container),containerWidth=container.clientWidth,midContainerWidth=containerWidth/2,width=this.domNode.clientWidth,disposables=new lifecycle.b;let positionClassName=this.positionClassName;const updatePosition=()=>{switch(positionClassName){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${containerWidth-width-6}px`}};updatePosition(),Object(dom.Q)(this.domNode,positionClassName),Object(dom.e)(this.domNode,"dragging"),disposables.add(Object(lifecycle.h)(()=>Object(dom.Q)(this.domNode,"dragging"))),Object(browser_event.a)(document,"dragover")(event=>{event.preventDefault();const x=event.screenX-left;event.dataTransfer&&(event.dataTransfer.dropEffect="none"),positionClassName=x<midContainerWidth?"nw":"ne",updatePosition()},null,disposables),Object(browser_event.a)(this.domNode,"dragend")(()=>{this.positionClassName=positionClassName,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",Object(lifecycle.f)(disposables)},null,disposables),browser_dnd.c.CurrentDragAndDropData=new browser_dnd.b("vscode-ui"),disposables.add(Object(lifecycle.h)(()=>browser_dnd.c.CurrentDragAndDropData=void 0))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(Object(dom.R)(this.filterOnTypeDomNode,treeFilterOnTypeOffIcon.classNames),Object(dom.f)(this.filterOnTypeDomNode,treeFilterOnTypeOnIcon.classNames),this.filterOnTypeDomNode.title=Object(nls.a)("disable filter on type","Disable Filter on Type")):(Object(dom.R)(this.filterOnTypeDomNode,treeFilterOnTypeOnIcon.classNames),Object(dom.f)(this.filterOnTypeDomNode,treeFilterOnTypeOffIcon.classNames),this.filterOnTypeDomNode.title=Object(nls.a)("enable filter on type","Enable Filter on Type"))}render(){const noMatches=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&noMatches?(this.messageDomNode.textContent=Object(nls.a)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),Object(dom.ab)(this.domNode,"no-matches",noMatches),this.domNode.title=Object(nls.a)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(node){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!filters.a.isDefault(node.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Object(lifecycle.f)(this.disposables)}}function asTreeMouseEvent(event){let target=TreeMouseEventTarget.Unknown;return Object(dom.J)(event.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?target=TreeMouseEventTarget.Twistie:Object(dom.J)(event.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(target=TreeMouseEventTarget.Element),{browserEvent:event.browserEvent,element:event.element?event.element.element:null,target:target}}function dfs(node,fn){fn(node),node.children.forEach(child=>dfs(child,fn))}class abstractTree_Trait{constructor(identityProvider){this.identityProvider=identityProvider,this.nodes=[],this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(nodes,browserEvent){Object(arrays.g)(this.nodes,nodes)||this._set(nodes,!1,browserEvent)}_set(nodes,silent,browserEvent){if(this.nodes=[...nodes],this.elements=void 0,this._nodeSet=void 0,!silent){const that=this;this._onDidChange.fire({get elements(){return that.get()},browserEvent:browserEvent})}}get(){return this.elements||(this.elements=this.nodes.map(node=>node.element)),[...this.elements]}getNodes(){return this.nodes}has(node){return this.nodeSet.has(node)}onDidModelSplice({insertedNodes:insertedNodes,deletedNodes:deletedNodes}){if(!this.identityProvider){const set=this.createNodeSet(),visit=node=>set.delete(node);return deletedNodes.forEach(node=>dfs(node,visit)),void this.set([...set.values()])}const deletedNodesIdSet=new Set,deletedNodesVisitor=node=>deletedNodesIdSet.add(this.identityProvider.getId(node.element).toString());deletedNodes.forEach(node=>dfs(node,deletedNodesVisitor));const insertedNodesMap=new Map,insertedNodesVisitor=node=>insertedNodesMap.set(this.identityProvider.getId(node.element).toString(),node);insertedNodes.forEach(node=>dfs(node,insertedNodesVisitor));const nodes=[];for(const node of this.nodes){const id=this.identityProvider.getId(node.element).toString();if(deletedNodesIdSet.has(id)){const insertedNode=insertedNodesMap.get(id);insertedNode&&nodes.push(insertedNode)}else nodes.push(node)}this._set(nodes,!0)}createNodeSet(){const set=new Set;for(const node of this.nodes)set.add(node);return set}}class abstractTree_TreeNodeListMouseController extends listWidget.d{constructor(list,tree){super(list),this.tree=tree}onViewPointer(e){if(Object(listWidget.e)(e.browserEvent.target)||Object(listWidget.f)(e.browserEvent.target))return;const node=e.element;if(!node)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const target=e.browserEvent.target,onTwistie=Object(dom.I)(target,"monaco-tl-twistie")||Object(dom.I)(target,"monaco-icon-label")&&Object(dom.I)(target,"folder-icon")&&e.browserEvent.offsetX<16;let expandOnlyOnTwistieClick=!1;if((expandOnlyOnTwistieClick="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(node.element):!!this.tree.expandOnlyOnTwistieClick)&&!onTwistie)return super.onViewPointer(e);if(this.tree.expandOnlyOnDoubleClick&&2!==e.browserEvent.detail&&!onTwistie)return super.onViewPointer(e);if(node.collapsible){const model=this.tree.model,location=model.getNodeLocation(node),recursive=e.browserEvent.altKey;if(model.setCollapsed(location,void 0,recursive),expandOnlyOnTwistieClick&&onTwistie)return}super.onViewPointer(e)}onDoubleClick(e){Object(dom.I)(e.browserEvent.target,"monaco-tl-twistie")||super.onDoubleClick(e)}}class abstractTree_TreeNodeList extends listWidget.c{constructor(user,container,virtualDelegate,renderers,focusTrait,selectionTrait,options){super(user,container,virtualDelegate,renderers,options),this.focusTrait=focusTrait,this.selectionTrait=selectionTrait}createMouseController(options){return new abstractTree_TreeNodeListMouseController(this,options.tree)}splice(start,deleteCount,elements=[]){if(super.splice(start,deleteCount,elements),0===elements.length)return;const additionalFocus=[],additionalSelection=[];elements.forEach((node,index)=>{this.focusTrait.has(node)&&additionalFocus.push(start+index),this.selectionTrait.has(node)&&additionalSelection.push(start+index)}),additionalFocus.length>0&&super.setFocus(Object(arrays.f)([...super.getFocus(),...additionalFocus])),additionalSelection.length>0&&super.setSelection(Object(arrays.f)([...super.getSelection(),...additionalSelection]))}setFocus(indexes,browserEvent,fromAPI=!1){super.setFocus(indexes,browserEvent),fromAPI||this.focusTrait.set(indexes.map(i=>this.element(i)),browserEvent)}setSelection(indexes,browserEvent,fromAPI=!1){super.setSelection(indexes,browserEvent),fromAPI||this.selectionTrait.set(indexes.map(i=>this.element(i)),browserEvent)}}class abstractTree_AbstractTree{constructor(user,container,delegate,renderers,_options={}){this._options=_options,this.eventBufferer=new common_event.c,this.disposables=new lifecycle.b,this._onWillRefilter=new common_event.a,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new common_event.a;const treeDelegate=new ComposedTreeDelegate(delegate),onDidChangeCollapseStateRelay=new common_event.e,onDidChangeActiveNodes=new common_event.e,activeNodes=new abstractTree_EventCollection(onDidChangeActiveNodes.event);this.renderers=renderers.map(r=>new abstractTree_TreeRenderer(r,()=>this.model,onDidChangeCollapseStateRelay.event,activeNodes,_options));for(let r of this.renderers)this.disposables.add(r);let filter;_options.keyboardNavigationLabelProvider&&(filter=new abstractTree_TypeFilter(this,_options.keyboardNavigationLabelProvider,_options.filter),_options=Object.assign(Object.assign({},_options),{filter:filter}),this.disposables.add(filter)),this.focus=new abstractTree_Trait(_options.identityProvider),this.selection=new abstractTree_Trait(_options.identityProvider),this.view=new abstractTree_TreeNodeList(user,container,treeDelegate,this.renderers,this.focus,this.selection,Object.assign(Object.assign({},function asListOptions(modelProvider,options){return options&&Object.assign(Object.assign({},options),{identityProvider:options.identityProvider&&{getId:el=>options.identityProvider.getId(el.element)},dnd:options.dnd&&new abstractTree_TreeNodeListDragAndDrop(modelProvider,options.dnd),multipleSelectionController:options.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>options.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>options.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:options.accessibilityProvider&&Object.assign(Object.assign({},options.accessibilityProvider),{getSetSize(node){const model=modelProvider(),ref=model.getNodeLocation(node),parentRef=model.getParentNodeLocation(ref);return model.getNode(parentRef).visibleChildrenCount},getPosInSet:node=>node.visibleChildIndex+1,isChecked:options.accessibilityProvider&&options.accessibilityProvider.isChecked?node=>options.accessibilityProvider.isChecked(node.element):void 0,getRole:options.accessibilityProvider&&options.accessibilityProvider.getRole?node=>options.accessibilityProvider.getRole(node.element):()=>"treeitem",getAriaLabel:e=>options.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>options.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:options.accessibilityProvider&&options.accessibilityProvider.getWidgetRole?()=>options.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:node=>node.depth,getActiveDescendantId:options.accessibilityProvider.getActiveDescendantId&&(node=>options.accessibilityProvider.getActiveDescendantId(node.element))}),keyboardNavigationLabelProvider:options.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},options.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:node=>options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(node.element)}),enableKeyboardNavigation:options.simpleKeyboardNavigation})}(()=>this.model,_options)),{tree:this})),this.model=this.createModel(user,this.view,_options),onDidChangeCollapseStateRelay.input=this.model.onDidChangeCollapseState;const onDidModelSplice=common_event.b.forEach(this.model.onDidSplice,e=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)})});if(onDidModelSplice(()=>null,null,this.disposables),onDidChangeActiveNodes.input=common_event.b.chain(common_event.b.any(onDidModelSplice,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const set=new Set;for(const node of this.focus.getNodes())set.add(node);for(const node of this.selection.getNodes())set.add(node);return[...set.values()]}).event,!1!==_options.keyboardSupport){const onKeyDown=common_event.b.chain(this.view.onKeyDown).filter(e=>!Object(listWidget.e)(e.target)).map(e=>new keyboardEvent.a(e));onKeyDown.filter(e=>15===e.keyCode).on(this.onLeftArrow,this,this.disposables),onKeyDown.filter(e=>17===e.keyCode).on(this.onRightArrow,this,this.disposables),onKeyDown.filter(e=>10===e.keyCode).on(this.onSpace,this,this.disposables)}if(_options.keyboardNavigationLabelProvider){const delegate=_options.keyboardNavigationDelegate||listWidget.a;this.typeFilterController=new abstractTree_TypeFilterController(this,this.model,this.view,filter,delegate),this.focusNavigationFilter=node=>this.typeFilterController.shouldAllowFocus(node),this.disposables.add(this.typeFilterController)}this.styleElement=Object(dom.v)(this.view.getHTMLElement()),Object(dom.ab)(this.getHTMLElement(),"always",this._options.renderIndentGuides===RenderIndentGuides.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return common_event.b.map(this.view.onMouseDblClick,asTreeMouseEvent)}get onPointer(){return common_event.b.map(this.view.onPointer,asTreeMouseEvent)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnlyOnDoubleClick(){var _a;return null!==(_a=this._options.expandOnlyOnDoubleClick)&&void 0!==_a&&_a}get expandOnlyOnTwistieClick(){return void 0!==this._options.expandOnlyOnTwistieClick&&this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(optionsUpdate={}){this._options=Object.assign(Object.assign({},this._options),optionsUpdate);for(const renderer of this.renderers)renderer.updateOptions(optionsUpdate);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),Object(dom.ab)(this.getHTMLElement(),"always",this._options.renderIndentGuides===RenderIndentGuides.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(scrollTop){this.view.scrollTop=scrollTop}domFocus(){this.view.domFocus()}layout(height,width){this.view.layout(height,width)}style(styles){const suffix=`.${this.view.domId}`,content=[];styles.treeIndentGuidesStroke&&(content.push(`.monaco-list${suffix}:hover .monaco-tl-indent > .indent-guide, .monaco-list${suffix}.always .monaco-tl-indent > .indent-guide  { border-color: ${styles.treeIndentGuidesStroke.transparent(.4)}; }`),content.push(`.monaco-list${suffix} .monaco-tl-indent > .indent-guide.active { border-color: ${styles.treeIndentGuidesStroke}; }`));const newStyles=content.join("\n");newStyles!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=newStyles),this.view.style(styles)}collapse(location,recursive=!1){return this.model.setCollapsed(location,!0,recursive)}expand(location,recursive=!1){return this.model.setCollapsed(location,!1,recursive)}isCollapsible(location){return this.model.isCollapsible(location)}setCollapsible(location,collapsible){return this.model.setCollapsible(location,collapsible)}isCollapsed(location){return this.model.isCollapsed(location)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(elements,browserEvent){const nodes=elements.map(e=>this.model.getNode(e));this.selection.set(nodes,browserEvent);const indexes=elements.map(e=>this.model.getListIndex(e)).filter(i=>i>-1);this.view.setSelection(indexes,browserEvent,!0)}getSelection(){return this.selection.get()}setFocus(elements,browserEvent){const nodes=elements.map(e=>this.model.getNode(e));this.focus.set(nodes,browserEvent);const indexes=elements.map(e=>this.model.getListIndex(e)).filter(i=>i>-1);this.view.setFocus(indexes,browserEvent,!0)}focusNext(n=1,loop=!1,browserEvent,filter=this.focusNavigationFilter){this.view.focusNext(n,loop,browserEvent,filter)}getFocus(){return this.focus.get()}reveal(location,relativeTop){this.model.expandTo(location);const index=this.model.getListIndex(location);-1!==index&&this.view.reveal(index,relativeTop)}getRelativeTop(location){const index=this.model.getListIndex(location);return-1===index?null:this.view.getRelativeTop(index)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const nodes=this.view.getFocusedElements();if(0===nodes.length)return;const node=nodes[0],location=this.model.getNodeLocation(node);if(!this.model.setCollapsed(location,!0)){const parentLocation=this.model.getParentNodeLocation(location);if(!parentLocation)return;const parentListIndex=this.model.getListIndex(parentLocation);this.view.reveal(parentListIndex),this.view.setFocus([parentListIndex])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const nodes=this.view.getFocusedElements();if(0===nodes.length)return;const node=nodes[0],location=this.model.getNodeLocation(node);if(!this.model.setCollapsed(location,!1)){if(!node.children.some(child=>child.visible))return;const[focusedIndex]=this.view.getFocus(),firstChildIndex=focusedIndex+1;this.view.reveal(firstChildIndex),this.view.setFocus([firstChildIndex])}}onSpace(e){e.preventDefault(),e.stopPropagation();const nodes=this.view.getFocusedElements();if(0===nodes.length)return;const node=nodes[0],location=this.model.getNodeLocation(node),recursive=e.browserEvent.altKey;this.model.setCollapsed(location,void 0,recursive)}dispose(){Object(lifecycle.f)(this.disposables),this.view.dispose()}}class objectTreeModel_ObjectTreeModel{constructor(user,list,options={}){this.user=user,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new indexTreeModel_IndexTreeModel(user,list,null,options),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,options.sorter&&(this.sorter={compare:(a,b)=>options.sorter.compare(a.element,b.element)}),this.identityProvider=options.identityProvider}setChildren(element,children=iterator.a.empty(),onDidCreateNode,onDidDeleteNode){const location=this.getElementLocation(element);this._setChildren(location,this.preserveCollapseState(children),onDidCreateNode,onDidDeleteNode)}_setChildren(location,children=iterator.a.empty(),onDidCreateNode,onDidDeleteNode){const insertedElements=new Set,insertedElementIds=new Set;this.model.splice([...location,0],Number.MAX_VALUE,children,node=>{if(null===node.element)return;const tnode=node;if(insertedElements.add(tnode.element),this.nodes.set(tnode.element,tnode),this.identityProvider){const id=this.identityProvider.getId(tnode.element).toString();insertedElementIds.add(id),this.nodesByIdentity.set(id,tnode)}onDidCreateNode&&onDidCreateNode(tnode)},node=>{if(null===node.element)return;const tnode=node;if(insertedElements.has(tnode.element)||this.nodes.delete(tnode.element),this.identityProvider){const id=this.identityProvider.getId(tnode.element).toString();insertedElementIds.has(id)||this.nodesByIdentity.delete(id)}onDidDeleteNode&&onDidDeleteNode(tnode)})}preserveCollapseState(elements=iterator.a.empty()){return this.sorter&&(elements=Object(arrays.p)([...elements],this.sorter.compare.bind(this.sorter))),iterator.a.map(elements,treeElement=>{let node=this.nodes.get(treeElement.element);if(!node&&this.identityProvider){const id=this.identityProvider.getId(treeElement.element).toString();node=this.nodesByIdentity.get(id)}if(!node)return Object.assign(Object.assign({},treeElement),{children:this.preserveCollapseState(treeElement.children)});const collapsible="boolean"==typeof treeElement.collapsible?treeElement.collapsible:node.collapsible,collapsed=void 0!==treeElement.collapsed?treeElement.collapsed:node.collapsed;return Object.assign(Object.assign({},treeElement),{collapsible:collapsible,collapsed:collapsed,children:this.preserveCollapseState(treeElement.children)})})}rerender(element){const location=this.getElementLocation(element);this.model.rerender(location)}has(element){return this.nodes.has(element)}getListIndex(element){const location=this.getElementLocation(element);return this.model.getListIndex(location)}getListRenderCount(element){const location=this.getElementLocation(element);return this.model.getListRenderCount(location)}isCollapsible(element){const location=this.getElementLocation(element);return this.model.isCollapsible(location)}setCollapsible(element,collapsible){const location=this.getElementLocation(element);return this.model.setCollapsible(location,collapsible)}isCollapsed(element){const location=this.getElementLocation(element);return this.model.isCollapsed(location)}setCollapsed(element,collapsed,recursive){const location=this.getElementLocation(element);return this.model.setCollapsed(location,collapsed,recursive)}expandTo(element){const location=this.getElementLocation(element);this.model.expandTo(location)}refilter(){this.model.refilter()}getNode(element=null){if(null===element)return this.model.getNode(this.model.rootRef);const node=this.nodes.get(element);if(!node)throw new TreeError(this.user,`Tree element not found: ${element}`);return node}getNodeLocation(node){return node.element}getParentNodeLocation(element){if(null===element)throw new TreeError(this.user,"Invalid getParentNodeLocation call");const node=this.nodes.get(element);if(!node)throw new TreeError(this.user,`Tree element not found: ${element}`);const location=this.model.getNodeLocation(node),parentLocation=this.model.getParentNodeLocation(location);return this.model.getNode(parentLocation).element}getElementLocation(element){if(null===element)return[];const node=this.nodes.get(element);if(!node)throw new TreeError(this.user,`Tree element not found: ${element}`);return this.model.getNodeLocation(node)}}function noCompress(element){return{element:{elements:[element.element],incompressible:element.incompressible||!1},children:iterator.a.map(iterator.a.from(element.children),noCompress),collapsible:element.collapsible,collapsed:element.collapsed}}function compress(element){const elements=[element.element],incompressible=element.incompressible||!1;let childrenIterator,children;for(;[children,childrenIterator]=iterator.a.consume(iterator.a.from(element.children),2),1===children.length&&!(element=children[0]).incompressible;)elements.push(element.element);return{element:{elements:elements,incompressible:incompressible},children:iterator.a.map(iterator.a.concat(children,childrenIterator),compress),collapsible:element.collapsible,collapsed:element.collapsed}}function decompress(element){return function _decompress(element,index=0){let children;return children=index<element.element.elements.length-1?[_decompress(element,index+1)]:iterator.a.map(iterator.a.from(element.children),el=>_decompress(el,0)),0===index&&element.element.incompressible?{element:element.element.elements[index],children:children,incompressible:!0,collapsible:element.collapsible,collapsed:element.collapsed}:{element:element.element.elements[index],children:children,collapsible:element.collapsible,collapsed:element.collapsed}}(element,0)}class compressedObjectTreeModel_CompressedObjectTreeModel{constructor(user,list,options={}){this.user=user,this.rootRef=null,this.nodes=new Map,this.model=new objectTreeModel_ObjectTreeModel(user,list,options),this.enabled=void 0===options.compressionEnabled||options.compressionEnabled}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(element,children=iterator.a.empty()){if(null===element){const compressedChildren=iterator.a.map(children,this.enabled?compress:noCompress);return void this._setChildren(null,compressedChildren)}const compressedNode=this.nodes.get(element);if(!compressedNode)throw new Error("Unknown compressed tree node");const node=this.model.getNode(compressedNode),compressedParentNode=this.model.getParentNodeLocation(compressedNode),parent=this.model.getNode(compressedParentNode),splicedElement=function splice(treeElement,element,children){return treeElement.element===element?Object.assign(Object.assign({},treeElement),{children:children}):Object.assign(Object.assign({},treeElement),{children:iterator.a.map(iterator.a.from(treeElement.children),e=>splice(e,element,children))})}(decompress(node),element,children),recompressedElement=(this.enabled?compress:noCompress)(splicedElement),parentChildren=parent.children.map(child=>child===node?recompressedElement:child);this._setChildren(parent.element,parentChildren)}setCompressionEnabled(enabled){if(enabled===this.enabled)return;this.enabled=enabled;const rootChildren=this.model.getNode().children,decompressedRootChildren=iterator.a.map(rootChildren,decompress),recompressedRootChildren=iterator.a.map(decompressedRootChildren,enabled?compress:noCompress);this._setChildren(null,recompressedRootChildren)}_setChildren(node,children){const insertedElements=new Set;this.model.setChildren(node,children,node=>{for(const element of node.element.elements)insertedElements.add(element),this.nodes.set(element,node.element)},node=>{for(const element of node.element.elements)insertedElements.has(element)||this.nodes.delete(element)})}has(element){return this.nodes.has(element)}getListIndex(location){const node=this.getCompressedNode(location);return this.model.getListIndex(node)}getListRenderCount(location){const node=this.getCompressedNode(location);return this.model.getListRenderCount(node)}getNode(location){if(void 0===location)return this.model.getNode();const node=this.getCompressedNode(location);return this.model.getNode(node)}getNodeLocation(node){const compressedNode=this.model.getNodeLocation(node);return null===compressedNode?null:compressedNode.elements[compressedNode.elements.length-1]}getParentNodeLocation(location){const compressedNode=this.getCompressedNode(location),parentNode=this.model.getParentNodeLocation(compressedNode);return null===parentNode?null:parentNode.elements[parentNode.elements.length-1]}isCollapsible(location){const compressedNode=this.getCompressedNode(location);return this.model.isCollapsible(compressedNode)}setCollapsible(location,collapsible){const compressedNode=this.getCompressedNode(location);return this.model.setCollapsible(compressedNode,collapsible)}isCollapsed(location){const compressedNode=this.getCompressedNode(location);return this.model.isCollapsed(compressedNode)}setCollapsed(location,collapsed,recursive){const compressedNode=this.getCompressedNode(location);return this.model.setCollapsed(compressedNode,collapsed,recursive)}expandTo(location){const compressedNode=this.getCompressedNode(location);this.model.expandTo(compressedNode)}rerender(location){const compressedNode=this.getCompressedNode(location);this.model.rerender(compressedNode)}refilter(){this.model.refilter()}getCompressedNode(element){if(null===element)return null;const node=this.nodes.get(element);if(!node)throw new TreeError(this.user,`Tree element not found: ${element}`);return node}}const DefaultElementMapper=elements=>elements[elements.length-1];class CompressedTreeNodeWrapper{constructor(unwrapper,node){this.unwrapper=unwrapper,this.node=node}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(node=>new CompressedTreeNodeWrapper(this.unwrapper,node))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class compressedObjectTreeModel_CompressibleObjectTreeModel{constructor(user,list,options={}){this.rootRef=null,this.elementMapper=options.elementMapper||DefaultElementMapper;const compressedNodeUnwrapper=node=>this.elementMapper(node.elements);this.nodeMapper=new WeakMapper(node=>new CompressedTreeNodeWrapper(compressedNodeUnwrapper,node)),this.model=new compressedObjectTreeModel_CompressedObjectTreeModel(user,function mapList(nodeMapper,list){return{splice(start,deleteCount,toInsert){list.splice(start,deleteCount,toInsert.map(node=>nodeMapper.map(node)))},updateElementHeight(index,height){list.updateElementHeight(index,height)}}}(this.nodeMapper,list),function mapOptions(compressedNodeUnwrapper,options){return Object.assign(Object.assign({},options),{sorter:options.sorter&&{compare:(node,otherNode)=>options.sorter.compare(node.elements[0],otherNode.elements[0])},identityProvider:options.identityProvider&&{getId:node=>options.identityProvider.getId(compressedNodeUnwrapper(node))},filter:options.filter&&{filter:(node,parentVisibility)=>options.filter.filter(compressedNodeUnwrapper(node),parentVisibility)}})}(compressedNodeUnwrapper,options))}get onDidSplice(){return common_event.b.map(this.model.onDidSplice,({insertedNodes:insertedNodes,deletedNodes:deletedNodes})=>({insertedNodes:insertedNodes.map(node=>this.nodeMapper.map(node)),deletedNodes:deletedNodes.map(node=>this.nodeMapper.map(node))}))}get onDidChangeCollapseState(){return common_event.b.map(this.model.onDidChangeCollapseState,({node:node,deep:deep})=>({node:this.nodeMapper.map(node),deep:deep}))}get onDidChangeRenderNodeCount(){return common_event.b.map(this.model.onDidChangeRenderNodeCount,node=>this.nodeMapper.map(node))}setChildren(element,children=iterator.a.empty()){this.model.setChildren(element,children)}setCompressionEnabled(enabled){this.model.setCompressionEnabled(enabled)}has(location){return this.model.has(location)}getListIndex(location){return this.model.getListIndex(location)}getListRenderCount(location){return this.model.getListRenderCount(location)}getNode(location){return this.nodeMapper.map(this.model.getNode(location))}getNodeLocation(node){return node.element}getParentNodeLocation(location){return this.model.getParentNodeLocation(location)}isCollapsible(location){return this.model.isCollapsible(location)}setCollapsible(location,collapsed){return this.model.setCollapsible(location,collapsed)}isCollapsed(location){return this.model.isCollapsed(location)}setCollapsed(location,collapsed,recursive){return this.model.setCollapsed(location,collapsed,recursive)}expandTo(location){return this.model.expandTo(location)}rerender(location){return this.model.rerender(location)}refilter(){return this.model.refilter()}getCompressedTreeNode(location=null){return this.model.getNode(location)}}class objectTree_ObjectTree extends abstractTree_AbstractTree{constructor(user,container,delegate,renderers,options={}){super(user,container,delegate,renderers,options)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(element,children=iterator.a.empty()){this.model.setChildren(element,children)}rerender(element){void 0!==element?this.model.rerender(element):this.view.rerender()}hasElement(element){return this.model.has(element)}createModel(user,view,options){return new objectTreeModel_ObjectTreeModel(user,view,options)}}class CompressibleRenderer{constructor(_compressedTreeNodeProvider,renderer){this._compressedTreeNodeProvider=_compressedTreeNodeProvider,this.renderer=renderer,this.templateId=renderer.templateId,renderer.onDidChangeTwistieState&&(this.onDidChangeTwistieState=renderer.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(container){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(container)}}renderElement(node,index,templateData,height){const compressedTreeNode=this.compressedTreeNodeProvider.getCompressedTreeNode(node.element);1===compressedTreeNode.element.elements.length?(templateData.compressedTreeNode=void 0,this.renderer.renderElement(node,index,templateData.data,height)):(templateData.compressedTreeNode=compressedTreeNode,this.renderer.renderCompressedElements(compressedTreeNode,index,templateData.data,height))}disposeElement(node,index,templateData,height){templateData.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(templateData.compressedTreeNode,index,templateData.data,height):this.renderer.disposeElement&&this.renderer.disposeElement(node,index,templateData.data,height)}disposeTemplate(templateData){this.renderer.disposeTemplate(templateData.data)}renderTwistie(element,twistieElement){this.renderer.renderTwistie&&this.renderer.renderTwistie(element,twistieElement)}}(function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);c>3&&r&&Object.defineProperty(target,key,r)})([__webpack_require__(2384).a],CompressibleRenderer.prototype,"compressedTreeNodeProvider",null);class objectTree_CompressibleObjectTree extends objectTree_ObjectTree{constructor(user,container,delegate,renderers,options={}){const compressedTreeNodeProvider=()=>this;super(user,container,delegate,renderers.map(r=>new CompressibleRenderer(compressedTreeNodeProvider,r)),function asObjectTreeOptions(compressedTreeNodeProvider,options){return options&&Object.assign(Object.assign({},options),{keyboardNavigationLabelProvider:options.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(e){let compressedTreeNode;try{compressedTreeNode=compressedTreeNodeProvider().getCompressedTreeNode(e)}catch(_a){return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e)}return 1===compressedTreeNode.element.elements.length?options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e):options.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(compressedTreeNode.element.elements)}}})}(compressedTreeNodeProvider,options))}setChildren(element,children=iterator.a.empty()){this.model.setChildren(element,children)}createModel(user,view,options){return new compressedObjectTreeModel_CompressibleObjectTreeModel(user,view,options)}updateOptions(optionsUpdate={}){super.updateOptions(optionsUpdate),void 0!==optionsUpdate.compressionEnabled&&this.model.setCompressionEnabled(optionsUpdate.compressionEnabled)}getCompressedTreeNode(element=null){return this.model.getCompressedTreeNode(element)}}var errors=__webpack_require__(2302),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function createAsyncDataTreeNode(props){return Object.assign(Object.assign({},props),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function isAncestor(ancestor,descendant){return!!descendant.parent&&(descendant.parent===ancestor||isAncestor(ancestor,descendant.parent))}class AsyncDataTreeNodeWrapper{constructor(node){this.node=node}get element(){return this.node.element.element}get children(){return this.node.children.map(node=>new AsyncDataTreeNodeWrapper(node))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class asyncDataTree_AsyncDataTreeRenderer{constructor(renderer,nodeMapper,onDidChangeTwistieState){this.renderer=renderer,this.nodeMapper=nodeMapper,this.onDidChangeTwistieState=onDidChangeTwistieState,this.renderedNodes=new Map,this.templateId=renderer.templateId}renderTemplate(container){return{templateData:this.renderer.renderTemplate(container)}}renderElement(node,index,templateData,height){this.renderer.renderElement(this.nodeMapper.map(node),index,templateData.templateData,height)}renderTwistie(element,twistieElement){return element.slow?Object(dom.f)(twistieElement,treeItemLoadingIcon.classNames):Object(dom.R)(twistieElement,treeItemLoadingIcon.classNames),!1}disposeElement(node,index,templateData,height){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(node),index,templateData.templateData,height)}disposeTemplate(templateData){this.renderer.disposeTemplate(templateData.templateData)}dispose(){this.renderedNodes.clear()}}function asTreeEvent(e){return{browserEvent:e.browserEvent,elements:e.elements.map(e=>e.element)}}function asyncDataTree_asTreeMouseEvent(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class asyncDataTree_AsyncDataTreeElementsDragAndDropData extends listView.a{constructor(data){super(data.elements.map(node=>node.element)),this.data=data}}function asAsyncDataTreeDragAndDropData(data){return data instanceof listView.a?new asyncDataTree_AsyncDataTreeElementsDragAndDropData(data):data}class AsyncDataTreeNodeListDragAndDrop{constructor(dnd){this.dnd=dnd}getDragURI(node){return this.dnd.getDragURI(node.element)}getDragLabel(nodes,originalEvent){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(nodes.map(node=>node.element),originalEvent)}onDragStart(data,originalEvent){this.dnd.onDragStart&&this.dnd.onDragStart(asAsyncDataTreeDragAndDropData(data),originalEvent)}onDragOver(data,targetNode,targetIndex,originalEvent,raw=!0){return this.dnd.onDragOver(asAsyncDataTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent)}drop(data,targetNode,targetIndex,originalEvent){this.dnd.drop(asAsyncDataTreeDragAndDropData(data),targetNode&&targetNode.element,targetIndex,originalEvent)}onDragEnd(originalEvent){this.dnd.onDragEnd&&this.dnd.onDragEnd(originalEvent)}}function asyncDataTree_asObjectTreeOptions(options){return options&&Object.assign(Object.assign({},options),{collapseByDefault:!0,identityProvider:options.identityProvider&&{getId:el=>options.identityProvider.getId(el.element)},dnd:options.dnd&&new AsyncDataTreeNodeListDragAndDrop(options.dnd),multipleSelectionController:options.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>options.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>options.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:options.accessibilityProvider&&Object.assign(Object.assign({},options.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:options.accessibilityProvider.getRole?el=>options.accessibilityProvider.getRole(el.element):()=>"treeitem",isChecked:options.accessibilityProvider.isChecked?e=>{var _a;return!!(null===(_a=options.accessibilityProvider)||void 0===_a?void 0:_a.isChecked(e.element))}:void 0,getAriaLabel:e=>options.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>options.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:options.accessibilityProvider.getWidgetRole?()=>options.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:options.accessibilityProvider.getAriaLevel&&(node=>options.accessibilityProvider.getAriaLevel(node.element)),getActiveDescendantId:options.accessibilityProvider.getActiveDescendantId&&(node=>options.accessibilityProvider.getActiveDescendantId(node.element))}),filter:options.filter&&{filter:(e,parentVisibility)=>options.filter.filter(e.element,parentVisibility)},keyboardNavigationLabelProvider:options.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},options.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===options.expandOnlyOnTwistieClick?void 0:"function"!=typeof options.expandOnlyOnTwistieClick?options.expandOnlyOnTwistieClick:e=>options.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:options.additionalScrollHeight})}function asyncDataTree_dfs(node,fn){fn(node),node.children.forEach(child=>asyncDataTree_dfs(child,fn))}class asyncDataTree_AsyncDataTree{constructor(user,container,delegate,renderers,dataSource,options={}){this.user=user,this.dataSource=dataSource,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new common_event.a,this._onDidChangeNodeSlowState=new common_event.a,this.nodeMapper=new WeakMapper(node=>new AsyncDataTreeNodeWrapper(node)),this.disposables=new lifecycle.b,this.identityProvider=options.identityProvider,this.autoExpandSingleChildren=void 0!==options.autoExpandSingleChildren&&options.autoExpandSingleChildren,this.sorter=options.sorter,this.collapseByDefault=options.collapseByDefault,this.tree=this.createTree(user,container,delegate,renderers,options),this.root=createAsyncDataTreeNode({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return common_event.b.map(this.tree.onDidChangeFocus,asTreeEvent)}get onDidChangeSelection(){return common_event.b.map(this.tree.onDidChangeSelection,asTreeEvent)}get onMouseDblClick(){return common_event.b.map(this.tree.onMouseDblClick,asyncDataTree_asTreeMouseEvent)}get onPointer(){return common_event.b.map(this.tree.onPointer,asyncDataTree_asTreeMouseEvent)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(user,container,delegate,renderers,options){const objectTreeDelegate=new ComposedTreeDelegate(delegate),objectTreeRenderers=renderers.map(r=>new asyncDataTree_AsyncDataTreeRenderer(r,this.nodeMapper,this._onDidChangeNodeSlowState.event)),objectTreeOptions=asyncDataTree_asObjectTreeOptions(options)||{};return new objectTree_ObjectTree(user,container,objectTreeDelegate,objectTreeRenderers,objectTreeOptions)}updateOptions(options={}){this.tree.updateOptions(options)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(scrollTop){this.tree.scrollTop=scrollTop}domFocus(){this.tree.domFocus()}layout(height,width){this.tree.layout(height,width)}style(styles){this.tree.style(styles)}getInput(){return this.root.element}setInput(input,viewState){return __awaiter(this,void 0,void 0,function*(){this.refreshPromises.forEach(promise=>promise.cancel()),this.refreshPromises.clear(),this.root.element=input;const viewStateContext=viewState&&{viewState:viewState,focus:[],selection:[]};yield this._updateChildren(input,!0,!1,viewStateContext),viewStateContext&&(this.tree.setFocus(viewStateContext.focus),this.tree.setSelection(viewStateContext.selection)),viewState&&"number"==typeof viewState.scrollTop&&(this.scrollTop=viewState.scrollTop)})}_updateChildren(element=this.root.element,recursive=!0,rerender=!1,viewStateContext){return __awaiter(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield common_event.b.toPromise(this._onDidRender.event));const node=this.getDataNode(element);if(yield this.refreshAndRenderNode(node,recursive,viewStateContext),rerender)try{this.tree.rerender(node)}catch(_a){}})}rerender(element){if(void 0===element||element===this.root.element)return void this.tree.rerender();const node=this.getDataNode(element);this.tree.rerender(node)}collapse(element,recursive=!1){const node=this.getDataNode(element);return this.tree.collapse(node===this.root?null:node,recursive)}expand(element,recursive=!1){return __awaiter(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield common_event.b.toPromise(this._onDidRender.event));const node=this.getDataNode(element);if(this.tree.hasElement(node)&&!this.tree.isCollapsible(node))return!1;if(node.refreshPromise&&(yield this.root.refreshPromise,yield common_event.b.toPromise(this._onDidRender.event)),node!==this.root&&!node.refreshPromise&&!this.tree.isCollapsed(node))return!1;const result=this.tree.expand(node===this.root?null:node,recursive);return node.refreshPromise&&(yield this.root.refreshPromise,yield common_event.b.toPromise(this._onDidRender.event)),result})}setSelection(elements,browserEvent){const nodes=elements.map(e=>this.getDataNode(e));this.tree.setSelection(nodes,browserEvent)}getSelection(){return this.tree.getSelection().map(n=>n.element)}setFocus(elements,browserEvent){const nodes=elements.map(e=>this.getDataNode(e));this.tree.setFocus(nodes,browserEvent)}getFocus(){return this.tree.getFocus().map(n=>n.element)}reveal(element,relativeTop){this.tree.reveal(this.getDataNode(element),relativeTop)}getDataNode(element){const node=this.nodes.get(element===this.root.element?null:element);if(!node)throw new TreeError(this.user,`Data tree node not found: ${element}`);return node}refreshAndRenderNode(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function*(){yield this.refreshNode(node,recursive,viewStateContext),this.render(node,viewStateContext)})}refreshNode(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function*(){let result;return this.subTreeRefreshPromises.forEach((refreshPromise,refreshNode)=>{!result&&function intersects(node,other){return node===other||isAncestor(node,other)||isAncestor(other,node)}(refreshNode,node)&&(result=refreshPromise.then(()=>this.refreshNode(node,recursive,viewStateContext)))}),result||this.doRefreshSubTree(node,recursive,viewStateContext)})}doRefreshSubTree(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function*(){let done;node.refreshPromise=new Promise(c=>done=c),this.subTreeRefreshPromises.set(node,node.refreshPromise),node.refreshPromise.finally(()=>{node.refreshPromise=void 0,this.subTreeRefreshPromises.delete(node)});try{const childrenToRefresh=yield this.doRefreshNode(node,recursive,viewStateContext);node.stale=!1,yield Promise.all(childrenToRefresh.map(child=>this.doRefreshSubTree(child,recursive,viewStateContext)))}finally{done()}})}doRefreshNode(node,recursive,viewStateContext){return __awaiter(this,void 0,void 0,function*(){let childrenPromise;if(node.hasChildren=!!this.dataSource.hasChildren(node.element),node.hasChildren){const slowTimeout=Object(common_async.l)(800);slowTimeout.then(()=>{node.slow=!0,this._onDidChangeNodeSlowState.fire(node)},_=>null),childrenPromise=this.doGetChildren(node).finally(()=>slowTimeout.cancel())}else childrenPromise=Promise.resolve(iterator.a.empty());try{const children=yield childrenPromise;return this.setChildren(node,children,recursive,viewStateContext)}catch(err){if(node!==this.root&&this.tree.collapse(node===this.root?null:node),Object(errors.d)(err))return[];throw err}finally{node.slow&&(node.slow=!1,this._onDidChangeNodeSlowState.fire(node))}})}doGetChildren(node){let result=this.refreshPromises.get(node);return result||(result=Object(common_async.f)(()=>__awaiter(this,void 0,void 0,function*(){const children=yield this.dataSource.getChildren(node.element);return this.processChildren(children)})),this.refreshPromises.set(node,result),result.finally(()=>{this.refreshPromises.delete(node)}))}_onDidChangeCollapseState({node:node,deep:deep}){null!==node.element&&!node.collapsed&&node.element.stale&&(deep?this.collapse(node.element.element):this.refreshAndRenderNode(node.element,!1).catch(errors.e))}setChildren(node,childrenElementsIterable,recursive,viewStateContext){const childrenElements=[...childrenElementsIterable];if(0===node.children.length&&0===childrenElements.length)return[];const nodesToForget=new Map,childrenTreeNodesById=new Map;for(const child of node.children)if(nodesToForget.set(child.element,child),this.identityProvider){const collapsed=this.tree.isCollapsed(child);childrenTreeNodesById.set(child.id,{node:child,collapsed:collapsed})}const childrenToRefresh=[],children=childrenElements.map(element=>{const hasChildren=!!this.dataSource.hasChildren(element);if(!this.identityProvider){const asyncDataTreeNode=createAsyncDataTreeNode({element:element,parent:node,hasChildren:hasChildren});return hasChildren&&this.collapseByDefault&&!this.collapseByDefault(element)&&(asyncDataTreeNode.collapsedByDefault=!1,childrenToRefresh.push(asyncDataTreeNode)),asyncDataTreeNode}const id=this.identityProvider.getId(element).toString(),result=childrenTreeNodesById.get(id);if(result){const asyncDataTreeNode=result.node;return nodesToForget.delete(asyncDataTreeNode.element),this.nodes.delete(asyncDataTreeNode.element),this.nodes.set(element,asyncDataTreeNode),asyncDataTreeNode.element=element,asyncDataTreeNode.hasChildren=hasChildren,recursive?result.collapsed?(asyncDataTreeNode.children.forEach(node=>asyncDataTree_dfs(node,node=>this.nodes.delete(node.element))),asyncDataTreeNode.children.splice(0,asyncDataTreeNode.children.length),asyncDataTreeNode.stale=!0):childrenToRefresh.push(asyncDataTreeNode):hasChildren&&this.collapseByDefault&&!this.collapseByDefault(element)&&(asyncDataTreeNode.collapsedByDefault=!1,childrenToRefresh.push(asyncDataTreeNode)),asyncDataTreeNode}const childAsyncDataTreeNode=createAsyncDataTreeNode({element:element,parent:node,id:id,hasChildren:hasChildren});return viewStateContext&&viewStateContext.viewState.focus&&viewStateContext.viewState.focus.indexOf(id)>-1&&viewStateContext.focus.push(childAsyncDataTreeNode),viewStateContext&&viewStateContext.viewState.selection&&viewStateContext.viewState.selection.indexOf(id)>-1&&viewStateContext.selection.push(childAsyncDataTreeNode),viewStateContext&&viewStateContext.viewState.expanded&&viewStateContext.viewState.expanded.indexOf(id)>-1?childrenToRefresh.push(childAsyncDataTreeNode):hasChildren&&this.collapseByDefault&&!this.collapseByDefault(element)&&(childAsyncDataTreeNode.collapsedByDefault=!1,childrenToRefresh.push(childAsyncDataTreeNode)),childAsyncDataTreeNode});for(const node of nodesToForget.values())asyncDataTree_dfs(node,node=>this.nodes.delete(node.element));for(const child of children)this.nodes.set(child.element,child);return node.children.splice(0,node.children.length,...children),node!==this.root&&this.autoExpandSingleChildren&&1===children.length&&0===childrenToRefresh.length&&(children[0].collapsedByDefault=!1,childrenToRefresh.push(children[0])),childrenToRefresh}render(node,viewStateContext){const children=node.children.map(node=>this.asTreeElement(node,viewStateContext));this.tree.setChildren(node===this.root?null:node,children),node!==this.root&&this.tree.setCollapsible(node,node.hasChildren),this._onDidRender.fire()}asTreeElement(node,viewStateContext){if(node.stale)return{element:node,collapsible:node.hasChildren,collapsed:!0};let collapsed;return collapsed=!(viewStateContext&&viewStateContext.viewState.expanded&&node.id&&viewStateContext.viewState.expanded.indexOf(node.id)>-1)&&node.collapsedByDefault,node.collapsedByDefault=void 0,{element:node,children:node.hasChildren?iterator.a.map(node.children,child=>this.asTreeElement(child,viewStateContext)):[],collapsible:node.hasChildren,collapsed:collapsed}}processChildren(children){return this.sorter&&(children=[...children].sort(this.sorter.compare.bind(this.sorter))),children}dispose(){this.disposables.dispose()}}class CompressibleAsyncDataTreeNodeWrapper{constructor(node){this.node=node}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(node=>new CompressibleAsyncDataTreeNodeWrapper(node))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class asyncDataTree_CompressibleAsyncDataTreeRenderer{constructor(renderer,nodeMapper,compressibleNodeMapperProvider,onDidChangeTwistieState){this.renderer=renderer,this.nodeMapper=nodeMapper,this.compressibleNodeMapperProvider=compressibleNodeMapperProvider,this.onDidChangeTwistieState=onDidChangeTwistieState,this.renderedNodes=new Map,this.disposables=[],this.templateId=renderer.templateId}renderTemplate(container){return{templateData:this.renderer.renderTemplate(container)}}renderElement(node,index,templateData,height){this.renderer.renderElement(this.nodeMapper.map(node),index,templateData.templateData,height)}renderCompressedElements(node,index,templateData,height){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(node),index,templateData.templateData,height)}renderTwistie(element,twistieElement){return element.slow?Object(dom.f)(twistieElement,treeItemLoadingIcon.classNames):Object(dom.R)(twistieElement,treeItemLoadingIcon.classNames),!1}disposeElement(node,index,templateData,height){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(node),index,templateData.templateData,height)}disposeCompressedElements(node,index,templateData,height){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(node),index,templateData.templateData,height)}disposeTemplate(templateData){this.renderer.disposeTemplate(templateData.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Object(lifecycle.f)(this.disposables)}}class asyncDataTree_CompressibleAsyncDataTree extends asyncDataTree_AsyncDataTree{constructor(user,container,virtualDelegate,compressionDelegate,renderers,dataSource,options={}){super(user,container,virtualDelegate,renderers,dataSource,options),this.compressionDelegate=compressionDelegate,this.compressibleNodeMapper=new WeakMapper(node=>new CompressibleAsyncDataTreeNodeWrapper(node)),this.filter=options.filter}createTree(user,container,delegate,renderers,options){const objectTreeDelegate=new ComposedTreeDelegate(delegate),objectTreeRenderers=renderers.map(r=>new asyncDataTree_CompressibleAsyncDataTreeRenderer(r,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),objectTreeOptions=function asCompressibleObjectTreeOptions(options){const objectTreeOptions=options&&asyncDataTree_asObjectTreeOptions(options);return objectTreeOptions&&Object.assign(Object.assign({},objectTreeOptions),{keyboardNavigationLabelProvider:objectTreeOptions.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},objectTreeOptions.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:els=>options.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(els.map(e=>e.element))})})}(options)||{};return new objectTree_CompressibleObjectTree(user,container,objectTreeDelegate,objectTreeRenderers,objectTreeOptions)}asTreeElement(node,viewStateContext){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(node.element)},super.asTreeElement(node,viewStateContext))}updateOptions(options={}){this.tree.updateOptions(options)}render(node,viewStateContext){if(!this.identityProvider)return super.render(node,viewStateContext);const getId=element=>this.identityProvider.getId(element).toString(),getUncompressedIds=nodes=>{const result=new Set;for(const node of nodes){const compressedNode=this.tree.getCompressedTreeNode(node===this.root?null:node);if(compressedNode.element)for(const node of compressedNode.element.elements)result.add(getId(node.element))}return result},oldSelection=getUncompressedIds(this.tree.getSelection()),oldFocus=getUncompressedIds(this.tree.getFocus());super.render(node,viewStateContext);const selection=this.getSelection();let didChangeSelection=!1;const focus=this.getFocus();let didChangeFocus=!1;const visit=node=>{const compressedNode=node.element;if(compressedNode)for(let i=0;i<compressedNode.elements.length;i++){const id=getId(compressedNode.elements[i].element),element=compressedNode.elements[compressedNode.elements.length-1].element;oldSelection.has(id)&&-1===selection.indexOf(element)&&(selection.push(element),didChangeSelection=!0),oldFocus.has(id)&&-1===focus.indexOf(element)&&(focus.push(element),didChangeFocus=!0)}node.children.forEach(visit)};visit(this.tree.getCompressedTreeNode(node===this.root?null:node)),didChangeSelection&&this.setSelection(selection),didChangeFocus&&this.setFocus(focus)}processChildren(children){return this.filter&&(children=iterator.a.filter(children,e=>{const visibility=function getVisibility(filterResult){return"boolean"==typeof filterResult?filterResult?1:0:isFilterResult(filterResult)?getVisibleState(filterResult.visibility):getVisibleState(filterResult)}(this.filter.filter(e,1));if(2===visibility)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===visibility})),super.processChildren(children)}}class dataTree_DataTree extends abstractTree_AbstractTree{constructor(user,container,delegate,renderers,dataSource,options={}){super(user,container,delegate,renderers,options),this.user=user,this.dataSource=dataSource,this.identityProvider=options.identityProvider}createModel(user,view,options){return new objectTreeModel_ObjectTreeModel(user,view,options)}}var accessibility=__webpack_require__(2351);__webpack_require__.d(__webpack_exports__,"a",function(){return IListService}),__webpack_require__.d(__webpack_exports__,"b",function(){return listService_ListService}),__webpack_require__.d(__webpack_exports__,"e",function(){return WorkbenchListFocusContextKey}),__webpack_require__.d(__webpack_exports__,"d",function(){return listService_WorkbenchList}),__webpack_require__.d(__webpack_exports__,"c",function(){return listService_WorkbenchAsyncDataTree});var listService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const IListService=Object(instantiation.c)("listService");let listService_ListService=class ListService{constructor(_themeService){this._themeService=_themeService,this.disposables=new lifecycle.b,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(widget,extraContextKeys){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const styleController=new listWidget.b(Object(dom.v)(),"");this.disposables.add(Object(styler.b)(styleController,this._themeService))}if(this.lists.some(l=>l.widget===widget))throw new Error("Cannot register the same widget multiple times");const registeredList={widget:widget,extraContextKeys:extraContextKeys};return this.lists.push(registeredList),widget.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=widget),Object(lifecycle.e)(widget.onDidFocus(()=>this._lastFocusedWidget=widget),Object(lifecycle.h)(()=>this.lists.splice(this.lists.indexOf(registeredList),1)),widget.onDidDispose(()=>{this.lists=this.lists.filter(l=>l!==registeredList),this._lastFocusedWidget===widget&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};listService_ListService=listService_decorate([__param(0,common_themeService.c)],listService_ListService);const RawWorkbenchListFocusContextKey=new contextkey.c("listFocus",!0),WorkbenchListSupportsMultiSelectContextKey=new contextkey.c("listSupportsMultiselect",!0),WorkbenchListFocusContextKey=contextkey.a.and(RawWorkbenchListFocusContextKey,contextkey.a.not("inputFocus")),WorkbenchListHasSelectionOrFocus=new contextkey.c("listHasSelectionOrFocus",!1),WorkbenchListDoubleSelection=new contextkey.c("listDoubleSelection",!1),WorkbenchListMultiSelection=new contextkey.c("listMultiSelection",!1),WorkbenchListSupportsKeyboardNavigation=new contextkey.c("listSupportsKeyboardNavigation",!0),WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",WorkbenchListAutomaticKeyboardNavigation=new contextkey.c(WorkbenchListAutomaticKeyboardNavigationKey,!0);let didBindWorkbenchListAutomaticKeyboardNavigation=!1;function createScopedContextKeyService(contextKeyService,widget){const result=contextKeyService.createScoped(widget.getHTMLElement());return RawWorkbenchListFocusContextKey.bindTo(result),result}const multiSelectModifierSettingKey="workbench.list.multiSelectModifier",openModeSettingKey="workbench.list.openMode",horizontalScrollingKey="workbench.list.horizontalScrolling",keyboardNavigationSettingKey="workbench.list.keyboardNavigation",automaticKeyboardNavigationSettingKey="workbench.list.automaticKeyboardNavigation",treeIndentKey="workbench.tree.indent",treeRenderIndentGuidesKey="workbench.tree.renderIndentGuides",listSmoothScrolling="workbench.list.smoothScrolling";function useAltAsMultipleSelectionModifier(configurationService){return"alt"===configurationService.getValue(multiSelectModifierSettingKey)}class listService_MultipleSelectionController extends lifecycle.a{constructor(configurationService){super(),this.configurationService=configurationService,this.useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(multiSelectModifierSettingKey)&&(this.useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(this.configurationService))}))}isSelectionSingleChangeEvent(event){return this.useAltAsMultipleSelectionModifier?event.browserEvent.altKey:Object(listWidget.h)(event)}isSelectionRangeChangeEvent(event){return Object(listWidget.g)(event)}}function toWorkbenchListOptions(options,configurationService,keybindingService){const disposables=new lifecycle.b,result=Object.assign({},options);if(!1!==options.multipleSelectionSupport&&!options.multipleSelectionController){const multipleSelectionController=new listService_MultipleSelectionController(configurationService);result.multipleSelectionController=multipleSelectionController,disposables.add(multipleSelectionController)}return result.keyboardNavigationDelegate={mightProducePrintableCharacter:e=>keybindingService.mightProducePrintableCharacter(e)},result.smoothScrolling=configurationService.getValue(listSmoothScrolling),[result,disposables]}let listService_WorkbenchList=class WorkbenchList extends listWidget.c{constructor(user,container,delegate,renderers,options,contextKeyService,listService,themeService,configurationService,keybindingService){const horizontalScrolling=void 0!==options.horizontalScrolling?options.horizontalScrolling:configurationService.getValue(horizontalScrollingKey),[workbenchListOptions,workbenchListOptionsDisposable]=toWorkbenchListOptions(options,configurationService,keybindingService);super(user,container,delegate,renderers,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(styler.d)(themeService.getColorTheme(),styler.e)),workbenchListOptions),{horizontalScrolling:horizontalScrolling})),this.disposables.add(workbenchListOptionsDisposable),this.contextKeyService=createScopedContextKeyService(contextKeyService,this),this.themeService=themeService,WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(!(!1===options.multipleSelectionSupport)),this.listHasSelectionOrFocus=WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=options.horizontalScrolling,this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService),this.disposables.add(this.contextKeyService),this.disposables.add(listService.register(this)),options.overrideStyles&&this.updateStyles(options.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const selection=this.getSelection(),focus=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(selection.length>0||focus.length>0),this.listMultiSelection.set(selection.length>1),this.listDoubleSelection.set(2===selection.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const selection=this.getSelection(),focus=this.getFocus();this.listHasSelectionOrFocus.set(selection.length>0||focus.length>0)})),this.disposables.add(configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(multiSelectModifierSettingKey)&&(this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService));let options={};if(e.affectsConfiguration(horizontalScrollingKey)&&void 0===this.horizontalScrolling){const horizontalScrolling=configurationService.getValue(horizontalScrollingKey);options=Object.assign(Object.assign({},options),{horizontalScrolling:horizontalScrolling})}if(e.affectsConfiguration(listSmoothScrolling)){const smoothScrolling=configurationService.getValue(listSmoothScrolling);options=Object.assign(Object.assign({},options),{smoothScrolling:smoothScrolling})}Object.keys(options).length>0&&this.updateOptions(options)}))}updateOptions(options){super.updateOptions(options),options.overrideStyles&&this.updateStyles(options.overrideStyles)}dispose(){super.dispose(),this._styler&&this._styler.dispose()}updateStyles(styles){this._styler&&this._styler.dispose(),this._styler=Object(styler.b)(this,this.themeService,styles)}};listService_WorkbenchList=listService_decorate([__param(5,contextkey.b),__param(6,IListService),__param(7,common_themeService.c),__param(8,configuration.a),__param(9,keybinding.a)],listService_WorkbenchList);let listService_WorkbenchPagedList=class WorkbenchPagedList extends class listPaging_PagedList{constructor(user,container,virtualDelegate,renderers,options={}){const modelProvider=()=>this.model,pagedRenderers=renderers.map(r=>new listPaging_PagedRenderer(r,modelProvider));this.list=new listWidget.c(user,container,virtualDelegate,pagedRenderers,function fromPagedListOptions(modelProvider,options){return Object.assign(Object.assign({},options),{accessibilityProvider:options.accessibilityProvider&&new PagedAccessibilityProvider(modelProvider,options.accessibilityProvider)})}(modelProvider,options))}updateOptions(options){this.list.updateOptions(options)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return common_event.b.map(this.list.onMouseDblClick,({element:element,index:index,browserEvent:browserEvent})=>({element:void 0===element?void 0:this._model.get(element),index:index,browserEvent:browserEvent}))}get onPointer(){return common_event.b.map(this.list.onPointer,({element:element,index:index,browserEvent:browserEvent})=>({element:void 0===element?void 0:this._model.get(element),index:index,browserEvent:browserEvent}))}get onDidChangeFocus(){return common_event.b.map(this.list.onDidChangeFocus,({elements:elements,indexes:indexes,browserEvent:browserEvent})=>({elements:elements.map(e=>this._model.get(e)),indexes:indexes,browserEvent:browserEvent}))}get onDidChangeSelection(){return common_event.b.map(this.list.onDidChangeSelection,({elements:elements,indexes:indexes,browserEvent:browserEvent})=>({elements:elements.map(e=>this._model.get(e)),indexes:indexes,browserEvent:browserEvent}))}get model(){return this._model}set model(model){this._model=model,this.list.splice(0,this.list.length,Object(arrays.s)(model.length))}getFocus(){return this.list.getFocus()}setSelection(indexes,browserEvent){this.list.setSelection(indexes,browserEvent)}getSelection(){return this.list.getSelection()}style(styles){this.list.style(styles)}dispose(){this.list.dispose()}}{constructor(user,container,delegate,renderers,options,contextKeyService,listService,themeService,configurationService,keybindingService){const horizontalScrolling=void 0!==options.horizontalScrolling?options.horizontalScrolling:configurationService.getValue(horizontalScrollingKey),[workbenchListOptions,workbenchListOptionsDisposable]=toWorkbenchListOptions(options,configurationService,keybindingService);super(user,container,delegate,renderers,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(styler.d)(themeService.getColorTheme(),styler.e)),workbenchListOptions),{horizontalScrolling:horizontalScrolling})),this.disposables=new lifecycle.b,this.disposables.add(workbenchListOptionsDisposable),this.contextKeyService=createScopedContextKeyService(contextKeyService,this),this.horizontalScrolling=options.horizontalScrolling,WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(!(!1===options.multipleSelectionSupport)),this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService),this.disposables.add(this.contextKeyService),this.disposables.add(listService.register(this)),options.overrideStyles&&this.disposables.add(Object(styler.b)(this,themeService,options.overrideStyles)),this.disposables.add(configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(multiSelectModifierSettingKey)&&(this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService));let options={};if(e.affectsConfiguration(horizontalScrollingKey)&&void 0===this.horizontalScrolling){const horizontalScrolling=configurationService.getValue(horizontalScrollingKey);options=Object.assign(Object.assign({},options),{horizontalScrolling:horizontalScrolling})}if(e.affectsConfiguration(listSmoothScrolling)){const smoothScrolling=configurationService.getValue(listSmoothScrolling);options=Object.assign(Object.assign({},options),{smoothScrolling:smoothScrolling})}Object.keys(options).length>0&&this.updateOptions(options)}))}dispose(){super.dispose(),this.disposables.dispose()}};listService_WorkbenchPagedList=listService_decorate([__param(5,contextkey.b),__param(6,IListService),__param(7,common_themeService.c),__param(8,configuration.a),__param(9,keybinding.a)],listService_WorkbenchPagedList);class listService_ResourceNavigator extends lifecycle.a{constructor(widget,options){var _a,_b;super(),this.widget=widget,this._onDidOpen=new common_event.a,this.onDidOpen=this._onDidOpen.event,this.openOnFocus=null!==(_a=null==options?void 0:options.openOnFocus)&&void 0!==_a&&_a,this._register(common_event.b.filter(this.widget.onDidChangeSelection,e=>e.browserEvent instanceof KeyboardEvent)(e=>this.onSelectionFromKeyboard(e))),this._register(this.widget.onPointer(e=>this.onPointer(e.browserEvent))),this._register(this.widget.onMouseDblClick(e=>this.onMouseDblClick(e.browserEvent))),this.openOnFocus&&this._register(common_event.b.filter(this.widget.onDidChangeFocus,e=>e.browserEvent instanceof KeyboardEvent)(e=>this.onFocusFromKeyboard(e))),"boolean"!=typeof(null==options?void 0:options.openOnSingleClick)&&(null==options?void 0:options.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==options?void 0:options.configurationService.getValue(openModeSettingKey)),this._register(null==options?void 0:options.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==options?void 0:options.configurationService.getValue(openModeSettingKey))}))):this.openOnSingleClick=null===(_b=null==options?void 0:options.openOnSingleClick)||void 0===_b||_b}onFocusFromKeyboard(event){const focus=this.widget.getFocus();this.widget.setSelection(focus,event.browserEvent);const preserveFocus="boolean"!=typeof event.browserEvent.preserveFocus||event.browserEvent.preserveFocus;this._open(preserveFocus,!1,!1,event.browserEvent)}onSelectionFromKeyboard(event){if(1!==event.elements.length)return;const preserveFocus="boolean"!=typeof event.browserEvent.preserveFocus||event.browserEvent.preserveFocus;this._open(preserveFocus,!1,!1,event.browserEvent)}onPointer(browserEvent){if(!this.openOnSingleClick)return;if(2===browserEvent.detail)return;const pinned=1===browserEvent.button,sideBySide=browserEvent.ctrlKey||browserEvent.metaKey||browserEvent.altKey;this._open(!0,pinned,sideBySide,browserEvent)}onMouseDblClick(browserEvent){if(!browserEvent)return;const sideBySide=browserEvent.ctrlKey||browserEvent.metaKey||browserEvent.altKey;this._open(!1,!0,sideBySide,browserEvent)}_open(preserveFocus,pinned,sideBySide,browserEvent){this._onDidOpen.fire({editorOptions:{preserveFocus:preserveFocus,pinned:pinned,revealIfVisible:!0},sideBySide:sideBySide,element:this.widget.getSelection()[0],browserEvent:browserEvent})}}class TreeResourceNavigator extends listService_ResourceNavigator{constructor(tree,options){super(tree,options)}}function createKeyboardNavigationEventFilter(container,keybindingService){let inChord=!1;return event=>{if(inChord)return inChord=!1,!1;const result=keybindingService.softDispatch(event,container);return result&&result.enterChord?(inChord=!0,!1):(inChord=!1,!0)}}let listService_WorkbenchObjectTree=class WorkbenchObjectTree extends objectTree_ObjectTree{constructor(user,container,delegate,renderers,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){const{options:treeOptions,getAutomaticKeyboardNavigation:getAutomaticKeyboardNavigation,disposable:disposable}=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService);super(user,container,delegate,renderers,treeOptions),this.disposables.add(disposable),this.internals=new listService_WorkbenchTreeInternals(this,options,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),this.disposables.add(this.internals)}};listService_WorkbenchObjectTree=listService_decorate([__param(5,contextkey.b),__param(6,IListService),__param(7,common_themeService.c),__param(8,configuration.a),__param(9,keybinding.a),__param(10,accessibility.b)],listService_WorkbenchObjectTree);let listService_WorkbenchCompressibleObjectTree=class WorkbenchCompressibleObjectTree extends objectTree_CompressibleObjectTree{constructor(user,container,delegate,renderers,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){const{options:treeOptions,getAutomaticKeyboardNavigation:getAutomaticKeyboardNavigation,disposable:disposable}=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService);super(user,container,delegate,renderers,treeOptions),this.disposables.add(disposable),this.internals=new listService_WorkbenchTreeInternals(this,options,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),this.disposables.add(this.internals)}updateOptions(options={}){super.updateOptions(options),options.overrideStyles&&this.internals.updateStyleOverrides(options.overrideStyles)}};listService_WorkbenchCompressibleObjectTree=listService_decorate([__param(5,contextkey.b),__param(6,IListService),__param(7,common_themeService.c),__param(8,configuration.a),__param(9,keybinding.a),__param(10,accessibility.b)],listService_WorkbenchCompressibleObjectTree);let listService_WorkbenchDataTree=class WorkbenchDataTree extends dataTree_DataTree{constructor(user,container,delegate,renderers,dataSource,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){const{options:treeOptions,getAutomaticKeyboardNavigation:getAutomaticKeyboardNavigation,disposable:disposable}=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService);super(user,container,delegate,renderers,dataSource,treeOptions),this.disposables.add(disposable),this.internals=new listService_WorkbenchTreeInternals(this,options,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),this.disposables.add(this.internals)}updateOptions(options={}){super.updateOptions(options),options.overrideStyles&&this.internals.updateStyleOverrides(options.overrideStyles)}};listService_WorkbenchDataTree=listService_decorate([__param(6,contextkey.b),__param(7,IListService),__param(8,common_themeService.c),__param(9,configuration.a),__param(10,keybinding.a),__param(11,accessibility.b)],listService_WorkbenchDataTree);let listService_WorkbenchAsyncDataTree=class WorkbenchAsyncDataTree extends asyncDataTree_AsyncDataTree{constructor(user,container,delegate,renderers,dataSource,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){const{options:treeOptions,getAutomaticKeyboardNavigation:getAutomaticKeyboardNavigation,disposable:disposable}=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService);super(user,container,delegate,renderers,dataSource,treeOptions),this.disposables.add(disposable),this.internals=new listService_WorkbenchTreeInternals(this,options,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(options={}){super.updateOptions(options),options.overrideStyles&&this.internals.updateStyleOverrides(options.overrideStyles)}};listService_WorkbenchAsyncDataTree=listService_decorate([__param(6,contextkey.b),__param(7,IListService),__param(8,common_themeService.c),__param(9,configuration.a),__param(10,keybinding.a),__param(11,accessibility.b)],listService_WorkbenchAsyncDataTree);let listService_WorkbenchCompressibleAsyncDataTree=class WorkbenchCompressibleAsyncDataTree extends asyncDataTree_CompressibleAsyncDataTree{constructor(user,container,virtualDelegate,compressionDelegate,renderers,dataSource,options,contextKeyService,listService,themeService,configurationService,keybindingService,accessibilityService){const{options:treeOptions,getAutomaticKeyboardNavigation:getAutomaticKeyboardNavigation,disposable:disposable}=workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService);super(user,container,virtualDelegate,compressionDelegate,renderers,dataSource,treeOptions),this.disposables.add(disposable),this.internals=new listService_WorkbenchTreeInternals(this,options,getAutomaticKeyboardNavigation,options.overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService),this.disposables.add(this.internals)}};function workbenchTreeDataPreamble(container,options,contextKeyService,configurationService,keybindingService,accessibilityService){WorkbenchListSupportsKeyboardNavigation.bindTo(contextKeyService),didBindWorkbenchListAutomaticKeyboardNavigation||(WorkbenchListAutomaticKeyboardNavigation.bindTo(contextKeyService),didBindWorkbenchListAutomaticKeyboardNavigation=!0);const getAutomaticKeyboardNavigation=()=>{let automaticKeyboardNavigation=contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationKey);return automaticKeyboardNavigation&&(automaticKeyboardNavigation=configurationService.getValue(automaticKeyboardNavigationSettingKey)),automaticKeyboardNavigation},keyboardNavigation=accessibilityService.isScreenReaderOptimized()?"simple":configurationService.getValue(keyboardNavigationSettingKey),horizontalScrolling=void 0!==options.horizontalScrolling?options.horizontalScrolling:configurationService.getValue(horizontalScrollingKey),[workbenchListOptions,disposable]=toWorkbenchListOptions(options,configurationService,keybindingService),additionalScrollHeight=options.additionalScrollHeight;return{getAutomaticKeyboardNavigation:getAutomaticKeyboardNavigation,disposable:disposable,options:Object.assign(Object.assign({keyboardSupport:!1},workbenchListOptions),{indent:configurationService.getValue(treeIndentKey),renderIndentGuides:configurationService.getValue(treeRenderIndentGuidesKey),smoothScrolling:configurationService.getValue(listSmoothScrolling),automaticKeyboardNavigation:getAutomaticKeyboardNavigation(),simpleKeyboardNavigation:"simple"===keyboardNavigation,filterOnType:"filter"===keyboardNavigation,horizontalScrolling:horizontalScrolling,keyboardNavigationEventFilter:createKeyboardNavigationEventFilter(container,keybindingService),additionalScrollHeight:additionalScrollHeight,hideTwistiesOfChildlessElements:options.hideTwistiesOfChildlessElements,expandOnlyOnDoubleClick:"doubleClick"===configurationService.getValue(openModeSettingKey)})}}listService_WorkbenchCompressibleAsyncDataTree=listService_decorate([__param(7,contextkey.b),__param(8,IListService),__param(9,common_themeService.c),__param(10,configuration.a),__param(11,keybinding.a),__param(12,accessibility.b)],listService_WorkbenchCompressibleAsyncDataTree);let listService_WorkbenchTreeInternals=class WorkbenchTreeInternals{constructor(tree,options,getAutomaticKeyboardNavigation,overrideStyles,contextKeyService,listService,themeService,configurationService,accessibilityService){this.tree=tree,this.themeService=themeService,this.disposables=[],this.contextKeyService=createScopedContextKeyService(contextKeyService,tree),WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(!(!1===options.multipleSelectionSupport)),this.hasSelectionOrFocus=WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService);const interestingContextKeys=new Set;interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationKey);const updateKeyboardNavigation=()=>{const keyboardNavigation=accessibilityService.isScreenReaderOptimized()?"simple":configurationService.getValue(keyboardNavigationSettingKey);tree.updateOptions({simpleKeyboardNavigation:"simple"===keyboardNavigation,filterOnType:"filter"===keyboardNavigation})};this.updateStyleOverrides(overrideStyles),this.disposables.push(this.contextKeyService,listService.register(tree),tree.onDidChangeSelection(()=>{const selection=tree.getSelection(),focus=tree.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(selection.length>0||focus.length>0),this.hasMultiSelection.set(selection.length>1),this.hasDoubleSelection.set(2===selection.length)})}),tree.onDidChangeFocus(()=>{const selection=tree.getSelection(),focus=tree.getFocus();this.hasSelectionOrFocus.set(selection.length>0||focus.length>0)}),configurationService.onDidChangeConfiguration(e=>{let newOptions={};if(e.affectsConfiguration(multiSelectModifierSettingKey)&&(this._useAltAsMultipleSelectionModifier=useAltAsMultipleSelectionModifier(configurationService)),e.affectsConfiguration(treeIndentKey)){const indent=configurationService.getValue(treeIndentKey);newOptions=Object.assign(Object.assign({},newOptions),{indent:indent})}if(e.affectsConfiguration(treeRenderIndentGuidesKey)){const renderIndentGuides=configurationService.getValue(treeRenderIndentGuidesKey);newOptions=Object.assign(Object.assign({},newOptions),{renderIndentGuides:renderIndentGuides})}if(e.affectsConfiguration(listSmoothScrolling)){const smoothScrolling=configurationService.getValue(listSmoothScrolling);newOptions=Object.assign(Object.assign({},newOptions),{smoothScrolling:smoothScrolling})}if(e.affectsConfiguration(keyboardNavigationSettingKey)&&updateKeyboardNavigation(),e.affectsConfiguration(automaticKeyboardNavigationSettingKey)&&(newOptions=Object.assign(Object.assign({},newOptions),{automaticKeyboardNavigation:getAutomaticKeyboardNavigation()})),e.affectsConfiguration(horizontalScrollingKey)&&void 0===options.horizontalScrolling){const horizontalScrolling=configurationService.getValue(horizontalScrollingKey);newOptions=Object.assign(Object.assign({},newOptions),{horizontalScrolling:horizontalScrolling})}e.affectsConfiguration(openModeSettingKey)&&(newOptions=Object.assign(Object.assign({},newOptions),{expandOnlyOnDoubleClick:"doubleClick"===configurationService.getValue(openModeSettingKey)})),Object.keys(newOptions).length>0&&tree.updateOptions(newOptions)}),this.contextKeyService.onDidChangeContext(e=>{e.affectsSome(interestingContextKeys)&&tree.updateOptions({automaticKeyboardNavigation:getAutomaticKeyboardNavigation()})}),accessibilityService.onDidChangeScreenReaderOptimized(()=>updateKeyboardNavigation())),this.navigator=new TreeResourceNavigator(tree,Object.assign({configurationService:configurationService},options)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(overrideStyles){Object(lifecycle.f)(this.styler),this.styler=overrideStyles?Object(styler.b)(this.tree,this.themeService,overrideStyles):lifecycle.a.None}dispose(){this.disposables=Object(lifecycle.f)(this.disposables),Object(lifecycle.f)(this.styler),this.styler=void 0}};listService_WorkbenchTreeInternals=listService_decorate([__param(4,contextkey.b),__param(5,IListService),__param(6,common_themeService.c),__param(7,configuration.a),__param(8,accessibility.b)],listService_WorkbenchTreeInternals),platform.a.as(configurationRegistry.a.Configuration).registerConfiguration({id:"workbench",order:7,title:Object(nls.a)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[multiSelectModifierSettingKey]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[Object(nls.a)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(nls.a)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(nls.a)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[openModeSettingKey]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(nls.a)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},[horizontalScrollingKey]:{type:"boolean",default:!1,description:Object(nls.a)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[treeIndentKey]:{type:"number",default:8,minimum:0,maximum:40,description:Object(nls.a)("tree indent setting","Controls tree indentation in pixels.")},[treeRenderIndentGuidesKey]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:Object(nls.a)("render tree indent guides","Controls whether the tree should render indent guides.")},[listSmoothScrolling]:{type:"boolean",default:!1,description:Object(nls.a)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[keyboardNavigationSettingKey]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Object(nls.a)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Object(nls.a)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Object(nls.a)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Object(nls.a)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[automaticKeyboardNavigationSettingKey]:{type:"boolean",default:!0,markdownDescription:Object(nls.a)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")}}})},2425:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(2484);var lifecycle=__webpack_require__(2294),types=__webpack_require__(2314),arrays=__webpack_require__(2309),decorators=__webpack_require__(2384),dom=__webpack_require__(2298),platform=__webpack_require__(2305),touch=__webpack_require__(2348),keyboardEvent=__webpack_require__(2342),common_event=__webpack_require__(2296),browser_event=__webpack_require__(2347);class ListError extends Error{constructor(user,message){super(`ListError [${user}] ${message}`)}}var listView=__webpack_require__(2453),color=__webpack_require__(2320),objects=__webpack_require__(2327);class CombinedSpliceable{constructor(spliceables){this.spliceables=spliceables}splice(start,deleteCount,elements){this.spliceables.forEach(s=>s.splice(start,deleteCount,elements))}}var numbers=__webpack_require__(2414),filters=__webpack_require__(2354),aria=__webpack_require__(2335);__webpack_require__.d(__webpack_exports__,"e",function(){return isInputElement}),__webpack_require__.d(__webpack_exports__,"f",function(){return isMonacoEditor}),__webpack_require__.d(__webpack_exports__,"a",function(){return DefaultKeyboardNavigationDelegate}),__webpack_require__.d(__webpack_exports__,"h",function(){return isSelectionSingleChangeEvent}),__webpack_require__.d(__webpack_exports__,"g",function(){return isSelectionRangeChangeEvent}),__webpack_require__.d(__webpack_exports__,"d",function(){return listWidget_MouseController}),__webpack_require__.d(__webpack_exports__,"b",function(){return listWidget_DefaultStyleController}),__webpack_require__.d(__webpack_exports__,"c",function(){return listWidget_List});var TypeLabelControllerState,__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class listWidget_TraitRenderer{constructor(trait){this.trait=trait,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(container){return container}renderElement(element,index,templateData){const renderedElementIndex=Object(arrays.j)(this.renderedElements,el=>el.templateData===templateData);if(renderedElementIndex>=0){const rendered=this.renderedElements[renderedElementIndex];this.trait.unrender(templateData),rendered.index=index}else{const rendered={index:index,templateData:templateData};this.renderedElements.push(rendered)}this.trait.renderIndex(index,templateData)}splice(start,deleteCount,insertCount){const rendered=[];for(const renderedElement of this.renderedElements)renderedElement.index<start?rendered.push(renderedElement):renderedElement.index>=start+deleteCount&&rendered.push({index:renderedElement.index+insertCount-deleteCount,templateData:renderedElement.templateData});this.renderedElements=rendered}renderIndexes(indexes){for(const{index:index,templateData:templateData}of this.renderedElements)indexes.indexOf(index)>-1&&this.trait.renderIndex(index,templateData)}disposeTemplate(templateData){const index=Object(arrays.j)(this.renderedElements,el=>el.templateData===templateData);index<0||this.renderedElements.splice(index,1)}}class listWidget_Trait{constructor(_trait){this._trait=_trait,this.indexes=[],this.sortedIndexes=[],this._onChange=new common_event.a,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new listWidget_TraitRenderer(this)}splice(start,deleteCount,elements){const diff=elements.length-deleteCount,end=start+deleteCount,indexes=[...this.sortedIndexes.filter(i=>i<start),...elements.map((hasTrait,i)=>hasTrait?i+start:-1).filter(i=>-1!==i),...this.sortedIndexes.filter(i=>i>=end).map(i=>i+diff)];this.renderer.splice(start,deleteCount,elements.length),this._set(indexes,indexes)}renderIndex(index,container){dom.ab(container,this._trait,this.contains(index))}unrender(container){dom.Q(container,this._trait)}set(indexes,browserEvent){return this._set(indexes,[...indexes].sort(numericSort),browserEvent)}_set(indexes,sortedIndexes,browserEvent){const result=this.indexes,sortedResult=this.sortedIndexes;this.indexes=indexes,this.sortedIndexes=sortedIndexes;const toRender=disjunction(sortedResult,indexes);return this.renderer.renderIndexes(toRender),this._onChange.fire({indexes:indexes,browserEvent:browserEvent}),result}get(){return this.indexes}contains(index){return Object(arrays.c)(this.sortedIndexes,index,numericSort)>=0}dispose(){Object(lifecycle.f)(this._onChange)}}__decorate([decorators.a],listWidget_Trait.prototype,"renderer",null);class SelectionTrait extends listWidget_Trait{constructor(setAriaSelected){super("selected"),this.setAriaSelected=setAriaSelected}renderIndex(index,container){super.renderIndex(index,container),this.setAriaSelected&&(this.contains(index)?container.setAttribute("aria-selected","true"):container.setAttribute("aria-selected","false"))}}class TraitSpliceable{constructor(trait,view,identityProvider){this.trait=trait,this.view=view,this.identityProvider=identityProvider}splice(start,deleteCount,elements){if(!this.identityProvider)return this.trait.splice(start,deleteCount,elements.map(()=>!1));const pastElementsWithTrait=this.trait.get().map(i=>this.identityProvider.getId(this.view.element(i)).toString()),elementsWithTrait=elements.map(e=>pastElementsWithTrait.indexOf(this.identityProvider.getId(e).toString())>-1);this.trait.splice(start,deleteCount,elementsWithTrait)}}function isInputElement(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function isMonacoEditor(e){return!!dom.I(e,"monaco-editor")||!dom.I(e,"monaco-list")&&(!!e.parentElement&&isMonacoEditor(e.parentElement))}class listWidget_KeyboardController{constructor(list,view,options){this.list=list,this.view=view,this.disposables=new lifecycle.b;const multipleSelectionSupport=!1!==options.multipleSelectionSupport,onKeyDown=common_event.b.chain(Object(browser_event.a)(view.domNode,"keydown")).filter(e=>!isInputElement(e.target)).map(e=>new keyboardEvent.a(e));onKeyDown.filter(e=>3===e.keyCode).on(this.onEnter,this,this.disposables),onKeyDown.filter(e=>16===e.keyCode).on(this.onUpArrow,this,this.disposables),onKeyDown.filter(e=>18===e.keyCode).on(this.onDownArrow,this,this.disposables),onKeyDown.filter(e=>11===e.keyCode).on(this.onPageUpArrow,this,this.disposables),onKeyDown.filter(e=>12===e.keyCode).on(this.onPageDownArrow,this,this.disposables),onKeyDown.filter(e=>9===e.keyCode).on(this.onEscape,this,this.disposables),multipleSelectionSupport&&onKeyDown.filter(e=>(platform.f?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.disposables)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Object(arrays.s)(this.list.length),e.browserEvent),this.view.domNode.focus()}onEscape(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()}dispose(){this.disposables.dispose()}}!function(TypeLabelControllerState){TypeLabelControllerState[TypeLabelControllerState.Idle=0]="Idle",TypeLabelControllerState[TypeLabelControllerState.Typing=1]="Typing"}(TypeLabelControllerState||(TypeLabelControllerState={}));const DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(event){return!(event.ctrlKey||event.metaKey||event.altKey)&&(event.keyCode>=31&&event.keyCode<=56||event.keyCode>=21&&event.keyCode<=30||event.keyCode>=93&&event.keyCode<=102||event.keyCode>=80&&event.keyCode<=90)}};class listWidget_TypeLabelController{constructor(list,view,keyboardNavigationLabelProvider,delegate){this.list=list,this.view=view,this.keyboardNavigationLabelProvider=keyboardNavigationLabelProvider,this.delegate=delegate,this.enabled=!1,this.state=TypeLabelControllerState.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new lifecycle.b,this.disposables=new lifecycle.b,this.updateOptions(list.options)}updateOptions(options){void 0===options.enableKeyboardNavigation||!!options.enableKeyboardNavigation?this.enable():this.disable(),void 0!==options.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=options.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const onChar=common_event.b.chain(Object(browser_event.a)(this.view.domNode,"keydown")).filter(e=>!isInputElement(e.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(event=>new keyboardEvent.a(event)).filter(e=>this.delegate.mightProducePrintableCharacter(e)).forEach(e=>{e.stopPropagation(),e.preventDefault()}).map(event=>event.browserEvent.key).event,onClear=common_event.b.debounce(onChar,()=>null,800);common_event.b.reduce(common_event.b.any(onChar,onClear),(r,i)=>null===i?null:(r||"")+i)(this.onInput,this,this.enabledDisposables),onClear(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var _a;const focus=this.list.getFocus();if(focus.length>0&&focus[0]===this.previouslyFocused){const ariaLabel=null===(_a=this.list.options.accessibilityProvider)||void 0===_a?void 0:_a.getAriaLabel(this.list.element(focus[0]));ariaLabel&&Object(aria.a)(ariaLabel)}this.previouslyFocused=-1}onInput(word){if(!word)return this.state=TypeLabelControllerState.Idle,void(this.triggered=!1);const focus=this.list.getFocus(),start=focus.length>0?focus[0]:0,delta=this.state===TypeLabelControllerState.Idle?1:0;this.state=TypeLabelControllerState.Typing;for(let i=0;i<this.list.length;i++){const index=(start+i+delta)%this.list.length,label=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index)),labelStr=label&&label.toString();if(void 0===labelStr||Object(filters.h)(word,labelStr))return this.previouslyFocused=start,this.list.setFocus([index]),void this.list.reveal(index)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class listWidget_DOMFocusController{constructor(list,view){this.list=list,this.view=view,this.disposables=new lifecycle.b,common_event.b.chain(Object(browser_event.a)(view.domNode,"keydown")).filter(e=>!isInputElement(e.target)).map(e=>new keyboardEvent.a(e)).filter(e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const focus=this.list.getFocus();if(0===focus.length)return;const focusedDomElement=this.view.domElement(focus[0]);if(!focusedDomElement)return;const tabIndexElement=focusedDomElement.querySelector("[tabIndex]");if(!(tabIndexElement&&tabIndexElement instanceof HTMLElement&&-1!==tabIndexElement.tabIndex))return;const style=window.getComputedStyle(tabIndexElement);"hidden"!==style.visibility&&"none"!==style.display&&(e.preventDefault(),e.stopPropagation(),tabIndexElement.focus())}dispose(){this.disposables.dispose()}}function isSelectionSingleChangeEvent(event){return platform.f?event.browserEvent.metaKey:event.browserEvent.ctrlKey}function isSelectionRangeChangeEvent(event){return event.browserEvent.shiftKey}const DefaultMultipleSelectionController={isSelectionSingleChangeEvent:isSelectionSingleChangeEvent,isSelectionRangeChangeEvent:isSelectionRangeChangeEvent};class listWidget_MouseController{constructor(list){this.list=list,this.disposables=new lifecycle.b,this._onPointer=new common_event.a,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=!(!1===list.options.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=list.options.multipleSelectionController||DefaultMultipleSelectionController),this.mouseSupport=void 0===list.options.mouseSupport||!!list.options.mouseSupport,this.mouseSupport&&(list.onMouseDown(this.onMouseDown,this,this.disposables),list.onContextMenu(this.onContextMenu,this,this.disposables),list.onMouseDblClick(this.onDoubleClick,this,this.disposables),list.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(touch.b.addTarget(list.getHTMLElement()))),common_event.b.any(list.onMouseClick,list.onMouseMiddleClick,list.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(event){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(event):platform.f?event.browserEvent.metaKey:event.browserEvent.ctrlKey}isSelectionRangeChangeEvent(event){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(event):event.browserEvent.shiftKey}isSelectionChangeEvent(event){return this.isSelectionSingleChangeEvent(event)||this.isSelectionRangeChangeEvent(event)}onMouseDown(e){isMonacoEditor(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(isMonacoEditor(e.browserEvent.target))return;const focus=void 0===e.index?[]:[e.index];this.list.setFocus(focus,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(isInputElement(e.browserEvent.target)||isMonacoEditor(e.browserEvent.target))return;let reference=this.list.getFocus()[0];const selection=this.list.getSelection();reference=void 0===reference?selection[0]:reference;const focus=e.index;return void 0===focus?(this.list.setFocus([],e.browserEvent),void this.list.setSelection([],e.browserEvent)):this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e)?this.changeSelection(e,reference):this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)?this.changeSelection(e,reference):(this.list.setFocus([focus],e.browserEvent),function isMouseRightClick(event){return event instanceof MouseEvent&&2===event.button}(e.browserEvent)||this.list.setSelection([focus],e.browserEvent),void this._onPointer.fire(e))}onDoubleClick(e){if(isInputElement(e.browserEvent.target)||isMonacoEditor(e.browserEvent.target))return;if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return;const focus=this.list.getFocus();this.list.setSelection(focus,e.browserEvent)}changeSelection(e,reference){const focus=e.index;if(this.isSelectionRangeChangeEvent(e)&&void 0!==reference){const min=Math.min(reference,focus),max=Math.max(reference,focus),rangeSelection=Object(arrays.s)(min,max+1),selection=this.list.getSelection(),contiguousRange=function getContiguousRangeContaining(range,value){const index=range.indexOf(value);if(-1===index)return[];const result=[];let i=index-1;for(;i>=0&&range[i]===value-(index-i);)result.push(range[i--]);result.reverse(),i=index;for(;i<range.length&&range[i]===value+(i-index);)result.push(range[i++]);return result}(disjunction(selection,[reference]),reference);if(0===contiguousRange.length)return;const newSelection=disjunction(rangeSelection,function relativeComplement(one,other){const result=[];let i=0,j=0;for(;i<one.length||j<other.length;)if(i>=one.length)result.push(other[j++]);else if(j>=other.length)result.push(one[i++]);else{if(one[i]===other[j]){i++,j++;continue}one[i]<other[j]?result.push(one[i++]):j++}return result}(selection,contiguousRange));this.list.setSelection(newSelection,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const selection=this.list.getSelection(),newSelection=selection.filter(i=>i!==focus);this.list.setFocus([focus]),selection.length===newSelection.length?this.list.setSelection([...newSelection,focus],e.browserEvent):this.list.setSelection(newSelection,e.browserEvent)}}dispose(){this.disposables.dispose()}}class listWidget_DefaultStyleController{constructor(styleElement,selectorSuffix){this.styleElement=styleElement,this.selectorSuffix=selectorSuffix}style(styles){const suffix=this.selectorSuffix&&`.${this.selectorSuffix}`,content=[];styles.listBackground&&(styles.listBackground.isOpaque()?content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`):platform.f||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),styles.listFocusBackground&&(content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`),content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`)),styles.listFocusForeground&&content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`),styles.listActiveSelectionBackground&&(content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`),content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`)),styles.listActiveSelectionForeground&&content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`),styles.listFocusAndSelectionBackground&&content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`),styles.listFocusAndSelectionForeground&&content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`),styles.listInactiveFocusBackground&&(content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`),content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`)),styles.listInactiveSelectionBackground&&(content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`),content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`)),styles.listInactiveSelectionForeground&&content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`),styles.listHoverBackground&&content.push(`.monaco-list${suffix}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  ${styles.listHoverBackground}; }`),styles.listHoverForeground&&content.push(`.monaco-list${suffix} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`),styles.listSelectionOutline&&content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`),styles.listFocusOutline&&content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),styles.listInactiveFocusOutline&&content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`),styles.listHoverOutline&&content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`),styles.listDropBackground&&content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),styles.listFilterWidgetBackground&&content.push(`.monaco-list-type-filter { background-color: ${styles.listFilterWidgetBackground} }`),styles.listFilterWidgetOutline&&content.push(`.monaco-list-type-filter { border: 1px solid ${styles.listFilterWidgetOutline}; }`),styles.listFilterWidgetNoMatchesOutline&&content.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${styles.listFilterWidgetNoMatchesOutline}; }`),styles.listMatchesShadow&&content.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${styles.listMatchesShadow}; }`);const newStyles=content.join("\n");newStyles!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=newStyles)}}const defaultStyles={listFocusBackground:color.a.fromHex("#7FB0D0"),listActiveSelectionBackground:color.a.fromHex("#0E639C"),listActiveSelectionForeground:color.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:color.a.fromHex("#094771"),listFocusAndSelectionForeground:color.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:color.a.fromHex("#3F3F46"),listHoverBackground:color.a.fromHex("#2A2D2E"),listDropBackground:color.a.fromHex("#383B3D"),treeIndentGuidesStroke:color.a.fromHex("#a9a9a9")},DefaultOptions={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function disjunction(one,other){const result=[];let i=0,j=0;for(;i<one.length||j<other.length;)if(i>=one.length)result.push(other[j++]);else if(j>=other.length)result.push(one[i++]);else{if(one[i]===other[j]){result.push(one[i]),i++,j++;continue}one[i]<other[j]?result.push(one[i++]):result.push(other[j++])}return result}const numericSort=(a,b)=>a-b;class PipelineRenderer{constructor(_templateId,renderers){this._templateId=_templateId,this.renderers=renderers}get templateId(){return this._templateId}renderTemplate(container){return this.renderers.map(r=>r.renderTemplate(container))}renderElement(element,index,templateData,height){let i=0;for(const renderer of this.renderers)renderer.renderElement(element,index,templateData[i++],height)}disposeElement(element,index,templateData,height){let i=0;for(const renderer of this.renderers)renderer.disposeElement&&renderer.disposeElement(element,index,templateData[i],height),i+=1}disposeTemplate(templateData){let i=0;for(const renderer of this.renderers)renderer.disposeTemplate(templateData[i++])}}class AccessibiltyRenderer{constructor(accessibilityProvider){this.accessibilityProvider=accessibilityProvider,this.templateId="a18n"}renderTemplate(container){return container}renderElement(element,index,container){const ariaLabel=this.accessibilityProvider.getAriaLabel(element);ariaLabel?container.setAttribute("aria-label",ariaLabel):container.removeAttribute("aria-label");const ariaLevel=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(element);"number"==typeof ariaLevel?container.setAttribute("aria-level",`${ariaLevel}`):container.removeAttribute("aria-level")}disposeTemplate(templateData){}}class ListViewDragAndDrop{constructor(list,dnd){this.list=list,this.dnd=dnd}getDragElements(element){const selection=this.list.getSelectedElements();return selection.indexOf(element)>-1?selection:[element]}getDragURI(element){return this.dnd.getDragURI(element)}getDragLabel(elements,originalEvent){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(elements,originalEvent)}onDragStart(data,originalEvent){this.dnd.onDragStart&&this.dnd.onDragStart(data,originalEvent)}onDragOver(data,targetElement,targetIndex,originalEvent){return this.dnd.onDragOver(data,targetElement,targetIndex,originalEvent)}onDragEnd(originalEvent){this.dnd.onDragEnd&&this.dnd.onDragEnd(originalEvent)}drop(data,targetElement,targetIndex,originalEvent){this.dnd.drop(data,targetElement,targetIndex,originalEvent)}}class listWidget_List{constructor(user,container,virtualDelegate,renderers,_options=DefaultOptions){var _a;this.user=user,this._options=_options,this.eventBufferer=new common_event.c,this._ariaLabel="",this.disposables=new lifecycle.b,this.didJustPressContextMenuKey=!1,this._onDidDispose=new common_event.a,this.onDidDispose=this._onDidDispose.event;const role=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(_a=this._options.accessibilityProvider)||void 0===_a?void 0:_a.getWidgetRole():"list";this.selection=new SelectionTrait("listbox"!==role),this.focus=new listWidget_Trait("focused"),Object(objects.g)(_options,defaultStyles,!1);const baseRenderers=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=_options.accessibilityProvider,this.accessibilityProvider&&(baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),renderers=renderers.map(r=>new PipelineRenderer(r.templateId,[...baseRenderers,r]));const viewOptions=Object.assign(Object.assign({},_options),{dnd:_options.dnd&&new ListViewDragAndDrop(this,_options.dnd)});if(this.view=new listView.b(container,virtualDelegate,renderers,viewOptions),this.view.domNode.setAttribute("role",role),_options.styleController)this.styleController=_options.styleController(this.view.domId);else{const styleElement=dom.v(this.view.domNode);this.styleController=new listWidget_DefaultStyleController(styleElement,this.view.domId)}if(this.spliceable=new CombinedSpliceable([new TraitSpliceable(this.focus,this.view,_options.identityProvider),new TraitSpliceable(this.selection,this.view,_options.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=common_event.b.map(Object(browser_event.a)(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=common_event.b.map(Object(browser_event.a)(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new listWidget_DOMFocusController(this,this.view)),"boolean"!=typeof _options.keyboardSupport||_options.keyboardSupport){const controller=new listWidget_KeyboardController(this,this.view,_options);this.disposables.add(controller)}if(_options.keyboardNavigationLabelProvider){const delegate=_options.keyboardNavigationDelegate||DefaultKeyboardNavigationDelegate;this.typeLabelController=new listWidget_TypeLabelController(this,this.view,_options.keyboardNavigationLabelProvider,delegate),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(_options),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),_options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return common_event.b.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return common_event.b.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){const fromKeydown=common_event.b.chain(Object(browser_event.a)(this.view.domNode,"keydown")).map(e=>new keyboardEvent.a(e)).filter(e=>this.didJustPressContextMenuKey=58===e.keyCode||e.shiftKey&&68===e.keyCode).filter(e=>(e.preventDefault(),e.stopPropagation(),!1)).event,fromKeyup=common_event.b.chain(Object(browser_event.a)(this.view.domNode,"keyup")).filter(()=>{const didJustPressContextMenuKey=this.didJustPressContextMenuKey;return this.didJustPressContextMenuKey=!1,didJustPressContextMenuKey}).filter(()=>this.getFocus().length>0&&!!this.view.domElement(this.getFocus()[0])).map(browserEvent=>{const index=this.getFocus()[0];return{index:index,element:this.view.element(index),anchor:this.view.domElement(index),browserEvent:browserEvent}}).event,fromMouse=common_event.b.chain(this.view.onContextMenu).filter(()=>!this.didJustPressContextMenuKey).map(({element:element,index:index,browserEvent:browserEvent})=>({element:element,index:index,anchor:{x:browserEvent.clientX+1,y:browserEvent.clientY},browserEvent:browserEvent})).event;return common_event.b.any(fromKeydown,fromKeyup,fromMouse)}get onKeyDown(){return Object(browser_event.a)(this.view.domNode,"keydown")}createMouseController(options){return new listWidget_MouseController(this)}updateOptions(optionsUpdate={}){this._options=Object.assign(Object.assign({},this._options),optionsUpdate),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(optionsUpdate)}get options(){return this._options}splice(start,deleteCount,elements=[]){if(start<0||start>this.view.length)throw new ListError(this.user,`Invalid start index: ${start}`);if(deleteCount<0)throw new ListError(this.user,`Invalid delete count: ${deleteCount}`);0===deleteCount&&0===elements.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(start,deleteCount,elements))}rerender(){this.view.rerender()}element(index){return this.view.element(index)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(scrollTop){this.view.setScrollTop(scrollTop)}get ariaLabel(){return this._ariaLabel}set ariaLabel(value){this._ariaLabel=value,this.view.domNode.setAttribute("aria-label",value)}domFocus(){this.view.domNode.focus()}layout(height,width){this.view.layout(height,width)}setSelection(indexes,browserEvent){for(const index of indexes)if(index<0||index>=this.length)throw new ListError(this.user,`Invalid index ${index}`);this.selection.set(indexes,browserEvent)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(i=>this.view.element(i))}setFocus(indexes,browserEvent){for(const index of indexes)if(index<0||index>=this.length)throw new ListError(this.user,`Invalid index ${index}`);this.focus.set(indexes,browserEvent)}focusNext(n=1,loop=!1,browserEvent,filter){if(0===this.length)return;const focus=this.focus.get(),index=this.findNextIndex(focus.length>0?focus[0]+n:0,loop,filter);index>-1&&this.setFocus([index],browserEvent)}focusPrevious(n=1,loop=!1,browserEvent,filter){if(0===this.length)return;const focus=this.focus.get(),index=this.findPreviousIndex(focus.length>0?focus[0]-n:0,loop,filter);index>-1&&this.setFocus([index],browserEvent)}focusNextPage(browserEvent,filter){let lastPageIndex=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);lastPageIndex=0===lastPageIndex?0:lastPageIndex-1;const lastPageElement=this.view.element(lastPageIndex),currentlyFocusedElement=this.getFocusedElements()[0];if(currentlyFocusedElement!==lastPageElement){const lastGoodPageIndex=this.findPreviousIndex(lastPageIndex,!1,filter);lastGoodPageIndex>-1&&currentlyFocusedElement!==this.view.element(lastGoodPageIndex)?this.setFocus([lastGoodPageIndex],browserEvent):this.setFocus([lastPageIndex],browserEvent)}else{const previousScrollTop=this.view.getScrollTop();this.view.setScrollTop(previousScrollTop+this.view.renderHeight-this.view.elementHeight(lastPageIndex)),this.view.getScrollTop()!==previousScrollTop&&setTimeout(()=>this.focusNextPage(browserEvent,filter),0)}}focusPreviousPage(browserEvent,filter){let firstPageIndex;const scrollTop=this.view.getScrollTop();firstPageIndex=0===scrollTop?this.view.indexAt(scrollTop):this.view.indexAfter(scrollTop-1);const firstPageElement=this.view.element(firstPageIndex),currentlyFocusedElement=this.getFocusedElements()[0];if(currentlyFocusedElement!==firstPageElement){const firstGoodPageIndex=this.findNextIndex(firstPageIndex,!1,filter);firstGoodPageIndex>-1&&currentlyFocusedElement!==this.view.element(firstGoodPageIndex)?this.setFocus([firstGoodPageIndex],browserEvent):this.setFocus([firstPageIndex],browserEvent)}else{const previousScrollTop=scrollTop;this.view.setScrollTop(scrollTop-this.view.renderHeight),this.view.getScrollTop()!==previousScrollTop&&setTimeout(()=>this.focusPreviousPage(browserEvent,filter),0)}}focusLast(browserEvent,filter){if(0===this.length)return;const index=this.findPreviousIndex(this.length-1,!1,filter);index>-1&&this.setFocus([index],browserEvent)}focusFirst(browserEvent,filter){this.focusNth(0,browserEvent,filter)}focusNth(n,browserEvent,filter){if(0===this.length)return;const index=this.findNextIndex(n,!1,filter);index>-1&&this.setFocus([index],browserEvent)}findNextIndex(index,loop=!1,filter){for(let i=0;i<this.length;i++){if(index>=this.length&&!loop)return-1;if(index%=this.length,!filter||filter(this.element(index)))return index;index++}return-1}findPreviousIndex(index,loop=!1,filter){for(let i=0;i<this.length;i++){if(index<0&&!loop)return-1;if(index=(this.length+index%this.length)%this.length,!filter||filter(this.element(index)))return index;index--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(i=>this.view.element(i))}reveal(index,relativeTop){if(index<0||index>=this.length)throw new ListError(this.user,`Invalid index ${index}`);const scrollTop=this.view.getScrollTop(),elementTop=this.view.elementTop(index),elementHeight=this.view.elementHeight(index);if(Object(types.h)(relativeTop)){const m=elementHeight-this.view.renderHeight;this.view.setScrollTop(m*Object(numbers.b)(relativeTop,0,1)+elementTop)}else{const viewItemBottom=elementTop+elementHeight,wrapperBottom=scrollTop+this.view.renderHeight;elementTop<scrollTop&&viewItemBottom>=wrapperBottom||(elementTop<scrollTop?this.view.setScrollTop(elementTop):viewItemBottom>=wrapperBottom&&this.view.setScrollTop(viewItemBottom-this.view.renderHeight))}}getRelativeTop(index){if(index<0||index>=this.length)throw new ListError(this.user,`Invalid index ${index}`);const scrollTop=this.view.getScrollTop(),elementTop=this.view.elementTop(index),elementHeight=this.view.elementHeight(index);if(elementTop<scrollTop||elementTop+elementHeight>scrollTop+this.view.renderHeight)return null;const m=elementHeight-this.view.renderHeight;return Math.abs((scrollTop-elementTop)/m)}getHTMLElement(){return this.view.domNode}style(styles){this.styleController.style(styles)}toListEvent({indexes:indexes,browserEvent:browserEvent}){return{indexes:indexes,elements:indexes.map(i=>this.view.element(i)),browserEvent:browserEvent}}_onFocusChange(){const focus=this.focus.get();dom.ab(this.view.domNode,"element-focused",focus.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var _a;const focus=this.focus.get();if(focus.length>0){let id;(null===(_a=this.accessibilityProvider)||void 0===_a?void 0:_a.getActiveDescendantId)&&(id=this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]))),this.view.domNode.setAttribute("aria-activedescendant",id||this.view.getElementDomId(focus[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const selection=this.selection.get();dom.ab(this.view.domNode,"selection-none",0===selection.length),dom.ab(this.view.domNode,"selection-single",1===selection.length),dom.ab(this.view.domNode,"selection-multiple",selection.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}__decorate([decorators.a],listWidget_List.prototype,"onDidChangeFocus",null),__decorate([decorators.a],listWidget_List.prototype,"onDidChangeSelection",null),__decorate([decorators.a],listWidget_List.prototype,"onContextMenu",null)},2426:function(module,__webpack_exports__,__webpack_require__){"use strict";var require,dom=__webpack_require__(2298),formattedTextRenderer=__webpack_require__(2427),errors=__webpack_require__(2302),htmlContent=__webpack_require__(2369),idGenerator=__webpack_require__(2391),marked=__webpack_require__(2600);let __insane_func;!function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){if(!f&&"function"==typeof require&&require)return require(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}}()({1:[function(require,module,exports){var toMap=require("./toMap");module.exports={uris:toMap(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(require,module,exports){module.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(require,module,exports){var toMap=require("./toMap");module.exports={voids:toMap(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(require,module,exports){require("he");var assign=require("assignment"),parser=require("./parser"),sanitizer=require("./sanitizer"),defaults=require("./defaults");function insane(html,options,strict){var buffer=[],configuration=!0===strict?options:assign({},defaults,options),handler=sanitizer(buffer,configuration);return parser(html,handler),buffer.join("")}insane.defaults=defaults,module.exports=insane,__insane_func=insane},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(require,module,exports){module.exports=function lowercase(string){return"string"==typeof string?string.toLowerCase():string}},{}],6:[function(require,module,exports){module.exports=function assignment(result){for(var item,key,stack=Array.prototype.slice.call(arguments,1);stack.length;)for(key in item=stack.shift())item.hasOwnProperty(key)&&("[object Object]"===Object.prototype.toString.call(result[key])?result[key]=assignment(result[key],item[key]):result[key]=item[key]);return result}},{}],7:[function(require,module,exports){var he=require("he"),lowercase=require("./lowercase"),elements=(require("./attributes"),require("./elements")),rstart=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,rend=/^<\s*\/\s*([\w:-]+)[^>]*>/,rattrs=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,rtag=/^</,rtagend=/^<\s*\//;module.exports=function parser(html,handler){for(var chars,stack=function createStack(){var stack=[];return stack.lastItem=function lastItem(){return stack[stack.length-1]},stack}(),last=html;html;)parsePart();function parsePart(){chars=!0,function parseTag(){"\x3c!--"===html.substr(0,4)?function parseComment(){var index=html.indexOf("--\x3e");index>=0&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)}():rtagend.test(html)?parseEdge(rend,parseEndTag):rtag.test(html)&&parseEdge(rstart,parseStartTag),function parseTagDecode(){if(chars){var text,index=html.indexOf("<");index>=0?(text=html.substring(0,index),html=html.substring(index)):(text=html,html=""),handler.chars&&handler.chars(text)}}()}();var same=html===last;last=html,same&&(html="")}function parseEdge(regex,parser){var match=html.match(regex);match&&(html=html.substring(match[0].length),match[0].replace(regex,parser),chars=!1)}function parseStartTag(tag,tagName,rest,unary){var attrs={},low=lowercase(tagName),u=elements.voids[low]||!!unary;rest.replace(rattrs,function attrReplacer(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){attrs[name]=void 0===doubleQuotedValue&&void 0===singleQuotedValue&&void 0===unquotedValue?void 0:he.decode(doubleQuotedValue||singleQuotedValue||unquotedValue||"")}),u||stack.push(low),handler.start&&handler.start(low,attrs,u)}function parseEndTag(tag,tagName){var i,pos=0,low=lowercase(tagName);if(low)for(pos=stack.length-1;pos>=0&&stack[pos]!==low;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}parseEndTag()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(require,module,exports){var he=require("he"),lowercase=require("./lowercase"),attributes=require("./attributes"),elements=require("./elements");module.exports=function sanitizer(buffer,options){var context,o=options||{};return reset(),{start:function start(tag,attrs,unary){var low=lowercase(tag);context.ignoring?ignore(low):-1!==(o.allowedTags||[]).indexOf(low)&&(!o.filter||o.filter({tag:low,attrs:attrs}))?(out("<"),out(low),Object.keys(attrs).forEach(function parse(key){var valid,value=attrs[key],classesOk=(o.allowedClasses||{})[low]||[],attrsOk=(o.allowedAttributes||{})[low]||[];attrsOk=attrsOk.concat((o.allowedAttributes||{})["*"]||[]);var lkey=lowercase(key);"class"===lkey&&-1===attrsOk.indexOf(lkey)?(value=value.split(" ").filter(function isValidClass(className){return classesOk&&-1!==classesOk.indexOf(className)}).join(" ").trim(),valid=value.length):valid=-1!==attrsOk.indexOf(lkey)&&(!0!==attributes.uris[lkey]||function testUrl(text){var start=text[0];if("#"===start||"/"===start)return!0;var colon=text.indexOf(":");if(-1===colon)return!0;var questionmark=text.indexOf("?");if(-1!==questionmark&&colon>questionmark)return!0;var hash=text.indexOf("#");return-1!==hash&&colon>hash||o.allowedSchemes.some(function matches(scheme){return 0===text.indexOf(scheme+":")})}(value)),valid&&(out(" "),out(key),"string"==typeof value&&(out('="'),out(he.encode(value)),out('"')))}),out(unary?"/>":">")):ignore(low)},end:function end(tag){var low=lowercase(tag);-1!==(o.allowedTags||[]).indexOf(low)&&!1===context.ignoring?(out("</"),out(low),out(">")):unignore(low)},chars:function chars(text){!1===context.ignoring&&out(o.transformText?o.transformText(text):text)}};function out(value){buffer.push(value)}function ignore(tag){elements.voids[tag]||(!1===context.ignoring?context={ignoring:tag,depth:1}:context.ignoring===tag&&context.depth++)}function unignore(tag){context.ignoring===tag&&--context.depth<=0&&reset()}function reset(){context={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(require,module,exports){var escapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},unescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rescaped=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,runescaped=/[&<>"']/g;function escapeHtmlChar(match){return escapes[match]}function unescapeHtmlChar(match){return unescapes[match]}function escapeHtml(text){return null==text?"":String(text).replace(runescaped,escapeHtmlChar)}function unescapeHtml(html){return null==html?"":String(html).replace(rescaped,unescapeHtmlChar)}escapeHtml.options=unescapeHtml.options={},module.exports={encode:escapeHtml,escape:escapeHtml,decode:unescapeHtml,unescape:unescapeHtml,version:"1.0.0-browser"}},{}],10:[function(require,module,exports){function asKey(accumulator,item){return accumulator[item]=!0,accumulator}module.exports=function toMap(list){return list.reduce(asKey,{})}},{}]},{},[4]);var insane=__insane_func,marshalling=__webpack_require__(2488),objects=__webpack_require__(2327),strings=__webpack_require__(2299),common_uri=__webpack_require__(2313),network=__webpack_require__(2330),codicons=__webpack_require__(2316),resources=__webpack_require__(2331),browser_mouseEvent=__webpack_require__(2339);var common_opener=__webpack_require__(2344),modeService=__webpack_require__(2366),textToHtmlTokenizer=__webpack_require__(2479),instantiation=__webpack_require__(2300),common_event=__webpack_require__(2296),lifecycle=__webpack_require__(2294),modes=__webpack_require__(2308);__webpack_require__.d(__webpack_exports__,"a",function(){return markdownRenderer_MarkdownRenderer});var __param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let markdownRenderer_MarkdownRenderer=class MarkdownRenderer extends lifecycle.a{constructor(_editor,_modeService,_openerService=common_opener.b){super(),this._editor=_editor,this._modeService=_modeService,this._openerService=_openerService,this._onDidRenderCodeBlock=this._register(new common_event.a),this.onDidRenderCodeBlock=this._onDidRenderCodeBlock.event}getOptions(disposeables){return{codeBlockRenderer:(languageAlias,value)=>{let modeId=null;if(languageAlias)modeId=this._modeService.getModeIdForLanguageName(languageAlias);else{const model=this._editor.getModel();model&&(modeId=model.getLanguageIdentifier().language)}return this._modeService.triggerMode(modeId||""),Promise.resolve(!0).then(_=>{const promise=modes.C.getPromise(modeId||"");return promise?promise.then(support=>Object(textToHtmlTokenizer.b)(value,support)):Object(textToHtmlTokenizer.b)(value,void 0)}).then(code=>`<span style="font-family: ${this._editor.getOption(36).fontFamily}">${code}</span>`)},codeBlockRenderCallback:()=>this._onDidRenderCodeBlock.fire(),actionHandler:{callback:content=>{this._openerService.open(content,{fromUserGesture:!0}).catch(errors.e)},disposeables:disposeables}}}render(markdown){const disposeables=new lifecycle.b;let element;return{element:element=markdown?function renderMarkdown(markdown,options={},markedOptions={}){var _a;const element=Object(formattedTextRenderer.a)(options),_uriMassage=function(part){let data;try{data=Object(marshalling.a)(decodeURIComponent(part))}catch(e){}return data?(data=Object(objects.b)(data,value=>markdown.uris&&markdown.uris[value]?common_uri.a.revive(markdown.uris[value]):void 0),encodeURIComponent(JSON.stringify(data))):part},_href=function(href,isDomUri){const data=markdown.uris&&markdown.uris[href];if(!data)return href;let uri=common_uri.a.revive(data);return common_uri.a.parse(href).toString()===uri.toString()?href:isDomUri?dom.r(uri).toString(!0):(uri.query&&(uri=uri.with({query:_uriMassage(uri.query)})),uri.toString())};let signalInnerHTML;const withInnerHTML=new Promise(c=>signalInnerHTML=c),renderer=new marked.Renderer;renderer.image=(href,title,text)=>{let dimensions=[],attributes=[];if(href){({href:href,dimensions:dimensions}=Object(htmlContent.d)(href)),href=_href(href,!0);try{const hrefAsUri=common_uri.a.parse(href);options.baseUrl&&hrefAsUri.scheme===network.b.file&&(href=Object(resources.k)(options.baseUrl,href).toString())}catch(err){}attributes.push(`src="${href}"`)}return text&&attributes.push(`alt="${text}"`),title&&attributes.push(`title="${title}"`),dimensions.length&&(attributes=attributes.concat(dimensions)),"<img "+attributes.join(" ")+">"},renderer.link=(href,title,text)=>(href===text&&(text=Object(htmlContent.e)(text)),href=_href(href,!1),options.baseUrl&&(/^\w[\w\d+.-]*:/.test(href)||(href=Object(resources.k)(options.baseUrl,href).toString())),title=Object(htmlContent.e)(title),!(href=Object(htmlContent.e)(href))||href.match(/^data:|javascript:/i)||href.match(/^command:/i)&&!markdown.isTrusted||href.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?text:`<a href="#" data-href="${href=href.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${title||href}">${text}</a>`),renderer.paragraph=text=>`<p>${markdown.supportThemeIcons?Object(codicons.f)(text):text}</p>`,options.codeBlockRenderer&&(renderer.code=(code,lang)=>{const value=options.codeBlockRenderer(lang,code),id=idGenerator.b.nextId(),promise=Promise.all([value,withInnerHTML]).then(values=>{const strValue=values[0],span=element.querySelector(`div[data-code="${id}"]`);span&&(span.innerHTML=strValue)}).catch(err=>{});return options.codeBlockRenderCallback&&promise.then(options.codeBlockRenderCallback),`<div class="code" data-code="${id}">${Object(strings.u)(code)}</div>`});const actionHandler=options.actionHandler;actionHandler&&[dom.c.CLICK,dom.c.AUXCLICK].forEach(event=>{actionHandler.disposeables.add(dom.i(element,event,e=>{const mouseEvent=new browser_mouseEvent.a(e);if(!mouseEvent.leftButton&&!mouseEvent.middleButton)return;let target=mouseEvent.target;if("A"===target.tagName||(target=target.parentElement)&&"A"===target.tagName)try{const href=target.dataset.href;href&&actionHandler.callback(href,mouseEvent)}catch(err){Object(errors.e)(err)}finally{mouseEvent.preventDefault()}}))}),markedOptions.sanitizer=html=>(markdown.isTrusted?html.match(/^(<span[^<]+>)|(<\/\s*span>)$/):void 0)?html:"",markedOptions.sanitize=!0,markedOptions.renderer=renderer;const allowedSchemes=[network.b.http,network.b.https,network.b.mailto,network.b.data,network.b.file,network.b.vscodeRemote,network.b.vscodeRemoteResource];markdown.isTrusted&&allowedSchemes.push(network.b.command);let value=null!==(_a=markdown.value)&&void 0!==_a?_a:"";value.length>1e5&&(value=`${value.substr(0,1e5)}`);const renderedMarkdown=marked.parse(markdown.supportThemeIcons?Object(codicons.d)(value):value,markedOptions);return element.innerHTML=insane(renderedMarkdown,{allowedSchemes:allowedSchemes,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:function filter(token){return!("span"===token.tag&&markdown.isTrusted&&1===Object.keys(token.attrs).length&&(token.attrs.style?!token.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!token.attrs.class||!token.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-animation-[a-z\-]+)?$/)))}}),signalInnerHTML(),element}(markdown,this.getOptions(disposeables)):document.createElement("span"),dispose:()=>disposeables.dispose()}}};markdownRenderer_MarkdownRenderer=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([__param(1,modeService.a),__param(2,Object(instantiation.d)(common_opener.a))],markdownRenderer_MarkdownRenderer)},2427:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return renderText}),__webpack_require__.d(__webpack_exports__,"b",function(){return renderFormattedText}),__webpack_require__.d(__webpack_exports__,"a",function(){return createElement});var _dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2298);function renderText(text,options={}){const element=createElement(options);return element.textContent=text,element}function renderFormattedText(formattedText,options={}){const element=createElement(options);return function _renderFormattedText(element,treeNode,actionHandler){let child;if(2===treeNode.type)child=document.createTextNode(treeNode.content||"");else if(3===treeNode.type)child=document.createElement("b");else if(4===treeNode.type)child=document.createElement("i");else if(5===treeNode.type&&actionHandler){const a=document.createElement("a");a.href="#",actionHandler.disposeables.add(_dom_js__WEBPACK_IMPORTED_MODULE_0__.n(a,"click",event=>{actionHandler.callback(String(treeNode.index),event)})),child=a}else 7===treeNode.type?child=document.createElement("br"):1===treeNode.type&&(child=element);child&&element!==child&&element.appendChild(child);child&&Array.isArray(treeNode.children)&&treeNode.children.forEach(nodeChild=>{_renderFormattedText(child,nodeChild,actionHandler)})}(element,function parseFormattedText(content){const root={type:1,children:[]};let actionViewItemIndex=0,current=root;const stack=[],stream=new StringStream(content);for(;!stream.eos();){let next=stream.next();const isEscapedFormatType="\\"===next&&0!==formatTagType(stream.peek());if(isEscapedFormatType&&(next=stream.next()),isEscapedFormatType||0===formatTagType(next)||next!==stream.peek())if("\n"===next)2===current.type&&(current=stack.pop()),current.children.push({type:7});else if(2!==current.type){const textCurrent={type:2,content:next};current.children.push(textCurrent),stack.push(current),current=textCurrent}else current.content+=next;else{stream.advance(),2===current.type&&(current=stack.pop());const type=formatTagType(next);if(current.type===type||5===current.type&&6===type)current=stack.pop();else{const newCurrent={type:type,children:[]};5===type&&(newCurrent.index=actionViewItemIndex,actionViewItemIndex++),current.children.push(newCurrent),stack.push(current),current=newCurrent}}}2===current.type&&(current=stack.pop());stack.length;return root}(formattedText),options.actionHandler),element}function createElement(options){const tagName=options.inline?"span":"div",element=document.createElement(tagName);return options.className&&(element.className=options.className),element}class StringStream{constructor(source){this.source=source,this.index=0}eos(){return this.index>=this.source.length}next(){const next=this.peek();return this.advance(),next}peek(){return this.source[this.index]}advance(){this.index++}}function formatTagType(char){switch(char){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}},2428:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return TabFocus}),__webpack_require__.d(__webpack_exports__,"a",function(){return CommonEditorConfiguration}),__webpack_require__.d(__webpack_exports__,"d",function(){return isEditorConfigurationKey}),__webpack_require__.d(__webpack_exports__,"c",function(){return isDiffEditorConfigurationKey});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2294),_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2327),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2309),_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2328),_editorZoom_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2396),_fontInfo_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2429),_platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2375),_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2324),_base_common_collections_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2461);const TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(tabFocusMode){this._tabFocus!==tabFocusMode&&(this._tabFocus=tabFocusMode,this._onDidChangeTabFocus.fire(this._tabFocus))}},hasOwnProperty=Object.hasOwnProperty;class ComputedEditorOptions{constructor(){this._values=[]}_read(id){return this._values[id]}get(id){return this._values[id]}_write(id,value){this._values[id]=value}}class RawEditorOptions{constructor(){this._values=[]}_read(id){return this._values[id]}_write(id,value){this._values[id]=value}}class EditorConfiguration2{static readOptions(_options){const options=_options,result=new RawEditorOptions;for(const editorOption of _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.k){const value="_never_"===editorOption.name?void 0:options[editorOption.name];result._write(editorOption.id,value)}return result}static validateOptions(options){const result=new _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.j;for(const editorOption of _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.k)result._write(editorOption.id,editorOption.validate(options._read(editorOption.id)));return result}static computeOptions(options,env){const result=new ComputedEditorOptions;for(const editorOption of _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.k)result._write(editorOption.id,editorOption.compute(env,result,options._read(editorOption.id)));return result}static _deepEquals(a,b){if("object"!=typeof a||"object"!=typeof b)return a===b;if(Array.isArray(a)||Array.isArray(b))return!(!Array.isArray(a)||!Array.isArray(b))&&_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.g(a,b);for(let key in a)if(!EditorConfiguration2._deepEquals(a[key],b[key]))return!1;return!0}static checkEquals(a,b){const result=[];let somethingChanged=!1;for(const editorOption of _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.k){const changed=!EditorConfiguration2._deepEquals(a._read(editorOption.id),b._read(editorOption.id));result[editorOption.id]=changed,changed&&(somethingChanged=!0)}return somethingChanged?new _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.b(result):null}}function deepCloneAndMigrateOptions(_options){const options=_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__.c(_options);return function migrateOptions(options){const wordWrap=options.wordWrap;!0===wordWrap?options.wordWrap="on":!1===wordWrap&&(options.wordWrap="off");const lineNumbers=options.lineNumbers;!0===lineNumbers?options.lineNumbers="on":!1===lineNumbers&&(options.lineNumbers="off"),!1===options.autoClosingBrackets&&(options.autoClosingBrackets="never",options.autoClosingQuotes="never",options.autoSurround="never"),"visible"===options.cursorBlinking&&(options.cursorBlinking="solid");const renderWhitespace=options.renderWhitespace;!0===renderWhitespace?options.renderWhitespace="boundary":!1===renderWhitespace&&(options.renderWhitespace="none");const renderLineHighlight=options.renderLineHighlight;!0===renderLineHighlight?options.renderLineHighlight="line":!1===renderLineHighlight&&(options.renderLineHighlight="none");const acceptSuggestionOnEnter=options.acceptSuggestionOnEnter;!0===acceptSuggestionOnEnter?options.acceptSuggestionOnEnter="on":!1===acceptSuggestionOnEnter&&(options.acceptSuggestionOnEnter="off");const tabCompletion=options.tabCompletion;!1===tabCompletion?options.tabCompletion="off":!0===tabCompletion&&(options.tabCompletion="onlySnippets");const suggest=options.suggest;if(suggest&&"object"==typeof suggest.filteredTypes&&suggest.filteredTypes){const mapping={method:"showMethods",function:"showFunctions",constructor:"showConstructors",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Object(_base_common_collections_js__WEBPACK_IMPORTED_MODULE_10__.b)(mapping,entry=>{const value=suggest.filteredTypes[entry.key];!1===value&&(suggest[entry.value]=value)})}const hover=options.hover;!0===hover?options.hover={enabled:!0}:!1===hover&&(options.hover={enabled:!1});const parameterHints=options.parameterHints;!0===parameterHints?options.parameterHints={enabled:!0}:!1===parameterHints&&(options.parameterHints={enabled:!1});const autoIndent=options.autoIndent;!0===autoIndent?options.autoIndent="full":!1===autoIndent&&(options.autoIndent="advanced");const matchBrackets=options.matchBrackets;!0===matchBrackets?options.matchBrackets="always":!1===matchBrackets&&(options.matchBrackets="never")}(options),options}class CommonEditorConfiguration extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__.a{constructor(isSimpleWidget,_options){super(),this._onDidChange=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=isSimpleWidget,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.a,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=deepCloneAndMigrateOptions(_options),this._readOptions=EditorConfiguration2.readOptions(this._rawOptions),this._validatedOptions=EditorConfiguration2.validateOptions(this._readOptions),this._register(_editorZoom_js__WEBPACK_IMPORTED_MODULE_6__.a.onDidChangeZoomLevel(_=>this._recomputeOptions())),this._register(TabFocus.onDidChangeTabFocus(_=>this._recomputeOptions()))}observeReferenceElement(dimension){}dispose(){super.dispose()}_recomputeOptions(){const oldOptions=this.options,newOptions=this._computeInternalOptions();if(oldOptions){const changeEvent=EditorConfiguration2.checkEquals(oldOptions,newOptions);if(null===changeEvent)return;this.options=newOptions,this._onDidChangeFast.fire(changeEvent),this._onDidChange.fire(changeEvent)}else this.options=newOptions}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const partialEnv=this._getEnvConfiguration(),bareFontInfo=_fontInfo_js__WEBPACK_IMPORTED_MODULE_7__.a.createFromValidatedSettings(this._validatedOptions,partialEnv.zoomLevel,this.isSimpleWidget),env={memory:this._computeOptionsMemory,outerWidth:partialEnv.outerWidth,outerHeight:partialEnv.outerHeight,fontInfo:this.readConfiguration(bareFontInfo),extraEditorClassName:partialEnv.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:partialEnv.emptySelectionClipboard,pixelRatio:partialEnv.pixelRatio,tabFocusMode:TabFocus.getTabFocusMode(),accessibilitySupport:partialEnv.accessibilitySupport};return EditorConfiguration2.computeOptions(this._validatedOptions,env)}static _subsetEquals(base,subset){for(const key in subset)if(hasOwnProperty.call(subset,key)){const subsetValue=subset[key],baseValue=base[key];if(baseValue===subsetValue)continue;if(Array.isArray(baseValue)&&Array.isArray(subsetValue)){if(!_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_4__.g(baseValue,subsetValue))return!1;continue}if(baseValue&&"object"==typeof baseValue&&subsetValue&&"object"==typeof subsetValue){if(!this._subsetEquals(baseValue,subsetValue))return!1;continue}return!1}return!0}updateOptions(_newOptions){if(void 0===_newOptions)return;const newOptions=deepCloneAndMigrateOptions(_newOptions);CommonEditorConfiguration._subsetEquals(this._rawOptions,newOptions)||(this._rawOptions=_base_common_objects_js__WEBPACK_IMPORTED_MODULE_3__.g(this._rawOptions,newOptions||{}),this._readOptions=EditorConfiguration2.readOptions(this._rawOptions),this._validatedOptions=EditorConfiguration2.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(isDominatedByLongLines){this._isDominatedByLongLines=isDominatedByLongLines,this._recomputeOptions()}setMaxLineNumber(maxLineNumber){const lineNumbersDigitCount=CommonEditorConfiguration._digitCount(maxLineNumber);this._lineNumbersDigitCount!==lineNumbersDigitCount&&(this._lineNumbersDigitCount=lineNumbersDigitCount,this._recomputeOptions())}setViewLineCount(viewLineCount){this._viewLineCount!==viewLineCount&&(this._viewLineCount=viewLineCount,this._recomputeOptions())}static _digitCount(n){let r=0;for(;n;)n=Math.floor(n/10),r++;return r||1}}const editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editorConfigurationTitle","Editor"),scope:5}),configurationRegistry=_platform_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_9__.a.as(_platform_configuration_common_configurationRegistry_js__WEBPACK_IMPORTED_MODULE_8__.a.Configuration),editorConfiguration=Object.assign(Object.assign({},editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.d.tabSize,minimum:1,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.d.insertSpaces,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.d.detectIndentation,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.d.trimAutoWhitespace,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:_editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.d.largeFileOptimizations,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("codeLens","Controls whether the editor shows CodeLens.")}}});for(const editorOption of _editorOptions_js__WEBPACK_IMPORTED_MODULE_5__.k){const schema=editorOption.schema;if(void 0!==schema)if(void 0!==(x=schema).type||void 0!==x.anyOf)editorConfiguration.properties[`editor.${editorOption.name}`]=schema;else for(let key in schema)hasOwnProperty.call(schema,key)&&(editorConfiguration.properties[key]=schema[key])}var x;let cachedEditorConfigurationKeys=null;function getEditorConfigurationKeys(){return null===cachedEditorConfigurationKeys&&(cachedEditorConfigurationKeys=Object.create(null),Object.keys(editorConfiguration.properties).forEach(prop=>{cachedEditorConfigurationKeys[prop]=!0})),cachedEditorConfigurationKeys}function isEditorConfigurationKey(key){return getEditorConfigurationKeys()[`editor.${key}`]||!1}function isDiffEditorConfigurationKey(key){return getEditorConfigurationKeys()[`diffEditor.${key}`]||!1}configurationRegistry.registerConfiguration(editorConfiguration)},2429:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BareFontInfo}),__webpack_require__.d(__webpack_exports__,"b",function(){return FontInfo});var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2305),_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2396);const GOLDEN_LINE_HEIGHT_RATIO=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.f?1.5:1.35,MINIMUM_LINE_HEIGHT=8;class BareFontInfo{constructor(opts){this.zoomLevel=opts.zoomLevel,this.fontFamily=String(opts.fontFamily),this.fontWeight=String(opts.fontWeight),this.fontSize=opts.fontSize,this.fontFeatureSettings=opts.fontFeatureSettings,this.lineHeight=0|opts.lineHeight,this.letterSpacing=opts.letterSpacing}static createFromValidatedSettings(options,zoomLevel,ignoreEditorZoom){const fontFamily=options.get(35),fontWeight=options.get(39),fontSize=options.get(38),fontFeatureSettings=options.get(37),lineHeight=options.get(51),letterSpacing=options.get(48);return BareFontInfo._create(fontFamily,fontWeight,fontSize,fontFeatureSettings,lineHeight,letterSpacing,zoomLevel,ignoreEditorZoom)}static _create(fontFamily,fontWeight,fontSize,fontFeatureSettings,lineHeight,letterSpacing,zoomLevel,ignoreEditorZoom){0===lineHeight?lineHeight=Math.round(GOLDEN_LINE_HEIGHT_RATIO*fontSize):lineHeight<MINIMUM_LINE_HEIGHT&&(lineHeight=MINIMUM_LINE_HEIGHT);const editorZoomLevelMultiplier=1+(ignoreEditorZoom?0:.1*_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__.a.getZoomLevel());return new BareFontInfo({zoomLevel:zoomLevel,fontFamily:fontFamily,fontWeight:fontWeight,fontSize:fontSize*=editorZoomLevelMultiplier,fontFeatureSettings:fontFeatureSettings,lineHeight:lineHeight*=editorZoomLevelMultiplier,letterSpacing:letterSpacing})}getId(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}class FontInfo extends BareFontInfo{constructor(opts,isTrusted){super(opts),this.isTrusted=isTrusted,this.isMonospace=opts.isMonospace,this.typicalHalfwidthCharacterWidth=opts.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=opts.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=opts.canUseHalfwidthRightwardsArrow,this.spaceWidth=opts.spaceWidth,this.middotWidth=opts.middotWidth,this.wsmiddotWidth=opts.wsmiddotWidth,this.maxDigitWidth=opts.maxDigitWidth}equals(other){return this.fontFamily===other.fontFamily&&this.fontWeight===other.fontWeight&&this.fontSize===other.fontSize&&this.fontFeatureSettings===other.fontFeatureSettings&&this.lineHeight===other.lineHeight&&this.letterSpacing===other.letterSpacing&&this.typicalHalfwidthCharacterWidth===other.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===other.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===other.canUseHalfwidthRightwardsArrow&&this.spaceWidth===other.spaceWidth&&this.middotWidth===other.middotWidth&&this.wsmiddotWidth===other.wsmiddotWidth&&this.maxDigitWidth===other.maxDigitWidth}}},2430:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SearchParams}),__webpack_require__.d(__webpack_exports__,"d",function(){return createFindMatch}),__webpack_require__.d(__webpack_exports__,"c",function(){return TextModelSearch}),__webpack_require__.d(__webpack_exports__,"e",function(){return isValidMatch}),__webpack_require__.d(__webpack_exports__,"b",function(){return Searcher});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2386),_core_position_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2303),_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2295),_model_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2340);const LIMIT_FIND_COUNT=999;class SearchParams{constructor(searchString,isRegex,matchCase,wordSeparators){this.searchString=searchString,this.isRegex=isRegex,this.matchCase=matchCase,this.wordSeparators=wordSeparators}parseSearchRequest(){if(""===this.searchString)return null;let multiline;multiline=this.isRegex?function isMultilineRegexSource(searchString){if(!searchString||0===searchString.length)return!1;for(let i=0,len=searchString.length;i<len;i++){const chCode=searchString.charCodeAt(i);if(92===chCode){if(++i>=len)break;const nextChCode=searchString.charCodeAt(i);if(110===nextChCode||114===nextChCode||87===nextChCode||119===nextChCode)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let regex=null;try{regex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.q(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:multiline,global:!0,unicode:!0})}catch(err){return null}if(!regex)return null;let canUseSimpleSearch=!this.isRegex&&!multiline;return canUseSimpleSearch&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(canUseSimpleSearch=this.matchCase),new SearchData(regex,this.wordSeparators?Object(_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_1__.a)(this.wordSeparators):null,canUseSimpleSearch?this.searchString:null)}}class SearchData{constructor(regex,wordSeparators,simpleSearch){this.regex=regex,this.wordSeparators=wordSeparators,this.simpleSearch=simpleSearch}}function createFindMatch(range,rawMatches,captureMatches){if(!captureMatches)return new _model_js__WEBPACK_IMPORTED_MODULE_4__.b(range,null);let matches=[];for(let i=0,len=rawMatches.length;i<len;i++)matches[i]=rawMatches[i];return new _model_js__WEBPACK_IMPORTED_MODULE_4__.b(range,matches)}class LineFeedCounter{constructor(text){let lineFeedsOffsets=[],lineFeedsOffsetsLen=0;for(let i=0,textLen=text.length;i<textLen;i++)10===text.charCodeAt(i)&&(lineFeedsOffsets[lineFeedsOffsetsLen++]=i);this._lineFeedsOffsets=lineFeedsOffsets}findLineFeedCountBeforeOffset(offset){const lineFeedsOffsets=this._lineFeedsOffsets;let min=0,max=lineFeedsOffsets.length-1;if(-1===max)return 0;if(offset<=lineFeedsOffsets[0])return 0;for(;min<max;){const mid=min+((max-min)/2>>0);lineFeedsOffsets[mid]>=offset?max=mid-1:lineFeedsOffsets[mid+1]>=offset?(min=mid,max=mid):min=mid+1}return min+1}}class TextModelSearch{static findMatches(model,searchParams,searchRange,captureMatches,limitResultCount){const searchData=searchParams.parseSearchRequest();return searchData?searchData.regex.multiline?this._doFindMatchesMultiline(model,searchRange,new Searcher(searchData.wordSeparators,searchData.regex),captureMatches,limitResultCount):this._doFindMatchesLineByLine(model,searchRange,searchData,captureMatches,limitResultCount):[]}static _getMultilineMatchRange(model,deltaOffset,text,lfCounter,matchIndex,match0){let startOffset,endOffset,lineFeedCountBeforeMatch=0;if(startOffset=lfCounter?deltaOffset+matchIndex+(lineFeedCountBeforeMatch=lfCounter.findLineFeedCountBeforeOffset(matchIndex)):deltaOffset+matchIndex,lfCounter){let lineFeedCountInMatch=lfCounter.findLineFeedCountBeforeOffset(matchIndex+match0.length)-lineFeedCountBeforeMatch;endOffset=startOffset+match0.length+lineFeedCountInMatch}else endOffset=startOffset+match0.length;const startPosition=model.getPositionAt(startOffset),endPosition=model.getPositionAt(endOffset);return new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(startPosition.lineNumber,startPosition.column,endPosition.lineNumber,endPosition.column)}static _doFindMatchesMultiline(model,searchRange,searcher,captureMatches,limitResultCount){const deltaOffset=model.getOffsetAt(searchRange.getStartPosition()),text=model.getValueInRange(searchRange,1),lfCounter="\r\n"===model.getEOL()?new LineFeedCounter(text):null,result=[];let m,counter=0;for(searcher.reset(0);m=searcher.next(text);)if(result[counter++]=createFindMatch(this._getMultilineMatchRange(model,deltaOffset,text,lfCounter,m.index,m[0]),m,captureMatches),counter>=limitResultCount)return result;return result}static _doFindMatchesLineByLine(model,searchRange,searchData,captureMatches,limitResultCount){const result=[];let resultLen=0;if(searchRange.startLineNumber===searchRange.endLineNumber){const text=model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn-1,searchRange.endColumn-1);return resultLen=this._findMatchesInLine(searchData,text,searchRange.startLineNumber,searchRange.startColumn-1,resultLen,result,captureMatches,limitResultCount),result}const text=model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn-1);resultLen=this._findMatchesInLine(searchData,text,searchRange.startLineNumber,searchRange.startColumn-1,resultLen,result,captureMatches,limitResultCount);for(let lineNumber=searchRange.startLineNumber+1;lineNumber<searchRange.endLineNumber&&resultLen<limitResultCount;lineNumber++)resultLen=this._findMatchesInLine(searchData,model.getLineContent(lineNumber),lineNumber,0,resultLen,result,captureMatches,limitResultCount);if(resultLen<limitResultCount){const text=model.getLineContent(searchRange.endLineNumber).substring(0,searchRange.endColumn-1);resultLen=this._findMatchesInLine(searchData,text,searchRange.endLineNumber,0,resultLen,result,captureMatches,limitResultCount)}return result}static _findMatchesInLine(searchData,text,lineNumber,deltaOffset,resultLen,result,captureMatches,limitResultCount){const wordSeparators=searchData.wordSeparators;if(!captureMatches&&searchData.simpleSearch){const searchString=searchData.simpleSearch,searchStringLen=searchString.length,textLength=text.length;let lastMatchIndex=-searchStringLen;for(;-1!==(lastMatchIndex=text.indexOf(searchString,lastMatchIndex+searchStringLen));)if((!wordSeparators||isValidMatch(wordSeparators,text,textLength,lastMatchIndex,searchStringLen))&&(result[resultLen++]=new _model_js__WEBPACK_IMPORTED_MODULE_4__.b(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,lastMatchIndex+1+deltaOffset,lineNumber,lastMatchIndex+1+searchStringLen+deltaOffset),null),resultLen>=limitResultCount))return resultLen;return resultLen}const searcher=new Searcher(searchData.wordSeparators,searchData.regex);let m;searcher.reset(0);do{if((m=searcher.next(text))&&(result[resultLen++]=createFindMatch(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,m.index+1+deltaOffset,lineNumber,m.index+1+m[0].length+deltaOffset),m,captureMatches),resultLen>=limitResultCount))return resultLen}while(m);return resultLen}static findNextMatch(model,searchParams,searchStart,captureMatches){const searchData=searchParams.parseSearchRequest();if(!searchData)return null;const searcher=new Searcher(searchData.wordSeparators,searchData.regex);return searchData.regex.multiline?this._doFindNextMatchMultiline(model,searchStart,searcher,captureMatches):this._doFindNextMatchLineByLine(model,searchStart,searcher,captureMatches)}static _doFindNextMatchMultiline(model,searchStart,searcher,captureMatches){const searchTextStart=new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(searchStart.lineNumber,1),deltaOffset=model.getOffsetAt(searchTextStart),lineCount=model.getLineCount(),text=model.getValueInRange(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(searchTextStart.lineNumber,searchTextStart.column,lineCount,model.getLineMaxColumn(lineCount)),1),lfCounter="\r\n"===model.getEOL()?new LineFeedCounter(text):null;searcher.reset(searchStart.column-1);let m=searcher.next(text);return m?createFindMatch(this._getMultilineMatchRange(model,deltaOffset,text,lfCounter,m.index,m[0]),m,captureMatches):1!==searchStart.lineNumber||1!==searchStart.column?this._doFindNextMatchMultiline(model,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(1,1),searcher,captureMatches):null}static _doFindNextMatchLineByLine(model,searchStart,searcher,captureMatches){const lineCount=model.getLineCount(),startLineNumber=searchStart.lineNumber,text=model.getLineContent(startLineNumber),r=this._findFirstMatchInLine(searcher,text,startLineNumber,searchStart.column,captureMatches);if(r)return r;for(let i=1;i<=lineCount;i++){const lineIndex=(startLineNumber+i-1)%lineCount,text=model.getLineContent(lineIndex+1),r=this._findFirstMatchInLine(searcher,text,lineIndex+1,1,captureMatches);if(r)return r}return null}static _findFirstMatchInLine(searcher,text,lineNumber,fromColumn,captureMatches){searcher.reset(fromColumn-1);const m=searcher.next(text);return m?createFindMatch(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,m.index+1,lineNumber,m.index+1+m[0].length),m,captureMatches):null}static findPreviousMatch(model,searchParams,searchStart,captureMatches){const searchData=searchParams.parseSearchRequest();if(!searchData)return null;const searcher=new Searcher(searchData.wordSeparators,searchData.regex);return searchData.regex.multiline?this._doFindPreviousMatchMultiline(model,searchStart,searcher,captureMatches):this._doFindPreviousMatchLineByLine(model,searchStart,searcher,captureMatches)}static _doFindPreviousMatchMultiline(model,searchStart,searcher,captureMatches){const matches=this._doFindMatchesMultiline(model,new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(1,1,searchStart.lineNumber,searchStart.column),searcher,captureMatches,10*LIMIT_FIND_COUNT);if(matches.length>0)return matches[matches.length-1];const lineCount=model.getLineCount();return searchStart.lineNumber!==lineCount||searchStart.column!==model.getLineMaxColumn(lineCount)?this._doFindPreviousMatchMultiline(model,new _core_position_js__WEBPACK_IMPORTED_MODULE_2__.a(lineCount,model.getLineMaxColumn(lineCount)),searcher,captureMatches):null}static _doFindPreviousMatchLineByLine(model,searchStart,searcher,captureMatches){const lineCount=model.getLineCount(),startLineNumber=searchStart.lineNumber,text=model.getLineContent(startLineNumber).substring(0,searchStart.column-1),r=this._findLastMatchInLine(searcher,text,startLineNumber,captureMatches);if(r)return r;for(let i=1;i<=lineCount;i++){const lineIndex=(lineCount+startLineNumber-i-1)%lineCount,text=model.getLineContent(lineIndex+1),r=this._findLastMatchInLine(searcher,text,lineIndex+1,captureMatches);if(r)return r}return null}static _findLastMatchInLine(searcher,text,lineNumber,captureMatches){let m,bestResult=null;for(searcher.reset(0);m=searcher.next(text);)bestResult=createFindMatch(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__.a(lineNumber,m.index+1,lineNumber,m.index+1+m[0].length),m,captureMatches);return bestResult}}function isValidMatch(wordSeparators,text,textLength,matchStartIndex,matchLength){return function leftIsWordBounday(wordSeparators,text,textLength,matchStartIndex,matchLength){if(0===matchStartIndex)return!0;const charBefore=text.charCodeAt(matchStartIndex-1);if(0!==wordSeparators.get(charBefore))return!0;if(13===charBefore||10===charBefore)return!0;if(matchLength>0){const firstCharInMatch=text.charCodeAt(matchStartIndex);if(0!==wordSeparators.get(firstCharInMatch))return!0}return!1}(wordSeparators,text,0,matchStartIndex,matchLength)&&function rightIsWordBounday(wordSeparators,text,textLength,matchStartIndex,matchLength){if(matchStartIndex+matchLength===textLength)return!0;const charAfter=text.charCodeAt(matchStartIndex+matchLength);if(0!==wordSeparators.get(charAfter))return!0;if(13===charAfter||10===charAfter)return!0;if(matchLength>0){const lastCharInMatch=text.charCodeAt(matchStartIndex+matchLength-1);if(0!==wordSeparators.get(lastCharInMatch))return!0}return!1}(wordSeparators,text,textLength,matchStartIndex,matchLength)}class Searcher{constructor(wordSeparators,searchRegex){this._wordSeparators=wordSeparators,this._searchRegex=searchRegex,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(lastIndex){this._searchRegex.lastIndex=lastIndex,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(text){const textLength=text.length;let m;do{if(this._prevMatchStartIndex+this._prevMatchLength===textLength)return null;if(!(m=this._searchRegex.exec(text)))return null;const matchStartIndex=m.index,matchLength=m[0].length;if(matchStartIndex===this._prevMatchStartIndex&&matchLength===this._prevMatchLength){if(0===matchLength){_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.A(text,textLength,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=matchStartIndex,this._prevMatchLength=matchLength,!this._wordSeparators||isValidMatch(this._wordSeparators,text,textLength,matchStartIndex,matchLength))return m}while(m);return null}}},2431:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StopWatch});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2305);const hasPerformanceNow=_platform_js__WEBPACK_IMPORTED_MODULE_0__.b.performance&&"function"==typeof _platform_js__WEBPACK_IMPORTED_MODULE_0__.b.performance.now;class StopWatch{constructor(highResolution){this._highResolution=hasPerformanceNow&&highResolution,this._startTime=this._now(),this._stopTime=-1}static create(highResolution=!0){return new StopWatch(highResolution)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?_platform_js__WEBPACK_IMPORTED_MODULE_0__.b.performance.now():(new Date).getTime()}}},2432:function(module,__webpack_exports__,__webpack_require__){"use strict";function createScopedLineTokens(context,offset){let tokenCount=context.getCount(),tokenIndex=context.findTokenIndexAtOffset(offset),desiredLanguageId=context.getLanguageId(tokenIndex),lastTokenIndex=tokenIndex;for(;lastTokenIndex+1<tokenCount&&context.getLanguageId(lastTokenIndex+1)===desiredLanguageId;)lastTokenIndex++;let firstTokenIndex=tokenIndex;for(;firstTokenIndex>0&&context.getLanguageId(firstTokenIndex-1)===desiredLanguageId;)firstTokenIndex--;return new ScopedLineTokens(context,desiredLanguageId,firstTokenIndex,lastTokenIndex+1,context.getStartOffset(firstTokenIndex),context.getEndOffset(lastTokenIndex))}__webpack_require__.d(__webpack_exports__,"a",function(){return createScopedLineTokens}),__webpack_require__.d(__webpack_exports__,"b",function(){return ignoreBracketsInToken});class ScopedLineTokens{constructor(actual,languageId,firstTokenIndex,lastTokenIndex,firstCharOffset,lastCharOffset){this._actual=actual,this.languageId=languageId,this._firstTokenIndex=firstTokenIndex,this._lastTokenIndex=lastTokenIndex,this.firstCharOffset=firstCharOffset,this._lastCharOffset=lastCharOffset}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(offset){return this._actual.getLineContent().substring(0,this.firstCharOffset+offset)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(offset){return this._actual.findTokenIndexAtOffset(offset+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(tokenIndex){return this._actual.getStandardTokenType(tokenIndex+this._firstTokenIndex)}}function ignoreBracketsInToken(standardTokenType){return 0!=(7&standardTokenType)}},2433:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return RichEditBrackets}),__webpack_require__.d(__webpack_exports__,"a",function(){return BracketsUtils});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2376),_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2295);class RichEditBracket{constructor(languageIdentifier,index,open,close,forwardRegex,reversedRegex){this.languageIdentifier=languageIdentifier,this.index=index,this.open=open,this.close=close,this.forwardRegex=forwardRegex,this.reversedRegex=reversedRegex,this._openSet=RichEditBracket._toSet(this.open),this._closeSet=RichEditBracket._toSet(this.close)}isOpen(text){return this._openSet.has(text)}isClose(text){return this._closeSet.has(text)}static _toSet(arr){const result=new Set;for(const element of arr)result.add(element);return result}}class RichEditBrackets{constructor(languageIdentifier,_brackets){const brackets=function groupFuzzyBrackets(brackets){const N=brackets.length;brackets=brackets.map(b=>[b[0].toLowerCase(),b[1].toLowerCase()]);const group=[];for(let i=0;i<N;i++)group[i]=i;const areOverlapping=(a,b)=>{const[aOpen,aClose]=a,[bOpen,bClose]=b;return aOpen===bOpen||aOpen===bClose||aClose===bOpen||aClose===bClose},mergeGroups=(g1,g2)=>{const newG=Math.min(g1,g2),oldG=Math.max(g1,g2);for(let i=0;i<N;i++)group[i]===oldG&&(group[i]=newG)};for(let i=0;i<N;i++){const a=brackets[i];for(let j=i+1;j<N;j++)areOverlapping(a,brackets[j])&&mergeGroups(group[i],group[j])}const result=[];for(let g=0;g<N;g++){let currentOpen=[],currentClose=[];for(let i=0;i<N;i++)if(group[i]===g){const[open,close]=brackets[i];currentOpen.push(open),currentClose.push(close)}currentOpen.length>0&&result.push({open:currentOpen,close:currentClose})}return result}(_brackets);this.brackets=brackets.map((b,index)=>new RichEditBracket(languageIdentifier,index,b.open,b.close,function getRegexForBracketPair(open,close,brackets,currentIndex){let pieces=[];pieces=(pieces=pieces.concat(open)).concat(close);for(let i=0,len=pieces.length;i<len;i++)collectSuperstrings(pieces[i],brackets,currentIndex,pieces);return(pieces=unique(pieces)).sort(lengthcmp),pieces.reverse(),createBracketOrRegExp(pieces)}(b.open,b.close,brackets,index),function getReversedRegexForBracketPair(open,close,brackets,currentIndex){let pieces=[];pieces=(pieces=pieces.concat(open)).concat(close);for(let i=0,len=pieces.length;i<len;i++)collectSuperstrings(pieces[i],brackets,currentIndex,pieces);return(pieces=unique(pieces)).sort(lengthcmp),pieces.reverse(),createBracketOrRegExp(pieces.map(toReversedString))}(b.open,b.close,brackets,index))),this.forwardRegex=function getRegexForBrackets(brackets){let pieces=[];for(const bracket of brackets){for(const open of bracket.open)pieces.push(open);for(const close of bracket.close)pieces.push(close)}return createBracketOrRegExp(pieces=unique(pieces))}(this.brackets),this.reversedRegex=function getReversedRegexForBrackets(brackets){let pieces=[];for(const bracket of brackets){for(const open of bracket.open)pieces.push(open);for(const close of bracket.close)pieces.push(close)}return createBracketOrRegExp((pieces=unique(pieces)).map(toReversedString))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const bracket of this.brackets){for(const open of bracket.open)this.textIsBracket[open]=bracket,this.textIsOpenBracket[open]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,open.length);for(const close of bracket.close)this.textIsBracket[close]=bracket,this.textIsOpenBracket[close]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,close.length)}}}function collectSuperstrings(str,brackets,currentIndex,dest){for(let i=0,len=brackets.length;i<len;i++){if(i===currentIndex)continue;const bracket=brackets[i];for(const open of bracket.open)open.indexOf(str)>=0&&dest.push(open);for(const close of bracket.close)close.indexOf(str)>=0&&dest.push(close)}}function lengthcmp(a,b){return a.length-b.length}function unique(arr){if(arr.length<=1)return arr;const result=[],seen=new Set;for(const element of arr)seen.has(element)||(result.push(element),seen.add(element));return result}function prepareBracketForRegExp(str){const insertWordBoundaries=/^[\w ]+$/.test(str);return str=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.v(str),insertWordBoundaries?`\\b${str}\\b`:str}function createBracketOrRegExp(pieces){let regexStr=`(${pieces.map(prepareBracketForRegExp).join(")|(")})`;return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.q(regexStr,!0)}const toReversedString=function(){let lastInput=null,lastOutput=null;return function toReversedString(str){return lastInput!==str&&(lastOutput=function reverse(str){if(_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__.d){const arr=new Uint16Array(str.length);let offset=0;for(let i=str.length-1;i>=0;i--)arr[offset++]=str.charCodeAt(i);return _core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__.c().decode(arr)}{let result=[],resultLen=0;for(let i=str.length-1;i>=0;i--)result[resultLen++]=str.charAt(i);return result.join("")}}(lastInput=str)),lastOutput}}();class BracketsUtils{static _findPrevBracketInText(reversedBracketRegex,lineNumber,reversedText,offset){let m=reversedText.match(reversedBracketRegex);if(!m)return null;let matchOffset=reversedText.length-(m.index||0),matchLength=m[0].length,absoluteMatchOffset=offset+matchOffset;return new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,absoluteMatchOffset-matchLength+1,lineNumber,absoluteMatchOffset+1)}static findPrevBracketInRange(reversedBracketRegex,lineNumber,lineText,startOffset,endOffset){const reversedSubstr=toReversedString(lineText).substring(lineText.length-endOffset,lineText.length-startOffset);return this._findPrevBracketInText(reversedBracketRegex,lineNumber,reversedSubstr,startOffset)}static findNextBracketInText(bracketRegex,lineNumber,text,offset){let m=text.match(bracketRegex);if(!m)return null;let matchOffset=m.index||0,matchLength=m[0].length;if(0===matchLength)return null;let absoluteMatchOffset=offset+matchOffset;return new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,absoluteMatchOffset+1,lineNumber,absoluteMatchOffset+1+matchLength)}static findNextBracketInRange(bracketRegex,lineNumber,lineText,startOffset,endOffset){const substr=lineText.substring(startOffset,endOffset);return this.findNextBracketInText(bracketRegex,lineNumber,substr,startOffset)}}},2434:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return NO_KEY_MODS}),__webpack_require__.d(__webpack_exports__,"a",function(){return ItemActivation});const NO_KEY_MODS={ctrlCmd:!1,alt:!1};var ItemActivation;!function(ItemActivation){ItemActivation[ItemActivation.NONE=0]="NONE",ItemActivation[ItemActivation.FIRST=1]="FIRST",ItemActivation[ItemActivation.SECOND=2]="SECOND",ItemActivation[ItemActivation.LAST=3]="LAST"}(ItemActivation||(ItemActivation={}))},2435:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DataTransfers}),__webpack_require__.d(__webpack_exports__,"b",function(){return DragAndDropData}),__webpack_require__.d(__webpack_exports__,"c",function(){return StaticDND});const DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class DragAndDropData{constructor(data){this.data=data}update(){}getData(){return this.data}}const StaticDND={CurrentDragAndDropData:void 0}},2436:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MoveOperations});var _cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2333),_core_position_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2303),_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2295),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2299);class CursorPosition{constructor(lineNumber,column,leftoverVisibleColumns){this.lineNumber=lineNumber,this.column=column,this.leftoverVisibleColumns=leftoverVisibleColumns}}class MoveOperations{static leftPosition(model,lineNumber,column){return column>model.getLineMinColumn(lineNumber)?column-=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.N(model.getLineContent(lineNumber),column-1):lineNumber>1&&(lineNumber-=1,column=model.getLineMaxColumn(lineNumber)),new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(lineNumber,column)}static left(config,model,lineNumber,column){const pos=MoveOperations.leftPosition(model,lineNumber,column);return new CursorPosition(pos.lineNumber,pos.column,0)}static moveLeft(config,model,cursor,inSelectionMode,noOfColumns){let lineNumber,column;if(cursor.hasSelection()&&!inSelectionMode)lineNumber=cursor.selection.startLineNumber,column=cursor.selection.startColumn;else{let r=MoveOperations.left(config,model,cursor.position.lineNumber,cursor.position.column-(noOfColumns-1));lineNumber=r.lineNumber,column=r.column}return cursor.move(inSelectionMode,lineNumber,column,0)}static rightPosition(model,lineNumber,column){return column<model.getLineMaxColumn(lineNumber)?column+=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_3__.L(model.getLineContent(lineNumber),column-1):lineNumber<model.getLineCount()&&(lineNumber+=1,column=model.getLineMinColumn(lineNumber)),new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(lineNumber,column)}static right(config,model,lineNumber,column){const pos=MoveOperations.rightPosition(model,lineNumber,column);return new CursorPosition(pos.lineNumber,pos.column,0)}static moveRight(config,model,cursor,inSelectionMode,noOfColumns){let lineNumber,column;if(cursor.hasSelection()&&!inSelectionMode)lineNumber=cursor.selection.endLineNumber,column=cursor.selection.endColumn;else{let r=MoveOperations.right(config,model,cursor.position.lineNumber,cursor.position.column+(noOfColumns-1));lineNumber=r.lineNumber,column=r.column}return cursor.move(inSelectionMode,lineNumber,column,0)}static down(config,model,lineNumber,column,leftoverVisibleColumns,count,allowMoveOnLastLine){const currentVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize)+leftoverVisibleColumns,lineCount=model.getLineCount(),wasOnLastPosition=lineNumber===lineCount&&column===model.getLineMaxColumn(lineNumber);return(lineNumber+=count)>lineCount?(lineNumber=lineCount,column=allowMoveOnLastLine?model.getLineMaxColumn(lineNumber):Math.min(model.getLineMaxColumn(lineNumber),column)):column=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.columnFromVisibleColumn2(config,model,lineNumber,currentVisibleColumn),leftoverVisibleColumns=wasOnLastPosition?0:currentVisibleColumn-_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize),new CursorPosition(lineNumber,column,leftoverVisibleColumns)}static moveDown(config,model,cursor,inSelectionMode,linesCount){let lineNumber,column;cursor.hasSelection()&&!inSelectionMode?(lineNumber=cursor.selection.endLineNumber,column=cursor.selection.endColumn):(lineNumber=cursor.position.lineNumber,column=cursor.position.column);let r=MoveOperations.down(config,model,lineNumber,column,cursor.leftoverVisibleColumns,linesCount,!0);return cursor.move(inSelectionMode,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateDown(config,model,cursor){let selection=cursor.selection,selectionStart=MoveOperations.down(config,model,selection.selectionStartLineNumber,selection.selectionStartColumn,cursor.selectionStartLeftoverVisibleColumns,1,!1),position=MoveOperations.down(config,model,selection.positionLineNumber,selection.positionColumn,cursor.leftoverVisibleColumns,1,!1);return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(selectionStart.lineNumber,selectionStart.column,selectionStart.lineNumber,selectionStart.column),selectionStart.leftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(position.lineNumber,position.column),position.leftoverVisibleColumns)}static up(config,model,lineNumber,column,leftoverVisibleColumns,count,allowMoveOnFirstLine){const currentVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize)+leftoverVisibleColumns,wasOnFirstPosition=1===lineNumber&&1===column;return(lineNumber-=count)<1?(lineNumber=1,column=allowMoveOnFirstLine?model.getLineMinColumn(lineNumber):Math.min(model.getLineMaxColumn(lineNumber),column)):column=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.columnFromVisibleColumn2(config,model,lineNumber,currentVisibleColumn),leftoverVisibleColumns=wasOnFirstPosition?0:currentVisibleColumn-_cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.a.visibleColumnFromColumn(model.getLineContent(lineNumber),column,config.tabSize),new CursorPosition(lineNumber,column,leftoverVisibleColumns)}static moveUp(config,model,cursor,inSelectionMode,linesCount){let lineNumber,column;cursor.hasSelection()&&!inSelectionMode?(lineNumber=cursor.selection.startLineNumber,column=cursor.selection.startColumn):(lineNumber=cursor.position.lineNumber,column=cursor.position.column);let r=MoveOperations.up(config,model,lineNumber,column,cursor.leftoverVisibleColumns,linesCount,!0);return cursor.move(inSelectionMode,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateUp(config,model,cursor){let selection=cursor.selection,selectionStart=MoveOperations.up(config,model,selection.selectionStartLineNumber,selection.selectionStartColumn,cursor.selectionStartLeftoverVisibleColumns,1,!1),position=MoveOperations.up(config,model,selection.positionLineNumber,selection.positionColumn,cursor.leftoverVisibleColumns,1,!1);return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_0__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(selectionStart.lineNumber,selectionStart.column,selectionStart.lineNumber,selectionStart.column),selectionStart.leftoverVisibleColumns,new _core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(position.lineNumber,position.column),position.leftoverVisibleColumns)}static moveToBeginningOfLine(config,model,cursor,inSelectionMode){let column,lineNumber=cursor.position.lineNumber,minColumn=model.getLineMinColumn(lineNumber),firstNonBlankColumn=model.getLineFirstNonWhitespaceColumn(lineNumber)||minColumn;return column=cursor.position.column===firstNonBlankColumn?minColumn:firstNonBlankColumn,cursor.move(inSelectionMode,lineNumber,column,0)}static moveToEndOfLine(config,model,cursor,inSelectionMode,sticky){let lineNumber=cursor.position.lineNumber,maxColumn=model.getLineMaxColumn(lineNumber);return cursor.move(inSelectionMode,lineNumber,maxColumn,sticky?1073741824-maxColumn:0)}static moveToBeginningOfBuffer(config,model,cursor,inSelectionMode){return cursor.move(inSelectionMode,1,1,0)}static moveToEndOfBuffer(config,model,cursor,inSelectionMode){let lastLineNumber=model.getLineCount(),lastColumn=model.getLineMaxColumn(lastLineNumber);return cursor.move(inSelectionMode,lastLineNumber,lastColumn,0)}}},2437:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ShiftCommand});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2333),_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2295),_core_selection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2311),_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2334);const repeatCache=Object.create(null);function cachedStringRepeat(str,count){repeatCache[str]||(repeatCache[str]=["",str]);const cache=repeatCache[str];for(let i=cache.length;i<=count;i++)cache[i]=cache[i-1]+str;return cache[count]}class ShiftCommand{constructor(range,opts){this._opts=opts,this._selection=range,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(line,column,tabSize,indentSize,insertSpaces){const contentStartVisibleColumn=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.visibleColumnFromColumn(line,column,tabSize);if(insertSpaces){const indent=cachedStringRepeat(" ",indentSize);return cachedStringRepeat(indent,_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.prevIndentTabStop(contentStartVisibleColumn,indentSize)/indentSize)}return cachedStringRepeat("\t",_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.prevRenderTabStop(contentStartVisibleColumn,tabSize)/tabSize)}static shiftIndent(line,column,tabSize,indentSize,insertSpaces){const contentStartVisibleColumn=_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.visibleColumnFromColumn(line,column,tabSize);if(insertSpaces){const indent=cachedStringRepeat(" ",indentSize);return cachedStringRepeat(indent,_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.nextIndentTabStop(contentStartVisibleColumn,indentSize)/indentSize)}return cachedStringRepeat("\t",_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.nextRenderTabStop(contentStartVisibleColumn,tabSize)/tabSize)}_addEditOperation(builder,range,text){this._useLastEditRangeForCursorEndPosition?builder.addTrackedEditOperation(range,text):builder.addEditOperation(range,text)}getEditOperations(model,builder){const startLine=this._selection.startLineNumber;let endLine=this._selection.endLineNumber;1===this._selection.endColumn&&startLine!==endLine&&(endLine-=1);const{tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces}=this._opts,shouldIndentEmptyLines=startLine===endLine;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(model.getLineContent(startLine))&&(this._useLastEditRangeForCursorEndPosition=!0);let previousLineExtraSpaces=0,extraSpaces=0;for(let lineNumber=startLine;lineNumber<=endLine;lineNumber++,previousLineExtraSpaces=extraSpaces){extraSpaces=0;let desiredIndent,lineText=model.getLineContent(lineNumber),indentationEndIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.w(lineText);if((!this._opts.isUnshift||0!==lineText.length&&0!==indentationEndIndex)&&(shouldIndentEmptyLines||this._opts.isUnshift||0!==lineText.length)){if(-1===indentationEndIndex&&(indentationEndIndex=lineText.length),lineNumber>1){if(_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.a.visibleColumnFromColumn(lineText,indentationEndIndex+1,tabSize)%indentSize!=0&&model.isCheapToTokenize(lineNumber-1)){let enterAction=_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_4__.a.getEnterAction(this._opts.autoIndent,model,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber-1,model.getLineMaxColumn(lineNumber-1),lineNumber-1,model.getLineMaxColumn(lineNumber-1)));if(enterAction){if(extraSpaces=previousLineExtraSpaces,enterAction.appendText)for(let j=0,lenJ=enterAction.appendText.length;j<lenJ&&extraSpaces<indentSize&&32===enterAction.appendText.charCodeAt(j);j++)extraSpaces++;enterAction.removeText&&(extraSpaces=Math.max(0,extraSpaces-enterAction.removeText));for(let j=0;j<extraSpaces&&(0!==indentationEndIndex&&32===lineText.charCodeAt(indentationEndIndex-1));j++)indentationEndIndex--}}}this._opts.isUnshift&&0===indentationEndIndex||(desiredIndent=this._opts.isUnshift?ShiftCommand.unshiftIndent(lineText,indentationEndIndex+1,tabSize,indentSize,insertSpaces):ShiftCommand.shiftIndent(lineText,indentationEndIndex+1,tabSize,indentSize,insertSpaces),this._addEditOperation(builder,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,1,lineNumber,indentationEndIndex+1),desiredIndent),lineNumber!==startLine||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=indentationEndIndex+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===model.getLineLength(startLine)&&(this._useLastEditRangeForCursorEndPosition=!0);const oneIndent=insertSpaces?cachedStringRepeat(" ",indentSize):"\t";for(let lineNumber=startLine;lineNumber<=endLine;lineNumber++){const lineText=model.getLineContent(lineNumber);let indentationEndIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.w(lineText);if((!this._opts.isUnshift||0!==lineText.length&&0!==indentationEndIndex)&&((shouldIndentEmptyLines||this._opts.isUnshift||0!==lineText.length)&&(-1===indentationEndIndex&&(indentationEndIndex=lineText.length),!this._opts.isUnshift||0!==indentationEndIndex)))if(this._opts.isUnshift){indentationEndIndex=Math.min(indentationEndIndex,indentSize);for(let i=0;i<indentationEndIndex;i++){if(9===lineText.charCodeAt(i)){indentationEndIndex=i+1;break}}this._addEditOperation(builder,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,1,lineNumber,indentationEndIndex+1),"")}else this._addEditOperation(builder,new _core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineNumber,1,lineNumber,1),oneIndent),lineNumber!==startLine||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=builder.trackSelection(this._selection)}computeCursorState(model,helper){if(this._useLastEditRangeForCursorEndPosition){let lastOp=helper.getInverseEditOperations()[0];return new _core_selection_js__WEBPACK_IMPORTED_MODULE_3__.a(lastOp.range.endLineNumber,lastOp.range.endColumn,lastOp.range.endLineNumber,lastOp.range.endColumn)}const result=helper.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let initialStartColumn=this._selection.startColumn;return result.startColumn<=initialStartColumn?result:0===result.getDirection()?new _core_selection_js__WEBPACK_IMPORTED_MODULE_3__.a(result.startLineNumber,initialStartColumn,result.endLineNumber,result.endColumn):new _core_selection_js__WEBPACK_IMPORTED_MODULE_3__.a(result.endLineNumber,result.endColumn,result.startLineNumber,initialStartColumn)}return result}}},2438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Scrollable});var _event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296),_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294);class ScrollState{constructor(width,scrollWidth,scrollLeft,height,scrollHeight,scrollTop){width|=0,scrollWidth|=0,scrollLeft|=0,height|=0,scrollHeight|=0,scrollTop|=0,this.rawScrollLeft=scrollLeft,this.rawScrollTop=scrollTop,width<0&&(width=0),scrollLeft+width>scrollWidth&&(scrollLeft=scrollWidth-width),scrollLeft<0&&(scrollLeft=0),height<0&&(height=0),scrollTop+height>scrollHeight&&(scrollTop=scrollHeight-height),scrollTop<0&&(scrollTop=0),this.width=width,this.scrollWidth=scrollWidth,this.scrollLeft=scrollLeft,this.height=height,this.scrollHeight=scrollHeight,this.scrollTop=scrollTop}equals(other){return this.rawScrollLeft===other.rawScrollLeft&&this.rawScrollTop===other.rawScrollTop&&this.width===other.width&&this.scrollWidth===other.scrollWidth&&this.scrollLeft===other.scrollLeft&&this.height===other.height&&this.scrollHeight===other.scrollHeight&&this.scrollTop===other.scrollTop}withScrollDimensions(update,useRawScrollPositions){return new ScrollState(void 0!==update.width?update.width:this.width,void 0!==update.scrollWidth?update.scrollWidth:this.scrollWidth,useRawScrollPositions?this.rawScrollLeft:this.scrollLeft,void 0!==update.height?update.height:this.height,void 0!==update.scrollHeight?update.scrollHeight:this.scrollHeight,useRawScrollPositions?this.rawScrollTop:this.scrollTop)}withScrollPosition(update){return new ScrollState(this.width,this.scrollWidth,void 0!==update.scrollLeft?update.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==update.scrollTop?update.scrollTop:this.rawScrollTop)}createScrollEvent(previous){const widthChanged=this.width!==previous.width,scrollWidthChanged=this.scrollWidth!==previous.scrollWidth,scrollLeftChanged=this.scrollLeft!==previous.scrollLeft,heightChanged=this.height!==previous.height,scrollHeightChanged=this.scrollHeight!==previous.scrollHeight,scrollTopChanged=this.scrollTop!==previous.scrollTop;return{oldWidth:previous.width,oldScrollWidth:previous.scrollWidth,oldScrollLeft:previous.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:previous.height,oldScrollHeight:previous.scrollHeight,oldScrollTop:previous.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:widthChanged,scrollWidthChanged:scrollWidthChanged,scrollLeftChanged:scrollLeftChanged,heightChanged:heightChanged,scrollHeightChanged:scrollHeightChanged,scrollTopChanged:scrollTopChanged}}}class Scrollable extends _lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(smoothScrollDuration,scheduleAtNextAnimationFrame){super(),this._onScroll=this._register(new _event_js__WEBPACK_IMPORTED_MODULE_0__.a),this.onScroll=this._onScroll.event,this._smoothScrollDuration=smoothScrollDuration,this._scheduleAtNextAnimationFrame=scheduleAtNextAnimationFrame,this._state=new ScrollState(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(smoothScrollDuration){this._smoothScrollDuration=smoothScrollDuration}validateScrollPosition(scrollPosition){return this._state.withScrollPosition(scrollPosition)}getScrollDimensions(){return this._state}setScrollDimensions(dimensions,useRawScrollPositions){const newState=this._state.withScrollDimensions(dimensions,useRawScrollPositions);this._setState(newState),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(update){const newState=this._state.withScrollPosition(update);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(newState)}setScrollPositionSmooth(update){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(update);if(this._smoothScrolling){update={scrollLeft:void 0===update.scrollLeft?this._smoothScrolling.to.scrollLeft:update.scrollLeft,scrollTop:void 0===update.scrollTop?this._smoothScrolling.to.scrollTop:update.scrollTop};const validTarget=this._state.withScrollPosition(update);if(this._smoothScrolling.to.scrollLeft===validTarget.scrollLeft&&this._smoothScrolling.to.scrollTop===validTarget.scrollTop)return;const newSmoothScrolling=this._smoothScrolling.combine(this._state,validTarget,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=newSmoothScrolling}else{const validTarget=this._state.withScrollPosition(update);this._smoothScrolling=SmoothScrollingOperation.start(this._state,validTarget,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const update=this._smoothScrolling.tick(),newState=this._state.withScrollPosition(update);return this._setState(newState),this._smoothScrolling?update.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})):void 0}_setState(newState){const oldState=this._state;oldState.equals(newState)||(this._state=newState,this._onScroll.fire(this._state.createScrollEvent(oldState)))}}class SmoothScrollingUpdate{constructor(scrollLeft,scrollTop,isDone){this.scrollLeft=scrollLeft,this.scrollTop=scrollTop,this.isDone=isDone}}function createEaseOutCubic(from,to){const delta=to-from;return function(completion){return from+delta*function easeOutCubic(t){return 1-function easeInCubic(t){return Math.pow(t,3)}(1-t)}(completion)}}class SmoothScrollingOperation{constructor(from,to,startTime,duration){this.from=from,this.to=to,this.duration=duration,this._startTime=startTime,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(from,to,viewportSize){if(Math.abs(from-to)>2.5*viewportSize){let stop1,stop2;return from<to?(stop1=from+.75*viewportSize,stop2=to-.75*viewportSize):(stop1=from-.75*viewportSize,stop2=to+.75*viewportSize),function createComposed(a,b,cut){return function(completion){return completion<cut?a(completion/cut):b((completion-cut)/(1-cut))}}(createEaseOutCubic(from,stop1),createEaseOutCubic(stop2,to),.33)}return createEaseOutCubic(from,to)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(state){this.to=state.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(now){const completion=(now-this._startTime)/this.duration;if(completion<1){const newScrollLeft=this.scrollLeft(completion),newScrollTop=this.scrollTop(completion);return new SmoothScrollingUpdate(newScrollLeft,newScrollTop,!1)}return new SmoothScrollingUpdate(this.to.scrollLeft,this.to.scrollTop,!0)}combine(from,to,duration){return SmoothScrollingOperation.start(from,to,duration)}static start(from,to,duration){duration+=10;const startTime=Date.now()-10;return new SmoothScrollingOperation(from,to,startTime,duration)}}},2439:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IStorageKeysSyncRegistryService}),__webpack_require__.d(__webpack_exports__,"b",function(){return StorageKeysSyncRegistryService});var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2300);const IStorageKeysSyncRegistryService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__.c)("IStorageKeysSyncRegistryService");class StorageKeysSyncRegistryService extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(),this._storageKeys=new Map,this._onDidChangeStorageKeys=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.a),this._register(Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.h)(()=>this._storageKeys.clear()))}get storageKeys(){return[...this._storageKeys.values()]}registerStorageKey(storageKey){this._storageKeys.has(storageKey.key)||(this._storageKeys.set(storageKey.key,storageKey),this._onDidChangeStorageKeys.fire(this.storageKeys))}}},2440:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getPathLabel}),__webpack_require__.d(__webpack_exports__,"a",function(){return getBaseLabel}),__webpack_require__.d(__webpack_exports__,"c",function(){return normalizeDriveLetter});var _uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2313),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2352),_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2299),_network_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2330),_platform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2305),_resources_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2331);function getPathLabel(resource,userHomeProvider,rootProvider){if("string"==typeof resource&&(resource=_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.file(resource)),rootProvider){const baseResource=rootProvider.getWorkspaceFolder(resource);if(baseResource){const hasMultipleRoots=rootProvider.getWorkspace().folders.length>1;let pathLabel;if(pathLabel=Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.f)(baseResource.uri,resource)?"":Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.j)(baseResource.uri,resource),hasMultipleRoots){const rootName=baseResource.name?baseResource.name:Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.b)(baseResource.uri);pathLabel=pathLabel?rootName+"  "+pathLabel:rootName}return pathLabel}}if(resource.scheme!==_network_js__WEBPACK_IMPORTED_MODULE_3__.b.file&&resource.scheme!==_network_js__WEBPACK_IMPORTED_MODULE_3__.b.untitled)return resource.with({query:null,fragment:null}).toString(!0);if(hasDriveLetter(resource.fsPath))return Object(_path_js__WEBPACK_IMPORTED_MODULE_1__.d)(normalizeDriveLetter(resource.fsPath));let res=Object(_path_js__WEBPACK_IMPORTED_MODULE_1__.d)(resource.fsPath);return!_platform_js__WEBPACK_IMPORTED_MODULE_4__.i&&(null==userHomeProvider?void 0:userHomeProvider.userHome)&&(res=function tildify(path,userHome){if(_platform_js__WEBPACK_IMPORTED_MODULE_4__.i||!path||!userHome)return path;let normalizedUserHome=normalizedUserHomeCached.original===userHome?normalizedUserHomeCached.normalized:void 0;normalizedUserHome||(normalizedUserHome=`${Object(_strings_js__WEBPACK_IMPORTED_MODULE_2__.Q)(userHome,_path_js__WEBPACK_IMPORTED_MODULE_1__.e.sep)}${_path_js__WEBPACK_IMPORTED_MODULE_1__.e.sep}`,normalizedUserHomeCached={original:userHome,normalized:normalizedUserHome});(_platform_js__WEBPACK_IMPORTED_MODULE_4__.d?path.startsWith(normalizedUserHome):Object(_strings_js__WEBPACK_IMPORTED_MODULE_2__.T)(path,normalizedUserHome))&&(path=`~/${path.substr(normalizedUserHome.length)}`);return path}(res,userHomeProvider.userHome.fsPath)),res}function getBaseLabel(resource){if(!resource)return;"string"==typeof resource&&(resource=_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.file(resource));const base=Object(_resources_js__WEBPACK_IMPORTED_MODULE_5__.b)(resource)||(resource.scheme===_network_js__WEBPACK_IMPORTED_MODULE_3__.b.file?resource.fsPath:resource.path);return hasDriveLetter(base)?normalizeDriveLetter(base):base}function hasDriveLetter(path){return!(!_platform_js__WEBPACK_IMPORTED_MODULE_4__.i||!path||":"!==path[1])}function normalizeDriveLetter(path){return hasDriveLetter(path)?path.charAt(0).toUpperCase()+path.slice(1):path}let normalizedUserHomeCached=Object.create(null)},2441:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return EmbeddedCodeEditorWidget});var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2327),_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2317),_codeEditorWidget_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2451),_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2318),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2307),_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2300),_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2322),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2304),_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2351),__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let EmbeddedCodeEditorWidget=class EmbeddedCodeEditorWidget extends _codeEditorWidget_js__WEBPACK_IMPORTED_MODULE_2__.a{constructor(domElement,options,parentEditor,instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService){super(domElement,Object.assign(Object.assign({},parentEditor.getRawOptions()),{overflowWidgetsDomNode:parentEditor.getOverflowWidgetsDomNode()}),{},instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService),this._parentEditor=parentEditor,this._overwriteOptions=options,super.updateOptions(this._overwriteOptions),this._register(parentEditor.onDidChangeConfiguration(e=>this._onParentConfigurationChanged(e)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(newOptions){_base_common_objects_js__WEBPACK_IMPORTED_MODULE_0__.g(this._overwriteOptions,newOptions,!0),super.updateOptions(this._overwriteOptions)}};EmbeddedCodeEditorWidget=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([__param(3,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__.a),__param(4,_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__.a),__param(5,_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_3__.b),__param(6,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.b),__param(7,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_7__.c),__param(8,_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__.a),__param(9,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_8__.b)],EmbeddedCodeEditorWidget)},2442:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return LineDecoration}),__webpack_require__.d(__webpack_exports__,"b",function(){return LineDecorationsNormalizer});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299);class LineDecoration{constructor(startColumn,endColumn,className,type){this.startColumn=startColumn,this.endColumn=endColumn,this.className=className,this.type=type}static _equals(a,b){return a.startColumn===b.startColumn&&a.endColumn===b.endColumn&&a.className===b.className&&a.type===b.type}static equalsArr(a,b){const aLen=a.length;if(aLen!==b.length)return!1;for(let i=0;i<aLen;i++)if(!LineDecoration._equals(a[i],b[i]))return!1;return!0}static filter(lineDecorations,lineNumber,minLineColumn,maxLineColumn){if(0===lineDecorations.length)return[];let result=[],resultLen=0;for(let i=0,len=lineDecorations.length;i<len;i++){const d=lineDecorations[i],range=d.range;if(range.endLineNumber<lineNumber||range.startLineNumber>lineNumber)continue;if(range.isEmpty()&&(0===d.type||3===d.type))continue;const startColumn=range.startLineNumber===lineNumber?range.startColumn:minLineColumn,endColumn=range.endLineNumber===lineNumber?range.endColumn:maxLineColumn;result[resultLen++]=new LineDecoration(startColumn,endColumn,d.inlineClassName,d.type)}return result}static _typeCompare(a,b){const ORDER=[2,0,1,3];return ORDER[a]-ORDER[b]}static compare(a,b){if(a.startColumn===b.startColumn){if(a.endColumn===b.endColumn){const typeCmp=LineDecoration._typeCompare(a.type,b.type);return 0===typeCmp?a.className<b.className?-1:a.className>b.className?1:0:typeCmp}return a.endColumn-b.endColumn}return a.startColumn-b.startColumn}}class DecorationSegment{constructor(startOffset,endOffset,className,metadata){this.startOffset=startOffset,this.endOffset=endOffset,this.className=className,this.metadata=metadata}}class Stack{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(metadata){let result=0;for(let i=0,len=metadata.length;i<len;i++)result|=metadata[i];return result}consumeLowerThan(maxStopOffset,nextStartOffset,result){for(;this.count>0&&this.stopOffsets[0]<maxStopOffset;){let i=0;for(;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;result.push(new DecorationSegment(nextStartOffset,this.stopOffsets[i],this.classNames.join(" "),Stack._metadata(this.metadata))),nextStartOffset=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.metadata.splice(0,i+1),this.count-=i+1}return this.count>0&&nextStartOffset<maxStopOffset&&(result.push(new DecorationSegment(nextStartOffset,maxStopOffset-1,this.classNames.join(" "),Stack._metadata(this.metadata))),nextStartOffset=maxStopOffset),nextStartOffset}insert(stopOffset,className,metadata){if(0===this.count||this.stopOffsets[this.count-1]<=stopOffset)this.stopOffsets.push(stopOffset),this.classNames.push(className),this.metadata.push(metadata);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=stopOffset){this.stopOffsets.splice(i,0,stopOffset),this.classNames.splice(i,0,className),this.metadata.splice(i,0,metadata);break}this.count++}}class LineDecorationsNormalizer{static normalize(lineContent,lineDecorations){if(0===lineDecorations.length)return[];let result=[];const stack=new Stack;let nextStartOffset=0;for(let i=0,len=lineDecorations.length;i<len;i++){const d=lineDecorations[i];let startColumn=d.startColumn,endColumn=d.endColumn;const className=d.className,metadata=1===d.type?2:2===d.type?4:0;if(startColumn>1){const charCodeBefore=lineContent.charCodeAt(startColumn-2);_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.F(charCodeBefore)&&startColumn--}if(endColumn>1){const charCodeBefore=lineContent.charCodeAt(endColumn-2);_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.F(charCodeBefore)&&endColumn--}const currentStartOffset=startColumn-1,currentEndOffset=endColumn-2;nextStartOffset=stack.consumeLowerThan(currentStartOffset,nextStartOffset,result),0===stack.count&&(nextStartOffset=currentStartOffset),stack.insert(currentEndOffset,className,metadata)}return stack.consumeLowerThan(1073741824,nextStartOffset,result),result}}},2443:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IconLabel});__webpack_require__(2585);var _dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2298),_highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2444),_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_common_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2412),_common_objects_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2327);class FastLabelNode{constructor(_element){this._element=_element}get element(){return this._element}set textContent(content){this.disposed||content===this._textContent||(this._textContent=content,this._element.textContent=content)}set className(className){this.disposed||className===this._className||(this._className=className,this._element.className=className)}set title(title){this.disposed||title===this._title||(this._title=title,this._title?this._element.title=title:this._element.removeAttribute("title"))}set empty(empty){this.disposed||empty===this._empty||(this._empty=empty,this._element.style.marginLeft=empty?"0":"")}dispose(){this.disposed=!0}}class IconLabel extends _common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(container,options){super(),this.domNode=this._register(new FastLabelNode(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a(".monaco-icon-label"))));const labelContainer=_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.domNode.element,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a(".monaco-icon-label-container")),nameContainer=_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(labelContainer,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new FastLabelNode(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(labelContainer,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.monaco-icon-description-container")))),(null==options?void 0:options.supportHighlights)?this.nameNode=new LabelWithHighlights(nameContainer,!!options.supportCodicons):this.nameNode=new Label(nameContainer),(null==options?void 0:options.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.descriptionContainer.element,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-description")),!!options.supportCodicons):this.descriptionNodeFactory=()=>this._register(new FastLabelNode(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.descriptionContainer.element,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-description"))))}setLabel(label,description,options){const classes=["monaco-icon-label"];options&&(options.extraClasses&&classes.push(...options.extraClasses),options.italic&&classes.push("italic"),options.strikethrough&&classes.push("strikethrough")),this.domNode.className=classes.join(" "),this.domNode.title=(null==options?void 0:options.title)||"",this.nameNode.setLabel(label,options),(description||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a?(this.descriptionNode.set(description||"",options?options.descriptionMatches:void 0),(null==options?void 0:options.descriptionTitle)?this.descriptionNode.element.title=options.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=description||"",this.descriptionNode.title=(null==options?void 0:options.descriptionTitle)||"",this.descriptionNode.empty=!description))}}class Label{constructor(container){this.container=container,this.label=void 0,this.singleLabel=void 0}setLabel(label,options){if(this.label!==label||!Object(_common_objects_js__WEBPACK_IMPORTED_MODULE_5__.e)(this.options,options))if(this.label=label,this.options=options,"string"==typeof label)this.singleLabel||(this.container.innerText="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.Q(this.container,"multiple"),this.singleLabel=_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id:null==options?void 0:options.domId}))),this.singleLabel.textContent=label;else{this.container.innerText="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.e(this.container,"multiple"),this.singleLabel=void 0;for(let i=0;i<label.length;i++){const l=label[i],id=(null==options?void 0:options.domId)&&`${null==options?void 0:options.domId}_${i}`;_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id:id,"data-icon-label-count":label.length,"data-icon-label-index":i,role:"treeitem"},l)),i<label.length-1&&_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-separator",void 0,(null==options?void 0:options.separator)||"/"))}}}}class LabelWithHighlights{constructor(container,supportCodicons){this.container=container,this.supportCodicons=supportCodicons,this.label=void 0,this.singleLabel=void 0}setLabel(label,options){if(this.label!==label||!Object(_common_objects_js__WEBPACK_IMPORTED_MODULE_5__.e)(this.options,options))if(this.label=label,this.options=options,"string"==typeof label)this.singleLabel||(this.container.innerText="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.Q(this.container,"multiple"),this.singleLabel=new _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.container,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id:null==options?void 0:options.domId})),this.supportCodicons)),this.singleLabel.set(label,null==options?void 0:options.matches,null==options?void 0:options.title,null==options?void 0:options.labelEscapeNewLines);else{this.container.innerText="",_dom_js__WEBPACK_IMPORTED_MODULE_1__.e(this.container,"multiple"),this.singleLabel=void 0;const separator=(null==options?void 0:options.separator)||"/",matches=function splitMatches(labels,separator,matches){if(!matches)return;let labelStart=0;return labels.map(label=>{const labelRange={start:labelStart,end:labelStart+label.length},result=matches.map(match=>_common_range_js__WEBPACK_IMPORTED_MODULE_4__.a.intersect(labelRange,match)).filter(range=>!_common_range_js__WEBPACK_IMPORTED_MODULE_4__.a.isEmpty(range)).map(({start:start,end:end})=>({start:start-labelStart,end:end-labelStart}));return labelStart=labelRange.end+separator.length,result})}(label,separator,null==options?void 0:options.matches);for(let i=0;i<label.length;i++){const l=label[i],m=matches?matches[i]:void 0,id=(null==options?void 0:options.domId)&&`${null==options?void 0:options.domId}_${i}`,name=_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("a.label-name",{id:id,"data-icon-label-count":label.length,"data-icon-label-index":i,role:"treeitem"});new _highlightedlabel_highlightedLabel_js__WEBPACK_IMPORTED_MODULE_2__.a(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(this.container,name),this.supportCodicons).set(l,m,null==options?void 0:options.title,null==options?void 0:options.labelEscapeNewLines),i<label.length-1&&_dom_js__WEBPACK_IMPORTED_MODULE_1__.p(name,_dom_js__WEBPACK_IMPORTED_MODULE_1__.a("span.label-separator",void 0,separator))}}}}},2444:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return HighlightedLabel});var _common_objects_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2327),_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2316),_common_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2299);class HighlightedLabel{constructor(container,supportCodicons){this.supportCodicons=supportCodicons,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",container.appendChild(this.domNode)}get element(){return this.domNode}set(text,highlights=[],title="",escapeNewLines){text||(text=""),escapeNewLines&&(text=HighlightedLabel.escapeNewLines(text,highlights)),this.didEverRender&&this.text===text&&this.title===title&&_common_objects_js__WEBPACK_IMPORTED_MODULE_0__.e(this.highlights,highlights)||(Array.isArray(highlights)||(highlights=[]),this.text=text,this.title=title,this.highlights=highlights,this.render())}render(){let htmlContent="",pos=0;for(const highlight of this.highlights){if(highlight.end===highlight.start)continue;if(pos<highlight.start){htmlContent+="<span>";const substring=this.text.substring(pos,highlight.start);htmlContent+=this.supportCodicons?Object(_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.f)(Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.u)(substring)):Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.u)(substring),htmlContent+="</span>",pos=highlight.end}highlight.extraClasses?htmlContent+=`<span class="highlight ${highlight.extraClasses}">`:htmlContent+='<span class="highlight">';const substring=this.text.substring(highlight.start,highlight.end);htmlContent+=this.supportCodicons?Object(_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.f)(Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.u)(substring)):Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.u)(substring),htmlContent+="</span>",pos=highlight.end}if(pos<this.text.length){htmlContent+="<span>";const substring=this.text.substring(pos);htmlContent+=this.supportCodicons?Object(_common_codicons_js__WEBPACK_IMPORTED_MODULE_1__.f)(Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.u)(substring)):Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.u)(substring),htmlContent+="</span>"}this.domNode.innerHTML=htmlContent,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(text,highlights){let total=0,extra=0;return text.replace(/\r\n|\r|\n/g,(match,offset)=>{extra="\r\n"===match?-1:0,offset+=total;for(const highlight of highlights)highlight.end<=offset||(highlight.start>=offset&&(highlight.start+=extra),highlight.end>=offset&&(highlight.end+=extra));return total+=extra,""})}}},2445:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IWorkspaceContextService}),__webpack_require__.d(__webpack_exports__,"b",function(){return WorkspaceFolder});var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2313),_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2331),_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2300);__webpack_require__(2349);const IWorkspaceContextService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__.c)("contextService");var IWorkspace,IWorkspaceFolder;!function(IWorkspace){IWorkspace.isIWorkspace=function isIWorkspace(thing){return!(!thing||"object"!=typeof thing||"string"!=typeof thing.id||!Array.isArray(thing.folders))}}(IWorkspace||(IWorkspace={})),function(IWorkspaceFolder){IWorkspaceFolder.isIWorkspaceFolder=function isIWorkspaceFolder(thing){return!(!thing||"object"!=typeof thing||!_base_common_uri_js__WEBPACK_IMPORTED_MODULE_0__.a.isUri(thing.uri)||"string"!=typeof thing.name||"function"!=typeof thing.toResource)}}(IWorkspaceFolder||(IWorkspaceFolder={}));class WorkspaceFolder{constructor(data,raw){this.raw=raw,this.uri=data.uri,this.index=data.index,this.name=data.name}toResource(relativePath){return _base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__.g(this.uri,relativePath)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},2446:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CodiconStyles}),__webpack_require__.d(__webpack_exports__,"b",function(){return formatRule});__webpack_require__(2625),__webpack_require__(2629),__webpack_require__(2631);var _common_codicons_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2316);const CodiconStyles=new class{constructor(){this.onDidChange=_common_codicons_js__WEBPACK_IMPORTED_MODULE_3__.c.onDidRegister}getCSS(){const rules=[];for(let c of _common_codicons_js__WEBPACK_IMPORTED_MODULE_3__.c.all)rules.push(formatRule(c));return rules.join("\n")}};function formatRule(c){let def=c.definition;for(;def instanceof _common_codicons_js__WEBPACK_IMPORTED_MODULE_3__.a;)def=def.definition;return`.codicon-${c.id}:before { content: '${def.character}'; }`}},2447:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IDialogService});var _instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IDialogService=Object(_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("dialogService")},2448:function(module,__webpack_exports__,__webpack_require__){"use strict";var _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2346);__webpack_require__.o(_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__,"languages")&&__webpack_require__.d(__webpack_exports__,"languages",function(){return _editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__.languages})},2451:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(2546);var nls=__webpack_require__(2297),dom=__webpack_require__(2298),errors=__webpack_require__(2302),common_event=__webpack_require__(2296),lifecycle=__webpack_require__(2294),network=__webpack_require__(2330),config_configuration=__webpack_require__(2358),editorExtensions=__webpack_require__(2301),services_codeEditorService=__webpack_require__(2317),core_selection=__webpack_require__(2311),fastDomNode=__webpack_require__(2319),platform=__webpack_require__(2305),touch=__webpack_require__(2348),mouseEvent=__webpack_require__(2339),common_async=__webpack_require__(2306),browser=__webpack_require__(2326),globalMouseMoveMonitor=__webpack_require__(2378);class editorDom_PageCoordinates{constructor(x,y){this.x=x,this.y=y}toClientCoordinates(){return new editorDom_ClientCoordinates(this.x-dom.d.scrollX,this.y-dom.d.scrollY)}}class editorDom_ClientCoordinates{constructor(clientX,clientY){this.clientX=clientX,this.clientY=clientY}toPageCoordinates(){return new editorDom_PageCoordinates(this.clientX+dom.d.scrollX,this.clientY+dom.d.scrollY)}}class EditorPagePosition{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height}}function createEditorPagePosition(editorViewDomNode){const editorPos=dom.C(editorViewDomNode);return new EditorPagePosition(editorPos.left,editorPos.top,editorPos.width,editorPos.height)}class editorDom_EditorMouseEvent extends mouseEvent.a{constructor(e,editorViewDomNode){super(e),this.pos=new editorDom_PageCoordinates(this.posx,this.posy),this.editorPos=createEditorPagePosition(editorViewDomNode)}}class editorDom_EditorMouseEventFactory{constructor(editorViewDomNode){this._editorViewDomNode=editorViewDomNode}_create(e){return new editorDom_EditorMouseEvent(e,this._editorViewDomNode)}onContextMenu(target,callback){return dom.i(target,"contextmenu",e=>{callback(this._create(e))})}onMouseUp(target,callback){return dom.i(target,"mouseup",e=>{callback(this._create(e))})}onMouseDown(target,callback){return dom.i(target,"mousedown",e=>{callback(this._create(e))})}onMouseLeave(target,callback){return dom.j(target,e=>{callback(this._create(e))})}onMouseMoveThrottled(target,callback,merger,minimumTimeMs){return dom.l(target,"mousemove",callback,(lastEvent,currentEvent)=>merger(lastEvent,this._create(currentEvent)),minimumTimeMs)}}class editorDom_EditorPointerEventFactory{constructor(editorViewDomNode){this._editorViewDomNode=editorViewDomNode}_create(e){return new editorDom_EditorMouseEvent(e,this._editorViewDomNode)}onPointerUp(target,callback){return dom.i(target,"pointerup",e=>{callback(this._create(e))})}onPointerDown(target,callback){return dom.i(target,"pointerdown",e=>{callback(this._create(e))})}onPointerLeave(target,callback){return dom.k(target,e=>{callback(this._create(e))})}onPointerMoveThrottled(target,callback,merger,minimumTimeMs){return dom.l(target,"pointermove",callback,(lastEvent,currentEvent)=>merger(lastEvent,this._create(currentEvent)),minimumTimeMs)}}class editorDom_GlobalEditorMouseMoveMonitor extends lifecycle.a{constructor(editorViewDomNode){super(),this._editorViewDomNode=editorViewDomNode,this._globalMouseMoveMonitor=this._register(new globalMouseMoveMonitor.a),this._keydownListener=null}startMonitoring(initialElement,initialButtons,merger,mouseMoveCallback,onStopCallback){this._keydownListener=dom.n(document,"keydown",e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0)},!0);this._globalMouseMoveMonitor.startMonitoring(initialElement,initialButtons,(lastEvent,currentEvent)=>merger(lastEvent,new editorDom_EditorMouseEvent(currentEvent,this._editorViewDomNode)),mouseMoveCallback,()=>{this._keydownListener.dispose(),onStopCallback()})}}class viewEventHandler_ViewEventHandler extends lifecycle.a{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(events){let shouldRender=!1;for(let i=0,len=events.length;i<len;i++){let e=events[i];switch(e.type){case 0:this.onConfigurationChanged(e)&&(shouldRender=!0);break;case 1:this.onCursorStateChanged(e)&&(shouldRender=!0);break;case 2:this.onDecorationsChanged(e)&&(shouldRender=!0);break;case 3:this.onFlushed(e)&&(shouldRender=!0);break;case 4:this.onFocusChanged(e)&&(shouldRender=!0);break;case 5:this.onLanguageConfigurationChanged(e)&&(shouldRender=!0);break;case 6:this.onLineMappingChanged(e)&&(shouldRender=!0);break;case 7:this.onLinesChanged(e)&&(shouldRender=!0);break;case 8:this.onLinesDeleted(e)&&(shouldRender=!0);break;case 9:this.onLinesInserted(e)&&(shouldRender=!0);break;case 10:this.onRevealRangeRequest(e)&&(shouldRender=!0);break;case 11:this.onScrollChanged(e)&&(shouldRender=!0);break;case 13:this.onTokensChanged(e)&&(shouldRender=!0);break;case 12:this.onThemeChanged(e)&&(shouldRender=!0);break;case 14:this.onTokensColorsChanged(e)&&(shouldRender=!0);break;case 15:this.onZonesChanged(e)&&(shouldRender=!0);break;default:console.info("View received unknown event: "),console.info(e)}}shouldRender&&(this._shouldRender=!0)}}class viewPart_ViewPart extends viewEventHandler_ViewEventHandler{constructor(context){super(),this._context=context,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class viewPart_PartFingerprints{static write(target,partId){fastDomNode.a,target.setAttribute("data-mprt",String(partId))}static read(target){const r=target.getAttribute("data-mprt");return null===r?0:parseInt(r,10)}static collect(child,stopAt){let result=[],resultLen=0;for(;child&&child!==document.body&&child!==stopAt;)child.nodeType===child.ELEMENT_NODE&&(result[resultLen++]=this.read(child)),child=child.parentElement;const r=new Uint8Array(resultLen);for(let i=0;i<resultLen;i++)r[i]=result[resultLen-i-1];return r}}class RestrictedRenderingContext{constructor(viewLayout,viewportData){this._viewLayout=viewLayout,this.viewportData=viewportData,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const vInfo=this._viewLayout.getCurrentViewport();this.scrollTop=vInfo.top,this.scrollLeft=vInfo.left,this.viewportWidth=vInfo.width,this.viewportHeight=vInfo.height}getScrolledTopFromAbsoluteTop(absoluteTop){return absoluteTop-this.scrollTop}getVerticalOffsetForLineNumber(lineNumber){return this._viewLayout.getVerticalOffsetForLineNumber(lineNumber)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class RenderingContext extends RestrictedRenderingContext{constructor(viewLayout,viewportData,viewLines){super(viewLayout,viewportData),this._viewLines=viewLines}linesVisibleRangesForRange(range,includeNewLines){return this._viewLines.linesVisibleRangesForRange(range,includeNewLines)}visibleRangeForPosition(position){return this._viewLines.visibleRangeForPosition(position)}}class LineVisibleRanges{constructor(outsideRenderedLine,lineNumber,ranges){this.outsideRenderedLine=outsideRenderedLine,this.lineNumber=lineNumber,this.ranges=ranges}}class HorizontalRange{constructor(left,width){this.left=Math.round(left),this.width=Math.round(width)}toString(){return`[${this.left},${this.width}]`}}class HorizontalPosition{constructor(outsideRenderedLine,left){this.outsideRenderedLine=outsideRenderedLine,this.left=Math.round(left)}}class VisibleRanges{constructor(outsideRenderedLine,ranges){this.outsideRenderedLine=outsideRenderedLine,this.ranges=ranges}}class FloatHorizontalRange{constructor(left,width){this.left=left,this.width=width}toString(){return`[${this.left},${this.width}]`}static compare(a,b){return a.left-b.left}}class rangeUtil_RangeUtil{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(range,endNode){range.selectNodeContents(endNode)}static _readClientRects(startElement,startOffset,endElement,endOffset,endNode){const range=this._createRange();try{return range.setStart(startElement,startOffset),range.setEnd(endElement,endOffset),range.getClientRects()}catch(e){return null}finally{this._detachRange(range,endNode)}}static _mergeAdjacentRanges(ranges){if(1===ranges.length)return[new HorizontalRange(ranges[0].left,ranges[0].width)];ranges.sort(FloatHorizontalRange.compare);let result=[],resultLen=0,prevLeft=ranges[0].left,prevWidth=ranges[0].width;for(let i=1,len=ranges.length;i<len;i++){const range=ranges[i],myLeft=range.left,myWidth=range.width;prevLeft+prevWidth+.9>=myLeft?prevWidth=Math.max(prevWidth,myLeft+myWidth-prevLeft):(result[resultLen++]=new HorizontalRange(prevLeft,prevWidth),prevLeft=myLeft,prevWidth=myWidth)}return result[resultLen++]=new HorizontalRange(prevLeft,prevWidth),result}static _createHorizontalRangesFromClientRects(clientRects,clientRectDeltaLeft){if(!clientRects||0===clientRects.length)return null;const result=[];for(let i=0,len=clientRects.length;i<len;i++){const clientRect=clientRects[i];result[i]=new FloatHorizontalRange(Math.max(0,clientRect.left-clientRectDeltaLeft),clientRect.width)}return this._mergeAdjacentRanges(result)}static readHorizontalRanges(domNode,startChildIndex,startOffset,endChildIndex,endOffset,clientRectDeltaLeft,endNode){const max=domNode.children.length-1;if(0>max)return null;if((startChildIndex=Math.min(max,Math.max(0,startChildIndex)))===(endChildIndex=Math.min(max,Math.max(0,endChildIndex)))&&startOffset===endOffset&&0===startOffset){const clientRects=domNode.children[startChildIndex].getClientRects();return this._createHorizontalRangesFromClientRects(clientRects,clientRectDeltaLeft)}startChildIndex!==endChildIndex&&endChildIndex>0&&0===endOffset&&(endChildIndex--,endOffset=1073741824);let startElement=domNode.children[startChildIndex].firstChild,endElement=domNode.children[endChildIndex].firstChild;if(startElement&&endElement||(!startElement&&0===startOffset&&startChildIndex>0&&(startElement=domNode.children[startChildIndex-1].firstChild,startOffset=1073741824),!endElement&&0===endOffset&&endChildIndex>0&&(endElement=domNode.children[endChildIndex-1].firstChild,endOffset=1073741824)),!startElement||!endElement)return null;startOffset=Math.min(startElement.textContent.length,Math.max(0,startOffset)),endOffset=Math.min(endElement.textContent.length,Math.max(0,endOffset));const clientRects=this._readClientRects(startElement,startOffset,endElement,endOffset,endNode);return this._createHorizontalRangesFromClientRects(clientRects,clientRectDeltaLeft)}}var lineDecorations=__webpack_require__(2442),viewLineRenderer=__webpack_require__(2408),common_themeService=__webpack_require__(2304),editorOptions=__webpack_require__(2328);const canUseFastRenderedViewLine=!!platform.g||!(platform.d||browser.h||browser.j);let monospaceAssumptionsAreValid=!0;const alwaysRenderInlineSelection=browser.f;class DomReadingContext{constructor(domNode,endNode){this._domNode=domNode,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=endNode}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class ViewLineOptions{constructor(config,themeType){this.themeType=themeType;const options=config.options,fontInfo=options.get(36);this.renderWhitespace=options.get(80),this.renderControlCharacters=options.get(74),this.spaceWidth=fontInfo.spaceWidth,this.middotWidth=fontInfo.middotWidth,this.wsmiddotWidth=fontInfo.wsmiddotWidth,this.useMonospaceOptimizations=fontInfo.isMonospace&&!options.get(24),this.canUseHalfwidthRightwardsArrow=fontInfo.canUseHalfwidthRightwardsArrow,this.lineHeight=options.get(51),this.stopRenderingLineAfter=options.get(95),this.fontLigatures=options.get(37)}equals(other){return this.themeType===other.themeType&&this.renderWhitespace===other.renderWhitespace&&this.renderControlCharacters===other.renderControlCharacters&&this.spaceWidth===other.spaceWidth&&this.middotWidth===other.middotWidth&&this.wsmiddotWidth===other.wsmiddotWidth&&this.useMonospaceOptimizations===other.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===other.canUseHalfwidthRightwardsArrow&&this.lineHeight===other.lineHeight&&this.stopRenderingLineAfter===other.stopRenderingLineAfter&&this.fontLigatures===other.fontLigatures}}class viewLine_ViewLine{constructor(options){this._options=options,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(domNode){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(fastDomNode.b)(domNode)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(newOptions){this._isMaybeInvalid=!0,this._options=newOptions}onSelectionChanged(){return!(!alwaysRenderInlineSelection&&this._options.themeType!==common_themeService.b&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(lineNumber,deltaTop,viewportData,sb){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const lineData=viewportData.getViewLineRenderingData(lineNumber),options=this._options,actualInlineDecorations=lineDecorations.a.filter(lineData.inlineDecorations,lineNumber,lineData.minColumn,lineData.maxColumn);let selectionsOnLine=null;if(alwaysRenderInlineSelection||options.themeType===common_themeService.b||"selection"===this._options.renderWhitespace){const selections=viewportData.selections;for(const selection of selections){if(selection.endLineNumber<lineNumber||selection.startLineNumber>lineNumber)continue;const startColumn=selection.startLineNumber===lineNumber?selection.startColumn:lineData.minColumn,endColumn=selection.endLineNumber===lineNumber?selection.endColumn:lineData.maxColumn;startColumn<endColumn&&(options.themeType===common_themeService.b||"selection"!==this._options.renderWhitespace?actualInlineDecorations.push(new lineDecorations.a(startColumn,endColumn,"inline-selected-text",0)):(selectionsOnLine||(selectionsOnLine=[]),selectionsOnLine.push(new viewLineRenderer.b(startColumn-1,endColumn-1))))}}const renderLineInput=new viewLineRenderer.c(options.useMonospaceOptimizations,options.canUseHalfwidthRightwardsArrow,lineData.content,lineData.continuesWithWrappedLine,lineData.isBasicASCII,lineData.containsRTL,lineData.minColumn-1,lineData.tokens,actualInlineDecorations,lineData.tabSize,lineData.startVisibleColumn,options.spaceWidth,options.middotWidth,options.wsmiddotWidth,options.stopRenderingLineAfter,options.renderWhitespace,options.renderControlCharacters,options.fontLigatures!==editorOptions.e.OFF,selectionsOnLine);if(this._renderedViewLine&&this._renderedViewLine.input.equals(renderLineInput))return!1;sb.appendASCIIString('<div style="top:'),sb.appendASCIIString(String(deltaTop)),sb.appendASCIIString("px;height:"),sb.appendASCIIString(String(this._options.lineHeight)),sb.appendASCIIString('px;" class="'),sb.appendASCIIString(viewLine_ViewLine.CLASS_NAME),sb.appendASCIIString('">');const output=Object(viewLineRenderer.d)(renderLineInput,sb);sb.appendASCIIString("</div>");let renderedViewLine=null;return monospaceAssumptionsAreValid&&canUseFastRenderedViewLine&&lineData.isBasicASCII&&options.useMonospaceOptimizations&&0===output.containsForeignElements&&lineData.content.length<300&&renderLineInput.lineTokens.getCount()<100&&(renderedViewLine=new viewLine_FastRenderedViewLine(this._renderedViewLine?this._renderedViewLine.domNode:null,renderLineInput,output.characterMapping)),renderedViewLine||(renderedViewLine=createRenderedLine(this._renderedViewLine?this._renderedViewLine.domNode:null,renderLineInput,output.characterMapping,output.containsRTL,output.containsForeignElements)),this._renderedViewLine=renderedViewLine,!0}layoutLine(lineNumber,deltaTop){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(deltaTop),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof viewLine_FastRenderedViewLine}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof viewLine_FastRenderedViewLine?this._renderedViewLine.monospaceAssumptionsAreValid():monospaceAssumptionsAreValid}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof viewLine_FastRenderedViewLine&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(startColumn,endColumn,context){if(!this._renderedViewLine)return null;startColumn|=0,endColumn|=0,startColumn=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,startColumn)),endColumn=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,endColumn));const stopRenderingLineAfter=0|this._renderedViewLine.input.stopRenderingLineAfter;let outsideRenderedLine=!1;-1!==stopRenderingLineAfter&&startColumn>stopRenderingLineAfter+1&&endColumn>stopRenderingLineAfter+1&&(outsideRenderedLine=!0),-1!==stopRenderingLineAfter&&startColumn>stopRenderingLineAfter+1&&(startColumn=stopRenderingLineAfter+1),-1!==stopRenderingLineAfter&&endColumn>stopRenderingLineAfter+1&&(endColumn=stopRenderingLineAfter+1);const horizontalRanges=this._renderedViewLine.getVisibleRangesForRange(startColumn,endColumn,context);return horizontalRanges&&horizontalRanges.length>0?new VisibleRanges(outsideRenderedLine,horizontalRanges):null}getColumnOfNodeOffset(lineNumber,spanNode,offset){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(lineNumber,spanNode,offset):1}}viewLine_ViewLine.CLASS_NAME="view-line";class viewLine_FastRenderedViewLine{constructor(domNode,renderLineInput,characterMapping){this.domNode=domNode,this.input=renderLineInput,this._characterMapping=characterMapping,this._charWidth=renderLineInput.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return monospaceAssumptionsAreValid;const expectedWidth=this.getWidth(),actualWidth=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(expectedWidth-actualWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),monospaceAssumptionsAreValid=!1),monospaceAssumptionsAreValid}toSlowRenderedLine(){return createRenderedLine(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(startColumn,endColumn,context){const startPosition=this._getCharPosition(startColumn),endPosition=this._getCharPosition(endColumn);return[new HorizontalRange(startPosition,endPosition-startPosition)]}_getCharPosition(column){const charOffset=this._characterMapping.getAbsoluteOffsets();return 0===charOffset.length?0:Math.round(this._charWidth*charOffset[column-1])}getColumnOfNodeOffset(lineNumber,spanNode,offset){const spanNodeTextContentLength=spanNode.textContent.length;let spanIndex=-1;for(;spanNode;)spanNode=spanNode.previousSibling,spanIndex++;return this._characterMapping.partDataToCharOffset(spanIndex,spanNodeTextContentLength,offset)+1}}class viewLine_RenderedViewLine{constructor(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements){if(this.domNode=domNode,this.input=renderLineInput,this._characterMapping=characterMapping,this._isWhitespaceOnly=/^\s*$/.test(renderLineInput.lineContent),this._containsForeignElements=containsForeignElements,this._cachedWidth=-1,this._pixelOffsetCache=null,!containsRTL||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let column=0,len=this._characterMapping.length;column<=len;column++)this._pixelOffsetCache[column]=-1}}_getReadingTarget(myDomNode){return myDomNode.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(startColumn,endColumn,context){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const startOffset=this._readPixelOffset(this.domNode,startColumn,context);if(-1===startOffset)return null;const endOffset=this._readPixelOffset(this.domNode,endColumn,context);return-1===endOffset?null:[new HorizontalRange(startOffset,endOffset-startOffset)]}return this._readVisibleRangesForRange(this.domNode,startColumn,endColumn,context)}_readVisibleRangesForRange(domNode,startColumn,endColumn,context){if(startColumn===endColumn){const pixelOffset=this._readPixelOffset(domNode,startColumn,context);return-1===pixelOffset?null:[new HorizontalRange(pixelOffset,0)]}return this._readRawVisibleRangesForRange(domNode,startColumn,endColumn,context)}_readPixelOffset(domNode,column,context){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const readingTarget=this._getReadingTarget(domNode);return readingTarget.firstChild?readingTarget.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const cachedPixelOffset=this._pixelOffsetCache[column];if(-1!==cachedPixelOffset)return cachedPixelOffset;const result=this._actualReadPixelOffset(domNode,column,context);return this._pixelOffsetCache[column]=result,result}return this._actualReadPixelOffset(domNode,column,context)}_actualReadPixelOffset(domNode,column,context){if(0===this._characterMapping.length){const r=rangeUtil_RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode),0,0,0,0,context.clientRectDeltaLeft,context.endNode);return r&&0!==r.length?r[0].left:-1}if(column===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const partData=this._characterMapping.charOffsetToPartData(column-1),partIndex=viewLineRenderer.a.getPartIndex(partData),charOffsetInPart=viewLineRenderer.a.getCharIndex(partData),r=rangeUtil_RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode),partIndex,charOffsetInPart,partIndex,charOffsetInPart,context.clientRectDeltaLeft,context.endNode);if(!r||0===r.length)return-1;const result=r[0].left;if(this.input.isBasicASCII){const charOffset=this._characterMapping.getAbsoluteOffsets(),expectedResult=Math.round(this.input.spaceWidth*charOffset[column-1]);if(Math.abs(expectedResult-result)<=1)return expectedResult}return result}_readRawVisibleRangesForRange(domNode,startColumn,endColumn,context){if(1===startColumn&&endColumn===this._characterMapping.length)return[new HorizontalRange(0,this.getWidth())];const startPartData=this._characterMapping.charOffsetToPartData(startColumn-1),startPartIndex=viewLineRenderer.a.getPartIndex(startPartData),startCharOffsetInPart=viewLineRenderer.a.getCharIndex(startPartData),endPartData=this._characterMapping.charOffsetToPartData(endColumn-1),endPartIndex=viewLineRenderer.a.getPartIndex(endPartData),endCharOffsetInPart=viewLineRenderer.a.getCharIndex(endPartData);return rangeUtil_RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode),startPartIndex,startCharOffsetInPart,endPartIndex,endCharOffsetInPart,context.clientRectDeltaLeft,context.endNode)}getColumnOfNodeOffset(lineNumber,spanNode,offset){const spanNodeTextContentLength=spanNode.textContent.length;let spanIndex=-1;for(;spanNode;)spanNode=spanNode.previousSibling,spanIndex++;return this._characterMapping.partDataToCharOffset(spanIndex,spanNodeTextContentLength,offset)+1}}class WebKitRenderedViewLine extends viewLine_RenderedViewLine{_readVisibleRangesForRange(domNode,startColumn,endColumn,context){const output=super._readVisibleRangesForRange(domNode,startColumn,endColumn,context);if(!output||0===output.length||startColumn===endColumn||1===startColumn&&endColumn===this._characterMapping.length)return output;if(!this.input.containsRTL){const endPixelOffset=this._readPixelOffset(domNode,endColumn,context);if(-1!==endPixelOffset){const lastRange=output[output.length-1];lastRange.left<endPixelOffset&&(lastRange.width=endPixelOffset-lastRange.left)}}return output}}const createRenderedLine=browser.l?createWebKitRenderedLine:createNormalRenderedLine;function createWebKitRenderedLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements){return new WebKitRenderedViewLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements)}function createNormalRenderedLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements){return new viewLine_RenderedViewLine(domNode,renderLineInput,characterMapping,containsRTL,containsForeignElements)}var core_position=__webpack_require__(2303),core_range=__webpack_require__(2295),cursorCommon=__webpack_require__(2333);class PointerHandlerLastRenderData{constructor(lastViewCursorsRenderData,lastTextareaPosition){this.lastViewCursorsRenderData=lastViewCursorsRenderData,this.lastTextareaPosition=lastTextareaPosition}}class mouseTarget_MouseTarget{constructor(element,type,mouseColumn=0,position=null,range=null,detail=null){this.element=element,this.type=type,this.mouseColumn=mouseColumn,this.position=position,!range&&position&&(range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column)),this.range=range,this.detail=detail}static _typeToString(type){return 1===type?"TEXTAREA":2===type?"GUTTER_GLYPH_MARGIN":3===type?"GUTTER_LINE_NUMBERS":4===type?"GUTTER_LINE_DECORATIONS":5===type?"GUTTER_VIEW_ZONE":6===type?"CONTENT_TEXT":7===type?"CONTENT_EMPTY":8===type?"CONTENT_VIEW_ZONE":9===type?"CONTENT_WIDGET":10===type?"OVERVIEW_RULER":11===type?"SCROLLBAR":12===type?"OVERLAY_WIDGET":"UNKNOWN"}static toString(target){return this._typeToString(target.type)+": "+target.position+" - "+target.range+" - "+target.detail}toString(){return mouseTarget_MouseTarget.toString(this)}}class ElementPath{static isTextArea(path){return 2===path.length&&3===path[0]&&6===path[1]}static isChildOfViewLines(path){return path.length>=4&&3===path[0]&&7===path[3]}static isStrictChildOfViewLines(path){return path.length>4&&3===path[0]&&7===path[3]}static isChildOfScrollableElement(path){return path.length>=2&&3===path[0]&&5===path[1]}static isChildOfMinimap(path){return path.length>=2&&3===path[0]&&8===path[1]}static isChildOfContentWidgets(path){return path.length>=4&&3===path[0]&&1===path[3]}static isChildOfOverflowingContentWidgets(path){return path.length>=1&&2===path[0]}static isChildOfOverlayWidgets(path){return path.length>=2&&3===path[0]&&4===path[1]}}class mouseTarget_HitTestContext{constructor(context,viewHelper,lastRenderData){this.model=context.model;const options=context.configuration.options;this.layoutInfo=options.get(117),this.viewDomNode=viewHelper.viewDomNode,this.lineHeight=options.get(51),this.typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth,this.lastRenderData=lastRenderData,this._context=context,this._viewHelper=viewHelper}getZoneAtCoord(mouseVerticalOffset){return mouseTarget_HitTestContext.getZoneAtCoord(this._context,mouseVerticalOffset)}static getZoneAtCoord(context,mouseVerticalOffset){const viewZoneWhitespace=context.viewLayout.getWhitespaceAtVerticalOffset(mouseVerticalOffset);if(viewZoneWhitespace){let position,viewZoneMiddle=viewZoneWhitespace.verticalOffset+viewZoneWhitespace.height/2,lineCount=context.model.getLineCount(),positionBefore=null,positionAfter=null;return viewZoneWhitespace.afterLineNumber!==lineCount&&(positionAfter=new core_position.a(viewZoneWhitespace.afterLineNumber+1,1)),viewZoneWhitespace.afterLineNumber>0&&(positionBefore=new core_position.a(viewZoneWhitespace.afterLineNumber,context.model.getLineMaxColumn(viewZoneWhitespace.afterLineNumber))),position=null===positionAfter?positionBefore:null===positionBefore?positionAfter:mouseVerticalOffset<viewZoneMiddle?positionBefore:positionAfter,{viewZoneId:viewZoneWhitespace.id,afterLineNumber:viewZoneWhitespace.afterLineNumber,positionBefore:positionBefore,positionAfter:positionAfter,position:position}}return null}getFullLineRangeAtCoord(mouseVerticalOffset){if(this._context.viewLayout.isAfterLines(mouseVerticalOffset)){const lineNumber=this._context.model.getLineCount(),maxLineColumn=this._context.model.getLineMaxColumn(lineNumber);return{range:new core_range.a(lineNumber,maxLineColumn,lineNumber,maxLineColumn),isAfterLines:!0}}const lineNumber=this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset),maxLineColumn=this._context.model.getLineMaxColumn(lineNumber);return{range:new core_range.a(lineNumber,1,lineNumber,maxLineColumn),isAfterLines:!1}}getLineNumberAtVerticalOffset(mouseVerticalOffset){return this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset)}isAfterLines(mouseVerticalOffset){return this._context.viewLayout.isAfterLines(mouseVerticalOffset)}getVerticalOffsetForLineNumber(lineNumber){return this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber)}findAttribute(element,attr){return mouseTarget_HitTestContext._findAttribute(element,attr,this._viewHelper.viewDomNode)}static _findAttribute(element,attr,stopAt){for(;element&&element!==document.body;){if(element.hasAttribute&&element.hasAttribute(attr))return element.getAttribute(attr);if(element===stopAt)return null;element=element.parentNode}return null}getLineWidth(lineNumber){return this._viewHelper.getLineWidth(lineNumber)}visibleRangeForPosition(lineNumber,column){return this._viewHelper.visibleRangeForPosition(lineNumber,column)}getPositionFromDOMInfo(spanNode,offset){return this._viewHelper.getPositionFromDOMInfo(spanNode,offset)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class BareHitTestRequest{constructor(ctx,editorPos,pos){this.editorPos=editorPos,this.pos=pos,this.mouseVerticalOffset=Math.max(0,ctx.getCurrentScrollTop()+pos.y-editorPos.y),this.mouseContentHorizontalOffset=ctx.getCurrentScrollLeft()+pos.x-editorPos.x-ctx.layoutInfo.contentLeft,this.isInMarginArea=pos.x-editorPos.x<ctx.layoutInfo.contentLeft&&pos.x-editorPos.x>=ctx.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,mouseTarget_MouseTargetFactory._getMouseColumn(this.mouseContentHorizontalOffset,ctx.typicalHalfwidthCharacterWidth))}}class mouseTarget_HitTestRequest extends BareHitTestRequest{constructor(ctx,editorPos,pos,target){super(ctx,editorPos,pos),this._ctx=ctx,target?(this.target=target,this.targetPath=viewPart_PartFingerprints.collect(target,ctx.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(type,position=null,range=null,detail=null){let mouseColumn=this.mouseColumn;return position&&position.column<this._ctx.model.getLineMaxColumn(position.lineNumber)&&(mouseColumn=cursorCommon.a.visibleColumnFromColumn(this._ctx.model.getLineContent(position.lineNumber),position.column,this._ctx.model.getTextModelOptions().tabSize)+1),new mouseTarget_MouseTarget(this.target,type,mouseColumn,position,range,detail)}withTarget(target){return new mouseTarget_HitTestRequest(this._ctx,this.editorPos,this.pos,target)}}const EMPTY_CONTENT_AFTER_LINES={isAfterLines:!0};function createEmptyContentDataInLines(horizontalDistanceToText){return{isAfterLines:!1,horizontalDistanceToText:horizontalDistanceToText}}class mouseTarget_MouseTargetFactory{constructor(context,viewHelper){this._context=context,this._viewHelper=viewHelper}mouseTargetIsWidget(e){const t=e.target,path=viewPart_PartFingerprints.collect(t,this._viewHelper.viewDomNode);return!(!ElementPath.isChildOfContentWidgets(path)&&!ElementPath.isChildOfOverflowingContentWidgets(path))||!!ElementPath.isChildOfOverlayWidgets(path)}createMouseTarget(lastRenderData,editorPos,pos,target){const ctx=new mouseTarget_HitTestContext(this._context,this._viewHelper,lastRenderData),request=new mouseTarget_HitTestRequest(ctx,editorPos,pos,target);try{return mouseTarget_MouseTargetFactory._createMouseTarget(ctx,request,!1)}catch(err){return request.fulfill(0)}}static _createMouseTarget(ctx,request,domHitTestExecuted){if(null===request.target){if(domHitTestExecuted)return request.fulfill(0);const hitTestResult=mouseTarget_MouseTargetFactory._doHitTest(ctx,request);return hitTestResult.position?mouseTarget_MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx,request,hitTestResult.position.lineNumber,hitTestResult.position.column):this._createMouseTarget(ctx,request.withTarget(hitTestResult.hitTarget),!0)}const resolvedRequest=request;let result=null;return(result=(result=(result=(result=(result=(result=(result=(result=(result=(result=result||mouseTarget_MouseTargetFactory._hitTestContentWidget(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestOverlayWidget(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestMinimap(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestScrollbarSlider(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestViewZone(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestMargin(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestViewCursor(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestTextArea(ctx,resolvedRequest))||mouseTarget_MouseTargetFactory._hitTestViewLines(ctx,resolvedRequest,domHitTestExecuted))||mouseTarget_MouseTargetFactory._hitTestScrollbar(ctx,resolvedRequest))||request.fulfill(0)}static _hitTestContentWidget(ctx,request){if(ElementPath.isChildOfContentWidgets(request.targetPath)||ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)){const widgetId=ctx.findAttribute(request.target,"widgetId");return widgetId?request.fulfill(9,null,null,widgetId):request.fulfill(0)}return null}static _hitTestOverlayWidget(ctx,request){if(ElementPath.isChildOfOverlayWidgets(request.targetPath)){const widgetId=ctx.findAttribute(request.target,"widgetId");return widgetId?request.fulfill(12,null,null,widgetId):request.fulfill(0)}return null}static _hitTestViewCursor(ctx,request){if(request.target){const lastViewCursorsRenderData=ctx.lastRenderData.lastViewCursorsRenderData;for(const d of lastViewCursorsRenderData)if(request.target===d.domNode)return request.fulfill(6,d.position)}if(request.isInContentArea){const lastViewCursorsRenderData=ctx.lastRenderData.lastViewCursorsRenderData,mouseContentHorizontalOffset=request.mouseContentHorizontalOffset,mouseVerticalOffset=request.mouseVerticalOffset;for(const d of lastViewCursorsRenderData){if(mouseContentHorizontalOffset<d.contentLeft)continue;if(mouseContentHorizontalOffset>d.contentLeft+d.width)continue;const cursorVerticalOffset=ctx.getVerticalOffsetForLineNumber(d.position.lineNumber);if(cursorVerticalOffset<=mouseVerticalOffset&&mouseVerticalOffset<=cursorVerticalOffset+d.height)return request.fulfill(6,d.position)}}return null}static _hitTestViewZone(ctx,request){const viewZoneData=ctx.getZoneAtCoord(request.mouseVerticalOffset);if(viewZoneData){const mouseTargetType=request.isInContentArea?8:5;return request.fulfill(mouseTargetType,viewZoneData.position,null,viewZoneData)}return null}static _hitTestTextArea(ctx,request){return ElementPath.isTextArea(request.targetPath)?ctx.lastRenderData.lastTextareaPosition?request.fulfill(6,ctx.lastRenderData.lastTextareaPosition):request.fulfill(1,ctx.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(ctx,request){if(request.isInMarginArea){const res=ctx.getFullLineRangeAtCoord(request.mouseVerticalOffset),pos=res.range.getStartPosition();let offset=Math.abs(request.pos.x-request.editorPos.x);const detail={isAfterLines:res.isAfterLines,glyphMarginLeft:ctx.layoutInfo.glyphMarginLeft,glyphMarginWidth:ctx.layoutInfo.glyphMarginWidth,lineNumbersWidth:ctx.layoutInfo.lineNumbersWidth,offsetX:offset};return(offset-=ctx.layoutInfo.glyphMarginLeft)<=ctx.layoutInfo.glyphMarginWidth?request.fulfill(2,pos,res.range,detail):(offset-=ctx.layoutInfo.glyphMarginWidth)<=ctx.layoutInfo.lineNumbersWidth?request.fulfill(3,pos,res.range,detail):(offset-=ctx.layoutInfo.lineNumbersWidth,request.fulfill(4,pos,res.range,detail))}return null}static _hitTestViewLines(ctx,request,domHitTestExecuted){if(!ElementPath.isChildOfViewLines(request.targetPath))return null;if(ctx.isAfterLines(request.mouseVerticalOffset)){const lineCount=ctx.model.getLineCount(),maxLineColumn=ctx.model.getLineMaxColumn(lineCount);return request.fulfill(7,new core_position.a(lineCount,maxLineColumn),void 0,EMPTY_CONTENT_AFTER_LINES)}if(domHitTestExecuted){if(ElementPath.isStrictChildOfViewLines(request.targetPath)){const lineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);if(0===ctx.model.getLineLength(lineNumber)){const lineWidth=ctx.getLineWidth(lineNumber),detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);return request.fulfill(7,new core_position.a(lineNumber,1),void 0,detail)}const lineWidth=ctx.getLineWidth(lineNumber);if(request.mouseContentHorizontalOffset>=lineWidth){const detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth),pos=new core_position.a(lineNumber,ctx.model.getLineMaxColumn(lineNumber));return request.fulfill(7,pos,void 0,detail)}}return request.fulfill(0)}const hitTestResult=mouseTarget_MouseTargetFactory._doHitTest(ctx,request);return hitTestResult.position?mouseTarget_MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx,request,hitTestResult.position.lineNumber,hitTestResult.position.column):this._createMouseTarget(ctx,request.withTarget(hitTestResult.hitTarget),!0)}static _hitTestMinimap(ctx,request){if(ElementPath.isChildOfMinimap(request.targetPath)){const possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfill(11,new core_position.a(possibleLineNumber,maxColumn))}return null}static _hitTestScrollbarSlider(ctx,request){if(ElementPath.isChildOfScrollableElement(request.targetPath)&&request.target&&1===request.target.nodeType){const className=request.target.className;if(className&&/\b(slider|scrollbar)\b/.test(className)){const possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfill(11,new core_position.a(possibleLineNumber,maxColumn))}}return null}static _hitTestScrollbar(ctx,request){if(ElementPath.isChildOfScrollableElement(request.targetPath)){const possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfill(11,new core_position.a(possibleLineNumber,maxColumn))}return null}getMouseColumn(editorPos,pos){const options=this._context.configuration.options,layoutInfo=options.get(117),mouseContentHorizontalOffset=this._context.viewLayout.getCurrentScrollLeft()+pos.x-editorPos.x-layoutInfo.contentLeft;return mouseTarget_MouseTargetFactory._getMouseColumn(mouseContentHorizontalOffset,options.get(36).typicalHalfwidthCharacterWidth)}static _getMouseColumn(mouseContentHorizontalOffset,typicalHalfwidthCharacterWidth){if(mouseContentHorizontalOffset<0)return 1;return Math.round(mouseContentHorizontalOffset/typicalHalfwidthCharacterWidth)+1}static createMouseTargetFromHitTestPosition(ctx,request,lineNumber,column){const pos=new core_position.a(lineNumber,column),lineWidth=ctx.getLineWidth(lineNumber);if(request.mouseContentHorizontalOffset>lineWidth){if(browser.f&&1===pos.column){const detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);return request.fulfill(7,new core_position.a(lineNumber,ctx.model.getLineMaxColumn(lineNumber)),void 0,detail)}const detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);return request.fulfill(7,pos,void 0,detail)}const visibleRange=ctx.visibleRangeForPosition(lineNumber,column);if(!visibleRange)return request.fulfill(0,pos);const columnHorizontalOffset=visibleRange.left;if(request.mouseContentHorizontalOffset===columnHorizontalOffset)return request.fulfill(6,pos);const points=[];if(points.push({offset:visibleRange.left,column:column}),column>1){const visibleRange=ctx.visibleRangeForPosition(lineNumber,column-1);visibleRange&&points.push({offset:visibleRange.left,column:column-1})}if(column<ctx.model.getLineMaxColumn(lineNumber)){const visibleRange=ctx.visibleRangeForPosition(lineNumber,column+1);visibleRange&&points.push({offset:visibleRange.left,column:column+1})}points.sort((a,b)=>a.offset-b.offset);for(let i=1;i<points.length;i++){const prev=points[i-1],curr=points[i];if(prev.offset<=request.mouseContentHorizontalOffset&&request.mouseContentHorizontalOffset<=curr.offset){const rng=new core_range.a(lineNumber,prev.column,lineNumber,curr.column);return request.fulfill(6,pos,rng)}}return request.fulfill(6,pos)}static _doHitTestWithCaretRangeFromPoint(ctx,request){const lineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset),lineCenteredVerticalOffset=ctx.getVerticalOffsetForLineNumber(lineNumber)+Math.floor(ctx.lineHeight/2);let adjustedPageY=request.pos.y+(lineCenteredVerticalOffset-request.mouseVerticalOffset);adjustedPageY<=request.editorPos.y&&(adjustedPageY=request.editorPos.y+1),adjustedPageY>=request.editorPos.y+ctx.layoutInfo.height&&(adjustedPageY=request.editorPos.y+ctx.layoutInfo.height-1);const adjustedPage=new editorDom_PageCoordinates(request.pos.x,adjustedPageY),r=this._actualDoHitTestWithCaretRangeFromPoint(ctx,adjustedPage.toClientCoordinates());return r.position?r:this._actualDoHitTestWithCaretRangeFromPoint(ctx,request.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(ctx,coords){const shadowRoot=dom.E(ctx.viewDomNode);let range;if(!(range=shadowRoot?void 0===shadowRoot.caretRangeFromPoint?function shadowCaretRangeFromPoint(shadowRoot,x,y){const range=document.createRange();let el=shadowRoot.elementFromPoint(x,y);if(null!==el){for(;el&&el.firstChild&&el.firstChild.nodeType!==el.firstChild.TEXT_NODE;)el=el.lastChild;const rect=el.getBoundingClientRect(),font=window.getComputedStyle(el,null).getPropertyValue("font"),text=el.innerText;let step,pixelCursor=rect.left,offset=0;if(x>rect.left+rect.width)offset=text.length;else{const charWidthReader=CharWidthReader.getInstance();for(let i=0;i<text.length+1;i++){if(step=charWidthReader.getCharWidth(text.charAt(i),font)/2,x<(pixelCursor+=step)){offset=i;break}pixelCursor+=step}}range.setStart(el.firstChild,offset),range.setEnd(el.firstChild,offset)}return range}(shadowRoot,coords.clientX,coords.clientY):shadowRoot.caretRangeFromPoint(coords.clientX,coords.clientY):document.caretRangeFromPoint(coords.clientX,coords.clientY))||!range.startContainer)return{position:null,hitTarget:null};const startContainer=range.startContainer;let hitTarget=null;if(startContainer.nodeType===startContainer.TEXT_NODE){const parent1=startContainer.parentNode,parent2=parent1?parent1.parentNode:null,parent3=parent2?parent2.parentNode:null;if((parent3&&parent3.nodeType===parent3.ELEMENT_NODE?parent3.className:null)===viewLine_ViewLine.CLASS_NAME){return{position:ctx.getPositionFromDOMInfo(parent1,range.startOffset),hitTarget:null}}hitTarget=startContainer.parentNode}else if(startContainer.nodeType===startContainer.ELEMENT_NODE){const parent1=startContainer.parentNode,parent2=parent1?parent1.parentNode:null;if((parent2&&parent2.nodeType===parent2.ELEMENT_NODE?parent2.className:null)===viewLine_ViewLine.CLASS_NAME){return{position:ctx.getPositionFromDOMInfo(startContainer,startContainer.textContent.length),hitTarget:null}}hitTarget=startContainer}return{position:null,hitTarget:hitTarget}}static _doHitTestWithCaretPositionFromPoint(ctx,coords){const hitResult=document.caretPositionFromPoint(coords.clientX,coords.clientY);if(hitResult.offsetNode.nodeType===hitResult.offsetNode.TEXT_NODE){const parent1=hitResult.offsetNode.parentNode,parent2=parent1?parent1.parentNode:null,parent3=parent2?parent2.parentNode:null;if((parent3&&parent3.nodeType===parent3.ELEMENT_NODE?parent3.className:null)===viewLine_ViewLine.CLASS_NAME){return{position:ctx.getPositionFromDOMInfo(hitResult.offsetNode.parentNode,hitResult.offset),hitTarget:null}}return{position:null,hitTarget:hitResult.offsetNode.parentNode}}if(hitResult.offsetNode.nodeType===hitResult.offsetNode.ELEMENT_NODE){const parent1=hitResult.offsetNode.parentNode;if((parent1&&parent1.nodeType===parent1.ELEMENT_NODE?parent1.className:null)===viewLine_ViewLine.CLASS_NAME){const tokenSpan=hitResult.offsetNode.childNodes[Math.min(hitResult.offset,hitResult.offsetNode.childNodes.length-1)];if(tokenSpan){return{position:ctx.getPositionFromDOMInfo(tokenSpan,0),hitTarget:null}}}}return{position:null,hitTarget:hitResult.offsetNode}}static _doHitTestWithMoveToPoint(ctx,coords){let resultPosition=null,resultHitTarget=null;const textRange=document.body.createTextRange();try{textRange.moveToPoint(coords.clientX,coords.clientY)}catch(err){return{position:null,hitTarget:null}}textRange.collapse(!0);const parentElement=textRange?textRange.parentElement():null,parent1=parentElement?parentElement.parentNode:null,parent2=parent1?parent1.parentNode:null;if((parent2&&parent2.nodeType===parent2.ELEMENT_NODE?parent2.className:"")===viewLine_ViewLine.CLASS_NAME){const rangeToContainEntireSpan=textRange.duplicate();rangeToContainEntireSpan.moveToElementText(parentElement),rangeToContainEntireSpan.setEndPoint("EndToStart",textRange),resultPosition=ctx.getPositionFromDOMInfo(parentElement,rangeToContainEntireSpan.text.length),rangeToContainEntireSpan.moveToElementText(ctx.viewDomNode)}else resultHitTarget=parentElement;return textRange.moveToElementText(ctx.viewDomNode),{position:resultPosition,hitTarget:resultHitTarget}}static _doHitTest(ctx,request){return"function"==typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(ctx,request):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(ctx,request.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(ctx,request.pos.toClientCoordinates()):{position:null,hitTarget:null}}}class CharWidthReader{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return CharWidthReader._INSTANCE||(CharWidthReader._INSTANCE=new CharWidthReader),CharWidthReader._INSTANCE}getCharWidth(char,font){const cacheKey=char+font;if(this._cache[cacheKey])return this._cache[cacheKey];const context=this._canvas.getContext("2d");context.font=font;const width=context.measureText(char).width;return this._cache[cacheKey]=width,width}}CharWidthReader._INSTANCE=null;var editorZoom=__webpack_require__(2396);function createMouseMoveEventMerger(mouseTargetFactory){return function(lastEvent,currentEvent){let targetIsWidget=!1;return mouseTargetFactory&&(targetIsWidget=mouseTargetFactory.mouseTargetIsWidget(currentEvent)),targetIsWidget||currentEvent.preventDefault(),currentEvent}}class mouseHandler_MouseHandler extends viewEventHandler_ViewEventHandler{constructor(context,viewController,viewHelper){super(),this._context=context,this.viewController=viewController,this.viewHelper=viewHelper,this.mouseTargetFactory=new mouseTarget_MouseTargetFactory(this._context,viewHelper),this._mouseDownOperation=this._register(new mouseHandler_MouseDownOperation(this._context,this.viewController,this.viewHelper,(e,testEventTarget)=>this._createMouseTarget(e,testEventTarget),e=>this._getMouseColumn(e))),this.lastMouseLeaveTime=-1;const mouseEvents=new editorDom_EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(mouseEvents.onContextMenu(this.viewHelper.viewDomNode,e=>this._onContextMenu(e,!0))),this._register(mouseEvents.onMouseMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),createMouseMoveEventMerger(this.mouseTargetFactory),mouseHandler_MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(mouseEvents.onMouseUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(mouseEvents.onMouseLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(mouseEvents.onMouseDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)));this._register(dom.i(this.viewHelper.viewDomNode,dom.c.MOUSE_WHEEL,browserEvent=>{if(this.viewController.emitMouseWheel(browserEvent),!this._context.configuration.options.get(59))return;const e=new mouseEvent.b(browserEvent);if(e.browserEvent.ctrlKey||e.browserEvent.metaKey){const zoomLevel=editorZoom.a.getZoomLevel(),delta=e.deltaY>0?1:-1;editorZoom.a.setZoomLevel(zoomLevel+delta),e.preventDefault(),e.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(clientX,clientY){const pos=new editorDom_ClientCoordinates(clientX,clientY).toPageCoordinates(),editorPos=createEditorPagePosition(this.viewHelper.viewDomNode);return pos.y<editorPos.y||pos.y>editorPos.y+editorPos.height||pos.x<editorPos.x||pos.x>editorPos.x+editorPos.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),editorPos,pos,null)}_createMouseTarget(e,testEventTarget){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,testEventTarget?e.target:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,testEventTarget){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,testEventTarget)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),targetIsContent=6===t.type||7===t.type,targetIsGutter=2===t.type||3===t.type||4===t.type,targetIsLineNumbers=3===t.type,selectOnLineNumbers=this._context.configuration.options.get(90),targetIsViewZone=8===t.type||5===t.type,targetIsWidget=9===t.type;let shouldHandle=e.leftButton||e.middleButton;platform.f&&e.leftButton&&e.ctrlKey&&(shouldHandle=!1);const focus=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(shouldHandle&&(targetIsContent||targetIsLineNumbers&&selectOnLineNumbers))focus(),this._mouseDownOperation.start(t.type,e);else if(targetIsGutter)e.preventDefault();else if(targetIsViewZone){const viewZoneData=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(viewZoneData.viewZoneId)&&(focus(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else targetIsWidget&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(focus(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}mouseHandler_MouseHandler.MOUSE_MOVE_MINIMUM_TIME=100;class mouseHandler_MouseDownOperation extends lifecycle.a{constructor(context,viewController,viewHelper,createMouseTarget,getMouseColumn){super(),this._context=context,this._viewController=viewController,this._viewHelper=viewHelper,this._createMouseTarget=createMouseTarget,this._getMouseColumn=getMouseColumn,this._mouseMoveMonitor=this._register(new editorDom_GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new common_async.e),this._mouseState=new MouseDownState,this._currentSelection=new core_selection.a(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const position=this._findMousePosition(e,!0);position&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:position}):this._dispatchMouse(position,!0))}start(targetType,e){this._lastMouseEvent=e,this._mouseState.setStartedOnLineNumbers(3===targetType),this._mouseState.setStartButtons(e),this._mouseState.setModifiers(e);const position=this._findMousePosition(e,!0);if(!position||!position.position)return;this._mouseState.trySetCount(e.detail,position.position),e.detail=this._mouseState.count;const options=this._context.configuration.options;if(!options.get(72)&&options.get(25)&&!options.get(13)&&!this._mouseState.altKey&&e.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===position.type&&position.position&&this._currentSelection.containsPosition(position.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,createMouseMoveEventMerger(null),e=>this._onMouseDownThenMove(e),()=>{const position=this._findMousePosition(this._lastMouseEvent,!0);this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:position?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(position,e.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,createMouseMoveEventMerger(null),e=>this._onMouseDownThenMove(e),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const position=this._findMousePosition(this._lastMouseEvent,!1);position&&(this._mouseState.isDragAndDrop||this._dispatchMouse(position,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const editorContent=e.editorPos,model=this._context.model,viewLayout=this._context.viewLayout,mouseColumn=this._getMouseColumn(e);if(e.posy<editorContent.y){const verticalOffset=Math.max(viewLayout.getCurrentScrollTop()-(editorContent.y-e.posy),0),viewZoneData=mouseTarget_HitTestContext.getZoneAtCoord(this._context,verticalOffset);if(viewZoneData){const newPosition=this._helpPositionJumpOverViewZone(viewZoneData);if(newPosition)return new mouseTarget_MouseTarget(null,13,mouseColumn,newPosition)}const aboveLineNumber=viewLayout.getLineNumberAtVerticalOffset(verticalOffset);return new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(aboveLineNumber,1))}if(e.posy>editorContent.y+editorContent.height){const verticalOffset=viewLayout.getCurrentScrollTop()+(e.posy-editorContent.y),viewZoneData=mouseTarget_HitTestContext.getZoneAtCoord(this._context,verticalOffset);if(viewZoneData){const newPosition=this._helpPositionJumpOverViewZone(viewZoneData);if(newPosition)return new mouseTarget_MouseTarget(null,13,mouseColumn,newPosition)}const belowLineNumber=viewLayout.getLineNumberAtVerticalOffset(verticalOffset);return new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(belowLineNumber,model.getLineMaxColumn(belowLineNumber)))}const possibleLineNumber=viewLayout.getLineNumberAtVerticalOffset(viewLayout.getCurrentScrollTop()+(e.posy-editorContent.y));return e.posx<editorContent.x?new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(possibleLineNumber,1)):e.posx>editorContent.x+editorContent.width?new mouseTarget_MouseTarget(null,13,mouseColumn,new core_position.a(possibleLineNumber,model.getLineMaxColumn(possibleLineNumber))):null}_findMousePosition(e,testEventTarget){const positionOutsideEditor=this._getPositionOutsideEditor(e);if(positionOutsideEditor)return positionOutsideEditor;const t=this._createMouseTarget(e,testEventTarget);if(!t.position)return null;if(8===t.type||5===t.type){const newPosition=this._helpPositionJumpOverViewZone(t.detail);if(newPosition)return new mouseTarget_MouseTarget(t.element,t.type,t.mouseColumn,newPosition,null,t.detail)}return t}_helpPositionJumpOverViewZone(viewZoneData){const selectionStart=new core_position.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),positionBefore=viewZoneData.positionBefore,positionAfter=viewZoneData.positionAfter;return positionBefore&&positionAfter?positionBefore.isBefore(selectionStart)?positionBefore:positionAfter:null}_dispatchMouse(position,inSelectionMode){position.position&&this._viewController.dispatchMouse({position:position.position,mouseColumn:position.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:inSelectionMode,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class MouseDownState{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(source){this._altKey=source.altKey,this._ctrlKey=source.ctrlKey,this._metaKey=source.metaKey,this._shiftKey=source.shiftKey}setStartButtons(source){this._leftButton=source.leftButton,this._middleButton=source.middleButton}setStartedOnLineNumbers(startedOnLineNumbers){this._startedOnLineNumbers=startedOnLineNumbers}trySetCount(setMouseDownCount,newMouseDownPosition){const currentTime=(new Date).getTime();currentTime-this._lastSetMouseDownCountTime>MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME&&(setMouseDownCount=1),this._lastSetMouseDownCountTime=currentTime,setMouseDownCount>this._lastMouseDownCount+1&&(setMouseDownCount=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(newMouseDownPosition)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=newMouseDownPosition,this._lastMouseDownCount=Math.min(setMouseDownCount,this._lastMouseDownPositionEqualCount)}}MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var canIUse=__webpack_require__(2383);function gestureChangeEventMerger(lastEvent,currentEvent){const r={translationY:currentEvent.translationY,translationX:currentEvent.translationX};return lastEvent&&(r.translationY+=lastEvent.translationY,r.translationX+=lastEvent.translationX),r}class pointerHandler_StandardPointerHandler extends mouseHandler_MouseHandler{constructor(context,viewController,viewHelper){super(context,viewController,viewHelper),this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout(()=>{if(this._installGestureHandlerTimeout=-1,window.MSGesture){const touchGesture=new MSGesture,penGesture=new MSGesture;touchGesture.target=this.viewHelper.linesContentDomNode,penGesture.target=this.viewHelper.linesContentDomNode,this.viewHelper.linesContentDomNode.addEventListener("pointerdown",e=>{const pointerType=e.pointerType;"mouse"!==pointerType?"touch"===pointerType?(this._lastPointerType="touch",touchGesture.addPointer(e.pointerId)):(this._lastPointerType="pen",penGesture.addPointer(e.pointerId)):this._lastPointerType="mouse"}),this._register(dom.l(this.viewHelper.linesContentDomNode,"MSGestureChange",e=>this._onGestureChange(e),gestureChangeEventMerger)),this._register(dom.i(this.viewHelper.linesContentDomNode,"MSGestureTap",e=>this._onCaptureGestureTap(e),!0))}},100),this._lastPointerType="mouse"}_onMouseDown(e){"mouse"===this._lastPointerType&&super._onMouseDown(e)}_onCaptureGestureTap(rawEvent){const e=new editorDom_EditorMouseEvent(rawEvent,this.viewHelper.viewDomNode),t=this._createMouseTarget(e,!1);t.position&&this.viewController.moveTo(t.position),e.browserEvent.fromElement?(e.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(()=>{this.viewHelper.focusTextArea()})}_onGestureChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}dispose(){window.clearTimeout(this._installGestureHandlerTimeout),super.dispose()}}class pointerHandler_PointerEventHandler extends mouseHandler_MouseHandler{constructor(context,viewController,viewHelper){super(context,viewController,viewHelper),this._register(touch.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(dom.i(this.viewHelper.linesContentDomNode,touch.a.Tap,e=>this.onTap(e))),this._register(dom.i(this.viewHelper.linesContentDomNode,touch.a.Change,e=>this.onChange(e))),this._register(dom.i(this.viewHelper.linesContentDomNode,touch.a.Contextmenu,e=>this._onContextMenu(new editorDom_EditorMouseEvent(e,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(dom.i(this.viewHelper.linesContentDomNode,"pointerdown",e=>{const pointerType=e.pointerType;this._lastPointerType="mouse"!==pointerType?"touch"===pointerType?"touch":"pen":"mouse"}));const pointerEvents=new editorDom_EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(pointerEvents.onPointerMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),createMouseMoveEventMerger(this.mouseTargetFactory),mouseHandler_MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(pointerEvents.onPointerUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(pointerEvents.onPointerLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(pointerEvents.onPointerDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)))}onTap(event){if(!event.initialTarget||!this.viewHelper.linesContentDomNode.contains(event.initialTarget))return;event.preventDefault(),this.viewHelper.focusTextArea();const target=this._createMouseTarget(new editorDom_EditorMouseEvent(event,this.viewHelper.viewDomNode),!1);target.position&&this.viewController.dispatchMouse({position:target.position,mouseColumn:target.position.column,startedOnLineNumbers:!1,mouseDownCount:event.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.target&&this.viewHelper.linesContentDomNode.contains(e.target)&&"touch"===this._lastPointerType||super._onMouseDown(e)}}class pointerHandler_TouchHandler extends mouseHandler_MouseHandler{constructor(context,viewController,viewHelper){super(context,viewController,viewHelper),this._register(touch.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(dom.i(this.viewHelper.linesContentDomNode,touch.a.Tap,e=>this.onTap(e))),this._register(dom.i(this.viewHelper.linesContentDomNode,touch.a.Change,e=>this.onChange(e))),this._register(dom.i(this.viewHelper.linesContentDomNode,touch.a.Contextmenu,e=>this._onContextMenu(new editorDom_EditorMouseEvent(e,this.viewHelper.viewDomNode),!1)))}onTap(event){event.preventDefault(),this.viewHelper.focusTextArea();const target=this._createMouseTarget(new editorDom_EditorMouseEvent(event,this.viewHelper.viewDomNode),!1);target.position&&this.viewController.moveTo(target.position)}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class pointerHandler_PointerHandler extends lifecycle.a{constructor(context,viewController,viewHelper){super(),platform.c&&canIUse.a.pointerEvents?this.handler=this._register(new pointerHandler_PointerEventHandler(context,viewController,viewHelper)):window.TouchEvent?this.handler=this._register(new pointerHandler_TouchHandler(context,viewController,viewHelper)):window.navigator.pointerEnabled||window.PointerEvent?this.handler=this._register(new pointerHandler_StandardPointerHandler(context,viewController,viewHelper)):this.handler=this._register(new mouseHandler_MouseHandler(context,viewController,viewHelper))}getTargetAtClientPoint(clientX,clientY){return this.handler.getTargetAtClientPoint(clientX,clientY)}}__webpack_require__(2548);var strings=__webpack_require__(2299),textAreaInput=__webpack_require__(2467),textAreaState=__webpack_require__(2468);__webpack_require__(2550);class dynamicViewOverlay_DynamicViewOverlay extends viewEventHandler_ViewEventHandler{}var editorColorRegistry=__webpack_require__(2338);class lineNumbers_LineNumbersOverlay extends dynamicViewOverlay_DynamicViewOverlay{constructor(context){super(),this._context=context,this._readConfig(),this._lastCursorModelPosition=new core_position.a(1,1),this._renderResult=null,this._context.addEventHandler(this)}_readConfig(){const options=this._context.configuration.options;this._lineHeight=options.get(51);const lineNumbers=options.get(52);this._renderLineNumbers=lineNumbers.renderType,this._renderCustomLineNumbers=lineNumbers.renderFn,this._renderFinalNewline=options.get(76);const layoutInfo=options.get(117);this._lineNumbersLeft=layoutInfo.lineNumbersLeft,this._lineNumbersWidth=layoutInfo.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const primaryViewPosition=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(primaryViewPosition),2===this._renderLineNumbers||3===this._renderLineNumbers}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(viewLineNumber){const modelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(viewLineNumber,1));if(1!==modelPosition.column)return"";const modelLineNumber=modelPosition.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(modelLineNumber);if(2===this._renderLineNumbers){const diff=Math.abs(this._lastCursorModelPosition.lineNumber-modelLineNumber);return 0===diff?'<span class="relative-current-line-number">'+modelLineNumber+"</span>":String(diff)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===modelLineNumber?String(modelLineNumber):modelLineNumber%10==0?String(modelLineNumber):"":String(modelLineNumber)}prepareRender(ctx){if(0===this._renderLineNumbers)return void(this._renderResult=null);const lineHeightClassName=platform.d?this._lineHeight%2==0?" lh-even":" lh-odd":"",visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,common='<div class="'+lineNumbers_LineNumbersOverlay.CLASS_NAME+lineHeightClassName+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',lineCount=this._context.model.getLineCount(),output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){const lineIndex=lineNumber-visibleStartLineNumber;if(!this._renderFinalNewline&&lineNumber===lineCount&&0===this._context.model.getLineLength(lineNumber)){output[lineIndex]="";continue}const renderLineNumber=this._getLineRenderLineNumber(lineNumber);output[lineIndex]=renderLineNumber?common+renderLineNumber+"</div>":""}this._renderResult=output}render(startLineNumber,lineNumber){if(!this._renderResult)return"";const lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]}}lineNumbers_LineNumbersOverlay.CLASS_NAME="line-numbers",Object(common_themeService.g)((theme,collector)=>{const lineNumbers=theme.getColor(editorColorRegistry.k);lineNumbers&&collector.addRule(`.monaco-editor .line-numbers { color: ${lineNumbers}; }`);const activeLineNumber=theme.getColor(editorColorRegistry.b);activeLineNumber&&collector.addRule(`.monaco-editor .current-line ~ .line-numbers { color: ${activeLineNumber}; }`)});class margin_Margin extends viewPart_ViewPart{constructor(context){super(context);const options=this._context.configuration.options,layoutInfo=options.get(117);this._canUseLayerHinting=!options.get(23),this._contentLeft=layoutInfo.contentLeft,this._glyphMarginLeft=layoutInfo.glyphMarginLeft,this._glyphMarginWidth=layoutInfo.glyphMarginWidth,this._domNode=Object(fastDomNode.b)(document.createElement("div")),this._domNode.setClassName(margin_Margin.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Object(fastDomNode.b)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(margin_Margin.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const options=this._context.configuration.options,layoutInfo=options.get(117);return this._canUseLayerHinting=!options.get(23),this._contentLeft=layoutInfo.contentLeft,this._glyphMarginLeft=layoutInfo.glyphMarginLeft,this._glyphMarginWidth=layoutInfo.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(ctx){}render(ctx){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const adjustedScrollTop=ctx.scrollTop-ctx.bigNumbersDelta;this._domNode.setTop(-adjustedScrollTop);const height=Math.min(ctx.scrollHeight,1e6);this._domNode.setHeight(height),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(height)}}margin_Margin.CLASS_NAME="glyph-margin",margin_Margin.OUTER_CLASS_NAME="margin";var wordCharacterClassifier=__webpack_require__(2386),mouseCursor=__webpack_require__(2409);class VisibleTextAreaData{constructor(top,left,width){this.top=top,this.left=left,this.width=width}setWidth(width){return new VisibleTextAreaData(this.top,this.left,width)}}const canUseZeroSizeTextarea=browser.f||browser.h;class textAreaHandler_TextAreaHandler extends viewPart_ViewPart{constructor(context,viewController,viewHelper){super(context),this._primaryCursorPosition=new core_position.a(1,1),this._primaryCursorVisibleRange=null,this._viewController=viewController,this._viewHelper=viewHelper,this._scrollLeft=0,this._scrollTop=0;const options=this._context.configuration.options,layoutInfo=options.get(117);this._setAccessibilityOptions(options),this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,this._contentHeight=layoutInfo.height,this._fontInfo=options.get(36),this._lineHeight=options.get(51),this._emptySelectionClipboard=options.get(26),this._copyWithSyntaxHighlighting=options.get(16),this._visibleTextArea=null,this._selections=[new core_selection.a(1,1,1,1)],this._modelSelections=[new core_selection.a(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Object(fastDomNode.b)(document.createElement("textarea")),viewPart_PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${mouseCursor.a}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(options)),this.textArea.setAttribute("tabindex",String(options.get(102))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",nls.a("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),platform.h&&options.get(72)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Object(fastDomNode.b)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const simpleModel={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:lineNumber=>this._context.model.getLineMaxColumn(lineNumber),getValueInRange:(range,eol)=>this._context.model.getValueInRange(range,eol)},textAreaInputHost={getDataToCopy:generateHTML=>{const rawTextToCopy=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,platform.i),newLineCharacter=this._context.model.getEOL(),isFromEmptySelection=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),multicursorText=Array.isArray(rawTextToCopy)?rawTextToCopy:null,text=Array.isArray(rawTextToCopy)?rawTextToCopy.join(newLineCharacter):rawTextToCopy;let html=void 0,mode=null;if(generateHTML&&(textAreaInput.a.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&text.length<65536)){const richText=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);richText&&(html=richText.html,mode=richText.mode)}return{isFromEmptySelection:isFromEmptySelection,multicursorText:multicursorText,text:text,html:html,mode:mode}},getScreenReaderContent:currentState=>{if(1===this._accessibilitySupport){if(platform.f){const selection=this._selections[0];if(selection.isEmpty()){const position=selection.getStartPosition();let textBefore=this._getWordBeforePosition(position);if(0===textBefore.length&&(textBefore=this._getCharacterBeforePosition(position)),textBefore.length>0)return new textAreaState.b(textBefore,textBefore.length,textBefore.length,position,position)}}return textAreaState.b.EMPTY}return textAreaState.a.fromEditorSelection(currentState,simpleModel,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(viewAnchorPosition,deltaOffset,lineFeedCnt)=>this._context.model.deduceModelPositionRelativeToViewPosition(viewAnchorPosition,deltaOffset,lineFeedCnt)};this._textAreaInput=this._register(new textAreaInput.c(textAreaInputHost,this.textArea)),this._register(this._textAreaInput.onKeyDown(e=>{this._viewController.emitKeyDown(e)})),this._register(this._textAreaInput.onKeyUp(e=>{this._viewController.emitKeyUp(e)})),this._register(this._textAreaInput.onPaste(e=>{let pasteOnNewLine=!1,multicursorText=null,mode=null;e.metadata&&(pasteOnNewLine=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,multicursorText=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,mode=e.metadata.mode),this._viewController.paste(e.text,pasteOnNewLine,multicursorText,mode)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(e=>{e.replaceCharCnt?this._viewController.replacePreviousChar(e.text,e.replaceCharCnt):this._viewController.type(e.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(modelSelection=>{this._viewController.setSelection(modelSelection)})),this._register(this._textAreaInput.onCompositionStart(e=>{const lineNumber=this._selections[0].startLineNumber,column=this._selections[0].startColumn-(e.moveOneCharacterLeft?1:0);this._context.model.revealRange("keyboard",!0,new core_range.a(lineNumber,column,lineNumber,column),0,1);const visibleRange=this._viewHelper.visibleRangeForPositionRelativeToEditor(lineNumber,column);visibleRange&&(this._visibleTextArea=new VisibleTextAreaData(this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber),visibleRange.left,canUseZeroSizeTextarea?0:1),this._render()),this.textArea.setClassName(`inputarea ${mouseCursor.a} ime-input`),this._viewController.compositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(e=>{browser.f?this._visibleTextArea=this._visibleTextArea.setWidth(0):this._visibleTextArea=this._visibleTextArea.setWidth(function measureText(text,fontInfo){const context=document.createElement("canvas").getContext("2d");context.font=function createFontString(bareFontInfo){return function doCreateFontString(fontStyle,fontWeight,fontSize,lineHeight,fontFamily){return`${fontStyle} normal ${fontWeight} ${fontSize}px / ${lineHeight}px ${fontFamily}`}("normal",bareFontInfo.fontWeight,bareFontInfo.fontSize,bareFontInfo.lineHeight,bareFontInfo.fontFamily)}(fontInfo);const metrics=context.measureText(text);return browser.h?metrics.width+2:metrics.width}(e.data,this._fontInfo)),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${mouseCursor.a}`),this._viewController.compositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getWordBeforePosition(position){const lineContent=this._context.model.getLineContent(position.lineNumber),wordSeparators=Object(wordCharacterClassifier.a)(this._context.configuration.options.get(105));let column=position.column,distance=0;for(;column>1;){const charCode=lineContent.charCodeAt(column-2);if(0!==wordSeparators.get(charCode)||distance>50)return lineContent.substring(column-1,position.column-1);distance++,column--}return lineContent.substring(0,position.column-1)}_getCharacterBeforePosition(position){if(position.column>1){const charBefore=this._context.model.getLineContent(position.lineNumber).charAt(position.column-2);if(!strings.F(charBefore.charCodeAt(0)))return charBefore}return""}_getAriaLabel(options){return 1===options.get(2)?nls.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",platform.d?"Shift+Alt+F1":"Alt+F1"):options.get(4)}_setAccessibilityOptions(options){this._accessibilitySupport=options.get(2);const accessibilityPageSize=options.get(3);2===this._accessibilitySupport&&accessibilityPageSize===editorOptions.g.accessibilityPageSize.defaultValue?this._accessibilityPageSize=100:this._accessibilityPageSize=accessibilityPageSize}onConfigurationChanged(e){const options=this._context.configuration.options,layoutInfo=options.get(117);return this._setAccessibilityOptions(options),this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,this._contentHeight=layoutInfo.height,this._fontInfo=options.get(36),this._lineHeight=options.get(51),this._emptySelectionClipboard=options.get(26),this._copyWithSyntaxHighlighting=options.get(16),this.textArea.setAttribute("aria-label",this._getAriaLabel(options)),this.textArea.setAttribute("tabindex",String(options.get(102))),platform.h&&e.hasChanged(72)&&(options.get(72)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(options){options.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",options.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),options.role&&this.textArea.setAttribute("role",options.role)}prepareRender(ctx){this._primaryCursorPosition=new core_position.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=ctx.visibleRangeForPosition(this._primaryCursorPosition)}render(ctx){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const left=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(left<this._contentLeft||left>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const top=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;top<0||top>this._contentHeight?this._renderAtTopLeft():platform.f?this._renderInsideEditor(this._primaryCursorPosition,top,left,canUseZeroSizeTextarea?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,top,left,canUseZeroSizeTextarea?0:1,canUseZeroSizeTextarea?0:1)}_renderInsideEditor(renderedPosition,top,left,width,height){this._lastRenderPosition=renderedPosition;const ta=this.textArea,tac=this.textAreaCover;config_configuration.a.applyFontInfo(ta,this._fontInfo),ta.setTop(top),ta.setLeft(left),ta.setWidth(width),ta.setHeight(height),tac.setTop(0),tac.setLeft(0),tac.setWidth(0),tac.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const ta=this.textArea,tac=this.textAreaCover;if(config_configuration.a.applyFontInfo(ta,this._fontInfo),ta.setTop(0),ta.setLeft(0),tac.setTop(0),tac.setLeft(0),canUseZeroSizeTextarea)return ta.setWidth(0),ta.setHeight(0),tac.setWidth(0),void tac.setHeight(0);ta.setWidth(1),ta.setHeight(1),tac.setWidth(1),tac.setHeight(1);const options=this._context.configuration.options;options.get(42)?tac.setClassName("monaco-editor-background textAreaCover "+margin_Margin.OUTER_CLASS_NAME):0!==options.get(52).renderType?tac.setClassName("monaco-editor-background textAreaCover "+lineNumbers_LineNumbersOverlay.CLASS_NAME):tac.setClassName("monaco-editor-background textAreaCover")}}var coreCommands=__webpack_require__(2455);class viewController_ViewController{constructor(configuration,viewModel,userInputEvents,commandDelegate){this.configuration=configuration,this.viewModel=viewModel,this.userInputEvents=userInputEvents,this.commandDelegate=commandDelegate}paste(text,pasteOnNewLine,multicursorText,mode){this.commandDelegate.paste(text,pasteOnNewLine,multicursorText,mode)}type(text){this.commandDelegate.type(text)}replacePreviousChar(text,replaceCharCnt){this.commandDelegate.replacePreviousChar(text,replaceCharCnt)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(modelSelection){coreCommands.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:modelSelection})}_validateViewColumn(viewPosition){const minColumn=this.viewModel.getLineMinColumn(viewPosition.lineNumber);return viewPosition.column<minColumn?new core_position.a(viewPosition.lineNumber,minColumn):viewPosition}_hasMulticursorModifier(data){switch(this.configuration.options.get(61)){case"altKey":return data.altKey;case"ctrlKey":return data.ctrlKey;case"metaKey":return data.metaKey;default:return!1}}_hasNonMulticursorModifier(data){switch(this.configuration.options.get(61)){case"altKey":return data.ctrlKey||data.metaKey;case"ctrlKey":return data.altKey||data.metaKey;case"metaKey":return data.ctrlKey||data.altKey;default:return!1}}dispatchMouse(data){const options=this.configuration.options,selectionClipboardIsOn=platform.d&&options.get(88),columnSelection=options.get(13);data.middleButton&&!selectionClipboardIsOn?this._columnSelect(data.position,data.mouseColumn,data.inSelectionMode):data.startedOnLineNumbers?this._hasMulticursorModifier(data)?data.inSelectionMode?this._lastCursorLineSelect(data.position):this._createCursor(data.position,!0):data.inSelectionMode?this._lineSelectDrag(data.position):this._lineSelect(data.position):data.mouseDownCount>=4?this._selectAll():3===data.mouseDownCount?this._hasMulticursorModifier(data)?data.inSelectionMode?this._lastCursorLineSelectDrag(data.position):this._lastCursorLineSelect(data.position):data.inSelectionMode?this._lineSelectDrag(data.position):this._lineSelect(data.position):2===data.mouseDownCount?this._hasMulticursorModifier(data)?this._lastCursorWordSelect(data.position):data.inSelectionMode?this._wordSelectDrag(data.position):this._wordSelect(data.position):this._hasMulticursorModifier(data)?this._hasNonMulticursorModifier(data)||(data.shiftKey?this._columnSelect(data.position,data.mouseColumn,!0):data.inSelectionMode?this._lastCursorMoveToSelect(data.position):this._createCursor(data.position,!1)):data.inSelectionMode?data.altKey?this._columnSelect(data.position,data.mouseColumn,!0):columnSelection?this._columnSelect(data.position,data.mouseColumn,!0):this._moveToSelect(data.position):this.moveTo(data.position)}_usualArgs(viewPosition){return viewPosition=this._validateViewColumn(viewPosition),{source:"mouse",position:this._convertViewToModelPosition(viewPosition),viewPosition:viewPosition}}moveTo(viewPosition){coreCommands.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_moveToSelect(viewPosition){coreCommands.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_columnSelect(viewPosition,mouseColumn,doColumnSelect){viewPosition=this._validateViewColumn(viewPosition),coreCommands.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(viewPosition),viewPosition:viewPosition,mouseColumn:mouseColumn,doColumnSelect:doColumnSelect})}_createCursor(viewPosition,wholeLine){viewPosition=this._validateViewColumn(viewPosition),coreCommands.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(viewPosition),viewPosition:viewPosition,wholeLine:wholeLine})}_lastCursorMoveToSelect(viewPosition){coreCommands.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_wordSelect(viewPosition){coreCommands.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_wordSelectDrag(viewPosition){coreCommands.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_lastCursorWordSelect(viewPosition){coreCommands.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_lineSelect(viewPosition){coreCommands.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_lineSelectDrag(viewPosition){coreCommands.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_lastCursorLineSelect(viewPosition){coreCommands.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_lastCursorLineSelectDrag(viewPosition){coreCommands.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(viewPosition))}_selectAll(){coreCommands.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(viewPosition){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(viewPosition)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class ViewUserInputEvents{constructor(coordinatesConverter){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseWheel=null,this._coordinatesConverter=coordinatesConverter}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(target){return ViewUserInputEvents.convertViewToModelMouseTarget(target,this._coordinatesConverter)}static convertViewToModelMouseTarget(target,coordinatesConverter){return new viewUserInputEvents_ExternalMouseTarget(target.element,target.type,target.mouseColumn,target.position?coordinatesConverter.convertViewPositionToModelPosition(target.position):null,target.range?coordinatesConverter.convertViewRangeToModelRange(target.range):null,target.detail)}}class viewUserInputEvents_ExternalMouseTarget{constructor(element,type,mouseColumn,position,range,detail){this.element=element,this.type=type,this.mouseColumn=mouseColumn,this.position=position,this.range=range,this.detail=detail}toString(){return mouseTarget_MouseTarget.toString(this)}}var stringBuilder=__webpack_require__(2376);class RenderedLinesCollection{constructor(createLine){this._createLine=createLine,this._set(1,[])}flush(){this._set(1,[])}_set(rendLineNumberStart,lines){this._lines=lines,this._rendLineNumberStart=rendLineNumberStart}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(lineNumber){const lineIndex=lineNumber-this._rendLineNumberStart;if(lineIndex<0||lineIndex>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[lineIndex]}onLinesDeleted(deleteFromLineNumber,deleteToLineNumber){if(0===this.getCount())return null;const startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber();if(deleteToLineNumber<startLineNumber){const deleteCnt=deleteToLineNumber-deleteFromLineNumber+1;return this._rendLineNumberStart-=deleteCnt,null}if(deleteFromLineNumber>endLineNumber)return null;let deleteStartIndex=0,deleteCount=0;for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){const lineIndex=lineNumber-this._rendLineNumberStart;deleteFromLineNumber<=lineNumber&&lineNumber<=deleteToLineNumber&&(0===deleteCount?(deleteStartIndex=lineIndex,deleteCount=1):deleteCount++)}if(deleteFromLineNumber<startLineNumber){let deleteAboveCount=0;deleteAboveCount=deleteToLineNumber<startLineNumber?deleteToLineNumber-deleteFromLineNumber+1:startLineNumber-deleteFromLineNumber,this._rendLineNumberStart-=deleteAboveCount}return this._lines.splice(deleteStartIndex,deleteCount)}onLinesChanged(changeFromLineNumber,changeToLineNumber){if(0===this.getCount())return!1;const startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber();let someoneNotified=!1;for(let changedLineNumber=changeFromLineNumber;changedLineNumber<=changeToLineNumber;changedLineNumber++)changedLineNumber>=startLineNumber&&changedLineNumber<=endLineNumber&&(this._lines[changedLineNumber-this._rendLineNumberStart].onContentChanged(),someoneNotified=!0);return someoneNotified}onLinesInserted(insertFromLineNumber,insertToLineNumber){if(0===this.getCount())return null;const insertCnt=insertToLineNumber-insertFromLineNumber+1,startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber();if(insertFromLineNumber<=startLineNumber)return this._rendLineNumberStart+=insertCnt,null;if(insertFromLineNumber>endLineNumber)return null;if(insertCnt+insertFromLineNumber>endLineNumber){return this._lines.splice(insertFromLineNumber-this._rendLineNumberStart,endLineNumber-insertFromLineNumber+1)}const newLines=[];for(let i=0;i<insertCnt;i++)newLines[i]=this._createLine();const insertIndex=insertFromLineNumber-this._rendLineNumberStart,beforeLines=this._lines.slice(0,insertIndex),afterLines=this._lines.slice(insertIndex,this._lines.length-insertCnt),deletedLines=this._lines.slice(this._lines.length-insertCnt,this._lines.length);return this._lines=beforeLines.concat(newLines).concat(afterLines),deletedLines}onTokensChanged(ranges){if(0===this.getCount())return!1;const startLineNumber=this.getStartLineNumber(),endLineNumber=this.getEndLineNumber();let notifiedSomeone=!1;for(let i=0,len=ranges.length;i<len;i++){const rng=ranges[i];if(rng.toLineNumber<startLineNumber||rng.fromLineNumber>endLineNumber)continue;const from=Math.max(startLineNumber,rng.fromLineNumber),to=Math.min(endLineNumber,rng.toLineNumber);for(let lineNumber=from;lineNumber<=to;lineNumber++){const lineIndex=lineNumber-this._rendLineNumberStart;this._lines[lineIndex].onTokensChanged(),notifiedSomeone=!0}}return notifiedSomeone}}class viewLayer_VisibleLinesCollection{constructor(host){this._host=host,this.domNode=this._createDomNode(),this._linesCollection=new RenderedLinesCollection(()=>this._host.createVisibleLine())}_createDomNode(){const domNode=Object(fastDomNode.b)(document.createElement("div"));return domNode.setClassName("view-layer"),domNode.setPosition("absolute"),domNode.domNode.setAttribute("role","presentation"),domNode.domNode.setAttribute("aria-hidden","true"),domNode}onConfigurationChanged(e){return!!e.hasChanged(117)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const deleted=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(deleted)for(let i=0,len=deleted.length;i<len;i++){const lineDomNode=deleted[i].getDomNode();lineDomNode&&this.domNode.domNode.removeChild(lineDomNode)}return!0}onLinesInserted(e){const deleted=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(deleted)for(let i=0,len=deleted.length;i<len;i++){const lineDomNode=deleted[i].getDomNode();lineDomNode&&this.domNode.domNode.removeChild(lineDomNode)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(lineNumber){return this._linesCollection.getLine(lineNumber)}renderLines(viewportData){const inp=this._linesCollection._get(),renderer=new ViewLayerRenderer(this.domNode.domNode,this._host,viewportData),ctx={rendLineNumberStart:inp.rendLineNumberStart,lines:inp.lines,linesLength:inp.lines.length},resCtx=renderer.render(ctx,viewportData.startLineNumber,viewportData.endLineNumber,viewportData.relativeVerticalOffset);this._linesCollection._set(resCtx.rendLineNumberStart,resCtx.lines)}}class ViewLayerRenderer{constructor(domNode,host,viewportData){this.domNode=domNode,this.host=host,this.viewportData=viewportData}render(inContext,startLineNumber,stopLineNumber,deltaTop){const ctx={rendLineNumberStart:inContext.rendLineNumberStart,lines:inContext.lines.slice(0),linesLength:inContext.linesLength};if(ctx.rendLineNumberStart+ctx.linesLength-1<startLineNumber||stopLineNumber<ctx.rendLineNumberStart){ctx.rendLineNumberStart=startLineNumber,ctx.linesLength=stopLineNumber-startLineNumber+1,ctx.lines=[];for(let x=startLineNumber;x<=stopLineNumber;x++)ctx.lines[x-startLineNumber]=this.host.createVisibleLine();return this._finishRendering(ctx,!0,deltaTop),ctx}if(this._renderUntouchedLines(ctx,Math.max(startLineNumber-ctx.rendLineNumberStart,0),Math.min(stopLineNumber-ctx.rendLineNumberStart,ctx.linesLength-1),deltaTop,startLineNumber),ctx.rendLineNumberStart>startLineNumber){const fromLineNumber=startLineNumber,toLineNumber=Math.min(stopLineNumber,ctx.rendLineNumberStart-1);fromLineNumber<=toLineNumber&&(this._insertLinesBefore(ctx,fromLineNumber,toLineNumber,deltaTop,startLineNumber),ctx.linesLength+=toLineNumber-fromLineNumber+1)}else if(ctx.rendLineNumberStart<startLineNumber){const removeCnt=Math.min(ctx.linesLength,startLineNumber-ctx.rendLineNumberStart);removeCnt>0&&(this._removeLinesBefore(ctx,removeCnt),ctx.linesLength-=removeCnt)}if(ctx.rendLineNumberStart=startLineNumber,ctx.rendLineNumberStart+ctx.linesLength-1<stopLineNumber){const fromLineNumber=ctx.rendLineNumberStart+ctx.linesLength,toLineNumber=stopLineNumber;fromLineNumber<=toLineNumber&&(this._insertLinesAfter(ctx,fromLineNumber,toLineNumber,deltaTop,startLineNumber),ctx.linesLength+=toLineNumber-fromLineNumber+1)}else if(ctx.rendLineNumberStart+ctx.linesLength-1>stopLineNumber){const fromLineNumber=Math.max(0,stopLineNumber-ctx.rendLineNumberStart+1),removeCnt=ctx.linesLength-1-fromLineNumber+1;removeCnt>0&&(this._removeLinesAfter(ctx,removeCnt),ctx.linesLength-=removeCnt)}return this._finishRendering(ctx,!1,deltaTop),ctx}_renderUntouchedLines(ctx,startIndex,endIndex,deltaTop,deltaLN){const rendLineNumberStart=ctx.rendLineNumberStart,lines=ctx.lines;for(let i=startIndex;i<=endIndex;i++){const lineNumber=rendLineNumberStart+i;lines[i].layoutLine(lineNumber,deltaTop[lineNumber-deltaLN])}}_insertLinesBefore(ctx,fromLineNumber,toLineNumber,deltaTop,deltaLN){const newLines=[];let newLinesLen=0;for(let lineNumber=fromLineNumber;lineNumber<=toLineNumber;lineNumber++)newLines[newLinesLen++]=this.host.createVisibleLine();ctx.lines=newLines.concat(ctx.lines)}_removeLinesBefore(ctx,removeCount){for(let i=0;i<removeCount;i++){const lineDomNode=ctx.lines[i].getDomNode();lineDomNode&&this.domNode.removeChild(lineDomNode)}ctx.lines.splice(0,removeCount)}_insertLinesAfter(ctx,fromLineNumber,toLineNumber,deltaTop,deltaLN){const newLines=[];let newLinesLen=0;for(let lineNumber=fromLineNumber;lineNumber<=toLineNumber;lineNumber++)newLines[newLinesLen++]=this.host.createVisibleLine();ctx.lines=ctx.lines.concat(newLines)}_removeLinesAfter(ctx,removeCount){const removeIndex=ctx.linesLength-removeCount;for(let i=0;i<removeCount;i++){const lineDomNode=ctx.lines[removeIndex+i].getDomNode();lineDomNode&&this.domNode.removeChild(lineDomNode)}ctx.lines.splice(removeIndex,removeCount)}_finishRenderingNewLines(ctx,domNodeIsEmpty,newLinesHTML,wasNew){const lastChild=this.domNode.lastChild;domNodeIsEmpty||!lastChild?this.domNode.innerHTML=newLinesHTML:lastChild.insertAdjacentHTML("afterend",newLinesHTML);let currChild=this.domNode.lastChild;for(let i=ctx.linesLength-1;i>=0;i--){const line=ctx.lines[i];wasNew[i]&&(line.setDomNode(currChild),currChild=currChild.previousSibling)}}_finishRenderingInvalidLines(ctx,invalidLinesHTML,wasInvalid){const hugeDomNode=document.createElement("div");hugeDomNode.innerHTML=invalidLinesHTML;for(let i=0;i<ctx.linesLength;i++){const line=ctx.lines[i];if(wasInvalid[i]){const source=hugeDomNode.firstChild,lineDomNode=line.getDomNode();lineDomNode.parentNode.replaceChild(source,lineDomNode),line.setDomNode(source)}}}_finishRendering(ctx,domNodeIsEmpty,deltaTop){const sb=ViewLayerRenderer._sb,linesLength=ctx.linesLength,lines=ctx.lines,rendLineNumberStart=ctx.rendLineNumberStart,wasNew=[];{sb.reset();let hadNewLine=!1;for(let i=0;i<linesLength;i++){const line=lines[i];(wasNew[i]=!1,line.getDomNode())||line.renderLine(i+rendLineNumberStart,deltaTop[i],this.viewportData,sb)&&(wasNew[i]=!0,hadNewLine=!0)}hadNewLine&&this._finishRenderingNewLines(ctx,domNodeIsEmpty,sb.build(),wasNew)}{sb.reset();let hadInvalidLine=!1;const wasInvalid=[];for(let i=0;i<linesLength;i++){const line=lines[i];(wasInvalid[i]=!1,wasNew[i])||line.renderLine(i+rendLineNumberStart,deltaTop[i],this.viewportData,sb)&&(wasInvalid[i]=!0,hadInvalidLine=!0)}hadInvalidLine&&this._finishRenderingInvalidLines(ctx,sb.build(),wasInvalid)}}}ViewLayerRenderer._sb=Object(stringBuilder.a)(1e5);class viewOverlays_ViewOverlays extends viewPart_ViewPart{constructor(context){super(context),this._visibleLines=new viewLayer_VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,len=this._dynamicOverlays.length;i<len;i++){if(this._dynamicOverlays[i].shouldRender())return!0}return!1}dispose(){super.dispose();for(let i=0,len=this._dynamicOverlays.length;i<len;i++){this._dynamicOverlays[i].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new viewOverlays_ViewOverlayLine(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(overlay){this._dynamicOverlays.push(overlay)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const startLineNumber=this._visibleLines.getStartLineNumber(),endLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){this._visibleLines.getVisibleLine(lineNumber).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(ctx){const toRender=this._dynamicOverlays.filter(overlay=>overlay.shouldRender());for(let i=0,len=toRender.length;i<len;i++){const dynamicOverlay=toRender[i];dynamicOverlay.prepareRender(ctx),dynamicOverlay.onDidRender()}}render(ctx){this._viewOverlaysRender(ctx),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(ctx){this._visibleLines.renderLines(ctx.viewportData)}}class viewOverlays_ViewOverlayLine{constructor(configuration,dynamicOverlays){this._configuration=configuration,this._lineHeight=this._configuration.options.get(51),this._dynamicOverlays=dynamicOverlays,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(domNode){this._domNode=Object(fastDomNode.b)(domNode)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(51)}renderLine(lineNumber,deltaTop,viewportData,sb){let result="";for(let i=0,len=this._dynamicOverlays.length;i<len;i++){result+=this._dynamicOverlays[i].render(viewportData.startLineNumber,lineNumber)}return this._renderedContent!==result&&(this._renderedContent=result,sb.appendASCIIString('<div style="position:absolute;top:'),sb.appendASCIIString(String(deltaTop)),sb.appendASCIIString("px;width:100%;height:"),sb.appendASCIIString(String(this._lineHeight)),sb.appendASCIIString('px;">'),sb.appendASCIIString(result),sb.appendASCIIString("</div>"),!0)}layoutLine(lineNumber,deltaTop){this._domNode&&(this._domNode.setTop(deltaTop),this._domNode.setHeight(this._lineHeight))}}class ContentViewOverlays extends viewOverlays_ViewOverlays{constructor(context){super(context);const layoutInfo=this._context.configuration.options.get(117);this._contentWidth=layoutInfo.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const layoutInfo=this._context.configuration.options.get(117);return this._contentWidth=layoutInfo.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(ctx){super._viewOverlaysRender(ctx),this.domNode.setWidth(Math.max(ctx.scrollWidth,this._contentWidth))}}class viewOverlays_MarginViewOverlays extends viewOverlays_ViewOverlays{constructor(context){super(context);const options=this._context.configuration.options,layoutInfo=options.get(117);this._contentLeft=layoutInfo.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),config_configuration.a.applyFontInfo(this.domNode,options.get(36))}onConfigurationChanged(e){const options=this._context.configuration.options;config_configuration.a.applyFontInfo(this.domNode,options.get(36));const layoutInfo=options.get(117);return this._contentLeft=layoutInfo.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(ctx){super._viewOverlaysRender(ctx);const height=Math.min(ctx.scrollHeight,1e6);this.domNode.setHeight(height),this.domNode.setWidth(this._contentLeft)}}class Coordinate{constructor(top,left){this.top=top,this.left=left}}class contentWidgets_ViewContentWidgets extends viewPart_ViewPart{constructor(context,viewDomNode){super(context),this._viewDomNode=viewDomNode,this._widgets={},this.domNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const keys=Object.keys(this._widgets);for(const widgetId of keys)this._widgets[widgetId].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const keys=Object.keys(this._widgets);for(const widgetId of keys)this._widgets[widgetId].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(_widget){const myWidget=new contentWidgets_Widget(this._context,this._viewDomNode,_widget);this._widgets[myWidget.id]=myWidget,myWidget.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(myWidget.domNode):this.domNode.appendChild(myWidget.domNode),this.setShouldRender()}setWidgetPosition(widget,range,preference){this._widgets[widget.getId()].setPosition(range,preference),this.setShouldRender()}removeWidget(widget){const widgetId=widget.getId();if(this._widgets.hasOwnProperty(widgetId)){const myWidget=this._widgets[widgetId];delete this._widgets[widgetId];const domNode=myWidget.domNode.domNode;domNode.parentNode.removeChild(domNode),domNode.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(widgetId){return!!this._widgets.hasOwnProperty(widgetId)&&this._widgets[widgetId].suppressMouseDown}onBeforeRender(viewportData){const keys=Object.keys(this._widgets);for(const widgetId of keys)this._widgets[widgetId].onBeforeRender(viewportData)}prepareRender(ctx){const keys=Object.keys(this._widgets);for(const widgetId of keys)this._widgets[widgetId].prepareRender(ctx)}render(ctx){const keys=Object.keys(this._widgets);for(const widgetId of keys)this._widgets[widgetId].render(ctx)}}class contentWidgets_Widget{constructor(context,viewDomNode,actual){this._context=context,this._viewDomNode=viewDomNode,this._actual=actual,this.domNode=Object(fastDomNode.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const options=this._context.configuration.options,layoutInfo=options.get(117);this._fixedOverflowWidgets=options.get(30),this._contentWidth=layoutInfo.contentWidth,this._contentLeft=layoutInfo.contentLeft,this._lineHeight=options.get(51),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const options=this._context.configuration.options;if(this._lineHeight=options.get(51),e.hasChanged(117)){const layoutInfo=options.get(117);this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(range){if(this._range=range,this._viewRange=null,this._range){const validModelRange=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(validModelRange.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(validModelRange.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(validModelRange))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(range,preference){this._setPosition(range),this._preference=preference,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(topLeft,bottomLeft,width,height,ctx){const aboveLineTop=topLeft.top,heightAboveLine=aboveLineTop,underLineTop=bottomLeft.top+this._lineHeight,aboveTop=aboveLineTop-height,fitsAbove=heightAboveLine>=height,belowTop=underLineTop,fitsBelow=ctx.viewportHeight-underLineTop>=height;let actualAboveLeft=topLeft.left,actualBelowLeft=bottomLeft.left;return actualAboveLeft+width>ctx.scrollLeft+ctx.viewportWidth&&(actualAboveLeft=ctx.scrollLeft+ctx.viewportWidth-width),actualBelowLeft+width>ctx.scrollLeft+ctx.viewportWidth&&(actualBelowLeft=ctx.scrollLeft+ctx.viewportWidth-width),actualAboveLeft<ctx.scrollLeft&&(actualAboveLeft=ctx.scrollLeft),actualBelowLeft<ctx.scrollLeft&&(actualBelowLeft=ctx.scrollLeft),{fitsAbove:fitsAbove,aboveTop:aboveTop,aboveLeft:actualAboveLeft,fitsBelow:fitsBelow,belowTop:belowTop,belowLeft:actualBelowLeft}}_layoutHorizontalSegmentInPage(windowSize,domNodePosition,left,width){const MIN_LIMIT=Math.max(0,domNodePosition.left-width),MAX_LIMIT=Math.min(domNodePosition.left+domNodePosition.width+width,windowSize.width);let absoluteLeft=domNodePosition.left+left-dom.d.scrollX;if(absoluteLeft+width>MAX_LIMIT){const delta=absoluteLeft-(MAX_LIMIT-width);absoluteLeft-=delta,left-=delta}if(absoluteLeft<MIN_LIMIT){const delta=absoluteLeft-MIN_LIMIT;absoluteLeft-=delta,left-=delta}return[left,absoluteLeft]}_layoutBoxInPage(topLeft,bottomLeft,width,height,ctx){const aboveTop=topLeft.top-height,belowTop=bottomLeft.top+this._lineHeight,domNodePosition=dom.C(this._viewDomNode.domNode),absoluteAboveTop=domNodePosition.top+aboveTop-dom.d.scrollY,absoluteBelowTop=domNodePosition.top+belowTop-dom.d.scrollY,windowSize=dom.y(document.body),[aboveLeft,absoluteAboveLeft]=this._layoutHorizontalSegmentInPage(windowSize,domNodePosition,topLeft.left-ctx.scrollLeft+this._contentLeft,width),[belowLeft,absoluteBelowLeft]=this._layoutHorizontalSegmentInPage(windowSize,domNodePosition,bottomLeft.left-ctx.scrollLeft+this._contentLeft,width),fitsAbove=absoluteAboveTop>=22,fitsBelow=absoluteBelowTop+height<=windowSize.height-22;return this._fixedOverflowWidgets?{fitsAbove:fitsAbove,aboveTop:Math.max(absoluteAboveTop,22),aboveLeft:absoluteAboveLeft,fitsBelow:fitsBelow,belowTop:absoluteBelowTop,belowLeft:absoluteBelowLeft}:{fitsAbove:fitsAbove,aboveTop:aboveTop,aboveLeft:aboveLeft,fitsBelow:fitsBelow,belowTop:belowTop,belowLeft:belowLeft}}_prepareRenderWidgetAtExactPositionOverflowing(topLeft){return new Coordinate(topLeft.top,topLeft.left+this._contentLeft)}_getTopAndBottomLeft(ctx){if(!this._viewRange)return[null,null];const visibleRangesForRange=ctx.linesVisibleRangesForRange(this._viewRange,!1);if(!visibleRangesForRange||0===visibleRangesForRange.length)return[null,null];let firstLine=visibleRangesForRange[0],lastLine=visibleRangesForRange[0];for(const visibleRangesForLine of visibleRangesForRange)visibleRangesForLine.lineNumber<firstLine.lineNumber&&(firstLine=visibleRangesForLine),visibleRangesForLine.lineNumber>lastLine.lineNumber&&(lastLine=visibleRangesForLine);let firstLineMinLeft=1073741824;for(const visibleRange of firstLine.ranges)visibleRange.left<firstLineMinLeft&&(firstLineMinLeft=visibleRange.left);let lastLineMinLeft=1073741824;for(const visibleRange of lastLine.ranges)visibleRange.left<lastLineMinLeft&&(lastLineMinLeft=visibleRange.left);const topForPosition=ctx.getVerticalOffsetForLineNumber(firstLine.lineNumber)-ctx.scrollTop,topLeft=new Coordinate(topForPosition,firstLineMinLeft),topForBottomLine=ctx.getVerticalOffsetForLineNumber(lastLine.lineNumber)-ctx.scrollTop;return[topLeft,new Coordinate(topForBottomLine,lastLineMinLeft)]}_prepareRenderWidget(ctx){const[topLeft,bottomLeft]=this._getTopAndBottomLeft(ctx);if(!topLeft||!bottomLeft)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){const domNode=this.domNode.domNode;this._cachedDomNodeClientWidth=domNode.clientWidth,this._cachedDomNodeClientHeight=domNode.clientHeight}let placement;if(placement=this.allowEditorOverflow?this._layoutBoxInPage(topLeft,bottomLeft,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,ctx):this._layoutBoxInViewport(topLeft,bottomLeft,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,ctx),this._preference)for(let pass=1;pass<=2;pass++)for(const pref of this._preference)if(1===pref){if(!placement)return null;if(2===pass||placement.fitsAbove)return new Coordinate(placement.aboveTop,placement.aboveLeft)}else{if(2!==pref)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(topLeft):topLeft;if(!placement)return null;if(2===pass||placement.fitsBelow)return new Coordinate(placement.belowTop,placement.belowLeft)}return null}onBeforeRender(viewportData){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<viewportData.startLineNumber||this._viewRange.startLineNumber>viewportData.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(ctx){this._renderData=this._prepareRenderWidget(ctx)}render(ctx){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+ctx.scrollTop-ctx.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))}}__webpack_require__(2554);var arrays=__webpack_require__(2309);let isRenderedUsingBorder=!0;class currentLineHighlight_AbstractLineHighlightOverlay extends dynamicViewOverlay_DynamicViewOverlay{constructor(context){super(),this._context=context;const options=this._context.configuration.options,layoutInfo=options.get(117);this._lineHeight=options.get(51),this._renderLineHighlight=options.get(77),this._renderLineHightlightOnlyWhenFocus=options.get(78),this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[],this._selections=[],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let hasChanged=!1;const renderSelections=isRenderedUsingBorder?this._selections.slice(0,1):this._selections,cursorsLineNumbers=renderSelections.map(s=>s.positionLineNumber);cursorsLineNumbers.sort((a,b)=>a-b),arrays.g(this._cursorLineNumbers,cursorsLineNumbers)||(this._cursorLineNumbers=cursorsLineNumbers,hasChanged=!0);const selectionIsEmpty=renderSelections.every(s=>s.isEmpty());return this._selectionIsEmpty!==selectionIsEmpty&&(this._selectionIsEmpty=selectionIsEmpty,hasChanged=!0),hasChanged}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const options=this._context.configuration.options,layoutInfo=options.get(117);return this._lineHeight=options.get(51),this._renderLineHighlight=options.get(77),this._renderLineHightlightOnlyWhenFocus=options.get(78),this._contentLeft=layoutInfo.contentLeft,this._contentWidth=layoutInfo.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHightlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(ctx){if(!this._shouldRenderThis())return void(this._renderData=null);const renderedLine=this._renderOne(ctx),visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,len=this._cursorLineNumbers.length;let index=0;const renderData=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){const lineIndex=lineNumber-visibleStartLineNumber;for(;index<len&&this._cursorLineNumbers[index]<lineNumber;)index++;index<len&&this._cursorLineNumbers[index]===lineNumber?renderData[lineIndex]=renderedLine:renderData[lineIndex]=""}this._renderData=renderData}render(startLineNumber,lineNumber){if(!this._renderData)return"";const lineIndex=lineNumber-startLineNumber;return lineIndex>=this._renderData.length?"":this._renderData[lineIndex]}}class CurrentLineHighlightOverlay extends currentLineHighlight_AbstractLineHighlightOverlay{_renderOne(ctx){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(ctx.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}}class CurrentLineMarginHighlightOverlay extends currentLineHighlight_AbstractLineHighlightOverlay{_renderOne(ctx){return`<div class="${"current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}}Object(common_themeService.g)((theme,collector)=>{isRenderedUsingBorder=!1;const lineHighlight=theme.getColor(editorColorRegistry.i);if(lineHighlight&&(collector.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${lineHighlight}; }`),collector.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${lineHighlight}; border: none; }`)),!lineHighlight||lineHighlight.isTransparent()||theme.defines(editorColorRegistry.j)){const lineHighlightBorder=theme.getColor(editorColorRegistry.j);lineHighlightBorder&&(isRenderedUsingBorder=!0,collector.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${lineHighlightBorder}; }`),collector.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${lineHighlightBorder}; }`),"hc"===theme.type&&(collector.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),collector.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});__webpack_require__(2556);class decorations_DecorationsOverlay extends dynamicViewOverlay_DynamicViewOverlay{constructor(context){super(),this._context=context;const options=this._context.configuration.options;this._lineHeight=options.get(51),this._typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const options=this._context.configuration.options;return this._lineHeight=options.get(51),this._typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(ctx){const _decorations=ctx.getDecorationsInViewport();let decorations=[],decorationsLen=0;for(let i=0,len=_decorations.length;i<len;i++){const d=_decorations[i];d.options.className&&(decorations[decorationsLen++]=d)}decorations=decorations.sort((a,b)=>{if(a.options.zIndex<b.options.zIndex)return-1;if(a.options.zIndex>b.options.zIndex)return 1;const aClassName=a.options.className,bClassName=b.options.className;return aClassName<bClassName?-1:aClassName>bClassName?1:core_range.a.compareRangesUsingStarts(a.range,b.range)});const visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){output[lineNumber-visibleStartLineNumber]=""}this._renderWholeLineDecorations(ctx,decorations,output),this._renderNormalDecorations(ctx,decorations,output),this._renderResult=output}_renderWholeLineDecorations(ctx,decorations,output){const lineHeight=String(this._lineHeight),visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber;for(let i=0,lenI=decorations.length;i<lenI;i++){const d=decorations[i];if(!d.options.isWholeLine)continue;const decorationOutput='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+lineHeight+'px;"></div>',startLineNumber=Math.max(d.range.startLineNumber,visibleStartLineNumber),endLineNumber=Math.min(d.range.endLineNumber,visibleEndLineNumber);for(let j=startLineNumber;j<=endLineNumber;j++){output[j-visibleStartLineNumber]+=decorationOutput}}}_renderNormalDecorations(ctx,decorations,output){const lineHeight=String(this._lineHeight),visibleStartLineNumber=ctx.visibleRange.startLineNumber;let prevClassName=null,prevShowIfCollapsed=!1,prevRange=null;for(let i=0,lenI=decorations.length;i<lenI;i++){const d=decorations[i];if(d.options.isWholeLine)continue;const className=d.options.className,showIfCollapsed=Boolean(d.options.showIfCollapsed);let range=d.range;showIfCollapsed&&1===range.endColumn&&range.endLineNumber!==range.startLineNumber&&(range=new core_range.a(range.startLineNumber,range.startColumn,range.endLineNumber-1,this._context.model.getLineMaxColumn(range.endLineNumber-1))),prevClassName===className&&prevShowIfCollapsed===showIfCollapsed&&core_range.a.areIntersectingOrTouching(prevRange,range)?prevRange=core_range.a.plusRange(prevRange,range):(null!==prevClassName&&this._renderNormalDecoration(ctx,prevRange,prevClassName,prevShowIfCollapsed,lineHeight,visibleStartLineNumber,output),prevClassName=className,prevShowIfCollapsed=showIfCollapsed,prevRange=range)}null!==prevClassName&&this._renderNormalDecoration(ctx,prevRange,prevClassName,prevShowIfCollapsed,lineHeight,visibleStartLineNumber,output)}_renderNormalDecoration(ctx,range,className,showIfCollapsed,lineHeight,visibleStartLineNumber,output){const linesVisibleRanges=ctx.linesVisibleRangesForRange(range,"findMatch"===className);if(linesVisibleRanges)for(let j=0,lenJ=linesVisibleRanges.length;j<lenJ;j++){const lineVisibleRanges=linesVisibleRanges[j];if(lineVisibleRanges.outsideRenderedLine)continue;const lineIndex=lineVisibleRanges.lineNumber-visibleStartLineNumber;if(showIfCollapsed&&1===lineVisibleRanges.ranges.length){const singleVisibleRange=lineVisibleRanges.ranges[0];0===singleVisibleRange.width&&(lineVisibleRanges.ranges[0]=new HorizontalRange(singleVisibleRange.left,this._typicalHalfwidthCharacterWidth))}for(let k=0,lenK=lineVisibleRanges.ranges.length;k<lenK;k++){const visibleRange=lineVisibleRanges.ranges[k],decorationOutput='<div class="cdr '+className+'" style="left:'+String(visibleRange.left)+"px;width:"+String(visibleRange.width)+"px;height:"+lineHeight+'px;"></div>';output[lineIndex]+=decorationOutput}}}render(startLineNumber,lineNumber){if(!this._renderResult)return"";const lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]}}var scrollableElement=__webpack_require__(2356);class editorScrollbar_EditorScrollbar extends viewPart_ViewPart{constructor(context,linesContent,viewDomNode,overflowGuardDomNode){super(context);const options=this._context.configuration.options,scrollbar=options.get(84),mouseWheelScrollSensitivity=options.get(58),fastScrollSensitivity=options.get(28),scrollPredominantAxis=options.get(87),scrollbarOptions={listenOnDomNode:viewDomNode.domNode,className:"editor-scrollable "+Object(common_themeService.f)(context.theme.type),useShadows:!1,lazyRender:!0,vertical:scrollbar.vertical,horizontal:scrollbar.horizontal,verticalHasArrows:scrollbar.verticalHasArrows,horizontalHasArrows:scrollbar.horizontalHasArrows,verticalScrollbarSize:scrollbar.verticalScrollbarSize,verticalSliderSize:scrollbar.verticalSliderSize,horizontalScrollbarSize:scrollbar.horizontalScrollbarSize,horizontalSliderSize:scrollbar.horizontalSliderSize,handleMouseWheel:scrollbar.handleMouseWheel,alwaysConsumeMouseWheel:scrollbar.alwaysConsumeMouseWheel,arrowSize:scrollbar.arrowSize,mouseWheelScrollSensitivity:mouseWheelScrollSensitivity,fastScrollSensitivity:fastScrollSensitivity,scrollPredominantAxis:scrollPredominantAxis};this.scrollbar=this._register(new scrollableElement.c(linesContent.domNode,scrollbarOptions,this._context.viewLayout.getScrollable())),viewPart_PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Object(fastDomNode.b)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const onBrowserDesperateReveal=(domNode,lookAtScrollTop,lookAtScrollLeft)=>{const newScrollPosition={};if(lookAtScrollTop){const deltaTop=domNode.scrollTop;deltaTop&&(newScrollPosition.scrollTop=this._context.viewLayout.getCurrentScrollTop()+deltaTop,domNode.scrollTop=0)}if(lookAtScrollLeft){const deltaLeft=domNode.scrollLeft;deltaLeft&&(newScrollPosition.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+deltaLeft,domNode.scrollLeft=0)}this._context.model.setScrollPosition(newScrollPosition,1)};this._register(dom.i(viewDomNode.domNode,"scroll",e=>onBrowserDesperateReveal(viewDomNode.domNode,!0,!0))),this._register(dom.i(linesContent.domNode,"scroll",e=>onBrowserDesperateReveal(linesContent.domNode,!0,!1))),this._register(dom.i(overflowGuardDomNode.domNode,"scroll",e=>onBrowserDesperateReveal(overflowGuardDomNode.domNode,!0,!1))),this._register(dom.i(this.scrollbarDomNode.domNode,"scroll",e=>onBrowserDesperateReveal(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const options=this._context.configuration.options,layoutInfo=options.get(117);this.scrollbarDomNode.setLeft(layoutInfo.contentLeft),"right"===options.get(56).side?this.scrollbarDomNode.setWidth(layoutInfo.contentWidth+layoutInfo.minimap.minimapWidth):this.scrollbarDomNode.setWidth(layoutInfo.contentWidth),this.scrollbarDomNode.setHeight(layoutInfo.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(browserEvent){this.scrollbar.delegateVerticalScrollbarMouseDown(browserEvent)}onConfigurationChanged(e){if(e.hasChanged(84)||e.hasChanged(58)||e.hasChanged(28)){const options=this._context.configuration.options,scrollbar=options.get(84),mouseWheelScrollSensitivity=options.get(58),fastScrollSensitivity=options.get(28),scrollPredominantAxis=options.get(87),newOpts={handleMouseWheel:scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:mouseWheelScrollSensitivity,fastScrollSensitivity:fastScrollSensitivity,scrollPredominantAxis:scrollPredominantAxis};this.scrollbar.updateOptions(newOpts)}return e.hasChanged(117)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(common_themeService.f)(this._context.theme.type)),!0}prepareRender(ctx){}render(ctx){this.scrollbar.renderNow()}}__webpack_require__(2558);class DecorationToRender{constructor(startLineNumber,endLineNumber,className){this.startLineNumber=+startLineNumber,this.endLineNumber=+endLineNumber,this.className=String(className)}}class glyphMargin_DedupOverlay extends dynamicViewOverlay_DynamicViewOverlay{_render(visibleStartLineNumber,visibleEndLineNumber,decorations){const output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){output[lineNumber-visibleStartLineNumber]=[]}if(0===decorations.length)return output;decorations.sort((a,b)=>a.className===b.className?a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber:a.className<b.className?-1:1);let prevClassName=null,prevEndLineIndex=0;for(let i=0,len=decorations.length;i<len;i++){const d=decorations[i],className=d.className;let startLineIndex=Math.max(d.startLineNumber,visibleStartLineNumber)-visibleStartLineNumber;const endLineIndex=Math.min(d.endLineNumber,visibleEndLineNumber)-visibleStartLineNumber;prevClassName===className?(startLineIndex=Math.max(prevEndLineIndex+1,startLineIndex),prevEndLineIndex=Math.max(prevEndLineIndex,endLineIndex)):(prevClassName=className,prevEndLineIndex=endLineIndex);for(let i=startLineIndex;i<=prevEndLineIndex;i++)output[i].push(prevClassName)}return output}}class GlyphMarginOverlay extends glyphMargin_DedupOverlay{constructor(context){super(),this._context=context;const options=this._context.configuration.options,layoutInfo=options.get(117);this._lineHeight=options.get(51),this._glyphMargin=options.get(42),this._glyphMarginLeft=layoutInfo.glyphMarginLeft,this._glyphMarginWidth=layoutInfo.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const options=this._context.configuration.options,layoutInfo=options.get(117);return this._lineHeight=options.get(51),this._glyphMargin=options.get(42),this._glyphMarginLeft=layoutInfo.glyphMarginLeft,this._glyphMarginWidth=layoutInfo.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(ctx){const decorations=ctx.getDecorationsInViewport();let r=[],rLen=0;for(let i=0,len=decorations.length;i<len;i++){const d=decorations[i],glyphMarginClassName=d.options.glyphMarginClassName;glyphMarginClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,glyphMarginClassName))}return r}prepareRender(ctx){if(!this._glyphMargin)return void(this._renderResult=null);const visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,toRender=this._render(visibleStartLineNumber,visibleEndLineNumber,this._getDecorations(ctx)),lineHeight=this._lineHeight.toString(),common='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+lineHeight+'px;"></div>',output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){const lineIndex=lineNumber-visibleStartLineNumber,classNames=toRender[lineIndex];0===classNames.length?output[lineIndex]="":output[lineIndex]='<div class="cgmr codicon '+classNames.join(" ")+common}this._renderResult=output}render(startLineNumber,lineNumber){if(!this._renderResult)return"";const lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]}}__webpack_require__(2560);class indentGuides_IndentGuidesOverlay extends dynamicViewOverlay_DynamicViewOverlay{constructor(context){super(),this._context=context,this._primaryLineNumber=0;const options=this._context.configuration.options,wrappingInfo=options.get(118),fontInfo=options.get(36);this._lineHeight=options.get(51),this._spaceWidth=fontInfo.spaceWidth,this._enabled=options.get(75),this._activeIndentEnabled=options.get(45),this._maxIndentLeft=-1===wrappingInfo.wrappingColumn?-1:wrappingInfo.wrappingColumn*fontInfo.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const options=this._context.configuration.options,wrappingInfo=options.get(118),fontInfo=options.get(36);return this._lineHeight=options.get(51),this._spaceWidth=fontInfo.spaceWidth,this._enabled=options.get(75),this._activeIndentEnabled=options.get(45),this._maxIndentLeft=-1===wrappingInfo.wrappingColumn?-1:wrappingInfo.wrappingColumn*fontInfo.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){const selection=e.selections[0],newPrimaryLineNumber=selection.isEmpty()?selection.positionLineNumber:0;return this._primaryLineNumber!==newPrimaryLineNumber&&(this._primaryLineNumber=newPrimaryLineNumber,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(ctx){if(!this._enabled)return void(this._renderResult=null);const visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,{indentSize:indentSize}=this._context.model.getTextModelOptions(),indentWidth=indentSize*this._spaceWidth,scrollWidth=ctx.scrollWidth,lineHeight=this._lineHeight,indents=this._context.model.getLinesIndentGuides(visibleStartLineNumber,visibleEndLineNumber);let activeIndentStartLineNumber=0,activeIndentEndLineNumber=0,activeIndentLevel=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const activeIndentInfo=this._context.model.getActiveIndentGuide(this._primaryLineNumber,visibleStartLineNumber,visibleEndLineNumber);activeIndentStartLineNumber=activeIndentInfo.startLineNumber,activeIndentEndLineNumber=activeIndentInfo.endLineNumber,activeIndentLevel=activeIndentInfo.indent}const output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){const containsActiveIndentGuide=activeIndentStartLineNumber<=lineNumber&&lineNumber<=activeIndentEndLineNumber,lineIndex=lineNumber-visibleStartLineNumber,indent=indents[lineIndex];let result="";if(indent>=1){const leftMostVisiblePosition=ctx.visibleRangeForPosition(new core_position.a(lineNumber,1));let left=leftMostVisiblePosition?leftMostVisiblePosition.left:0;for(let i=1;i<=indent;i++){if(result+=`<div class="${containsActiveIndentGuide&&i===activeIndentLevel?"cigra":"cigr"}" style="left:${left}px;height:${lineHeight}px;width:${indentWidth}px"></div>`,(left+=indentWidth)>scrollWidth||this._maxIndentLeft>0&&left>this._maxIndentLeft)break}}output[lineIndex]=result}this._renderResult=output}render(startLineNumber,lineNumber){if(!this._renderResult)return"";const lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]}}Object(common_themeService.g)((theme,collector)=>{const editorIndentGuidesColor=theme.getColor(editorColorRegistry.h);editorIndentGuidesColor&&collector.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${editorIndentGuidesColor} inset; }`);const editorActiveIndentGuidesColor=theme.getColor(editorColorRegistry.a)||editorIndentGuidesColor;editorActiveIndentGuidesColor&&collector.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${editorActiveIndentGuidesColor} inset; }`)});__webpack_require__(2562);class viewLines_LastRenderedData{constructor(){this._currentVisibleRange=new core_range.a(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(currentVisibleRange){this._currentVisibleRange=currentVisibleRange}}class HorizontalRevealRangeRequest{constructor(lineNumber,startColumn,endColumn,startScrollTop,stopScrollTop,scrollType){this.lineNumber=lineNumber,this.startColumn=startColumn,this.endColumn=endColumn,this.startScrollTop=startScrollTop,this.stopScrollTop=stopScrollTop,this.scrollType=scrollType,this.type="range",this.minLineNumber=lineNumber,this.maxLineNumber=lineNumber}}class HorizontalRevealSelectionsRequest{constructor(selections,startScrollTop,stopScrollTop,scrollType){this.selections=selections,this.startScrollTop=startScrollTop,this.stopScrollTop=stopScrollTop,this.scrollType=scrollType,this.type="selections";let minLineNumber=selections[0].startLineNumber,maxLineNumber=selections[0].endLineNumber;for(let i=1,len=selections.length;i<len;i++){const selection=selections[i];minLineNumber=Math.min(minLineNumber,selection.startLineNumber),maxLineNumber=Math.max(maxLineNumber,selection.endLineNumber)}this.minLineNumber=minLineNumber,this.maxLineNumber=maxLineNumber}}class viewLines_ViewLines extends viewPart_ViewPart{constructor(context,linesContent){super(context),this._linesContent=linesContent,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new viewLayer_VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const conf=this._context.configuration,options=this._context.configuration.options,fontInfo=options.get(36),wrappingInfo=options.get(118);this._lineHeight=options.get(51),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._isViewportWrapping=wrappingInfo.isViewportWrapping,this._revealHorizontalRightPadding=options.get(81),this._cursorSurroundingLines=options.get(20),this._cursorSurroundingLinesStyle=options.get(21),this._canUseLayerHinting=!options.get(23),this._viewLineOptions=new ViewLineOptions(conf,this._context.theme.type),viewPart_PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${mouseCursor.a}`),config_configuration.a.applyFontInfo(this.domNode,fontInfo),this._maxLineWidth=0,this._asyncUpdateLineWidths=new common_async.d(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new common_async.d(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new viewLines_LastRenderedData,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new viewLine_ViewLine(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(118)&&(this._maxLineWidth=0);const options=this._context.configuration.options,fontInfo=options.get(36),wrappingInfo=options.get(118);return this._lineHeight=options.get(51),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._isViewportWrapping=wrappingInfo.isViewportWrapping,this._revealHorizontalRightPadding=options.get(81),this._cursorSurroundingLines=options.get(20),this._cursorSurroundingLinesStyle=options.get(21),this._canUseLayerHinting=!options.get(23),config_configuration.a.applyFontInfo(this.domNode,fontInfo),this._onOptionsMaybeChanged(),e.hasChanged(117)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const conf=this._context.configuration,newViewLineOptions=new ViewLineOptions(conf,this._context.theme.type);if(!this._viewLineOptions.equals(newViewLineOptions)){this._viewLineOptions=newViewLineOptions;const startLineNumber=this._visibleLines.getStartLineNumber(),endLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){this._visibleLines.getVisibleLine(lineNumber).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();let r=!1;for(let lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++)r=this._visibleLines.getVisibleLine(lineNumber).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++)this._visibleLines.getVisibleLine(lineNumber).onDecorationsChanged()}return!0}onFlushed(e){const shouldRender=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,shouldRender}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const desiredScrollTop=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===desiredScrollTop)return!1;let newScrollPosition=this._context.viewLayout.validateScrollPosition({scrollTop:desiredScrollTop});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?newScrollPosition={scrollTop:newScrollPosition.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new HorizontalRevealRangeRequest(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),newScrollPosition.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new HorizontalRevealSelectionsRequest(e.selections,this._context.viewLayout.getCurrentScrollTop(),newScrollPosition.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const scrollType=Math.abs(this._context.viewLayout.getCurrentScrollTop()-newScrollPosition.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(newScrollPosition,scrollType),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const min=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),max=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<min||e.scrollTop>max)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(spanNode,offset){const viewLineDomNode=this._getViewLineDomNode(spanNode);if(null===viewLineDomNode)return null;const lineNumber=this._getLineNumberFor(viewLineDomNode);if(-1===lineNumber)return null;if(lineNumber<1||lineNumber>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(lineNumber))return new core_position.a(lineNumber,1);const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();if(lineNumber<rendStartLineNumber||lineNumber>rendEndLineNumber)return null;let column=this._visibleLines.getVisibleLine(lineNumber).getColumnOfNodeOffset(lineNumber,spanNode,offset);const minColumn=this._context.model.getLineMinColumn(lineNumber);return column<minColumn&&(column=minColumn),new core_position.a(lineNumber,column)}_getViewLineDomNode(node){for(;node&&1===node.nodeType;){if(node.className===viewLine_ViewLine.CLASS_NAME)return node;node=node.parentElement}return null}_getLineNumberFor(domNode){const startLineNumber=this._visibleLines.getStartLineNumber(),endLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){if(domNode===this._visibleLines.getVisibleLine(lineNumber).getDomNode())return lineNumber}return-1}getLineWidth(lineNumber){const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();return lineNumber<rendStartLineNumber||lineNumber>rendEndLineNumber?-1:this._visibleLines.getVisibleLine(lineNumber).getWidth()}linesVisibleRangesForRange(_range,includeNewLines){if(this.shouldRender())return null;const originalEndLineNumber=_range.endLineNumber,range=core_range.a.intersectRanges(_range,this._lastRenderedData.getCurrentVisibleRange());if(!range)return null;let visibleRanges=[],visibleRangesLen=0;const domReadingContext=new DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let nextLineModelLineNumber=0;includeNewLines&&(nextLineModelLineNumber=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(range.startLineNumber,1)).lineNumber);const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=range.startLineNumber;lineNumber<=range.endLineNumber;lineNumber++){if(lineNumber<rendStartLineNumber||lineNumber>rendEndLineNumber)continue;const startColumn=lineNumber===range.startLineNumber?range.startColumn:1,endColumn=lineNumber===range.endLineNumber?range.endColumn:this._context.model.getLineMaxColumn(lineNumber),visibleRangesForLine=this._visibleLines.getVisibleLine(lineNumber).getVisibleRangesForRange(startColumn,endColumn,domReadingContext);if(visibleRangesForLine){if(includeNewLines&&lineNumber<originalEndLineNumber){nextLineModelLineNumber!==(nextLineModelLineNumber=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(lineNumber+1,1)).lineNumber)&&(visibleRangesForLine.ranges[visibleRangesForLine.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}visibleRanges[visibleRangesLen++]=new LineVisibleRanges(visibleRangesForLine.outsideRenderedLine,lineNumber,visibleRangesForLine.ranges)}}return 0===visibleRangesLen?null:visibleRanges}_visibleRangesForLineRange(lineNumber,startColumn,endColumn){return this.shouldRender()?null:lineNumber<this._visibleLines.getStartLineNumber()||lineNumber>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(lineNumber).getVisibleRangesForRange(startColumn,endColumn,new DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(position){const visibleRanges=this._visibleRangesForLineRange(position.lineNumber,position.column,position.column);return visibleRanges?new HorizontalPosition(visibleRanges.outsideRenderedLine,visibleRanges.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(fast){const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();let localMaxLineWidth=1,allWidthsComputed=!0;for(let lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++){const visibleLine=this._visibleLines.getVisibleLine(lineNumber);!fast||visibleLine.getWidthIsFast()?localMaxLineWidth=Math.max(localMaxLineWidth,visibleLine.getWidth()):allWidthsComputed=!1}return allWidthsComputed&&1===rendStartLineNumber&&rendEndLineNumber===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(localMaxLineWidth),allWidthsComputed}_checkMonospaceFontAssumptions(){let longestLineNumber=-1,longestWidth=-1;const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++){const visibleLine=this._visibleLines.getVisibleLine(lineNumber);if(visibleLine.needsMonospaceFontCheck()){const lineWidth=visibleLine.getWidth();lineWidth>longestWidth&&(longestWidth=lineWidth,longestLineNumber=lineNumber)}}if(-1!==longestLineNumber&&!this._visibleLines.getVisibleLine(longestLineNumber).monospaceAssumptionsAreValid())for(let lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++){this._visibleLines.getVisibleLine(lineNumber).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(viewportData){if(this._visibleLines.renderLines(viewportData),this._lastRenderedData.setCurrentVisibleRange(viewportData.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const horizontalRevealRequest=this._horizontalRevealRequest;if(viewportData.startLineNumber<=horizontalRevealRequest.minLineNumber&&horizontalRevealRequest.maxLineNumber<=viewportData.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const newScrollLeft=this._computeScrollLeftToReveal(horizontalRevealRequest);newScrollLeft&&(this._isViewportWrapping||this._ensureMaxLineWidth(newScrollLeft.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:newScrollLeft.scrollLeft},horizontalRevealRequest.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),platform.d&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const rendStartLineNumber=this._visibleLines.getStartLineNumber(),rendEndLineNumber=this._visibleLines.getEndLineNumber();for(let lineNumber=rendStartLineNumber;lineNumber<=rendEndLineNumber;lineNumber++){if(this._visibleLines.getVisibleLine(lineNumber).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const adjustedScrollTop=this._context.viewLayout.getCurrentScrollTop()-viewportData.bigNumbersDelta;this._linesContent.setTop(-adjustedScrollTop),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(lineWidth){const iLineWidth=Math.ceil(lineWidth);this._maxLineWidth<iLineWidth&&(this._maxLineWidth=iLineWidth,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(viewport,source,range,selections,verticalType){const viewportStartY=viewport.top,viewportHeight=viewport.height,viewportEndY=viewportStartY+viewportHeight;let boxIsSingleRange,boxStartY,boxEndY;if(selections&&selections.length>0){let minLineNumber=selections[0].startLineNumber,maxLineNumber=selections[0].endLineNumber;for(let i=1,len=selections.length;i<len;i++){const selection=selections[i];minLineNumber=Math.min(minLineNumber,selection.startLineNumber),maxLineNumber=Math.max(maxLineNumber,selection.endLineNumber)}boxIsSingleRange=!1,boxStartY=this._context.viewLayout.getVerticalOffsetForLineNumber(minLineNumber),boxEndY=this._context.viewLayout.getVerticalOffsetForLineNumber(maxLineNumber)+this._lineHeight}else{if(!range)return-1;boxIsSingleRange=!0,boxStartY=this._context.viewLayout.getVerticalOffsetForLineNumber(range.startLineNumber),boxEndY=this._context.viewLayout.getVerticalOffsetForLineNumber(range.endLineNumber)+this._lineHeight}if(!("mouse"===source&&"default"===this._cursorSurroundingLinesStyle)){const context=Math.min(viewportHeight/this._lineHeight/2,this._cursorSurroundingLines);boxStartY-=context*this._lineHeight,boxEndY+=Math.max(0,context-1)*this._lineHeight}let newScrollTop;if(0!==verticalType&&4!==verticalType||(boxEndY+=this._lineHeight),boxEndY-boxStartY>viewportHeight){if(!boxIsSingleRange)return-1;newScrollTop=boxStartY}else if(5===verticalType||6===verticalType)if(6===verticalType&&viewportStartY<=boxStartY&&boxEndY<=viewportEndY)newScrollTop=viewportStartY;else{const desiredScrollTop=boxStartY-Math.max(5*this._lineHeight,.2*viewportHeight),minScrollTop=boxEndY-viewportHeight;newScrollTop=Math.max(minScrollTop,desiredScrollTop)}else if(1===verticalType||2===verticalType)if(2===verticalType&&viewportStartY<=boxStartY&&boxEndY<=viewportEndY)newScrollTop=viewportStartY;else{const boxMiddleY=(boxStartY+boxEndY)/2;newScrollTop=Math.max(0,boxMiddleY-viewportHeight/2)}else newScrollTop=this._computeMinimumScrolling(viewportStartY,viewportEndY,boxStartY,boxEndY,3===verticalType,4===verticalType);return newScrollTop}_computeScrollLeftToReveal(horizontalRevealRequest){const viewport=this._context.viewLayout.getCurrentViewport(),viewportStartX=viewport.left,viewportEndX=viewportStartX+viewport.width;let boxStartX=1073741824,boxEndX=0;if("range"===horizontalRevealRequest.type){const visibleRanges=this._visibleRangesForLineRange(horizontalRevealRequest.lineNumber,horizontalRevealRequest.startColumn,horizontalRevealRequest.endColumn);if(!visibleRanges)return null;for(const visibleRange of visibleRanges.ranges)boxStartX=Math.min(boxStartX,visibleRange.left),boxEndX=Math.max(boxEndX,visibleRange.left+visibleRange.width)}else for(const selection of horizontalRevealRequest.selections){if(selection.startLineNumber!==selection.endLineNumber)return null;const visibleRanges=this._visibleRangesForLineRange(selection.startLineNumber,selection.startColumn,selection.endColumn);if(!visibleRanges)return null;for(const visibleRange of visibleRanges.ranges)boxStartX=Math.min(boxStartX,visibleRange.left),boxEndX=Math.max(boxEndX,visibleRange.left+visibleRange.width)}if(boxStartX=Math.max(0,boxStartX-viewLines_ViewLines.HORIZONTAL_EXTRA_PX),boxEndX+=this._revealHorizontalRightPadding,"selections"===horizontalRevealRequest.type&&boxEndX-boxStartX>viewport.width)return null;return{scrollLeft:this._computeMinimumScrolling(viewportStartX,viewportEndX,boxStartX,boxEndX),maxHorizontalOffset:boxEndX}}_computeMinimumScrolling(viewportStart,viewportEnd,boxStart,boxEnd,revealAtStart,revealAtEnd){revealAtStart=!!revealAtStart,revealAtEnd=!!revealAtEnd;const viewportLength=(viewportEnd|=0)-(viewportStart|=0);return(boxEnd|=0)-(boxStart|=0)<viewportLength?revealAtStart?boxStart:revealAtEnd?Math.max(0,boxEnd-viewportLength):boxStart<viewportStart?boxStart:boxEnd>viewportEnd?Math.max(0,boxEnd-viewportLength):viewportStart:boxStart}}viewLines_ViewLines.HORIZONTAL_EXTRA_PX=30;__webpack_require__(2564);class linesDecorations_LinesDecorationsOverlay extends glyphMargin_DedupOverlay{constructor(context){super(),this._context=context;const layoutInfo=this._context.configuration.options.get(117);this._decorationsLeft=layoutInfo.decorationsLeft,this._decorationsWidth=layoutInfo.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const layoutInfo=this._context.configuration.options.get(117);return this._decorationsLeft=layoutInfo.decorationsLeft,this._decorationsWidth=layoutInfo.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(ctx){const decorations=ctx.getDecorationsInViewport();let r=[],rLen=0;for(let i=0,len=decorations.length;i<len;i++){const d=decorations[i],linesDecorationsClassName=d.options.linesDecorationsClassName;linesDecorationsClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,linesDecorationsClassName));const firstLineDecorationClassName=d.options.firstLineDecorationClassName;firstLineDecorationClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.startLineNumber,firstLineDecorationClassName))}return r}prepareRender(ctx){const visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,toRender=this._render(visibleStartLineNumber,visibleEndLineNumber,this._getDecorations(ctx)),common='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){const lineIndex=lineNumber-visibleStartLineNumber,classNames=toRender[lineIndex];let lineOutput="";for(let i=0,len=classNames.length;i<len;i++)lineOutput+='<div class="cldr '+classNames[i]+common;output[lineIndex]=lineOutput}this._renderResult=output}render(startLineNumber,lineNumber){return this._renderResult?this._renderResult[lineNumber-startLineNumber]:""}}__webpack_require__(2566);class marginDecorations_MarginViewLineDecorationsOverlay extends glyphMargin_DedupOverlay{constructor(context){super(),this._context=context,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(ctx){const decorations=ctx.getDecorationsInViewport();let r=[],rLen=0;for(let i=0,len=decorations.length;i<len;i++){const d=decorations[i],marginClassName=d.options.marginClassName;marginClassName&&(r[rLen++]=new DecorationToRender(d.range.startLineNumber,d.range.endLineNumber,marginClassName))}return r}prepareRender(ctx){const visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber,toRender=this._render(visibleStartLineNumber,visibleEndLineNumber,this._getDecorations(ctx)),output=[];for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){const lineIndex=lineNumber-visibleStartLineNumber,classNames=toRender[lineIndex];let lineOutput="";for(let i=0,len=classNames.length;i<len;i++)lineOutput+='<div class="cmdr '+classNames[i]+'" style=""></div>';output[lineIndex]=lineOutput}this._renderResult=output}render(startLineNumber,lineNumber){return this._renderResult?this._renderResult[lineNumber-startLineNumber]:""}}__webpack_require__(2568);class RGBA8{constructor(r,g,b,a){this.r=RGBA8._clamp(r),this.g=RGBA8._clamp(g),this.b=RGBA8._clamp(b),this.a=RGBA8._clamp(a)}equals(other){return this.r===other.r&&this.g===other.g&&this.b===other.b&&this.a===other.a}static _clamp(c){return c<0?0:c>255?255:0|c}}RGBA8.Empty=new RGBA8(0,0,0,0);var modes=__webpack_require__(2308);class minimapTokensColorTracker_MinimapTokensColorTracker{constructor(){this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._updateColorMap(),modes.C.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new minimapTokensColorTracker_MinimapTokensColorTracker),this._INSTANCE}_updateColorMap(){const colorMap=modes.C.getColorMap();if(!colorMap)return this._colors=[RGBA8.Empty],void(this._backgroundIsLight=!0);this._colors=[RGBA8.Empty];for(let colorId=1;colorId<colorMap.length;colorId++){const source=colorMap[colorId].rgba;this._colors[colorId]=new RGBA8(source.r,source.g,source.b,Math.round(255*source.a))}let backgroundLuminosity=colorMap[2].getRelativeLuminance();this._backgroundIsLight=backgroundLuminosity>=.5,this._onDidChange.fire(void 0)}getColor(colorId){return(colorId<1||colorId>=this._colors.length)&&(colorId=2),this._colors[colorId]}backgroundIsLight(){return this._backgroundIsLight}}minimapTokensColorTracker_MinimapTokensColorTracker._INSTANCE=null;var viewModel_viewModel=__webpack_require__(2365),colorRegistry=__webpack_require__(2310);const allCharCodes=(()=>{const v=[];for(let i=32;i<=126;i++)v.push(i);return v.push(65533),v})(),getCharIndex=(chCode,fontScale)=>(chCode-=32)<0||chCode>96?fontScale<=2?(chCode+96)%96:95:chCode;var uint=__webpack_require__(2398);class minimapCharRenderer_MinimapCharRenderer{constructor(charData,scale){this.scale=scale,this.charDataNormal=minimapCharRenderer_MinimapCharRenderer.soften(charData,.8),this.charDataLight=minimapCharRenderer_MinimapCharRenderer.soften(charData,50/60)}static soften(input,ratio){let result=new Uint8ClampedArray(input.length);for(let i=0,len=input.length;i<len;i++)result[i]=Object(uint.b)(input[i]*ratio);return result}renderChar(target,dx,dy,chCode,color,backgroundColor,fontScale,useLighterFont,force1pxHeight){const charWidth=1*this.scale,charHeight=2*this.scale,renderHeight=force1pxHeight?1:charHeight;if(dx+charWidth>target.width||dy+renderHeight>target.height)return void console.warn("bad render request outside image data");const charData=useLighterFont?this.charDataLight:this.charDataNormal,charIndex=getCharIndex(chCode,fontScale),destWidth=4*target.width,backgroundR=backgroundColor.r,backgroundG=backgroundColor.g,backgroundB=backgroundColor.b,deltaR=color.r-backgroundR,deltaG=color.g-backgroundG,deltaB=color.b-backgroundB,dest=target.data;let sourceOffset=charIndex*charWidth*charHeight,row=dy*destWidth+4*dx;for(let y=0;y<renderHeight;y++){let column=row;for(let x=0;x<charWidth;x++){const c=charData[sourceOffset++]/255;dest[column++]=backgroundR+deltaR*c,dest[column++]=backgroundG+deltaG*c,dest[column++]=backgroundB+deltaB*c,column++}row+=destWidth}}blockRenderChar(target,dx,dy,color,backgroundColor,useLighterFont,force1pxHeight){const charWidth=1*this.scale,charHeight=2*this.scale,renderHeight=force1pxHeight?1:charHeight;if(dx+charWidth>target.width||dy+renderHeight>target.height)return void console.warn("bad render request outside image data");const destWidth=4*target.width,backgroundR=backgroundColor.r,backgroundG=backgroundColor.g,backgroundB=backgroundColor.b,colorR=backgroundR+.5*(color.r-backgroundR),colorG=backgroundG+.5*(color.g-backgroundG),colorB=backgroundB+.5*(color.b-backgroundB),dest=target.data;let row=dy*destWidth+4*dx;for(let y=0;y<renderHeight;y++){let column=row;for(let x=0;x<charWidth;x++)dest[column++]=colorR,dest[column++]=colorG,dest[column++]=colorB,column++;row+=destWidth}}}var functional=__webpack_require__(2379);const charTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},decodeData=str=>{const output=new Uint8ClampedArray(str.length/2);for(let i=0;i<str.length;i+=2)output[i>>1]=charTable[str[i]]<<4|15&charTable[str[i+1]];return output},prebakedMiniMaps={1:Object(functional.a)(()=>decodeData("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Object(functional.a)(()=>decodeData("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class minimapCharRendererFactory_MinimapCharRendererFactory{static create(scale,fontFamily){if(this.lastCreated&&scale===this.lastCreated.scale&&fontFamily===this.lastFontFamily)return this.lastCreated;let factory;return factory=prebakedMiniMaps[scale]?new minimapCharRenderer_MinimapCharRenderer(prebakedMiniMaps[scale](),scale):minimapCharRendererFactory_MinimapCharRendererFactory.createFromSampleData(minimapCharRendererFactory_MinimapCharRendererFactory.createSampleData(fontFamily).data,scale),this.lastFontFamily=fontFamily,this.lastCreated=factory,factory}static createSampleData(fontFamily){const canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");canvas.style.height="16px",canvas.height=16,canvas.width=960,canvas.style.width="960px",ctx.fillStyle="#ffffff",ctx.font=`bold 16px ${fontFamily}`,ctx.textBaseline="middle";let x=0;for(const code of allCharCodes)ctx.fillText(String.fromCharCode(code),x,8),x+=10;return ctx.getImageData(0,0,960,16)}static createFromSampleData(source,scale){if(61440!==source.length)throw new Error("Unexpected source in MinimapCharRenderer");let charData=minimapCharRendererFactory_MinimapCharRendererFactory._downsample(source,scale);return new minimapCharRenderer_MinimapCharRenderer(charData,scale)}static _downsampleChar(source,sourceOffset,dest,destOffset,scale){const width=1*scale,height=2*scale;let targetIndex=destOffset,brightest=0;for(let y=0;y<height;y++){const sourceY1=y/height*16,sourceY2=(y+1)/height*16;for(let x=0;x<width;x++){const sourceX1=x/width*10,sourceX2=(x+1)/width*10;let value=0,samples=0;for(let sy=sourceY1;sy<sourceY2;sy++){const sourceRow=sourceOffset+3840*Math.floor(sy),yBalance=1-(sy-Math.floor(sy));for(let sx=sourceX1;sx<sourceX2;sx++){const xBalance=1-(sx-Math.floor(sx)),sourceIndex=sourceRow+4*Math.floor(sx),weight=xBalance*yBalance;samples+=weight,value+=source[sourceIndex]*source[sourceIndex+3]/255*weight}}const final=value/samples;brightest=Math.max(brightest,final),dest[targetIndex++]=Object(uint.b)(final)}}return brightest}static _downsample(data,scale){const pixelsPerCharacter=2*scale*1*scale,resultLen=96*pixelsPerCharacter,result=new Uint8ClampedArray(resultLen);let resultOffset=0,sourceOffset=0,brightest=0;for(let charIndex=0;charIndex<96;charIndex++)brightest=Math.max(brightest,this._downsampleChar(data,sourceOffset,result,resultOffset,scale)),resultOffset+=pixelsPerCharacter,sourceOffset+=40;if(brightest>0){const adjust=255/brightest;for(let i=0;i<resultLen;i++)result[i]*=adjust}return result}}var common_model=__webpack_require__(2340);const MOUSE_DRAG_RESET_DISTANCE=140,GUTTER_DECORATION_WIDTH=2;class minimap_MinimapOptions{constructor(configuration,theme,tokensColorTracker){const options=configuration.options,pixelRatio=options.get(115),layoutInfo=options.get(117),minimapLayout=layoutInfo.minimap,fontInfo=options.get(36),minimapOpts=options.get(56);this.renderMinimap=minimapLayout.renderMinimap,this.size=minimapOpts.size,this.minimapHeightIsEditorHeight=minimapLayout.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=options.get(86),this.showSlider=minimapOpts.showSlider,this.pixelRatio=pixelRatio,this.typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this.lineHeight=options.get(51),this.minimapLeft=minimapLayout.minimapLeft,this.minimapWidth=minimapLayout.minimapWidth,this.minimapHeight=layoutInfo.height,this.canvasInnerWidth=minimapLayout.minimapCanvasInnerWidth,this.canvasInnerHeight=minimapLayout.minimapCanvasInnerHeight,this.canvasOuterWidth=minimapLayout.minimapCanvasOuterWidth,this.canvasOuterHeight=minimapLayout.minimapCanvasOuterHeight,this.isSampling=minimapLayout.minimapIsSampling,this.editorHeight=layoutInfo.height,this.fontScale=minimapLayout.minimapScale,this.minimapLineHeight=minimapLayout.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Object(functional.a)(()=>minimapCharRendererFactory_MinimapCharRendererFactory.create(this.fontScale,fontInfo.fontFamily)),this.backgroundColor=minimap_MinimapOptions._getMinimapBackground(theme,tokensColorTracker)}static _getMinimapBackground(theme,tokensColorTracker){const themeColor=theme.getColor(colorRegistry.Mb);return themeColor?new RGBA8(themeColor.rgba.r,themeColor.rgba.g,themeColor.rgba.b,themeColor.rgba.a):tokensColorTracker.getColor(2)}equals(other){return this.renderMinimap===other.renderMinimap&&this.size===other.size&&this.minimapHeightIsEditorHeight===other.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===other.scrollBeyondLastLine&&this.showSlider===other.showSlider&&this.pixelRatio===other.pixelRatio&&this.typicalHalfwidthCharacterWidth===other.typicalHalfwidthCharacterWidth&&this.lineHeight===other.lineHeight&&this.minimapLeft===other.minimapLeft&&this.minimapWidth===other.minimapWidth&&this.minimapHeight===other.minimapHeight&&this.canvasInnerWidth===other.canvasInnerWidth&&this.canvasInnerHeight===other.canvasInnerHeight&&this.canvasOuterWidth===other.canvasOuterWidth&&this.canvasOuterHeight===other.canvasOuterHeight&&this.isSampling===other.isSampling&&this.editorHeight===other.editorHeight&&this.fontScale===other.fontScale&&this.minimapLineHeight===other.minimapLineHeight&&this.minimapCharWidth===other.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(other.backgroundColor)}}class MinimapLayout{constructor(scrollTop,scrollHeight,sliderNeeded,computedSliderRatio,sliderTop,sliderHeight,startLineNumber,endLineNumber){this.scrollTop=scrollTop,this.scrollHeight=scrollHeight,this.sliderNeeded=sliderNeeded,this._computedSliderRatio=computedSliderRatio,this.sliderTop=sliderTop,this.sliderHeight=sliderHeight,this.startLineNumber=startLineNumber,this.endLineNumber=endLineNumber}getDesiredScrollTopFromDelta(delta){const desiredSliderPosition=this.sliderTop+delta;return Math.round(desiredSliderPosition/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(pageY){return Math.round((pageY-this.sliderHeight/2)/this._computedSliderRatio)}static create(options,viewportStartLineNumber,viewportEndLineNumber,viewportHeight,viewportContainsWhitespaceGaps,lineCount,realLineCount,scrollTop,scrollHeight,previousLayout){const pixelRatio=options.pixelRatio,minimapLineHeight=options.minimapLineHeight,minimapLinesFitting=Math.floor(options.canvasInnerHeight/minimapLineHeight),lineHeight=options.lineHeight;if(options.minimapHeightIsEditorHeight){const logicalScrollHeight=realLineCount*options.lineHeight+(options.scrollBeyondLastLine?viewportHeight-options.lineHeight:0),sliderHeight=Math.max(1,Math.floor(viewportHeight*viewportHeight/logicalScrollHeight)),maxMinimapSliderTop=Math.max(0,options.minimapHeight-sliderHeight),computedSliderRatio=maxMinimapSliderTop/(scrollHeight-viewportHeight),sliderTop=scrollTop*computedSliderRatio,sliderNeeded=maxMinimapSliderTop>0,maxLinesFitting=Math.floor(options.canvasInnerHeight/options.minimapLineHeight);return new MinimapLayout(scrollTop,scrollHeight,sliderNeeded,computedSliderRatio,sliderTop,sliderHeight,1,Math.min(lineCount,maxLinesFitting))}let sliderHeight,maxMinimapSliderTop;if(viewportContainsWhitespaceGaps&&viewportEndLineNumber!==lineCount){const viewportLineCount=viewportEndLineNumber-viewportStartLineNumber+1;sliderHeight=Math.floor(viewportLineCount*minimapLineHeight/pixelRatio)}else{const expectedViewportLineCount=viewportHeight/lineHeight;sliderHeight=Math.floor(expectedViewportLineCount*minimapLineHeight/pixelRatio)}maxMinimapSliderTop=options.scrollBeyondLastLine?(lineCount-1)*minimapLineHeight/pixelRatio:Math.max(0,lineCount*minimapLineHeight/pixelRatio-sliderHeight);const computedSliderRatio=(maxMinimapSliderTop=Math.min(options.minimapHeight-sliderHeight,maxMinimapSliderTop))/(scrollHeight-viewportHeight),sliderTop=scrollTop*computedSliderRatio;let extraLinesAtTheBottom=0;if(options.scrollBeyondLastLine){extraLinesAtTheBottom=viewportHeight/lineHeight-1}if(minimapLinesFitting>=lineCount+extraLinesAtTheBottom){return new MinimapLayout(scrollTop,scrollHeight,maxMinimapSliderTop>0,computedSliderRatio,sliderTop,sliderHeight,1,lineCount)}{let startLineNumber=Math.max(1,Math.floor(viewportStartLineNumber-sliderTop*pixelRatio/minimapLineHeight));previousLayout&&previousLayout.scrollHeight===scrollHeight&&(previousLayout.scrollTop>scrollTop&&(startLineNumber=Math.min(startLineNumber,previousLayout.startLineNumber)),previousLayout.scrollTop<scrollTop&&(startLineNumber=Math.max(startLineNumber,previousLayout.startLineNumber)));const endLineNumber=Math.min(lineCount,startLineNumber+minimapLinesFitting-1);return new MinimapLayout(scrollTop,scrollHeight,!0,computedSliderRatio,sliderTop,sliderHeight,startLineNumber,endLineNumber)}}}class MinimapLine{constructor(dy){this.dy=dy}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}MinimapLine.INVALID=new MinimapLine(-1);class minimap_RenderData{constructor(renderedLayout,imageData,lines){this.renderedLayout=renderedLayout,this._imageData=imageData,this._renderedLines=new RenderedLinesCollection(()=>MinimapLine.INVALID),this._renderedLines._set(renderedLayout.startLineNumber,lines)}linesEquals(layout){if(!this.scrollEquals(layout))return!1;const lines=this._renderedLines._get().lines;for(let i=0,len=lines.length;i<len;i++)if(-1===lines[i].dy)return!1;return!0}scrollEquals(layout){return this.renderedLayout.startLineNumber===layout.startLineNumber&&this.renderedLayout.endLineNumber===layout.endLineNumber}_get(){const tmp=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:tmp.rendLineNumberStart,lines:tmp.lines}}onLinesChanged(changeFromLineNumber,changeToLineNumber){return this._renderedLines.onLinesChanged(changeFromLineNumber,changeToLineNumber)}onLinesDeleted(deleteFromLineNumber,deleteToLineNumber){this._renderedLines.onLinesDeleted(deleteFromLineNumber,deleteToLineNumber)}onLinesInserted(insertFromLineNumber,insertToLineNumber){this._renderedLines.onLinesInserted(insertFromLineNumber,insertToLineNumber)}onTokensChanged(ranges){return this._renderedLines.onTokensChanged(ranges)}}class MinimapBuffers{constructor(ctx,WIDTH,HEIGHT,background){this._backgroundFillData=MinimapBuffers._createBackgroundFillData(WIDTH,HEIGHT,background),this._buffers=[ctx.createImageData(WIDTH,HEIGHT),ctx.createImageData(WIDTH,HEIGHT)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const result=this._buffers[this._lastUsedBuffer];return result.data.set(this._backgroundFillData),result}static _createBackgroundFillData(WIDTH,HEIGHT,background){const backgroundR=background.r,backgroundG=background.g,backgroundB=background.b,result=new Uint8ClampedArray(WIDTH*HEIGHT*4);let offset=0;for(let i=0;i<HEIGHT;i++)for(let j=0;j<WIDTH;j++)result[offset]=backgroundR,result[offset+1]=backgroundG,result[offset+2]=backgroundB,result[offset+3]=255,offset+=4;return result}}class minimap_MinimapSamplingState{constructor(samplingRatio,minimapLines){this.samplingRatio=samplingRatio,this.minimapLines=minimapLines}static compute(options,viewLineCount,oldSamplingState){if(0===options.renderMinimap||!options.isSampling)return[null,[]];const pixelRatio=options.pixelRatio,lineHeight=options.lineHeight,scrollBeyondLastLine=options.scrollBeyondLastLine,{minimapLineCount:minimapLineCount}=editorOptions.f.computeContainedMinimapLineCount({viewLineCount:viewLineCount,scrollBeyondLastLine:scrollBeyondLastLine,height:options.editorHeight,lineHeight:lineHeight,pixelRatio:pixelRatio}),ratio=viewLineCount/minimapLineCount,halfRatio=ratio/2;if(!oldSamplingState||0===oldSamplingState.minimapLines.length){let result=[];if(result[0]=1,minimapLineCount>1){for(let i=0,lastIndex=minimapLineCount-1;i<lastIndex;i++)result[i]=Math.round(i*ratio+halfRatio);result[minimapLineCount-1]=viewLineCount}return[new minimap_MinimapSamplingState(ratio,result),[]]}const oldMinimapLines=oldSamplingState.minimapLines,oldLength=oldMinimapLines.length;let result=[],oldIndex=0,oldDeltaLineCount=0,minViewLineNumber=1;let events=[],lastEvent=null;for(let i=0;i<minimapLineCount;i++){const fromViewLineNumber=Math.max(minViewLineNumber,Math.round(i*ratio)),toViewLineNumber=Math.max(fromViewLineNumber,Math.round((i+1)*ratio));for(;oldIndex<oldLength&&oldMinimapLines[oldIndex]<fromViewLineNumber;){if(events.length<10){const oldMinimapLineNumber=oldIndex+1+oldDeltaLineCount;lastEvent&&"deleted"===lastEvent.type&&lastEvent._oldIndex===oldIndex-1?lastEvent.deleteToLineNumber++:(lastEvent={type:"deleted",_oldIndex:oldIndex,deleteFromLineNumber:oldMinimapLineNumber,deleteToLineNumber:oldMinimapLineNumber},events.push(lastEvent)),oldDeltaLineCount--}oldIndex++}let selectedViewLineNumber;if(oldIndex<oldLength&&oldMinimapLines[oldIndex]<=toViewLineNumber)selectedViewLineNumber=oldMinimapLines[oldIndex],oldIndex++;else if(selectedViewLineNumber=0===i?1:i+1===minimapLineCount?viewLineCount:Math.round(i*ratio+halfRatio),events.length<10){const oldMinimapLineNumber=oldIndex+1+oldDeltaLineCount;lastEvent&&"inserted"===lastEvent.type&&lastEvent._i===i-1?lastEvent.insertToLineNumber++:(lastEvent={type:"inserted",_i:i,insertFromLineNumber:oldMinimapLineNumber,insertToLineNumber:oldMinimapLineNumber},events.push(lastEvent)),oldDeltaLineCount++}result[i]=selectedViewLineNumber,minViewLineNumber=selectedViewLineNumber}if(events.length<10)for(;oldIndex<oldLength;){const oldMinimapLineNumber=oldIndex+1+oldDeltaLineCount;lastEvent&&"deleted"===lastEvent.type&&lastEvent._oldIndex===oldIndex-1?lastEvent.deleteToLineNumber++:(lastEvent={type:"deleted",_oldIndex:oldIndex,deleteFromLineNumber:oldMinimapLineNumber,deleteToLineNumber:oldMinimapLineNumber},events.push(lastEvent)),oldDeltaLineCount--,oldIndex++}else events=[{type:"flush"}];return[new minimap_MinimapSamplingState(ratio,result),events]}modelLineToMinimapLine(lineNumber){return Math.min(this.minimapLines.length,Math.max(1,Math.round(lineNumber/this.samplingRatio)))}modelLineRangeToMinimapLineRange(fromLineNumber,toLineNumber){let fromLineIndex=this.modelLineToMinimapLine(fromLineNumber)-1;for(;fromLineIndex>0&&this.minimapLines[fromLineIndex-1]>=fromLineNumber;)fromLineIndex--;let toLineIndex=this.modelLineToMinimapLine(toLineNumber)-1;for(;toLineIndex+1<this.minimapLines.length&&this.minimapLines[toLineIndex+1]<=toLineNumber;)toLineIndex++;if(fromLineIndex===toLineIndex){const sampledLineNumber=this.minimapLines[fromLineIndex];if(sampledLineNumber<fromLineNumber||sampledLineNumber>toLineNumber)return null}return[fromLineIndex+1,toLineIndex+1]}decorationLineRangeToMinimapLineRange(startLineNumber,endLineNumber){let minimapLineStart=this.modelLineToMinimapLine(startLineNumber),minimapLineEnd=this.modelLineToMinimapLine(endLineNumber);return startLineNumber!==endLineNumber&&minimapLineEnd===minimapLineStart&&(minimapLineEnd===this.minimapLines.length?minimapLineStart>1&&minimapLineStart--:minimapLineEnd++),[minimapLineStart,minimapLineEnd]}onLinesDeleted(e){const deletedLineCount=e.toLineNumber-e.fromLineNumber+1;let changeStartIndex=this.minimapLines.length,changeEndIndex=0;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]<=e.toLineNumber?(this.minimapLines[i]=Math.max(1,e.fromLineNumber-1),changeStartIndex=Math.min(changeStartIndex,i),changeEndIndex=Math.max(changeEndIndex,i)):this.minimapLines[i]-=deletedLineCount;return[changeStartIndex,changeEndIndex]}onLinesInserted(e){const insertedLineCount=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=insertedLineCount}}class minimap_Minimap extends viewPart_ViewPart{constructor(context){super(context),this.tokensColorTracker=minimapTokensColorTracker_MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new minimap_MinimapOptions(this._context.configuration,this._context.theme,this.tokensColorTracker);const[samplingState]=minimap_MinimapSamplingState.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=samplingState,this._shouldCheckSampling=!1,this._actual=new minimap_InnerMinimap(context.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const opts=new minimap_MinimapOptions(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(opts)&&(this.options=opts,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const minimapLineRange=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!minimapLineRange&&this._actual.onLinesChanged(minimapLineRange[0],minimapLineRange[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[changeStartIndex,changeEndIndex]=this._samplingState.onLinesDeleted(e);return changeStartIndex<=changeEndIndex&&this._actual.onLinesChanged(changeStartIndex+1,changeEndIndex+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let ranges=[];for(const range of e.ranges){const minimapLineRange=this._samplingState.modelLineRangeToMinimapLineRange(range.fromLineNumber,range.toLineNumber);minimapLineRange&&ranges.push({fromLineNumber:minimapLineRange[0],toLineNumber:minimapLineRange[1]})}return!!ranges.length&&this._actual.onTokensChanged(ranges)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(ctx){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(ctx){let viewportStartLineNumber=ctx.visibleRange.startLineNumber,viewportEndLineNumber=ctx.visibleRange.endLineNumber;this._samplingState&&(viewportStartLineNumber=this._samplingState.modelLineToMinimapLine(viewportStartLineNumber),viewportEndLineNumber=this._samplingState.modelLineToMinimapLine(viewportEndLineNumber));const minimapCtx={viewportContainsWhitespaceGaps:ctx.viewportData.whitespaceViewportData.length>0,scrollWidth:ctx.scrollWidth,scrollHeight:ctx.scrollHeight,viewportStartLineNumber:viewportStartLineNumber,viewportEndLineNumber:viewportEndLineNumber,scrollTop:ctx.scrollTop,scrollLeft:ctx.scrollLeft,viewportWidth:ctx.viewportWidth,viewportHeight:ctx.viewportHeight};this._actual.render(minimapCtx)}_recreateLineSampling(){this._minimapSelections=null;const wasSampling=Boolean(this._samplingState),[samplingState,events]=minimap_MinimapSamplingState.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=samplingState,wasSampling&&this._samplingState)for(const event of events)switch(event.type){case"deleted":this._actual.onLinesDeleted(event.deleteFromLineNumber,event.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(event.insertFromLineNumber,event.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(lineNumber){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[lineNumber-1]):this._context.model.getLineContent(lineNumber)}getMinimapLinesRenderingData(startLineNumber,endLineNumber,needed){if(this._samplingState){let result=[];for(let lineIndex=0,lineCount=endLineNumber-startLineNumber+1;lineIndex<lineCount;lineIndex++)needed[lineIndex]?result[lineIndex]=this._context.model.getViewLineData(this._samplingState.minimapLines[startLineNumber+lineIndex-1]):result[lineIndex]=null;return result}return this._context.model.getMinimapLinesRenderingData(startLineNumber,endLineNumber,needed).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const selection of this._selections){const[minimapLineStart,minimapLineEnd]=this._samplingState.decorationLineRangeToMinimapLineRange(selection.startLineNumber,selection.endLineNumber);this._minimapSelections.push(new core_selection.a(minimapLineStart,selection.startColumn,minimapLineEnd,selection.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(startLineNumber,endLineNumber){let visibleRange;if(this._samplingState){const modelStartLineNumber=this._samplingState.minimapLines[startLineNumber-1],modelEndLineNumber=this._samplingState.minimapLines[endLineNumber-1];visibleRange=new core_range.a(modelStartLineNumber,1,modelEndLineNumber,this._context.model.getLineMaxColumn(modelEndLineNumber))}else visibleRange=new core_range.a(startLineNumber,1,endLineNumber,this._context.model.getLineMaxColumn(endLineNumber));const decorations=this._context.model.getDecorationsInViewport(visibleRange);if(this._samplingState){let result=[];for(const decoration of decorations){if(!decoration.options.minimap)continue;const range=decoration.range,minimapStartLineNumber=this._samplingState.modelLineToMinimapLine(range.startLineNumber),minimapEndLineNumber=this._samplingState.modelLineToMinimapLine(range.endLineNumber);result.push(new viewModel_viewModel.e(new core_range.a(minimapStartLineNumber,range.startColumn,minimapEndLineNumber,range.endColumn),decoration.options))}return result}return decorations}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(lineNumber){this._samplingState&&(lineNumber=this._samplingState.minimapLines[lineNumber-1]),this._context.model.revealRange("mouse",!1,new core_range.a(lineNumber,1,lineNumber,1),1,0)}setScrollTop(scrollTop){this._context.model.setScrollPosition({scrollTop:scrollTop},1)}}class minimap_InnerMinimap extends lifecycle.a{constructor(theme,model){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=theme,this._model=model,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(colorRegistry.Pb),this._domNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Object(fastDomNode.b)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Object(fastDomNode.b)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Object(fastDomNode.b)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Object(fastDomNode.b)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Object(fastDomNode.b)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=dom.n(this._domNode.domNode,"mousedown",e=>{if(e.preventDefault(),0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const position=dom.C(this._slider.domNode),initialPosY=position.top+position.height/2;this._startSliderDragging(e.buttons,e.posx,initialPosY,e.posy,this._lastRenderData.renderedLayout)}return}const minimapLineHeight=this._model.options.minimapLineHeight,internalOffsetY=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let lineNumber=Math.floor(internalOffsetY/minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;lineNumber=Math.min(lineNumber,this._model.getLineCount()),this._model.revealLineNumber(lineNumber)}),this._sliderMouseMoveMonitor=new globalMouseMoveMonitor.a,this._sliderMouseDownListener=dom.n(this._slider.domNode,"mousedown",e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=touch.b.addTarget(this._domNode.domNode),this._sliderTouchStartListener=dom.i(this._domNode.domNode,touch.a.Start,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))},{passive:!1}),this._sliderTouchMoveListener=dom.i(this._domNode.domNode,touch.a.Change,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)},{passive:!1}),this._sliderTouchEndListener=dom.n(this._domNode.domNode,touch.a.End,e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(initialButtons,initialPosX,initialPosY,posy,initialSliderState){this._slider.toggleClassName("active",!0);const handleMouseMove=(posy,posx)=>{const mouseOrthogonalDelta=Math.abs(posx-initialPosX);if(platform.i&&mouseOrthogonalDelta>MOUSE_DRAG_RESET_DISTANCE)return void this._model.setScrollTop(initialSliderState.scrollTop);const mouseDelta=posy-initialPosY;this._model.setScrollTop(initialSliderState.getDesiredScrollTopFromDelta(mouseDelta))};posy!==initialPosY&&handleMouseMove(posy,initialPosX),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,initialButtons,globalMouseMoveMonitor.b,mouseMoveData=>handleMouseMove(mouseMoveData.posy,mouseMoveData.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(touch){const startY=this._domNode.domNode.getBoundingClientRect().top,scrollTop=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(touch.pageY-startY);this._model.setScrollTop(scrollTop)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new MinimapBuffers(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(changeFromLineNumber,changeToLineNumber){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(changeFromLineNumber,changeToLineNumber)}onLinesDeleted(deleteFromLineNumber,deleteToLineNumber){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(deleteFromLineNumber,deleteToLineNumber),!0}onLinesInserted(insertFromLineNumber,insertToLineNumber){return this._lastRenderData&&this._lastRenderData.onLinesInserted(insertFromLineNumber,insertToLineNumber),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(colorRegistry.Pb),this._renderDecorations=!0,!0}onTokensChanged(ranges){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(ranges)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(renderingCtx){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);renderingCtx.scrollLeft+renderingCtx.viewportWidth>=renderingCtx.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const layout=MinimapLayout.create(this._model.options,renderingCtx.viewportStartLineNumber,renderingCtx.viewportEndLineNumber,renderingCtx.viewportHeight,renderingCtx.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),renderingCtx.scrollTop,renderingCtx.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(layout.sliderNeeded?"block":"none"),this._slider.setTop(layout.sliderTop),this._slider.setHeight(layout.sliderHeight);const scrollLeftChars=renderingCtx.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,horizontalSliderLeft=Math.min(this._model.options.minimapWidth,Math.round(scrollLeftChars*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(horizontalSliderLeft),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-horizontalSliderLeft),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(layout.sliderHeight),this.renderDecorations(layout),this._lastRenderData=this.renderLines(layout)}renderDecorations(layout){if(this._renderDecorations){this._renderDecorations=!1;const selections=this._model.getSelections(),decorations=this._model.getMinimapDecorationsInViewport(layout.startLineNumber,layout.endLineNumber),{canvasInnerWidth:canvasInnerWidth,canvasInnerHeight:canvasInnerHeight}=this._model.options,lineHeight=this._model.options.minimapLineHeight,characterWidth=this._model.options.minimapCharWidth,tabSize=this._model.getOptions().tabSize,canvasContext=this._decorationsCanvas.domNode.getContext("2d");canvasContext.clearRect(0,0,canvasInnerWidth,canvasInnerHeight);const lineOffsetMap=new Map;for(let i=0;i<selections.length;i++){const selection=selections[i];for(let line=selection.startLineNumber;line<=selection.endLineNumber;line++)this.renderDecorationOnLine(canvasContext,lineOffsetMap,selection,this._selectionColor,layout,line,lineHeight,lineHeight,tabSize,characterWidth)}for(let i=0;i<decorations.length;i++){const decoration=decorations[i];if(!decoration.options.minimap)continue;const decorationColor=decoration.options.minimap.getColor(this._theme);for(let line=decoration.range.startLineNumber;line<=decoration.range.endLineNumber;line++)switch(decoration.options.minimap.position){case common_model.c.Inline:this.renderDecorationOnLine(canvasContext,lineOffsetMap,decoration.range,decorationColor,layout,line,lineHeight,lineHeight,tabSize,characterWidth);continue;case common_model.c.Gutter:const y=(line-layout.startLineNumber)*lineHeight,x=2;this.renderDecoration(canvasContext,decorationColor,x,y,GUTTER_DECORATION_WIDTH,lineHeight);continue}}}}renderDecorationOnLine(canvasContext,lineOffsetMap,decorationRange,decorationColor,layout,lineNumber,height,lineHeight,tabSize,charWidth){const y=(lineNumber-layout.startLineNumber)*lineHeight;if(y+height<0||y>this._model.options.canvasInnerHeight)return;let lineIndexToXOffset=lineOffsetMap.get(lineNumber);const isFirstDecorationForLine=!lineIndexToXOffset;if(!lineIndexToXOffset){const lineData=this._model.getLineContent(lineNumber);lineIndexToXOffset=[editorOptions.h];for(let i=1;i<lineData.length+1;i++){const charCode=lineData.charCodeAt(i-1),dx=9===charCode?tabSize*charWidth:strings.E(charCode)?2*charWidth:charWidth;lineIndexToXOffset[i]=lineIndexToXOffset[i-1]+dx}lineOffsetMap.set(lineNumber,lineIndexToXOffset)}const{startColumn:startColumn,endColumn:endColumn,startLineNumber:startLineNumber,endLineNumber:endLineNumber}=decorationRange,x=startLineNumber===lineNumber?lineIndexToXOffset[startColumn-1]:editorOptions.h,endColumnForLine=endLineNumber>lineNumber?lineIndexToXOffset.length-1:endColumn-1;if(endColumnForLine>0){const width=lineIndexToXOffset[endColumnForLine]-x||2;this.renderDecoration(canvasContext,decorationColor,x,y,width,height)}isFirstDecorationForLine&&this.renderLineHighlight(canvasContext,decorationColor,y,height)}renderLineHighlight(canvasContext,decorationColor,y,height){canvasContext.fillStyle=decorationColor&&decorationColor.transparent(.5).toString()||"",canvasContext.fillRect(editorOptions.h,y,canvasContext.canvas.width,height)}renderDecoration(canvasContext,decorationColor,x,y,width,height){canvasContext.fillStyle=decorationColor&&decorationColor.toString()||"",canvasContext.fillRect(x,y,width,height)}renderLines(layout){const startLineNumber=layout.startLineNumber,endLineNumber=layout.endLineNumber,minimapLineHeight=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(layout)){const _lastData=this._lastRenderData._get();return new minimap_RenderData(layout,_lastData.imageData,_lastData.lines)}const imageData=this._getBuffer();if(!imageData)return null;let[_dirtyY1,_dirtyY2,needed]=minimap_InnerMinimap._renderUntouchedLines(imageData,startLineNumber,endLineNumber,minimapLineHeight,this._lastRenderData);const lineInfo=this._model.getMinimapLinesRenderingData(startLineNumber,endLineNumber,needed),tabSize=this._model.getOptions().tabSize,background=this._model.options.backgroundColor,tokensColorTracker=this._model.tokensColorTracker,useLighterFont=tokensColorTracker.backgroundIsLight(),renderMinimap=this._model.options.renderMinimap,charRenderer=this._model.options.charRenderer(),fontScale=this._model.options.fontScale,minimapCharWidth=this._model.options.minimapCharWidth,renderMinimapLineHeight=(1===renderMinimap?2:3)*fontScale,innerLinePadding=minimapLineHeight>renderMinimapLineHeight?Math.floor((minimapLineHeight-renderMinimapLineHeight)/2):0;let dy=0;const renderedLines=[];for(let lineIndex=0,lineCount=endLineNumber-startLineNumber+1;lineIndex<lineCount;lineIndex++)needed[lineIndex]&&minimap_InnerMinimap._renderLine(imageData,background,useLighterFont,renderMinimap,minimapCharWidth,tokensColorTracker,charRenderer,dy,innerLinePadding,tabSize,lineInfo[lineIndex],fontScale,minimapLineHeight),renderedLines[lineIndex]=new MinimapLine(dy),dy+=minimapLineHeight;const dirtyY1=-1===_dirtyY1?0:_dirtyY1,dirtyHeight=(-1===_dirtyY2?imageData.height:_dirtyY2)-dirtyY1;return this._canvas.domNode.getContext("2d").putImageData(imageData,0,0,0,dirtyY1,imageData.width,dirtyHeight),new minimap_RenderData(layout,imageData,renderedLines)}static _renderUntouchedLines(target,startLineNumber,endLineNumber,minimapLineHeight,lastRenderData){const needed=[];if(!lastRenderData){for(let i=0,len=endLineNumber-startLineNumber+1;i<len;i++)needed[i]=!0;return[-1,-1,needed]}const _lastData=lastRenderData._get(),lastTargetData=_lastData.imageData.data,lastStartLineNumber=_lastData.rendLineNumberStart,lastLines=_lastData.lines,lastLinesLength=lastLines.length,WIDTH=target.width,targetData=target.data,maxDestPixel=(endLineNumber-startLineNumber+1)*minimapLineHeight*WIDTH*4;let dirtyPixel1=-1,dirtyPixel2=-1,copySourceStart=-1,copySourceEnd=-1,copyDestStart=-1,copyDestEnd=-1,dest_dy=0;for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){const lineIndex=lineNumber-startLineNumber,lastLineIndex=lineNumber-lastStartLineNumber,source_dy=lastLineIndex>=0&&lastLineIndex<lastLinesLength?lastLines[lastLineIndex].dy:-1;if(-1===source_dy){needed[lineIndex]=!0,dest_dy+=minimapLineHeight;continue}const sourceStart=source_dy*WIDTH*4,sourceEnd=(source_dy+minimapLineHeight)*WIDTH*4,destStart=dest_dy*WIDTH*4,destEnd=(dest_dy+minimapLineHeight)*WIDTH*4;copySourceEnd===sourceStart&&copyDestEnd===destStart?(copySourceEnd=sourceEnd,copyDestEnd=destEnd):(-1!==copySourceStart&&(targetData.set(lastTargetData.subarray(copySourceStart,copySourceEnd),copyDestStart),-1===dirtyPixel1&&0===copySourceStart&&copySourceStart===copyDestStart&&(dirtyPixel1=copySourceEnd),-1===dirtyPixel2&&copySourceEnd===maxDestPixel&&copySourceStart===copyDestStart&&(dirtyPixel2=copySourceStart)),copySourceStart=sourceStart,copySourceEnd=sourceEnd,copyDestStart=destStart,copyDestEnd=destEnd),needed[lineIndex]=!1,dest_dy+=minimapLineHeight}return-1!==copySourceStart&&(targetData.set(lastTargetData.subarray(copySourceStart,copySourceEnd),copyDestStart),-1===dirtyPixel1&&0===copySourceStart&&copySourceStart===copyDestStart&&(dirtyPixel1=copySourceEnd),-1===dirtyPixel2&&copySourceEnd===maxDestPixel&&copySourceStart===copyDestStart&&(dirtyPixel2=copySourceStart)),[-1===dirtyPixel1?-1:dirtyPixel1/(4*WIDTH),-1===dirtyPixel2?-1:dirtyPixel2/(4*WIDTH),needed]}static _renderLine(target,backgroundColor,useLighterFont,renderMinimap,charWidth,colorTracker,minimapCharRenderer,dy,innerLinePadding,tabSize,lineData,fontScale,minimapLineHeight){const content=lineData.content,tokens=lineData.tokens,maxDx=target.width-charWidth,force1pxHeight=1===minimapLineHeight;let dx=editorOptions.h,charIndex=0,tabsCharDelta=0;for(let tokenIndex=0,tokensLen=tokens.getCount();tokenIndex<tokensLen;tokenIndex++){const tokenEndIndex=tokens.getEndOffset(tokenIndex),tokenColorId=tokens.getForeground(tokenIndex),tokenColor=colorTracker.getColor(tokenColorId);for(;charIndex<tokenEndIndex;charIndex++){if(dx>maxDx)return;const charCode=content.charCodeAt(charIndex);if(9===charCode){const insertSpacesCount=tabSize-(charIndex+tabsCharDelta)%tabSize;tabsCharDelta+=insertSpacesCount-1,dx+=insertSpacesCount*charWidth}else if(32===charCode)dx+=charWidth;else{const count=strings.E(charCode)?2:1;for(let i=0;i<count;i++)if(2===renderMinimap?minimapCharRenderer.blockRenderChar(target,dx,dy+innerLinePadding,tokenColor,backgroundColor,useLighterFont,force1pxHeight):minimapCharRenderer.renderChar(target,dx,dy+innerLinePadding,charCode,tokenColor,backgroundColor,fontScale,useLighterFont,force1pxHeight),(dx+=charWidth)>maxDx)return}}}}}Object(common_themeService.g)((theme,collector)=>{const minimapBackgroundValue=theme.getColor(colorRegistry.Mb);minimapBackgroundValue&&collector.addRule(`.monaco-editor .minimap > canvas { opacity: ${minimapBackgroundValue.rgba.a}; will-change: opacity; }`);const sliderBackground=theme.getColor(colorRegistry.Rb);sliderBackground&&collector.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${sliderBackground}; }`);const sliderHoverBackground=theme.getColor(colorRegistry.Sb);sliderHoverBackground&&collector.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${sliderHoverBackground}; }`);const sliderActiveBackground=theme.getColor(colorRegistry.Qb);sliderActiveBackground&&collector.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${sliderActiveBackground}; }`);const shadow=theme.getColor(colorRegistry.ic);shadow&&collector.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${shadow} -6px 0 6px -6px inset; }`)});__webpack_require__(2570);class overlayWidgets_ViewOverlayWidgets extends viewPart_ViewPart{constructor(context){super(context);const layoutInfo=this._context.configuration.options.get(117);this._widgets={},this._verticalScrollbarWidth=layoutInfo.verticalScrollbarWidth,this._minimapWidth=layoutInfo.minimap.minimapWidth,this._horizontalScrollbarHeight=layoutInfo.horizontalScrollbarHeight,this._editorHeight=layoutInfo.height,this._editorWidth=layoutInfo.width,this._domNode=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const layoutInfo=this._context.configuration.options.get(117);return this._verticalScrollbarWidth=layoutInfo.verticalScrollbarWidth,this._minimapWidth=layoutInfo.minimap.minimapWidth,this._horizontalScrollbarHeight=layoutInfo.horizontalScrollbarHeight,this._editorHeight=layoutInfo.height,this._editorWidth=layoutInfo.width,!0}addWidget(widget){const domNode=Object(fastDomNode.b)(widget.getDomNode());this._widgets[widget.getId()]={widget:widget,preference:null,domNode:domNode},domNode.setPosition("absolute"),domNode.setAttribute("widgetId",widget.getId()),this._domNode.appendChild(domNode),this.setShouldRender()}setWidgetPosition(widget,preference){const widgetData=this._widgets[widget.getId()];return widgetData.preference!==preference&&(widgetData.preference=preference,this.setShouldRender(),!0)}removeWidget(widget){const widgetId=widget.getId();if(this._widgets.hasOwnProperty(widgetId)){const domNode=this._widgets[widgetId].domNode.domNode;delete this._widgets[widgetId],domNode.parentNode.removeChild(domNode),this.setShouldRender()}}_renderWidget(widgetData){const domNode=widgetData.domNode;if(null!==widgetData.preference)if(0===widgetData.preference)domNode.setTop(0),domNode.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===widgetData.preference){const widgetHeight=domNode.domNode.clientHeight;domNode.setTop(this._editorHeight-widgetHeight-2*this._horizontalScrollbarHeight),domNode.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===widgetData.preference&&(domNode.setTop(0),domNode.domNode.style.right="50%");else domNode.unsetTop()}prepareRender(ctx){}render(ctx){this._domNode.setWidth(this._editorWidth);const keys=Object.keys(this._widgets);for(let i=0,len=keys.length;i<len;i++){const widgetId=keys[i];this._renderWidget(this._widgets[widgetId])}}}var common_color=__webpack_require__(2320);class decorationsOverviewRuler_Settings{constructor(config,theme){const options=config.options;this.lineHeight=options.get(51),this.pixelRatio=options.get(115),this.overviewRulerLanes=options.get(65),this.renderBorder=options.get(64);const borderColor=theme.getColor(editorColorRegistry.m);this.borderColor=borderColor?borderColor.toString():null,this.hideCursor=options.get(44);const cursorColor=theme.getColor(editorColorRegistry.g);this.cursorColor=cursorColor?cursorColor.transparent(.7).toString():null,this.themeType=theme.type;const minimapOpts=options.get(56),minimapEnabled=minimapOpts.enabled,minimapSide=minimapOpts.side,backgroundColor=minimapEnabled?theme.getColor(editorColorRegistry.l)||modes.C.getDefaultBackground():null;this.backgroundColor=null===backgroundColor||"left"===minimapSide?null:common_color.a.Format.CSS.formatHex(backgroundColor);const position=options.get(117).overviewRuler;this.top=position.top,this.right=position.right,this.domWidth=position.width,this.domHeight=position.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[x,w]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=x,this.w=w}_initLanes(canvasLeftOffset,canvasWidth,laneCount){const remainingWidth=canvasWidth-canvasLeftOffset;if(laneCount>=3){const leftWidth=Math.floor(remainingWidth/3),rightWidth=Math.floor(remainingWidth/3),centerWidth=remainingWidth-leftWidth-rightWidth,centerOffset=canvasLeftOffset+leftWidth;return[[0,canvasLeftOffset,centerOffset,canvasLeftOffset,canvasLeftOffset+leftWidth+centerWidth,canvasLeftOffset,centerOffset,canvasLeftOffset],[0,leftWidth,centerWidth,leftWidth+centerWidth,rightWidth,leftWidth+centerWidth+rightWidth,centerWidth+rightWidth,leftWidth+centerWidth+rightWidth]]}if(2===laneCount){const leftWidth=Math.floor(remainingWidth/2),rightWidth=remainingWidth-leftWidth;return[[0,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset+leftWidth,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset],[0,leftWidth,leftWidth,leftWidth,rightWidth,leftWidth+rightWidth,leftWidth+rightWidth,leftWidth+rightWidth]]}return[[0,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset,canvasLeftOffset],[0,remainingWidth,remainingWidth,remainingWidth,remainingWidth,remainingWidth,remainingWidth,remainingWidth]]}equals(other){return this.lineHeight===other.lineHeight&&this.pixelRatio===other.pixelRatio&&this.overviewRulerLanes===other.overviewRulerLanes&&this.renderBorder===other.renderBorder&&this.borderColor===other.borderColor&&this.hideCursor===other.hideCursor&&this.cursorColor===other.cursorColor&&this.themeType===other.themeType&&this.backgroundColor===other.backgroundColor&&this.top===other.top&&this.right===other.right&&this.domWidth===other.domWidth&&this.domHeight===other.domHeight&&this.canvasWidth===other.canvasWidth&&this.canvasHeight===other.canvasHeight}}class decorationsOverviewRuler_DecorationsOverviewRuler extends viewPart_ViewPart{constructor(context){super(context),this._domNode=Object(fastDomNode.b)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=modes.C.onDidChange(e=>{e.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(renderNow){const newSettings=new decorationsOverviewRuler_Settings(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(newSettings))&&(this._settings=newSettings,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,renderNow&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let i=0,len=e.selections.length;i<len;i++)this._cursorPositions[i]=e.selections[i].getPosition();return this._cursorPositions.sort(core_position.a.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(ctx){}render(editorCtx){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const canvasWidth=this._settings.canvasWidth,canvasHeight=this._settings.canvasHeight,lineHeight=this._settings.lineHeight,viewLayout=this._context.viewLayout,heightRatio=canvasHeight/this._context.viewLayout.getScrollHeight(),decorations=this._context.model.getAllOverviewRulerDecorations(this._context.theme),minDecorationHeight=6*this._settings.pixelRatio|0,halfMinDecorationHeight=minDecorationHeight/2|0,canvasCtx=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?canvasCtx.clearRect(0,0,canvasWidth,canvasHeight):(canvasCtx.fillStyle=this._settings.backgroundColor,canvasCtx.fillRect(0,0,canvasWidth,canvasHeight));const x=this._settings.x,w=this._settings.w,colors=Object.keys(decorations);colors.sort();for(let cIndex=0,cLen=colors.length;cIndex<cLen;cIndex++){const color=colors[cIndex],colorDecorations=decorations[color];canvasCtx.fillStyle=color;let prevLane=0,prevY1=0,prevY2=0;for(let i=0,len=colorDecorations.length;i<len;i++){const lane=colorDecorations[3*i],startLineNumber=colorDecorations[3*i+1],endLineNumber=colorDecorations[3*i+2];let y1=viewLayout.getVerticalOffsetForLineNumber(startLineNumber)*heightRatio|0,y2=(viewLayout.getVerticalOffsetForLineNumber(endLineNumber)+lineHeight)*heightRatio|0;if(y2-y1<minDecorationHeight){let yCenter=(y1+y2)/2|0;yCenter<halfMinDecorationHeight?yCenter=halfMinDecorationHeight:yCenter+halfMinDecorationHeight>canvasHeight&&(yCenter=canvasHeight-halfMinDecorationHeight),y1=yCenter-halfMinDecorationHeight,y2=yCenter+halfMinDecorationHeight}y1>prevY2+1||lane!==prevLane?(0!==i&&canvasCtx.fillRect(x[prevLane],prevY1,w[prevLane],prevY2-prevY1),prevLane=lane,prevY1=y1,prevY2=y2):y2>prevY2&&(prevY2=y2)}canvasCtx.fillRect(x[prevLane],prevY1,w[prevLane],prevY2-prevY1)}if(!this._settings.hideCursor&&this._settings.cursorColor){const cursorHeight=2*this._settings.pixelRatio|0,halfCursorHeight=cursorHeight/2|0,cursorX=this._settings.x[7],cursorW=this._settings.w[7];canvasCtx.fillStyle=this._settings.cursorColor;let prevY1=-100,prevY2=-100;for(let i=0,len=this._cursorPositions.length;i<len;i++){const cursor=this._cursorPositions[i];let yCenter=viewLayout.getVerticalOffsetForLineNumber(cursor.lineNumber)*heightRatio|0;yCenter<halfCursorHeight?yCenter=halfCursorHeight:yCenter+halfCursorHeight>canvasHeight&&(yCenter=canvasHeight-halfCursorHeight);const y1=yCenter-halfCursorHeight,y2=y1+cursorHeight;y1>prevY2+1?(0!==i&&canvasCtx.fillRect(cursorX,prevY1,cursorW,prevY2-prevY1),prevY1=y1,prevY2=y2):y2>prevY2&&(prevY2=y2)}canvasCtx.fillRect(cursorX,prevY1,cursorW,prevY2-prevY1)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(canvasCtx.beginPath(),canvasCtx.lineWidth=1,canvasCtx.strokeStyle=this._settings.borderColor,canvasCtx.moveTo(0,0),canvasCtx.lineTo(0,canvasHeight),canvasCtx.stroke(),canvasCtx.moveTo(0,0),canvasCtx.lineTo(canvasWidth,0),canvasCtx.stroke())}}var overviewZoneManager=__webpack_require__(2477);class overviewRuler_OverviewRuler extends viewEventHandler_ViewEventHandler{constructor(context,cssClassName){super(),this._context=context;const options=this._context.configuration.options;this._domNode=Object(fastDomNode.b)(document.createElement("canvas")),this._domNode.setClassName(cssClassName),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new overviewZoneManager.b(lineNumber=>this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(options.get(51)),this._zoneManager.setPixelRatio(options.get(115)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const options=this._context.configuration.options;return e.hasChanged(51)&&(this._zoneManager.setLineHeight(options.get(51)),this._render()),e.hasChanged(115)&&(this._zoneManager.setPixelRatio(options.get(115)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(position){this._domNode.setTop(position.top),this._domNode.setRight(position.right);let hasChanged=!1;hasChanged=this._zoneManager.setDOMWidth(position.width)||hasChanged,(hasChanged=this._zoneManager.setDOMHeight(position.height)||hasChanged)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(zones){this._zoneManager.setZones(zones),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const width=this._zoneManager.getCanvasWidth(),height=this._zoneManager.getCanvasHeight(),colorZones=this._zoneManager.resolveColorZones(),id2Color=this._zoneManager.getId2Color(),ctx=this._domNode.domNode.getContext("2d");return ctx.clearRect(0,0,width,height),colorZones.length>0&&this._renderOneLane(ctx,colorZones,id2Color,width),!0}_renderOneLane(ctx,colorZones,id2Color,width){let currentColorId=0,currentFrom=0,currentTo=0;for(const zone of colorZones){const zoneColorId=zone.colorId,zoneFrom=zone.from,zoneTo=zone.to;zoneColorId!==currentColorId?(ctx.fillRect(0,currentFrom,width,currentTo-currentFrom),currentColorId=zoneColorId,ctx.fillStyle=id2Color[currentColorId],currentFrom=zoneFrom,currentTo=zoneTo):currentTo>=zoneFrom?currentTo=Math.max(currentTo,zoneTo):(ctx.fillRect(0,currentFrom,width,currentTo-currentFrom),currentFrom=zoneFrom,currentTo=zoneTo)}ctx.fillRect(0,currentFrom,width,currentTo-currentFrom)}}__webpack_require__(2572);class rulers_Rulers extends viewPart_ViewPart{constructor(context){super(context),this.domNode=Object(fastDomNode.b)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const options=this._context.configuration.options;this._rulers=options.get(83),this._typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const options=this._context.configuration.options;return this._rulers=options.get(83),this._typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(ctx){}_ensureRulersCount(){const currentCount=this._renderedRulers.length,desiredCount=this._rulers.length;if(currentCount===desiredCount)return;if(currentCount<desiredCount){const{tabSize:tabSize}=this._context.model.getTextModelOptions(),rulerWidth=tabSize;let addCount=desiredCount-currentCount;for(;addCount>0;){const node=Object(fastDomNode.b)(document.createElement("div"));node.setClassName("view-ruler"),node.setWidth(rulerWidth),this.domNode.appendChild(node),this._renderedRulers.push(node),addCount--}return}let removeCount=currentCount-desiredCount;for(;removeCount>0;){const node=this._renderedRulers.pop();this.domNode.removeChild(node),removeCount--}}render(ctx){this._ensureRulersCount();for(let i=0,len=this._rulers.length;i<len;i++){const node=this._renderedRulers[i],ruler=this._rulers[i];node.setBoxShadow(ruler.color?`1px 0 0 0 ${ruler.color} inset`:""),node.setHeight(Math.min(ctx.scrollHeight,1e6)),node.setLeft(ruler.column*this._typicalHalfwidthCharacterWidth)}}}Object(common_themeService.g)((theme,collector)=>{const rulerColor=theme.getColor(editorColorRegistry.n);rulerColor&&collector.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${rulerColor} inset; }`)});__webpack_require__(2574);class scrollDecoration_ScrollDecorationViewPart extends viewPart_ViewPart{constructor(context){super(context),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const scrollbar=this._context.configuration.options.get(84);this._useShadows=scrollbar.useShadows,this._domNode=Object(fastDomNode.b)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const newShouldShow=this._useShadows&&this._scrollTop>0;return this._shouldShow!==newShouldShow&&(this._shouldShow=newShouldShow,!0)}getDomNode(){return this._domNode}_updateWidth(){const layoutInfo=this._context.configuration.options.get(117);0===layoutInfo.minimap.renderMinimap||layoutInfo.minimap.minimapWidth>0&&0===layoutInfo.minimap.minimapLeft?this._width=layoutInfo.width:this._width=layoutInfo.width-layoutInfo.minimap.minimapWidth-layoutInfo.verticalScrollbarWidth}onConfigurationChanged(e){const scrollbar=this._context.configuration.options.get(84);return this._useShadows=scrollbar.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(ctx){}render(ctx){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}Object(common_themeService.g)((theme,collector)=>{const shadow=theme.getColor(colorRegistry.ic);shadow&&collector.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${shadow} 0 6px 6px -6px inset; }`)});__webpack_require__(2576);class HorizontalRangeWithStyle{constructor(other){this.left=other.left,this.width=other.width,this.startStyle=null,this.endStyle=null}}class LineVisibleRangesWithStyle{constructor(lineNumber,ranges){this.lineNumber=lineNumber,this.ranges=ranges}}function toStyledRange(item){return new HorizontalRangeWithStyle(item)}function toStyled(item){return new LineVisibleRangesWithStyle(item.lineNumber,item.ranges.map(toStyledRange))}const isIEWithZoomingIssuesNearRoundedBorders=browser.f;class selections_SelectionsOverlay extends dynamicViewOverlay_DynamicViewOverlay{constructor(context){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=context;const options=this._context.configuration.options;this._lineHeight=options.get(51),this._roundedSelection=options.get(82),this._typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const options=this._context.configuration.options;return this._lineHeight=options.get(51),this._roundedSelection=options.get(82),this._typicalHalfwidthCharacterWidth=options.get(36).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(linesVisibleRanges){for(let i=0,len=linesVisibleRanges.length;i<len;i++){if(linesVisibleRanges[i].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(viewport,linesVisibleRanges,previousFrame){const epsilon=this._typicalHalfwidthCharacterWidth/4;let previousFrameTop=null,previousFrameBottom=null;if(previousFrame&&previousFrame.length>0&&linesVisibleRanges.length>0){const topLineNumber=linesVisibleRanges[0].lineNumber;if(topLineNumber===viewport.startLineNumber)for(let i=0;!previousFrameTop&&i<previousFrame.length;i++)previousFrame[i].lineNumber===topLineNumber&&(previousFrameTop=previousFrame[i].ranges[0]);const bottomLineNumber=linesVisibleRanges[linesVisibleRanges.length-1].lineNumber;if(bottomLineNumber===viewport.endLineNumber)for(let i=previousFrame.length-1;!previousFrameBottom&&i>=0;i--)previousFrame[i].lineNumber===bottomLineNumber&&(previousFrameBottom=previousFrame[i].ranges[0]);previousFrameTop&&!previousFrameTop.startStyle&&(previousFrameTop=null),previousFrameBottom&&!previousFrameBottom.startStyle&&(previousFrameBottom=null)}for(let i=0,len=linesVisibleRanges.length;i<len;i++){const curLineRange=linesVisibleRanges[i].ranges[0],curLeft=curLineRange.left,curRight=curLineRange.left+curLineRange.width,startStyle={top:0,bottom:0},endStyle={top:0,bottom:0};if(i>0){const prevLeft=linesVisibleRanges[i-1].ranges[0].left,prevRight=linesVisibleRanges[i-1].ranges[0].left+linesVisibleRanges[i-1].ranges[0].width;abs(curLeft-prevLeft)<epsilon?startStyle.top=2:curLeft>prevLeft&&(startStyle.top=1),abs(curRight-prevRight)<epsilon?endStyle.top=2:prevLeft<curRight&&curRight<prevRight&&(endStyle.top=1)}else previousFrameTop&&(startStyle.top=previousFrameTop.startStyle.top,endStyle.top=previousFrameTop.endStyle.top);if(i+1<len){const nextLeft=linesVisibleRanges[i+1].ranges[0].left,nextRight=linesVisibleRanges[i+1].ranges[0].left+linesVisibleRanges[i+1].ranges[0].width;abs(curLeft-nextLeft)<epsilon?startStyle.bottom=2:nextLeft<curLeft&&curLeft<nextRight&&(startStyle.bottom=1),abs(curRight-nextRight)<epsilon?endStyle.bottom=2:curRight<nextRight&&(endStyle.bottom=1)}else previousFrameBottom&&(startStyle.bottom=previousFrameBottom.startStyle.bottom,endStyle.bottom=previousFrameBottom.endStyle.bottom);curLineRange.startStyle=startStyle,curLineRange.endStyle=endStyle}}_getVisibleRangesWithStyle(selection,ctx,previousFrame){const linesVisibleRanges=(ctx.linesVisibleRangesForRange(selection,!0)||[]).map(toStyled),visibleRangesHaveGaps=this._visibleRangesHaveGaps(linesVisibleRanges);return isIEWithZoomingIssuesNearRoundedBorders||visibleRangesHaveGaps||!this._roundedSelection||this._enrichVisibleRangesWithStyle(ctx.visibleRange,linesVisibleRanges,previousFrame),linesVisibleRanges}_createSelectionPiece(top,height,className,left,width){return'<div class="cslr '+className+'" style="top:'+top.toString()+"px;left:"+left.toString()+"px;width:"+width.toString()+"px;height:"+height+'px;"></div>'}_actualRenderOneSelection(output2,visibleStartLineNumber,hasMultipleSelections,visibleRanges){if(0===visibleRanges.length)return;const visibleRangesHaveStyle=!!visibleRanges[0].ranges[0].startStyle,fullLineHeight=this._lineHeight.toString(),reducedLineHeight=(this._lineHeight-1).toString(),firstLineNumber=visibleRanges[0].lineNumber,lastLineNumber=visibleRanges[visibleRanges.length-1].lineNumber;for(let i=0,len=visibleRanges.length;i<len;i++){const lineVisibleRanges=visibleRanges[i],lineNumber=lineVisibleRanges.lineNumber,lineIndex=lineNumber-visibleStartLineNumber,lineHeight=hasMultipleSelections&&(lineNumber===lastLineNumber||lineNumber===firstLineNumber)?reducedLineHeight:fullLineHeight,top=hasMultipleSelections&&lineNumber===firstLineNumber?1:0;let innerCornerOutput="",restOfSelectionOutput="";for(let j=0,lenJ=lineVisibleRanges.ranges.length;j<lenJ;j++){const visibleRange=lineVisibleRanges.ranges[j];if(visibleRangesHaveStyle){const startStyle=visibleRange.startStyle,endStyle=visibleRange.endStyle;if(1===startStyle.top||1===startStyle.bottom){innerCornerOutput+=this._createSelectionPiece(top,lineHeight,selections_SelectionsOverlay.SELECTION_CLASS_NAME,visibleRange.left-selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH,selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH);let className=selections_SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;1===startStyle.top&&(className+=" "+selections_SelectionsOverlay.SELECTION_TOP_RIGHT),1===startStyle.bottom&&(className+=" "+selections_SelectionsOverlay.SELECTION_BOTTOM_RIGHT),innerCornerOutput+=this._createSelectionPiece(top,lineHeight,className,visibleRange.left-selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH,selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH)}if(1===endStyle.top||1===endStyle.bottom){innerCornerOutput+=this._createSelectionPiece(top,lineHeight,selections_SelectionsOverlay.SELECTION_CLASS_NAME,visibleRange.left+visibleRange.width,selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH);let className=selections_SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME;1===endStyle.top&&(className+=" "+selections_SelectionsOverlay.SELECTION_TOP_LEFT),1===endStyle.bottom&&(className+=" "+selections_SelectionsOverlay.SELECTION_BOTTOM_LEFT),innerCornerOutput+=this._createSelectionPiece(top,lineHeight,className,visibleRange.left+visibleRange.width,selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH)}}let className=selections_SelectionsOverlay.SELECTION_CLASS_NAME;if(visibleRangesHaveStyle){const startStyle=visibleRange.startStyle,endStyle=visibleRange.endStyle;0===startStyle.top&&(className+=" "+selections_SelectionsOverlay.SELECTION_TOP_LEFT),0===startStyle.bottom&&(className+=" "+selections_SelectionsOverlay.SELECTION_BOTTOM_LEFT),0===endStyle.top&&(className+=" "+selections_SelectionsOverlay.SELECTION_TOP_RIGHT),0===endStyle.bottom&&(className+=" "+selections_SelectionsOverlay.SELECTION_BOTTOM_RIGHT)}restOfSelectionOutput+=this._createSelectionPiece(top,lineHeight,className,visibleRange.left,visibleRange.width)}output2[lineIndex][0]+=innerCornerOutput,output2[lineIndex][1]+=restOfSelectionOutput}}prepareRender(ctx){const output=[],visibleStartLineNumber=ctx.visibleRange.startLineNumber,visibleEndLineNumber=ctx.visibleRange.endLineNumber;for(let lineNumber=visibleStartLineNumber;lineNumber<=visibleEndLineNumber;lineNumber++){output[lineNumber-visibleStartLineNumber]=["",""]}const thisFrameVisibleRangesWithStyle=[];for(let i=0,len=this._selections.length;i<len;i++){const selection=this._selections[i];if(selection.isEmpty()){thisFrameVisibleRangesWithStyle[i]=null;continue}const visibleRangesWithStyle=this._getVisibleRangesWithStyle(selection,ctx,this._previousFrameVisibleRangesWithStyle[i]);thisFrameVisibleRangesWithStyle[i]=visibleRangesWithStyle,this._actualRenderOneSelection(output,visibleStartLineNumber,this._selections.length>1,visibleRangesWithStyle)}this._previousFrameVisibleRangesWithStyle=thisFrameVisibleRangesWithStyle,this._renderResult=output.map(([internalCorners,restOfSelection])=>internalCorners+restOfSelection)}render(startLineNumber,lineNumber){if(!this._renderResult)return"";const lineIndex=lineNumber-startLineNumber;return lineIndex<0||lineIndex>=this._renderResult.length?"":this._renderResult[lineIndex]}}function abs(n){return n<0?-n:n}selections_SelectionsOverlay.SELECTION_CLASS_NAME="selected-text",selections_SelectionsOverlay.SELECTION_TOP_LEFT="top-left-radius",selections_SelectionsOverlay.SELECTION_BOTTOM_LEFT="bottom-left-radius",selections_SelectionsOverlay.SELECTION_TOP_RIGHT="top-right-radius",selections_SelectionsOverlay.SELECTION_BOTTOM_RIGHT="bottom-right-radius",selections_SelectionsOverlay.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",selections_SelectionsOverlay.ROUNDED_PIECE_WIDTH=10,Object(common_themeService.g)((theme,collector)=>{const editorSelectionColor=theme.getColor(colorRegistry.O);editorSelectionColor&&collector.addRule(`.monaco-editor .focused .selected-text { background-color: ${editorSelectionColor}; }`);const editorInactiveSelectionColor=theme.getColor(colorRegistry.J);editorInactiveSelectionColor&&collector.addRule(`.monaco-editor .selected-text { background-color: ${editorInactiveSelectionColor}; }`);const editorSelectionForegroundColor=theme.getColor(colorRegistry.P);editorSelectionForegroundColor&&!editorSelectionForegroundColor.isTransparent()&&collector.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${editorSelectionForegroundColor}; }`)});__webpack_require__(2578);class ViewCursorRenderData{constructor(top,left,width,height,textContent,textContentClassName){this.top=top,this.left=left,this.width=width,this.height=height,this.textContent=textContent,this.textContentClassName=textContentClassName}}class viewCursor_ViewCursor{constructor(context){this._context=context;const options=this._context.configuration.options,fontInfo=options.get(36);this._cursorStyle=options.get(19),this._lineHeight=options.get(51),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(options.get(22),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(fastDomNode.b)(document.createElement("div")),this._domNode.setClassName(`cursor ${mouseCursor.a}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),config_configuration.a.applyFontInfo(this._domNode,fontInfo),this._domNode.setDisplay("none"),this._position=new core_position.a(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const options=this._context.configuration.options,fontInfo=options.get(36);return this._cursorStyle=options.get(19),this._lineHeight=options.get(51),this._typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(options.get(22),this._typicalHalfwidthCharacterWidth),config_configuration.a.applyFontInfo(this._domNode,fontInfo),!0}onCursorPositionChanged(position){return this._position=position,!0}_prepareRender(ctx){let textContent="";if(this._cursorStyle===editorOptions.i.Line||this._cursorStyle===editorOptions.i.LineThin){const visibleRange=ctx.visibleRangeForPosition(this._position);if(!visibleRange||visibleRange.outsideRenderedLine)return null;let width;if(this._cursorStyle===editorOptions.i.Line){if((width=dom.t(this._lineCursorWidth>0?this._lineCursorWidth:2))>2){const lineContent=this._context.model.getLineContent(this._position.lineNumber),nextCharLength=strings.L(lineContent,this._position.column-1);textContent=lineContent.substr(this._position.column-1,nextCharLength)}}else width=dom.t(1);let left=visibleRange.left;width>=2&&left>=1&&(left-=1);const top=ctx.getVerticalOffsetForLineNumber(this._position.lineNumber)-ctx.bigNumbersDelta;return new ViewCursorRenderData(top,left,width,this._lineHeight,textContent,"")}const lineContent=this._context.model.getLineContent(this._position.lineNumber),nextCharLength=strings.L(lineContent,this._position.column-1),visibleRangeForCharacter=ctx.linesVisibleRangesForRange(new core_range.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+nextCharLength),!1);if(!visibleRangeForCharacter||0===visibleRangeForCharacter.length)return null;const firstVisibleRangeForCharacter=visibleRangeForCharacter[0];if(firstVisibleRangeForCharacter.outsideRenderedLine||0===firstVisibleRangeForCharacter.ranges.length)return null;const range=firstVisibleRangeForCharacter.ranges[0],width=range.width<1?this._typicalHalfwidthCharacterWidth:range.width;let textContentClassName="";if(this._cursorStyle===editorOptions.i.Block){const lineData=this._context.model.getViewLineData(this._position.lineNumber);textContent=lineContent.substr(this._position.column-1,nextCharLength);const tokenIndex=lineData.tokens.findTokenIndexAtOffset(this._position.column-1);textContentClassName=lineData.tokens.getClassName(tokenIndex)}let top=ctx.getVerticalOffsetForLineNumber(this._position.lineNumber)-ctx.bigNumbersDelta,height=this._lineHeight;return this._cursorStyle!==editorOptions.i.Underline&&this._cursorStyle!==editorOptions.i.UnderlineThin||(top+=this._lineHeight-2,height=2),new ViewCursorRenderData(top,range.left,width,height,textContent,textContentClassName)}prepareRender(ctx){this._renderData=this._prepareRender(ctx)}render(ctx){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${mouseCursor.a} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class viewCursors_ViewCursors extends viewPart_ViewPart{constructor(context){super(context);const options=this._context.configuration.options;this._readOnly=options.get(72),this._cursorBlinking=options.get(17),this._cursorStyle=options.get(19),this._cursorSmoothCaretAnimation=options.get(18),this._selectionIsEmpty=!0,this._isVisible=!1,this._primaryCursor=new viewCursor_ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Object(fastDomNode.b)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new common_async.e,this._cursorFlatBlinkInterval=new common_async.c,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const options=this._context.configuration.options;this._readOnly=options.get(72),this._cursorBlinking=options.get(17),this._cursorStyle=options.get(19),this._cursorSmoothCaretAnimation=options.get(18),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(position,secondaryPositions){if(this._primaryCursor.onCursorPositionChanged(position),this._updateBlinking(),this._secondaryCursors.length<secondaryPositions.length){const addCnt=secondaryPositions.length-this._secondaryCursors.length;for(let i=0;i<addCnt;i++){const newCursor=new viewCursor_ViewCursor(this._context);this._domNode.domNode.insertBefore(newCursor.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(newCursor)}}else if(this._secondaryCursors.length>secondaryPositions.length){const removeCnt=this._secondaryCursors.length-secondaryPositions.length;for(let i=0;i<removeCnt;i++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<secondaryPositions.length;i++)this._secondaryCursors[i].onCursorPositionChanged(secondaryPositions[i])}onCursorStateChanged(e){const positions=[];for(let i=0,len=e.selections.length;i<len;i++)positions[i]=e.selections[i].getPosition();this._onCursorPositionChanged(positions[0],positions.slice(1));const selectionIsEmpty=e.selections[0].isEmpty();return this._selectionIsEmpty!==selectionIsEmpty&&(this._selectionIsEmpty=selectionIsEmpty,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const shouldRender=position=>{for(let i=0,len=e.ranges.length;i<len;i++)if(e.ranges[i].fromLineNumber<=position.lineNumber&&position.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(shouldRender(this._primaryCursor.getPosition()))return!0;for(const secondaryCursor of this._secondaryCursors)if(shouldRender(secondaryCursor.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const blinkingStyle=this._getCursorBlinking(),isHidden=0===blinkingStyle,isSolid=5===blinkingStyle;isHidden?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),isHidden||isSolid||(1===blinkingStyle?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},viewCursors_ViewCursors.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},viewCursors_ViewCursors.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let result="cursors-layer";switch(this._selectionIsEmpty||(result+=" has-selection"),this._cursorStyle){case editorOptions.i.Line:result+=" cursor-line-style";break;case editorOptions.i.Block:result+=" cursor-block-style";break;case editorOptions.i.Underline:result+=" cursor-underline-style";break;case editorOptions.i.LineThin:result+=" cursor-line-thin-style";break;case editorOptions.i.BlockOutline:result+=" cursor-block-outline-style";break;case editorOptions.i.UnderlineThin:result+=" cursor-underline-thin-style";break;default:result+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:result+=" cursor-blink";break;case 2:result+=" cursor-smooth";break;case 3:result+=" cursor-phase";break;case 4:result+=" cursor-expand";break;case 5:result+=" cursor-solid";break;default:result+=" cursor-solid"}else result+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(result+=" cursor-smooth-caret-animation"),result}_show(){this._primaryCursor.show();for(let i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(ctx){this._primaryCursor.prepareRender(ctx);for(let i=0,len=this._secondaryCursors.length;i<len;i++)this._secondaryCursors[i].prepareRender(ctx)}render(ctx){let renderData=[],renderDataLen=0;const primaryRenderData=this._primaryCursor.render(ctx);primaryRenderData&&(renderData[renderDataLen++]=primaryRenderData);for(let i=0,len=this._secondaryCursors.length;i<len;i++){const secondaryRenderData=this._secondaryCursors[i].render(ctx);secondaryRenderData&&(renderData[renderDataLen++]=secondaryRenderData)}this._renderData=renderData}getLastRenderData(){return this._renderData}}viewCursors_ViewCursors.BLINK_INTERVAL=500,Object(common_themeService.g)((theme,collector)=>{const caret=theme.getColor(editorColorRegistry.g);if(caret){let caretBackground=theme.getColor(editorColorRegistry.f);caretBackground||(caretBackground=caret.opposite()),collector.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${caret}; border-color: ${caret}; color: ${caretBackground}; }`),"hc"===theme.type&&collector.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${caretBackground}; border-right: 1px solid ${caretBackground}; }`)}});const invalidFunc=()=>{throw new Error("Invalid change accessor")};class viewZones_ViewZones extends viewPart_ViewPart{constructor(context){super(context);const options=this._context.configuration.options,layoutInfo=options.get(117);this._lineHeight=options.get(51),this._contentWidth=layoutInfo.contentWidth,this._contentLeft=layoutInfo.contentLeft,this.domNode=Object(fastDomNode.b)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Object(fastDomNode.b)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const whitespaces=this._context.viewLayout.getWhitespaces(),oldWhitespaces=new Map;for(const whitespace of whitespaces)oldWhitespaces.set(whitespace.id,whitespace);let hadAChange=!1;return this._context.model.changeWhitespace(whitespaceAccessor=>{const keys=Object.keys(this._zones);for(let i=0,len=keys.length;i<len;i++){const id=keys[i],zone=this._zones[id],props=this._computeWhitespaceProps(zone.delegate),oldWhitespace=oldWhitespaces.get(id);!oldWhitespace||oldWhitespace.afterLineNumber===props.afterViewLineNumber&&oldWhitespace.height===props.heightInPx||(whitespaceAccessor.changeOneWhitespace(id,props.afterViewLineNumber,props.heightInPx),this._safeCallOnComputedHeight(zone.delegate,props.heightInPx),hadAChange=!0)}}),hadAChange}onConfigurationChanged(e){const options=this._context.configuration.options,layoutInfo=options.get(117);return this._lineHeight=options.get(51),this._contentWidth=layoutInfo.contentWidth,this._contentLeft=layoutInfo.contentLeft,e.hasChanged(51)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(zone){return void 0!==zone.afterColumn?zone.afterColumn:1e4}_computeWhitespaceProps(zone){if(0===zone.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(zone),minWidthInPx:this._minWidthInPixels(zone)};let zoneAfterModelPosition,zoneBeforeModelPosition;if(void 0!==zone.afterColumn)zoneAfterModelPosition=this._context.model.validateModelPosition({lineNumber:zone.afterLineNumber,column:zone.afterColumn});else{const validAfterLineNumber=this._context.model.validateModelPosition({lineNumber:zone.afterLineNumber,column:1}).lineNumber;zoneAfterModelPosition=new core_position.a(validAfterLineNumber,this._context.model.getModelLineMaxColumn(validAfterLineNumber))}zoneBeforeModelPosition=zoneAfterModelPosition.column===this._context.model.getModelLineMaxColumn(zoneAfterModelPosition.lineNumber)?this._context.model.validateModelPosition({lineNumber:zoneAfterModelPosition.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:zoneAfterModelPosition.lineNumber,column:zoneAfterModelPosition.column+1});const viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(zoneAfterModelPosition),isVisible=this._context.model.coordinatesConverter.modelPositionIsVisible(zoneBeforeModelPosition);return{afterViewLineNumber:viewPosition.lineNumber,heightInPx:isVisible?this._heightInPixels(zone):0,minWidthInPx:this._minWidthInPixels(zone)}}changeViewZones(callback){let zonesHaveChanged=!1;return this._context.model.changeWhitespace(whitespaceAccessor=>{const changeAccessor={addZone:zone=>(zonesHaveChanged=!0,this._addZone(whitespaceAccessor,zone)),removeZone:id=>{id&&(zonesHaveChanged=this._removeZone(whitespaceAccessor,id)||zonesHaveChanged)},layoutZone:id=>{id&&(zonesHaveChanged=this._layoutZone(whitespaceAccessor,id)||zonesHaveChanged)}};!function safeInvoke1Arg(func,arg1){try{return func(arg1)}catch(e){Object(errors.e)(e)}}(callback,changeAccessor),changeAccessor.addZone=invalidFunc,changeAccessor.removeZone=invalidFunc,changeAccessor.layoutZone=invalidFunc}),zonesHaveChanged}_addZone(whitespaceAccessor,zone){const props=this._computeWhitespaceProps(zone),myZone={whitespaceId:whitespaceAccessor.insertWhitespace(props.afterViewLineNumber,this._getZoneOrdinal(zone),props.heightInPx,props.minWidthInPx),delegate:zone,isVisible:!1,domNode:Object(fastDomNode.b)(zone.domNode),marginDomNode:zone.marginDomNode?Object(fastDomNode.b)(zone.marginDomNode):null};return this._safeCallOnComputedHeight(myZone.delegate,props.heightInPx),myZone.domNode.setPosition("absolute"),myZone.domNode.domNode.style.width="100%",myZone.domNode.setDisplay("none"),myZone.domNode.setAttribute("monaco-view-zone",myZone.whitespaceId),this.domNode.appendChild(myZone.domNode),myZone.marginDomNode&&(myZone.marginDomNode.setPosition("absolute"),myZone.marginDomNode.domNode.style.width="100%",myZone.marginDomNode.setDisplay("none"),myZone.marginDomNode.setAttribute("monaco-view-zone",myZone.whitespaceId),this.marginDomNode.appendChild(myZone.marginDomNode)),this._zones[myZone.whitespaceId]=myZone,this.setShouldRender(),myZone.whitespaceId}_removeZone(whitespaceAccessor,id){if(this._zones.hasOwnProperty(id)){const zone=this._zones[id];return delete this._zones[id],whitespaceAccessor.removeWhitespace(zone.whitespaceId),zone.domNode.removeAttribute("monaco-visible-view-zone"),zone.domNode.removeAttribute("monaco-view-zone"),zone.domNode.domNode.parentNode.removeChild(zone.domNode.domNode),zone.marginDomNode&&(zone.marginDomNode.removeAttribute("monaco-visible-view-zone"),zone.marginDomNode.removeAttribute("monaco-view-zone"),zone.marginDomNode.domNode.parentNode.removeChild(zone.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(whitespaceAccessor,id){if(this._zones.hasOwnProperty(id)){const zone=this._zones[id],props=this._computeWhitespaceProps(zone.delegate);return whitespaceAccessor.changeOneWhitespace(zone.whitespaceId,props.afterViewLineNumber,props.heightInPx),this._safeCallOnComputedHeight(zone.delegate,props.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(id){if(this._zones.hasOwnProperty(id)){const zone=this._zones[id];return Boolean(zone.delegate.suppressMouseDown)}return!1}_heightInPixels(zone){return"number"==typeof zone.heightInPx?zone.heightInPx:"number"==typeof zone.heightInLines?this._lineHeight*zone.heightInLines:this._lineHeight}_minWidthInPixels(zone){return"number"==typeof zone.minWidthInPx?zone.minWidthInPx:0}_safeCallOnComputedHeight(zone,height){if("function"==typeof zone.onComputedHeight)try{zone.onComputedHeight(height)}catch(e){Object(errors.e)(e)}}_safeCallOnDomNodeTop(zone,top){if("function"==typeof zone.onDomNodeTop)try{zone.onDomNodeTop(top)}catch(e){Object(errors.e)(e)}}prepareRender(ctx){}render(ctx){const visibleWhitespaces=ctx.viewportData.whitespaceViewportData,visibleZones={};let hasVisibleZone=!1;for(let i=0,len=visibleWhitespaces.length;i<len;i++)visibleZones[visibleWhitespaces[i].id]=visibleWhitespaces[i],hasVisibleZone=!0;const keys=Object.keys(this._zones);for(let i=0,len=keys.length;i<len;i++){const id=keys[i],zone=this._zones[id];let newTop=0,newHeight=0,newDisplay="none";visibleZones.hasOwnProperty(id)?(newTop=visibleZones[id].verticalOffset-ctx.bigNumbersDelta,newHeight=visibleZones[id].height,newDisplay="block",zone.isVisible||(zone.domNode.setAttribute("monaco-visible-view-zone","true"),zone.isVisible=!0),this._safeCallOnDomNodeTop(zone.delegate,ctx.getScrolledTopFromAbsoluteTop(visibleZones[id].verticalOffset))):(zone.isVisible&&(zone.domNode.removeAttribute("monaco-visible-view-zone"),zone.isVisible=!1),this._safeCallOnDomNodeTop(zone.delegate,ctx.getScrolledTopFromAbsoluteTop(-1e6))),zone.domNode.setTop(newTop),zone.domNode.setHeight(newHeight),zone.domNode.setDisplay(newDisplay),zone.marginDomNode&&(zone.marginDomNode.setTop(newTop),zone.marginDomNode.setHeight(newHeight),zone.marginDomNode.setDisplay(newDisplay))}hasVisibleZone&&(this.domNode.setWidth(Math.max(ctx.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class EditorTheme{constructor(theme){this._theme=theme}get type(){return this._theme.type}update(theme){this._theme=theme}getColor(color){return this._theme.getColor(color)}}class ViewContext{constructor(configuration,theme,model){this.configuration=configuration,this.theme=new EditorTheme(theme),this.model=model,this.viewLayout=model.viewLayout}addEventHandler(eventHandler){this.model.addViewEventHandler(eventHandler)}removeEventHandler(eventHandler){this.model.removeViewEventHandler(eventHandler)}}class viewLinesViewportData_ViewportData{constructor(selections,partialData,whitespaceViewportData,model){this.selections=selections,this.startLineNumber=0|partialData.startLineNumber,this.endLineNumber=0|partialData.endLineNumber,this.relativeVerticalOffset=partialData.relativeVerticalOffset,this.bigNumbersDelta=0|partialData.bigNumbersDelta,this.whitespaceViewportData=whitespaceViewportData,this._model=model,this.visibleRange=new core_range.a(partialData.startLineNumber,this._model.getLineMinColumn(partialData.startLineNumber),partialData.endLineNumber,this._model.getLineMaxColumn(partialData.endLineNumber))}getViewLineRenderingData(lineNumber){return this._model.getViewLineRenderingData(this.visibleRange,lineNumber)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class viewImpl_View extends viewEventHandler_ViewEventHandler{constructor(commandDelegate,configuration,themeService,model,userInputEvents,overflowWidgetsDomNode){super(),this._selections=[new core_selection.a(1,1,1,1)],this._renderAnimationFrame=null;const viewController=new viewController_ViewController(configuration,model,userInputEvents,commandDelegate);this._context=new ViewContext(configuration,themeService.getColorTheme(),model),this._context.addEventHandler(this),this._register(themeService.onDidColorThemeChange(theme=>{this._context.theme.update(theme),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new textAreaHandler_TextAreaHandler(this._context,viewController,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Object(fastDomNode.b)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Object(fastDomNode.b)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Object(fastDomNode.b)(document.createElement("div")),viewPart_PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new editorScrollbar_EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new viewLines_ViewLines(this._context,this._linesContent),this._viewZones=new viewZones_ViewZones(this._context),this._viewParts.push(this._viewZones);const decorationsOverviewRuler=new decorationsOverviewRuler_DecorationsOverviewRuler(this._context);this._viewParts.push(decorationsOverviewRuler);const scrollDecoration=new scrollDecoration_ScrollDecorationViewPart(this._context);this._viewParts.push(scrollDecoration);const contentViewOverlays=new ContentViewOverlays(this._context);this._viewParts.push(contentViewOverlays),contentViewOverlays.addDynamicOverlay(new CurrentLineHighlightOverlay(this._context)),contentViewOverlays.addDynamicOverlay(new selections_SelectionsOverlay(this._context)),contentViewOverlays.addDynamicOverlay(new indentGuides_IndentGuidesOverlay(this._context)),contentViewOverlays.addDynamicOverlay(new decorations_DecorationsOverlay(this._context));const marginViewOverlays=new viewOverlays_MarginViewOverlays(this._context);this._viewParts.push(marginViewOverlays),marginViewOverlays.addDynamicOverlay(new CurrentLineMarginHighlightOverlay(this._context)),marginViewOverlays.addDynamicOverlay(new GlyphMarginOverlay(this._context)),marginViewOverlays.addDynamicOverlay(new marginDecorations_MarginViewLineDecorationsOverlay(this._context)),marginViewOverlays.addDynamicOverlay(new linesDecorations_LinesDecorationsOverlay(this._context)),marginViewOverlays.addDynamicOverlay(new lineNumbers_LineNumbersOverlay(this._context));const margin=new margin_Margin(this._context);margin.getDomNode().appendChild(this._viewZones.marginDomNode),margin.getDomNode().appendChild(marginViewOverlays.getDomNode()),this._viewParts.push(margin),this._contentWidgets=new contentWidgets_ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new viewCursors_ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new overlayWidgets_ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const rulers=new rulers_Rulers(this._context);this._viewParts.push(rulers);const minimap=new minimap_Minimap(this._context);if(this._viewParts.push(minimap),decorationsOverviewRuler){const overviewRulerData=this._scrollbar.getOverviewRulerLayoutInfo();overviewRulerData.parent.insertBefore(decorationsOverviewRuler.getDomNode(),overviewRulerData.insertBefore)}this._linesContent.appendChild(contentViewOverlays.getDomNode()),this._linesContent.appendChild(rulers.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(margin.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(scrollDecoration.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(minimap.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),overflowWidgetsDomNode?overflowWidgetsDomNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new pointerHandler_PointerHandler(this._context,viewController,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},getLastRenderData:()=>{const lastViewCursorsRenderData=this._viewCursors.getLastRenderData()||[],lastTextareaPosition=this._textAreaHandler.getLastRenderData();return new PointerHandlerLastRenderData(lastViewCursorsRenderData,lastTextareaPosition)},shouldSuppressMouseDownOnViewZone:viewZoneId=>this._viewZones.shouldSuppressMouseDownOnViewZone(viewZoneId),shouldSuppressMouseDownOnWidget:widgetId=>this._contentWidgets.shouldSuppressMouseDownOnWidget(widgetId),getPositionFromDOMInfo:(spanNode,offset)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(spanNode,offset)),visibleRangeForPosition:(lineNumber,column)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new core_position.a(lineNumber,column))),getLineWidth:lineNumber=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(lineNumber))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(lineNumber,column)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new core_position.a(lineNumber,column)))}}_applyLayout(){const layoutInfo=this._context.configuration.options.get(117);this.domNode.setWidth(layoutInfo.width),this.domNode.setHeight(layoutInfo.height),this._overflowGuardContainer.setWidth(layoutInfo.width),this._overflowGuardContainer.setHeight(layoutInfo.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const focused=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(114)+" "+Object(common_themeService.f)(this._context.theme.type)+focused}handleEvents(events){super.handleEvents(events),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let i=0,len=this._viewParts.length;i<len;i++)this._viewParts[i].dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=dom.W(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function safeInvokeNoArg(func){try{return func()}catch(e){Object(errors.e)(e)}}(()=>this._actualRender())}_getViewPartsToRender(){let result=[],resultLen=0;for(let i=0,len=this._viewParts.length;i<len;i++){const viewPart=this._viewParts[i];viewPart.shouldRender()&&(result[resultLen++]=viewPart)}return result}_actualRender(){if(!dom.N(this.domNode.domNode))return;let viewPartsToRender=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===viewPartsToRender.length)return;const partialViewportData=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(partialViewportData.startLineNumber,partialViewportData.endLineNumber,partialViewportData.centeredLineNumber);const viewportData=new viewLinesViewportData_ViewportData(this._selections,partialViewportData,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(viewportData),this._viewLines.shouldRender()&&(this._viewLines.renderText(viewportData),this._viewLines.onDidRender(),viewPartsToRender=this._getViewPartsToRender());const renderingContext=new RenderingContext(this._context.viewLayout,viewportData,this._viewLines);for(let i=0,len=viewPartsToRender.length;i<len;i++){viewPartsToRender[i].prepareRender(renderingContext)}for(let i=0,len=viewPartsToRender.length;i<len;i++){const viewPart=viewPartsToRender[i];viewPart.render(renderingContext),viewPart.onDidRender()}}delegateVerticalScrollbarMouseDown(browserEvent){this._scrollbar.delegateVerticalScrollbarMouseDown(browserEvent)}restoreState(scrollPosition){this._context.model.setScrollPosition({scrollTop:scrollPosition.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:scrollPosition.scrollLeft},1)}getOffsetForColumn(modelLineNumber,modelColumn){const modelPosition=this._context.model.validateModelPosition({lineNumber:modelLineNumber,column:modelColumn}),viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);this._flushAccumulatedAndRenderNow();const visibleRange=this._viewLines.visibleRangeForPosition(new core_position.a(viewPosition.lineNumber,viewPosition.column));return visibleRange?visibleRange.left:-1}getTargetAtClientPoint(clientX,clientY){const mouseTarget=this._pointerHandler.getTargetAtClientPoint(clientX,clientY);return mouseTarget?ViewUserInputEvents.convertViewToModelMouseTarget(mouseTarget,this._context.model.coordinatesConverter):null}createOverviewRuler(cssClassName){return new overviewRuler_OverviewRuler(this._context,cssClassName)}change(callback){this._viewZones.changeViewZones(callback),this._scheduleRender()}render(now,everything){if(everything){this._viewLines.forceShouldRender();for(let i=0,len=this._viewParts.length;i<len;i++){this._viewParts[i].forceShouldRender()}}now?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(options){this._textAreaHandler.setAriaOptions(options)}addContentWidget(widgetData){this._contentWidgets.addWidget(widgetData.widget),this.layoutContentWidget(widgetData),this._scheduleRender()}layoutContentWidget(widgetData){let newRange=widgetData.position&&widgetData.position.range||null;if(null===newRange){const newPosition=widgetData.position?widgetData.position.position:null;null!==newPosition&&(newRange=new core_range.a(newPosition.lineNumber,newPosition.column,newPosition.lineNumber,newPosition.column))}const newPreference=widgetData.position?widgetData.position.preference:null;this._contentWidgets.setWidgetPosition(widgetData.widget,newRange,newPreference),this._scheduleRender()}removeContentWidget(widgetData){this._contentWidgets.removeWidget(widgetData.widget),this._scheduleRender()}addOverlayWidget(widgetData){this._overlayWidgets.addWidget(widgetData.widget),this.layoutOverlayWidget(widgetData),this._scheduleRender()}layoutOverlayWidget(widgetData){const newPreference=widgetData.position?widgetData.position.preference:null;this._overlayWidgets.setWidgetPosition(widgetData.widget,newPreference)&&this._scheduleRender()}removeOverlayWidget(widgetData){this._overlayWidgets.removeWidget(widgetData.widget),this._scheduleRender()}}class oneCursor_OneCursor{constructor(context){this._selTrackedRange=null,this._trackSelection=!0,this._setState(context,new cursorCommon.f(new core_range.a(1,1,1,1),0,new core_position.a(1,1),0),new cursorCommon.f(new core_range.a(1,1,1,1),0,new core_position.a(1,1),0))}dispose(context){this._removeTrackedRange(context)}startTrackingSelection(context){this._trackSelection=!0,this._updateTrackedRange(context)}stopTrackingSelection(context){this._trackSelection=!1,this._removeTrackedRange(context)}_updateTrackedRange(context){this._trackSelection&&(this._selTrackedRange=context.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(context){this._selTrackedRange=context.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new cursorCommon.d(this.modelState,this.viewState)}readSelectionFromMarkers(context){const range=context.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new core_selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn):new core_selection.a(range.endLineNumber,range.endColumn,range.startLineNumber,range.startColumn)}ensureValidState(context){this._setState(context,this.modelState,this.viewState)}setState(context,modelState,viewState){this._setState(context,modelState,viewState)}_setState(context,modelState,viewState){if(modelState){const selectionStart=context.model.validateRange(modelState.selectionStart),selectionStartLeftoverVisibleColumns=modelState.selectionStart.equalsRange(selectionStart)?modelState.selectionStartLeftoverVisibleColumns:0,position=context.model.validatePosition(modelState.position),leftoverVisibleColumns=modelState.position.equals(position)?modelState.leftoverVisibleColumns:0;modelState=new cursorCommon.f(selectionStart,selectionStartLeftoverVisibleColumns,position,leftoverVisibleColumns)}else{if(!viewState)return;const selectionStart=context.model.validateRange(context.coordinatesConverter.convertViewRangeToModelRange(viewState.selectionStart)),position=context.model.validatePosition(context.coordinatesConverter.convertViewPositionToModelPosition(viewState.position));modelState=new cursorCommon.f(selectionStart,viewState.selectionStartLeftoverVisibleColumns,position,viewState.leftoverVisibleColumns)}if(viewState){const viewSelectionStart=context.coordinatesConverter.validateViewRange(viewState.selectionStart,modelState.selectionStart),viewPosition=context.coordinatesConverter.validateViewPosition(viewState.position,modelState.position);viewState=new cursorCommon.f(viewSelectionStart,modelState.selectionStartLeftoverVisibleColumns,viewPosition,modelState.leftoverVisibleColumns)}else{const viewSelectionStart1=context.coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelState.selectionStart.startLineNumber,modelState.selectionStart.startColumn)),viewSelectionStart2=context.coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelState.selectionStart.endLineNumber,modelState.selectionStart.endColumn)),viewSelectionStart=new core_range.a(viewSelectionStart1.lineNumber,viewSelectionStart1.column,viewSelectionStart2.lineNumber,viewSelectionStart2.column),viewPosition=context.coordinatesConverter.convertModelPositionToViewPosition(modelState.position);viewState=new cursorCommon.f(viewSelectionStart,modelState.selectionStartLeftoverVisibleColumns,viewPosition,modelState.leftoverVisibleColumns)}this.modelState=modelState,this.viewState=viewState,this._updateTrackedRange(context)}}class cursorCollection_CursorCollection{constructor(context){this.context=context,this.primaryCursor=new oneCursor_OneCursor(context),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let i=0,len=this.secondaryCursors.length;i<len;i++)this.secondaryCursors[i].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let i=0,len=this.secondaryCursors.length;i<len;i++)this.secondaryCursors[i].stopTrackingSelection(this.context)}updateContext(context){this.context=context}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let i=0,len=this.secondaryCursors.length;i<len;i++)this.secondaryCursors[i].ensureValidState(this.context)}readSelectionFromMarkers(){let result=[];result[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].readSelectionFromMarkers(this.context);return result}getAll(){let result=[];result[0]=this.primaryCursor.asCursorState();for(let i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].asCursorState();return result}getViewPositions(){let result=[];result[0]=this.primaryCursor.viewState.position;for(let i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].viewState.position;return result}getTopMostViewPosition(){let result=this.primaryCursor.viewState.position;for(let i=0,len=this.secondaryCursors.length;i<len;i++){const viewPosition=this.secondaryCursors[i].viewState.position;viewPosition.isBefore(result)&&(result=viewPosition)}return result}getBottomMostViewPosition(){let result=this.primaryCursor.viewState.position;for(let i=0,len=this.secondaryCursors.length;i<len;i++){const viewPosition=this.secondaryCursors[i].viewState.position;result.isBeforeOrEqual(viewPosition)&&(result=viewPosition)}return result}getSelections(){let result=[];result[0]=this.primaryCursor.modelState.selection;for(let i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].modelState.selection;return result}getViewSelections(){let result=[];result[0]=this.primaryCursor.viewState.selection;for(let i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i].viewState.selection;return result}setSelections(selections){this.setStates(cursorCommon.d.fromModelSelections(selections))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(states){null!==states&&(this.primaryCursor.setState(this.context,states[0].modelState,states[0].viewState),this._setSecondaryStates(states.slice(1)))}_setSecondaryStates(secondaryStates){const secondaryCursorsLength=this.secondaryCursors.length,secondaryStatesLength=secondaryStates.length;if(secondaryCursorsLength<secondaryStatesLength){let createCnt=secondaryStatesLength-secondaryCursorsLength;for(let i=0;i<createCnt;i++)this._addSecondaryCursor()}else if(secondaryCursorsLength>secondaryStatesLength){let removeCnt=secondaryCursorsLength-secondaryStatesLength;for(let i=0;i<removeCnt;i++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let i=0;i<secondaryStatesLength;i++)this.secondaryCursors[i].setState(this.context,secondaryStates[i].modelState,secondaryStates[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new oneCursor_OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(removeIndex){this.lastAddedCursorIndex>=removeIndex+1&&this.lastAddedCursorIndex--,this.secondaryCursors[removeIndex].dispose(this.context),this.secondaryCursors.splice(removeIndex,1)}_getAll(){let result=[];result[0]=this.primaryCursor;for(let i=0,len=this.secondaryCursors.length;i<len;i++)result[i+1]=this.secondaryCursors[i];return result}normalize(){if(0===this.secondaryCursors.length)return;let cursors=this._getAll(),sortedCursors=[];for(let i=0,len=cursors.length;i<len;i++)sortedCursors.push({index:i,selection:cursors[i].modelState.selection});sortedCursors.sort((a,b)=>a.selection.startLineNumber===b.selection.startLineNumber?a.selection.startColumn-b.selection.startColumn:a.selection.startLineNumber-b.selection.startLineNumber);for(let sortedCursorIndex=0;sortedCursorIndex<sortedCursors.length-1;sortedCursorIndex++){const current=sortedCursors[sortedCursorIndex],next=sortedCursors[sortedCursorIndex+1],currentSelection=current.selection,nextSelection=next.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let shouldMergeCursors;if(shouldMergeCursors=nextSelection.isEmpty()||currentSelection.isEmpty()?nextSelection.getStartPosition().isBeforeOrEqual(currentSelection.getEndPosition()):nextSelection.getStartPosition().isBefore(currentSelection.getEndPosition())){const winnerSortedCursorIndex=current.index<next.index?sortedCursorIndex:sortedCursorIndex+1,looserSortedCursorIndex=current.index<next.index?sortedCursorIndex+1:sortedCursorIndex,looserIndex=sortedCursors[looserSortedCursorIndex].index,winnerIndex=sortedCursors[winnerSortedCursorIndex].index,looserSelection=sortedCursors[looserSortedCursorIndex].selection,winnerSelection=sortedCursors[winnerSortedCursorIndex].selection;if(!looserSelection.equalsSelection(winnerSelection)){const resultingRange=looserSelection.plusRange(winnerSelection),looserSelectionIsLTR=looserSelection.selectionStartLineNumber===looserSelection.startLineNumber&&looserSelection.selectionStartColumn===looserSelection.startColumn,winnerSelectionIsLTR=winnerSelection.selectionStartLineNumber===winnerSelection.startLineNumber&&winnerSelection.selectionStartColumn===winnerSelection.startColumn;let resultingSelectionIsLTR,resultingSelection;looserIndex===this.lastAddedCursorIndex?(resultingSelectionIsLTR=looserSelectionIsLTR,this.lastAddedCursorIndex=winnerIndex):resultingSelectionIsLTR=winnerSelectionIsLTR,resultingSelection=resultingSelectionIsLTR?new core_selection.a(resultingRange.startLineNumber,resultingRange.startColumn,resultingRange.endLineNumber,resultingRange.endColumn):new core_selection.a(resultingRange.endLineNumber,resultingRange.endColumn,resultingRange.startLineNumber,resultingRange.startColumn),sortedCursors[winnerSortedCursorIndex].selection=resultingSelection;const resultingState=cursorCommon.d.fromModelSelection(resultingSelection);cursors[winnerIndex].setState(this.context,resultingState.modelState,resultingState.viewState)}for(const sortedCursor of sortedCursors)sortedCursor.index>looserIndex&&sortedCursor.index--;cursors.splice(looserIndex,1),sortedCursors.splice(looserSortedCursorIndex,1),this._removeSecondaryCursor(looserIndex-1),sortedCursorIndex--}}}}var cursorDeleteOperations=__webpack_require__(2473),cursorTypeOperations=__webpack_require__(2456);class ViewConfigurationChangedEvent{constructor(source){this.type=0,this._source=source}hasChanged(id){return this._source.hasChanged(id)}}class ViewCursorStateChangedEvent{constructor(selections,modelSelections){this.type=1,this.selections=selections,this.modelSelections=modelSelections}}class ViewDecorationsChangedEvent{constructor(source){this.type=2,source?(this.affectsMinimap=source.affectsMinimap,this.affectsOverviewRuler=source.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ViewFlushedEvent{constructor(){this.type=3}}class ViewFocusChangedEvent{constructor(isFocused){this.type=4,this.isFocused=isFocused}}class ViewLanguageConfigurationEvent{constructor(){this.type=5}}class ViewLineMappingChangedEvent{constructor(){this.type=6}}class ViewLinesChangedEvent{constructor(fromLineNumber,toLineNumber){this.type=7,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}}class ViewLinesDeletedEvent{constructor(fromLineNumber,toLineNumber){this.type=8,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}}class ViewLinesInsertedEvent{constructor(fromLineNumber,toLineNumber){this.type=9,this.fromLineNumber=fromLineNumber,this.toLineNumber=toLineNumber}}class ViewRevealRangeRequestEvent{constructor(source,range,selections,verticalType,revealHorizontal,scrollType){this.type=10,this.source=source,this.range=range,this.selections=selections,this.verticalType=verticalType,this.revealHorizontal=revealHorizontal,this.scrollType=scrollType}}class ViewScrollChangedEvent{constructor(source){this.type=11,this.scrollWidth=source.scrollWidth,this.scrollLeft=source.scrollLeft,this.scrollHeight=source.scrollHeight,this.scrollTop=source.scrollTop,this.scrollWidthChanged=source.scrollWidthChanged,this.scrollLeftChanged=source.scrollLeftChanged,this.scrollHeightChanged=source.scrollHeightChanged,this.scrollTopChanged=source.scrollTopChanged}}class ViewThemeChangedEvent{constructor(){this.type=12}}class ViewTokensChangedEvent{constructor(ranges){this.type=13,this.ranges=ranges}}class ViewTokensColorsChangedEvent{constructor(){this.type=14}}class ViewZonesChangedEvent{constructor(){this.type=15}}class viewModelEventDispatcher_ViewModelEventDispatcher extends lifecycle.a{constructor(){super(),this._onEvent=this._register(new common_event.a),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let i=0,len=this._outgoingEvents.length;i<len;i++)if(this._outgoingEvents[i].kind===e.kind)return void(this._outgoingEvents[i]=this._outgoingEvents[i].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const event=this._outgoingEvents.shift();event.isNoOp()||this._onEvent.fire(event)}}addViewEventHandler(eventHandler){for(let i=0,len=this._eventHandlers.length;i<len;i++)this._eventHandlers[i]===eventHandler&&console.warn("Detected duplicate listener in ViewEventDispatcher",eventHandler);this._eventHandlers.push(eventHandler)}removeViewEventHandler(eventHandler){for(let i=0;i<this._eventHandlers.length;i++)if(this._eventHandlers[i]===eventHandler){this._eventHandlers.splice(i,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new ViewModelEventsCollector),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const outgoingEvents=this._collector.outgoingEvents,viewEvents=this._collector.viewEvents;this._collector=null;for(const outgoingEvent of outgoingEvents)this._addOutgoingEvent(outgoingEvent);viewEvents.length>0&&this._emitMany(viewEvents)}this._emitOugoingEvents()}emitSingleViewEvent(event){try{this.beginEmitViewEvents().emitViewEvent(event)}finally{this.endEmitViewEvents()}}_emitMany(events){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(events):this._viewEventQueue=events,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const events=this._viewEventQueue;this._viewEventQueue=null;const eventHandlers=this._eventHandlers.slice(0);for(const eventHandler of eventHandlers)eventHandler.handleEvents(events)}}}class ViewModelEventsCollector{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(event){this.viewEvents.push(event)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class ContentSizeChangedEvent{constructor(oldContentWidth,oldContentHeight,contentWidth,contentHeight){this.kind=0,this._oldContentWidth=oldContentWidth,this._oldContentHeight=oldContentHeight,this.contentWidth=contentWidth,this.contentHeight=contentHeight,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(other){return 0!==other.kind?this:new ContentSizeChangedEvent(this._oldContentWidth,this._oldContentHeight,other.contentWidth,other.contentHeight)}}class FocusChangedEvent{constructor(oldHasFocus,hasFocus){this.kind=1,this.oldHasFocus=oldHasFocus,this.hasFocus=hasFocus}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(other){return 1!==other.kind?this:new FocusChangedEvent(this.oldHasFocus,other.hasFocus)}}class ScrollChangedEvent{constructor(oldScrollWidth,oldScrollLeft,oldScrollHeight,oldScrollTop,scrollWidth,scrollLeft,scrollHeight,scrollTop){this.kind=2,this._oldScrollWidth=oldScrollWidth,this._oldScrollLeft=oldScrollLeft,this._oldScrollHeight=oldScrollHeight,this._oldScrollTop=oldScrollTop,this.scrollWidth=scrollWidth,this.scrollLeft=scrollLeft,this.scrollHeight=scrollHeight,this.scrollTop=scrollTop,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(other){return 2!==other.kind?this:new ScrollChangedEvent(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,other.scrollWidth,other.scrollLeft,other.scrollHeight,other.scrollTop)}}class viewModelEventDispatcher_ViewZonesChangedEvent{constructor(){this.kind=3}isNoOp(){return!1}merge(other){return this}}class CursorStateChangedEvent{constructor(oldSelections,selections,oldModelVersionId,modelVersionId,source,reason,reachedMaxCursorCount){this.kind=5,this.oldSelections=oldSelections,this.selections=selections,this.oldModelVersionId=oldModelVersionId,this.modelVersionId=modelVersionId,this.source=source,this.reason=reason,this.reachedMaxCursorCount=reachedMaxCursorCount}static _selectionsAreEqual(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;const aLen=a.length;if(aLen!==b.length)return!1;for(let i=0;i<aLen;i++)if(!a[i].equalsSelection(b[i]))return!1;return!0}isNoOp(){return CursorStateChangedEvent._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(other){return 5!==other.kind?this:new CursorStateChangedEvent(this.oldSelections,other.selections,this.oldModelVersionId,other.modelVersionId,other.source,other.reason,this.reachedMaxCursorCount||other.reachedMaxCursorCount)}}class ReadOnlyEditAttemptEvent{constructor(){this.kind=4}isNoOp(){return!1}merge(other){return this}}class CursorModelState{constructor(model,cursor){this.modelVersionId=model.getVersionId(),this.cursorState=cursor.getCursorStates()}equals(other){if(!other)return!1;if(this.modelVersionId!==other.modelVersionId)return!1;if(this.cursorState.length!==other.cursorState.length)return!1;for(let i=0,len=this.cursorState.length;i<len;i++)if(!this.cursorState[i].equals(other.cursorState[i]))return!1;return!0}}class cursor_AutoClosedAction{constructor(model,autoClosedCharactersDecorations,autoClosedEnclosingDecorations){this._model=model,this._autoClosedCharactersDecorations=autoClosedCharactersDecorations,this._autoClosedEnclosingDecorations=autoClosedEnclosingDecorations}static getAllAutoClosedCharacters(autoClosedActions){let autoClosedCharacters=[];for(const autoClosedAction of autoClosedActions)autoClosedCharacters=autoClosedCharacters.concat(autoClosedAction.getAutoClosedCharactersRanges());return autoClosedCharacters}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let result=[];for(let i=0;i<this._autoClosedCharactersDecorations.length;i++){const decorationRange=this._model.getDecorationRange(this._autoClosedCharactersDecorations[i]);decorationRange&&result.push(decorationRange)}return result}isValid(selections){let enclosingRanges=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const decorationRange=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(decorationRange&&(enclosingRanges.push(decorationRange),decorationRange.startLineNumber!==decorationRange.endLineNumber))return!1}enclosingRanges.sort(core_range.a.compareRangesUsingStarts),selections.sort(core_range.a.compareRangesUsingStarts);for(let i=0;i<selections.length;i++){if(i>=enclosingRanges.length)return!1;if(!enclosingRanges[i].strictContainsRange(selections[i]))return!1}return!0}}class cursor_Cursor extends lifecycle.a{constructor(model,viewModel,coordinatesConverter,cursorConfig){super(),this._model=model,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=viewModel,this._coordinatesConverter=coordinatesConverter,this.context=new cursorCommon.c(this._model,this._coordinatesConverter,cursorConfig),this._cursors=new cursorCollection_CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Object(lifecycle.f)(this._autoClosedActions),super.dispose()}updateConfiguration(cursorConfig){this.context=new cursorCommon.c(this._model,this._coordinatesConverter,cursorConfig),this._cursors.updateContext(this.context)}onLineMappingChanged(eventsCollector){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(eventsCollector,"viewModel",0,this.getCursorStates())}setHasFocus(hasFocus){this._hasFocus=hasFocus}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let selections=this._cursors.getSelections();for(let i=0;i<this._autoClosedActions.length;i++){const autoClosedAction=this._autoClosedActions[i];autoClosedAction.isValid(selections)||(autoClosedAction.dispose(),this._autoClosedActions.splice(i,1),i--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(eventsCollector,source,reason,states){let reachedMaxCursorCount=!1;null!==states&&states.length>cursor_Cursor.MAX_CURSOR_COUNT&&(states=states.slice(0,cursor_Cursor.MAX_CURSOR_COUNT),reachedMaxCursorCount=!0);const oldState=new CursorModelState(this._model,this);return this._cursors.setStates(states),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(eventsCollector,source,reason,oldState,reachedMaxCursorCount)}setCursorColumnSelectData(columnSelectData){this._columnSelectData=columnSelectData}revealPrimary(eventsCollector,source,revealHorizontal,scrollType){const viewPositions=this._cursors.getViewPositions();if(viewPositions.length>1)this._emitCursorRevealRange(eventsCollector,source,null,this._cursors.getViewSelections(),0,revealHorizontal,scrollType);else{const viewPosition=viewPositions[0],viewRange=new core_range.a(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this._emitCursorRevealRange(eventsCollector,source,viewRange,null,0,revealHorizontal,scrollType)}}_revealPrimaryCursor(eventsCollector,source,verticalType,revealHorizontal,scrollType){const viewPositions=this._cursors.getViewPositions();if(viewPositions.length>1)this._emitCursorRevealRange(eventsCollector,source,null,this._cursors.getViewSelections(),verticalType,revealHorizontal,scrollType);else{const viewPosition=viewPositions[0],viewRange=new core_range.a(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this._emitCursorRevealRange(eventsCollector,source,viewRange,null,verticalType,revealHorizontal,scrollType)}}_emitCursorRevealRange(eventsCollector,source,viewRange,viewSelections,verticalType,revealHorizontal,scrollType){eventsCollector.emitViewEvent(new ViewRevealRangeRequestEvent(source,viewRange,viewSelections,verticalType,revealHorizontal,scrollType))}saveState(){let result=[];const selections=this._cursors.getSelections();for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];result.push({inSelectionMode:!selection.isEmpty(),selectionStart:{lineNumber:selection.selectionStartLineNumber,column:selection.selectionStartColumn},position:{lineNumber:selection.positionLineNumber,column:selection.positionColumn}})}return result}restoreState(eventsCollector,states){let desiredSelections=[];for(let i=0,len=states.length;i<len;i++){const state=states[i];let positionLineNumber=1,positionColumn=1;state.position&&state.position.lineNumber&&(positionLineNumber=state.position.lineNumber),state.position&&state.position.column&&(positionColumn=state.position.column);let selectionStartLineNumber=positionLineNumber,selectionStartColumn=positionColumn;state.selectionStart&&state.selectionStart.lineNumber&&(selectionStartLineNumber=state.selectionStart.lineNumber),state.selectionStart&&state.selectionStart.column&&(selectionStartColumn=state.selectionStart.column),desiredSelections.push({selectionStartLineNumber:selectionStartLineNumber,selectionStartColumn:selectionStartColumn,positionLineNumber:positionLineNumber,positionColumn:positionColumn})}this.setStates(eventsCollector,"restoreState",0,cursorCommon.d.fromModelSelections(desiredSelections)),this.revealPrimary(eventsCollector,"restoreState",!0,1)}onModelContentChanged(eventsCollector,e){if(this._knownModelVersionId=e.versionId,this._isHandling)return;const hadFlushEvent=e.containsEvent(1);if(this._prevEditOperationType=0,hadFlushEvent)this._cursors.dispose(),this._cursors=new cursorCollection_CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(eventsCollector,"model",1,null,!1);else if(this._hasFocus&&e.resultingSelection&&e.resultingSelection.length>0){const cursorState=cursorCommon.d.fromModelSelections(e.resultingSelection);this.setStates(eventsCollector,"modelChange",e.isUndoing?5:e.isRedoing?6:2,cursorState)&&this._revealPrimaryCursor(eventsCollector,"modelChange",0,!0,0)}else{const selectionsFromMarkers=this._cursors.readSelectionFromMarkers();this.setStates(eventsCollector,"modelChange",2,cursorCommon.d.fromModelSelections(selectionsFromMarkers))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const primaryCursor=this._cursors.getPrimaryCursor(),viewSelectionStart=primaryCursor.viewState.selectionStart.getStartPosition(),viewPosition=primaryCursor.viewState.position;return{isReal:!1,fromViewLineNumber:viewSelectionStart.lineNumber,fromViewVisualColumn:cursorCommon.a.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,viewSelectionStart),toViewLineNumber:viewPosition.lineNumber,toViewVisualColumn:cursorCommon.a.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,viewPosition)}}getSelections(){return this._cursors.getSelections()}setSelections(eventsCollector,source,selections){this.setStates(eventsCollector,source,0,cursorCommon.d.fromModelSelections(selections))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(type){this._prevEditOperationType=type}_pushAutoClosedAction(autoClosedCharactersRanges,autoClosedEnclosingRanges){let autoClosedCharactersDeltaDecorations=[],autoClosedEnclosingDeltaDecorations=[];for(let i=0,len=autoClosedCharactersRanges.length;i<len;i++)autoClosedCharactersDeltaDecorations.push({range:autoClosedCharactersRanges[i],options:{inlineClassName:"auto-closed-character",stickiness:1}}),autoClosedEnclosingDeltaDecorations.push({range:autoClosedEnclosingRanges[i],options:{stickiness:1}});const autoClosedCharactersDecorations=this._model.deltaDecorations([],autoClosedCharactersDeltaDecorations),autoClosedEnclosingDecorations=this._model.deltaDecorations([],autoClosedEnclosingDeltaDecorations);this._autoClosedActions.push(new cursor_AutoClosedAction(this._model,autoClosedCharactersDecorations,autoClosedEnclosingDecorations))}_executeEditOperation(opResult){if(!opResult)return;opResult.shouldPushStackElementBefore&&this._model.pushStackElement();const result=cursor_CommandExecutor.executeCommands(this._model,this._cursors.getSelections(),opResult.commands);if(result){this._interpretCommandResult(result);let autoClosedCharactersRanges=[],autoClosedEnclosingRanges=[];for(let i=0;i<opResult.commands.length;i++){const command=opResult.commands[i];command instanceof cursorTypeOperations.b&&command.enclosingRange&&command.closeCharacterRange&&(autoClosedCharactersRanges.push(command.closeCharacterRange),autoClosedEnclosingRanges.push(command.enclosingRange))}autoClosedCharactersRanges.length>0&&this._pushAutoClosedAction(autoClosedCharactersRanges,autoClosedEnclosingRanges),this._prevEditOperationType=opResult.type}opResult.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(cursorState){cursorState&&0!==cursorState.length||(cursorState=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(cursorState),this._cursors.normalize()}_emitStateChangedIfNecessary(eventsCollector,source,reason,oldState,reachedMaxCursorCount){const newState=new CursorModelState(this._model,this);if(newState.equals(oldState))return!1;const selections=this._cursors.getSelections(),viewSelections=this._cursors.getViewSelections();if(eventsCollector.emitViewEvent(new ViewCursorStateChangedEvent(viewSelections,selections)),!oldState||oldState.cursorState.length!==newState.cursorState.length||newState.cursorState.some((newCursorState,i)=>!newCursorState.modelState.equals(oldState.cursorState[i].modelState))){const oldSelections=oldState?oldState.cursorState.map(s=>s.modelState.selection):null,oldModelVersionId=oldState?oldState.modelVersionId:0;eventsCollector.emitOutgoingEvent(new CursorStateChangedEvent(oldSelections,selections,oldModelVersionId,newState.modelVersionId,source||"keyboard",reason,reachedMaxCursorCount))}return!0}_findAutoClosingPairs(edits){if(!edits.length)return null;let indices=[];for(let i=0,len=edits.length;i<len;i++){const edit=edits[i];if(!edit.text||edit.text.indexOf("\n")>=0)return null;const m=edit.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!m)return null;const closeChar=m[1],autoClosingPairsCandidates=this.context.cursorConfig.autoClosingPairsClose2.get(closeChar);if(!autoClosingPairsCandidates||1!==autoClosingPairsCandidates.length)return null;const openChar=autoClosingPairsCandidates[0].open,closeCharIndex=edit.text.length-m[2].length-1,openCharIndex=edit.text.lastIndexOf(openChar,closeCharIndex-1);if(-1===openCharIndex)return null;indices.push([openCharIndex,closeCharIndex])}return indices}executeEdits(eventsCollector,source,edits,cursorStateComputer){let autoClosingIndices=null;"snippet"===source&&(autoClosingIndices=this._findAutoClosingPairs(edits)),autoClosingIndices&&(edits[0]._isTracked=!0);let autoClosedCharactersRanges=[],autoClosedEnclosingRanges=[];const selections=this._model.pushEditOperations(this.getSelections(),edits,undoEdits=>{if(autoClosingIndices)for(let i=0,len=autoClosingIndices.length;i<len;i++){const[openCharInnerIndex,closeCharInnerIndex]=autoClosingIndices[i],undoEdit=undoEdits[i],lineNumber=undoEdit.range.startLineNumber,openCharIndex=undoEdit.range.startColumn-1+openCharInnerIndex,closeCharIndex=undoEdit.range.startColumn-1+closeCharInnerIndex;autoClosedCharactersRanges.push(new core_range.a(lineNumber,closeCharIndex+1,lineNumber,closeCharIndex+2)),autoClosedEnclosingRanges.push(new core_range.a(lineNumber,openCharIndex+1,lineNumber,closeCharIndex+2))}const selections=cursorStateComputer(undoEdits);return selections&&(this._isHandling=!0),selections});selections&&(this._isHandling=!1,this.setSelections(eventsCollector,source,selections)),autoClosedCharactersRanges.length>0&&this._pushAutoClosedAction(autoClosedCharactersRanges,autoClosedEnclosingRanges)}_executeEdit(callback,eventsCollector,source,cursorChangeReason=0){if(this.context.cursorConfig.readOnly)return;const oldState=new CursorModelState(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),callback()}catch(err){Object(errors.e)(err)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(eventsCollector,source,cursorChangeReason,oldState,!1)&&this._revealPrimaryCursor(eventsCollector,source,0,!0,0)}setIsDoingComposition(isDoingComposition){this._isDoingComposition=isDoingComposition}startComposition(eventsCollector){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(eventsCollector,source){this._executeEdit(()=>{if("keyboard"===source){const autoClosedCharacters=cursor_AutoClosedAction.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(cursorTypeOperations.a.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),autoClosedCharacters)),this._selectionsWhenCompositionStarted=null}},eventsCollector,source)}type(eventsCollector,text,source){this._executeEdit(()=>{if("keyboard"===source){const len=text.length;let offset=0;for(;offset<len;){const charLength=strings.L(text,offset),chr=text.substr(offset,charLength),autoClosedCharacters=cursor_AutoClosedAction.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(cursorTypeOperations.a.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),autoClosedCharacters,chr)),offset+=charLength}}else this._executeEditOperation(cursorTypeOperations.a.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),text))},eventsCollector,source)}replacePreviousChar(eventsCollector,text,replaceCharCnt,source){this._executeEdit(()=>{this._executeEditOperation(cursorTypeOperations.a.replacePreviousChar(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),text,replaceCharCnt))},eventsCollector,source)}paste(eventsCollector,text,pasteOnNewLine,multicursorText,source){this._executeEdit(()=>{this._executeEditOperation(cursorTypeOperations.a.paste(this.context.cursorConfig,this._model,this.getSelections(),text,pasteOnNewLine,multicursorText||[]))},eventsCollector,source,4)}cut(eventsCollector,source){this._executeEdit(()=>{this._executeEditOperation(cursorDeleteOperations.a.cut(this.context.cursorConfig,this._model,this.getSelections()))},eventsCollector,source)}executeCommand(eventsCollector,command,source){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new cursorCommon.e(0,[command],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},eventsCollector,source)}executeCommands(eventsCollector,commands,source){this._executeEdit(()=>{this._executeEditOperation(new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},eventsCollector,source)}}cursor_Cursor.MAX_CURSOR_COUNT=1e4;class cursor_CommandExecutor{static executeCommands(model,selectionsBefore,commands){const ctx={model:model,selectionsBefore:selectionsBefore,trackedRanges:[],trackedRangesDirection:[]},result=this._innerExecuteCommands(ctx,commands);for(let i=0,len=ctx.trackedRanges.length;i<len;i++)ctx.model._setTrackedRange(ctx.trackedRanges[i],null,0);return result}static _innerExecuteCommands(ctx,commands){if(this._arrayIsEmpty(commands))return null;const commandsData=this._getEditOperations(ctx,commands);if(0===commandsData.operations.length)return null;const rawOperations=commandsData.operations,loserCursorsMap=this._getLoserCursorMap(rawOperations);if(loserCursorsMap.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let filteredOperations=[];for(let i=0,len=rawOperations.length;i<len;i++)loserCursorsMap.hasOwnProperty(rawOperations[i].identifier.major.toString())||filteredOperations.push(rawOperations[i]);commandsData.hadTrackedEditOperation&&filteredOperations.length>0&&(filteredOperations[0]._isTracked=!0);let selectionsAfter=ctx.model.pushEditOperations(ctx.selectionsBefore,filteredOperations,inverseEditOperations=>{let groupedInverseEditOperations=[];for(let i=0;i<ctx.selectionsBefore.length;i++)groupedInverseEditOperations[i]=[];for(const op of inverseEditOperations)op.identifier&&groupedInverseEditOperations[op.identifier.major].push(op);const minorBasedSorter=(a,b)=>a.identifier.minor-b.identifier.minor;let cursorSelections=[];for(let i=0;i<ctx.selectionsBefore.length;i++)groupedInverseEditOperations[i].length>0?(groupedInverseEditOperations[i].sort(minorBasedSorter),cursorSelections[i]=commands[i].computeCursorState(ctx.model,{getInverseEditOperations:()=>groupedInverseEditOperations[i],getTrackedSelection:id=>{const idx=parseInt(id,10),range=ctx.model._getTrackedRange(ctx.trackedRanges[idx]);return 0===ctx.trackedRangesDirection[idx]?new core_selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn):new core_selection.a(range.endLineNumber,range.endColumn,range.startLineNumber,range.startColumn)}})):cursorSelections[i]=ctx.selectionsBefore[i];return cursorSelections});selectionsAfter||(selectionsAfter=ctx.selectionsBefore);let losingCursors=[];for(let losingCursorIndex in loserCursorsMap)loserCursorsMap.hasOwnProperty(losingCursorIndex)&&losingCursors.push(parseInt(losingCursorIndex,10));losingCursors.sort((a,b)=>b-a);for(const losingCursor of losingCursors)selectionsAfter.splice(losingCursor,1);return selectionsAfter}static _arrayIsEmpty(commands){for(let i=0,len=commands.length;i<len;i++)if(commands[i])return!1;return!0}static _getEditOperations(ctx,commands){let operations=[],hadTrackedEditOperation=!1;for(let i=0,len=commands.length;i<len;i++){const command=commands[i];if(command){const r=this._getEditOperationsFromCommand(ctx,i,command);operations=operations.concat(r.operations),hadTrackedEditOperation=hadTrackedEditOperation||r.hadTrackedEditOperation}}return{operations:operations,hadTrackedEditOperation:hadTrackedEditOperation}}static _getEditOperationsFromCommand(ctx,majorIdentifier,command){let operations=[],operationMinor=0;const addEditOperation=(range,text,forceMoveMarkers=!1)=>{core_range.a.isEmpty(range)&&""===text||operations.push({identifier:{major:majorIdentifier,minor:operationMinor++},range:range,text:text,forceMoveMarkers:forceMoveMarkers,isAutoWhitespaceEdit:command.insertsAutoWhitespace})};let hadTrackedEditOperation=!1;const editOperationBuilder={addEditOperation:addEditOperation,addTrackedEditOperation:(selection,text,forceMoveMarkers)=>{hadTrackedEditOperation=!0,addEditOperation(selection,text,forceMoveMarkers)},trackSelection:(_selection,trackPreviousOnEmpty)=>{const selection=core_selection.a.liftSelection(_selection);let stickiness;if(selection.isEmpty())if("boolean"==typeof trackPreviousOnEmpty)stickiness=trackPreviousOnEmpty?2:3;else{const maxLineColumn=ctx.model.getLineMaxColumn(selection.startLineNumber);stickiness=selection.startColumn===maxLineColumn?2:3}else stickiness=1;const l=ctx.trackedRanges.length,id=ctx.model._setTrackedRange(null,selection,stickiness);return ctx.trackedRanges[l]=id,ctx.trackedRangesDirection[l]=selection.getDirection(),l.toString()}};try{command.getEditOperations(ctx.model,editOperationBuilder)}catch(e){return Object(errors.e)(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:operations,hadTrackedEditOperation:hadTrackedEditOperation}}static _getLoserCursorMap(operations){(operations=operations.slice(0)).sort((a,b)=>-core_range.a.compareRangesUsingEnds(a.range,b.range));let loserCursorsMap={};for(let i=1;i<operations.length;i++){const previousOp=operations[i-1],currentOp=operations[i];if(core_range.a.getStartPosition(previousOp.range).isBefore(core_range.a.getEndPosition(currentOp.range))){let loserMajor;loserCursorsMap[(loserMajor=previousOp.identifier.major>currentOp.identifier.major?previousOp.identifier.major:currentOp.identifier.major).toString()]=!0;for(let j=0;j<operations.length;j++)operations[j].identifier.major===loserMajor&&(operations.splice(j,1),j<i&&i--,j--);i>0&&i--}}return loserCursorsMap}}var editorAction=__webpack_require__(2478),editorCommon=__webpack_require__(2390),editorContextKeys=__webpack_require__(2312),textToHtmlTokenizer=__webpack_require__(2479),scrollable=__webpack_require__(2438);class PendingChanges{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(x){this._hasPending=!0,this._inserts.push(x)}change(x){this._hasPending=!0,this._changes.push(x)}remove(x){this._hasPending=!0,this._removes.push(x)}mustCommit(){return this._hasPending}commit(linesLayout){if(!this._hasPending)return;const inserts=this._inserts,changes=this._changes,removes=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],linesLayout._commitPendingChanges(inserts,changes,removes)}}class EditorWhitespace{constructor(id,afterLineNumber,ordinal,height,minWidth){this.id=id,this.afterLineNumber=afterLineNumber,this.ordinal=ordinal,this.height=height,this.minWidth=minWidth,this.prefixSum=0}}class linesLayout_LinesLayout{constructor(lineCount,lineHeight,paddingTop,paddingBottom){this._instanceId=strings.R(++linesLayout_LinesLayout.INSTANCE_COUNT),this._pendingChanges=new PendingChanges,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=lineCount,this._lineHeight=lineHeight,this._paddingTop=paddingTop,this._paddingBottom=paddingBottom}static findInsertionIndex(arr,afterLineNumber,ordinal){let low=0,high=arr.length;for(;low<high;){const mid=low+high>>>1;afterLineNumber===arr[mid].afterLineNumber?ordinal<arr[mid].ordinal?high=mid:low=mid+1:afterLineNumber<arr[mid].afterLineNumber?high=mid:low=mid+1}return low}setLineHeight(lineHeight){this._checkPendingChanges(),this._lineHeight=lineHeight}setPadding(paddingTop,paddingBottom){this._paddingTop=paddingTop,this._paddingBottom=paddingBottom}onFlushed(lineCount){this._checkPendingChanges(),this._lineCount=lineCount}changeWhitespace(callback){let hadAChange=!1;try{callback({insertWhitespace:(afterLineNumber,ordinal,heightInPx,minWidth)=>{hadAChange=!0,afterLineNumber|=0,ordinal|=0,heightInPx|=0,minWidth|=0;const id=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new EditorWhitespace(id,afterLineNumber,ordinal,heightInPx,minWidth)),id},changeOneWhitespace:(id,newAfterLineNumber,newHeight)=>{hadAChange=!0,newAfterLineNumber|=0,newHeight|=0,this._pendingChanges.change({id:id,newAfterLineNumber:newAfterLineNumber,newHeight:newHeight})},removeWhitespace:id=>{hadAChange=!0,this._pendingChanges.remove({id:id})}})}finally{this._pendingChanges.commit(this)}return hadAChange}_commitPendingChanges(inserts,changes,removes){if((inserts.length>0||removes.length>0)&&(this._minWidth=-1),inserts.length+changes.length+removes.length<=1){for(const insert of inserts)this._insertWhitespace(insert);for(const change of changes)this._changeOneWhitespace(change.id,change.newAfterLineNumber,change.newHeight);for(const remove of removes){const index=this._findWhitespaceIndex(remove.id);-1!==index&&this._removeWhitespace(index)}return}const toRemove=new Set;for(const remove of removes)toRemove.add(remove.id);const toChange=new Map;for(const change of changes)toChange.set(change.id,change);const applyRemoveAndChange=whitespaces=>{let result=[];for(const whitespace of whitespaces)if(!toRemove.has(whitespace.id)){if(toChange.has(whitespace.id)){const change=toChange.get(whitespace.id);whitespace.afterLineNumber=change.newAfterLineNumber,whitespace.height=change.newHeight}result.push(whitespace)}return result},result=applyRemoveAndChange(this._arr).concat(applyRemoveAndChange(inserts));result.sort((a,b)=>a.afterLineNumber===b.afterLineNumber?a.ordinal-b.ordinal:a.afterLineNumber-b.afterLineNumber),this._arr=result,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(whitespace){const insertIndex=linesLayout_LinesLayout.findInsertionIndex(this._arr,whitespace.afterLineNumber,whitespace.ordinal);this._arr.splice(insertIndex,0,whitespace),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,insertIndex-1)}_findWhitespaceIndex(id){const arr=this._arr;for(let i=0,len=arr.length;i<len;i++)if(arr[i].id===id)return i;return-1}_changeOneWhitespace(id,newAfterLineNumber,newHeight){const index=this._findWhitespaceIndex(id);if(-1!==index&&(this._arr[index].height!==newHeight&&(this._arr[index].height=newHeight,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,index-1)),this._arr[index].afterLineNumber!==newAfterLineNumber)){const whitespace=this._arr[index];this._removeWhitespace(index),whitespace.afterLineNumber=newAfterLineNumber,this._insertWhitespace(whitespace)}}_removeWhitespace(removeIndex){this._arr.splice(removeIndex,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,removeIndex-1)}onLinesDeleted(fromLineNumber,toLineNumber){this._checkPendingChanges(),fromLineNumber|=0,toLineNumber|=0,this._lineCount-=toLineNumber-fromLineNumber+1;for(let i=0,len=this._arr.length;i<len;i++){const afterLineNumber=this._arr[i].afterLineNumber;fromLineNumber<=afterLineNumber&&afterLineNumber<=toLineNumber?this._arr[i].afterLineNumber=fromLineNumber-1:afterLineNumber>toLineNumber&&(this._arr[i].afterLineNumber-=toLineNumber-fromLineNumber+1)}}onLinesInserted(fromLineNumber,toLineNumber){this._checkPendingChanges(),fromLineNumber|=0,toLineNumber|=0,this._lineCount+=toLineNumber-fromLineNumber+1;for(let i=0,len=this._arr.length;i<len;i++){fromLineNumber<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=toLineNumber-fromLineNumber+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(index){this._checkPendingChanges(),index|=0;let startIndex=Math.max(0,this._prefixSumValidIndex+1);0===startIndex&&(this._arr[0].prefixSum=this._arr[0].height,startIndex++);for(let i=startIndex;i<=index;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,index),this._arr[index].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber){this._checkPendingChanges(),lineNumber|=0;const lastWhitespaceBeforeLineNumber=this._findLastWhitespaceBeforeLineNumber(lineNumber);return-1===lastWhitespaceBeforeLineNumber?0:this.getWhitespacesAccumulatedHeight(lastWhitespaceBeforeLineNumber)}_findLastWhitespaceBeforeLineNumber(lineNumber){lineNumber|=0;const arr=this._arr;let low=0,high=arr.length-1;for(;low<=high;){const mid=low+((high-low|0)/2|0)|0;if(arr[mid].afterLineNumber<lineNumber){if(mid+1>=arr.length||arr[mid+1].afterLineNumber>=lineNumber)return mid;low=mid+1|0}else high=mid-1|0}return-1}_findFirstWhitespaceAfterLineNumber(lineNumber){lineNumber|=0;const firstWhitespaceAfterLineNumber=this._findLastWhitespaceBeforeLineNumber(lineNumber)+1;return firstWhitespaceAfterLineNumber<this._arr.length?firstWhitespaceAfterLineNumber:-1}getFirstWhitespaceIndexAfterLineNumber(lineNumber){return this._checkPendingChanges(),lineNumber|=0,this._findFirstWhitespaceAfterLineNumber(lineNumber)}getVerticalOffsetForLineNumber(lineNumber){let previousLinesHeight;return this._checkPendingChanges(),(previousLinesHeight=(lineNumber|=0)>1?this._lineHeight*(lineNumber-1):0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let minWidth=0;for(let i=0,len=this._arr.length;i<len;i++)minWidth=Math.max(minWidth,this._arr[i].minWidth);this._minWidth=minWidth}return this._minWidth}isAfterLines(verticalOffset){return this._checkPendingChanges(),verticalOffset>this.getLinesTotalHeight()}getLineNumberAtOrAfterVerticalOffset(verticalOffset){if(this._checkPendingChanges(),(verticalOffset|=0)<0)return 1;const linesCount=0|this._lineCount,lineHeight=this._lineHeight;let minLineNumber=1,maxLineNumber=linesCount;for(;minLineNumber<maxLineNumber;){const midLineNumber=(minLineNumber+maxLineNumber)/2|0,midLineNumberVerticalOffset=0|this.getVerticalOffsetForLineNumber(midLineNumber);if(verticalOffset>=midLineNumberVerticalOffset+lineHeight)minLineNumber=midLineNumber+1;else{if(verticalOffset>=midLineNumberVerticalOffset)return midLineNumber;maxLineNumber=midLineNumber}}return minLineNumber>linesCount?linesCount:minLineNumber}getLinesViewportData(verticalOffset1,verticalOffset2){this._checkPendingChanges(),verticalOffset1|=0,verticalOffset2|=0;const lineHeight=this._lineHeight,startLineNumber=0|this.getLineNumberAtOrAfterVerticalOffset(verticalOffset1),startLineNumberVerticalOffset=0|this.getVerticalOffsetForLineNumber(startLineNumber);let endLineNumber=0|this._lineCount,whitespaceIndex=0|this.getFirstWhitespaceIndexAfterLineNumber(startLineNumber);const whitespaceCount=0|this.getWhitespacesCount();let currentWhitespaceHeight,currentWhitespaceAfterLineNumber;-1===whitespaceIndex?(whitespaceIndex=whitespaceCount,currentWhitespaceAfterLineNumber=endLineNumber+1,currentWhitespaceHeight=0):(currentWhitespaceAfterLineNumber=0|this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex),currentWhitespaceHeight=0|this.getHeightForWhitespaceIndex(whitespaceIndex));let currentVerticalOffset=startLineNumberVerticalOffset,currentLineRelativeOffset=currentVerticalOffset;let bigNumbersDelta=0;startLineNumberVerticalOffset>=5e5&&(bigNumbersDelta=5e5*Math.floor(startLineNumberVerticalOffset/5e5),currentLineRelativeOffset-=bigNumbersDelta=Math.floor(bigNumbersDelta/lineHeight)*lineHeight);const linesOffsets=[],verticalCenter=verticalOffset1+(verticalOffset2-verticalOffset1)/2;let centeredLineNumber=-1;for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){if(-1===centeredLineNumber){const currentLineTop=currentVerticalOffset,currentLineBottom=currentVerticalOffset+lineHeight;(currentLineTop<=verticalCenter&&verticalCenter<currentLineBottom||currentLineTop>verticalCenter)&&(centeredLineNumber=lineNumber)}for(currentVerticalOffset+=lineHeight,linesOffsets[lineNumber-startLineNumber]=currentLineRelativeOffset,currentLineRelativeOffset+=lineHeight;currentWhitespaceAfterLineNumber===lineNumber;)currentLineRelativeOffset+=currentWhitespaceHeight,currentVerticalOffset+=currentWhitespaceHeight,++whitespaceIndex>=whitespaceCount?currentWhitespaceAfterLineNumber=endLineNumber+1:(currentWhitespaceAfterLineNumber=0|this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex),currentWhitespaceHeight=0|this.getHeightForWhitespaceIndex(whitespaceIndex));if(currentVerticalOffset>=verticalOffset2){endLineNumber=lineNumber;break}}-1===centeredLineNumber&&(centeredLineNumber=endLineNumber);const endLineNumberVerticalOffset=0|this.getVerticalOffsetForLineNumber(endLineNumber);let completelyVisibleStartLineNumber=startLineNumber,completelyVisibleEndLineNumber=endLineNumber;return completelyVisibleStartLineNumber<completelyVisibleEndLineNumber&&startLineNumberVerticalOffset<verticalOffset1&&completelyVisibleStartLineNumber++,completelyVisibleStartLineNumber<completelyVisibleEndLineNumber&&endLineNumberVerticalOffset+lineHeight>verticalOffset2&&completelyVisibleEndLineNumber--,{bigNumbersDelta:bigNumbersDelta,startLineNumber:startLineNumber,endLineNumber:endLineNumber,relativeVerticalOffset:linesOffsets,centeredLineNumber:centeredLineNumber,completelyVisibleStartLineNumber:completelyVisibleStartLineNumber,completelyVisibleEndLineNumber:completelyVisibleEndLineNumber}}getVerticalOffsetForWhitespaceIndex(whitespaceIndex){this._checkPendingChanges(),whitespaceIndex|=0;const afterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex);let previousLinesHeight,previousWhitespacesHeight;return(previousLinesHeight=afterLineNumber>=1?this._lineHeight*afterLineNumber:0)+(previousWhitespacesHeight=whitespaceIndex>0?this.getWhitespacesAccumulatedHeight(whitespaceIndex-1):0)+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset){this._checkPendingChanges(),verticalOffset|=0;let minWhitespaceIndex=0,maxWhitespaceIndex=this.getWhitespacesCount()-1;if(maxWhitespaceIndex<0)return-1;if(verticalOffset>=this.getVerticalOffsetForWhitespaceIndex(maxWhitespaceIndex)+this.getHeightForWhitespaceIndex(maxWhitespaceIndex))return-1;for(;minWhitespaceIndex<maxWhitespaceIndex;){const midWhitespaceIndex=Math.floor((minWhitespaceIndex+maxWhitespaceIndex)/2),midWhitespaceVerticalOffset=this.getVerticalOffsetForWhitespaceIndex(midWhitespaceIndex);if(verticalOffset>=midWhitespaceVerticalOffset+this.getHeightForWhitespaceIndex(midWhitespaceIndex))minWhitespaceIndex=midWhitespaceIndex+1;else{if(verticalOffset>=midWhitespaceVerticalOffset)return midWhitespaceIndex;maxWhitespaceIndex=midWhitespaceIndex}}return minWhitespaceIndex}getWhitespaceAtVerticalOffset(verticalOffset){this._checkPendingChanges(),verticalOffset|=0;const candidateIndex=this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset);if(candidateIndex<0)return null;if(candidateIndex>=this.getWhitespacesCount())return null;const candidateTop=this.getVerticalOffsetForWhitespaceIndex(candidateIndex);if(candidateTop>verticalOffset)return null;const candidateHeight=this.getHeightForWhitespaceIndex(candidateIndex);return{id:this.getIdForWhitespaceIndex(candidateIndex),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(candidateIndex),verticalOffset:candidateTop,height:candidateHeight}}getWhitespaceViewportData(verticalOffset1,verticalOffset2){this._checkPendingChanges(),verticalOffset1|=0,verticalOffset2|=0;const startIndex=this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset1),endIndex=this.getWhitespacesCount()-1;if(startIndex<0)return[];let result=[];for(let i=startIndex;i<=endIndex;i++){const top=this.getVerticalOffsetForWhitespaceIndex(i),height=this.getHeightForWhitespaceIndex(i);if(top>=verticalOffset2)break;result.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:top,height:height})}return result}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(index){return this._checkPendingChanges(),index|=0,this._arr[index].id}getAfterLineNumberForWhitespaceIndex(index){return this._checkPendingChanges(),index|=0,this._arr[index].afterLineNumber}getHeightForWhitespaceIndex(index){return this._checkPendingChanges(),index|=0,this._arr[index].height}}linesLayout_LinesLayout.INSTANCE_COUNT=0;const SMOOTH_SCROLLING_TIME=125;class EditorScrollDimensions{constructor(width,contentWidth,height,contentHeight){(width|=0)<0&&(width=0),(contentWidth|=0)<0&&(contentWidth=0),(height|=0)<0&&(height=0),(contentHeight|=0)<0&&(contentHeight=0),this.width=width,this.contentWidth=contentWidth,this.scrollWidth=Math.max(width,contentWidth),this.height=height,this.contentHeight=contentHeight,this.scrollHeight=Math.max(height,contentHeight)}equals(other){return this.width===other.width&&this.contentWidth===other.contentWidth&&this.height===other.height&&this.contentHeight===other.contentHeight}}class viewLayout_EditorScrollable extends lifecycle.a{constructor(smoothScrollDuration,scheduleAtNextAnimationFrame){super(),this._onDidContentSizeChange=this._register(new common_event.a),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new EditorScrollDimensions(0,0,0,0),this._scrollable=this._register(new scrollable.a(smoothScrollDuration,scheduleAtNextAnimationFrame)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(smoothScrollDuration){this._scrollable.setSmoothScrollDuration(smoothScrollDuration)}validateScrollPosition(scrollPosition){return this._scrollable.validateScrollPosition(scrollPosition)}getScrollDimensions(){return this._dimensions}setScrollDimensions(dimensions){if(this._dimensions.equals(dimensions))return;const oldDimensions=this._dimensions;this._dimensions=dimensions,this._scrollable.setScrollDimensions({width:dimensions.width,scrollWidth:dimensions.scrollWidth,height:dimensions.height,scrollHeight:dimensions.scrollHeight},!0);const contentWidthChanged=oldDimensions.contentWidth!==dimensions.contentWidth,contentHeightChanged=oldDimensions.contentHeight!==dimensions.contentHeight;(contentWidthChanged||contentHeightChanged)&&this._onDidContentSizeChange.fire(new ContentSizeChangedEvent(oldDimensions.contentWidth,oldDimensions.contentHeight,dimensions.contentWidth,dimensions.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(update){this._scrollable.setScrollPositionNow(update)}setScrollPositionSmooth(update){this._scrollable.setScrollPositionSmooth(update)}}class viewLayout_ViewLayout extends lifecycle.a{constructor(configuration,lineCount,scheduleAtNextAnimationFrame){super(),this._configuration=configuration;const options=this._configuration.options,layoutInfo=options.get(117),padding=options.get(66);this._linesLayout=new linesLayout_LinesLayout(lineCount,options.get(51),padding.top,padding.bottom),this._scrollable=this._register(new viewLayout_EditorScrollable(0,scheduleAtNextAnimationFrame)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new EditorScrollDimensions(layoutInfo.contentWidth,0,layoutInfo.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(94)?SMOOTH_SCROLLING_TIME:0)}onConfigurationChanged(e){const options=this._configuration.options;if(e.hasChanged(51)&&this._linesLayout.setLineHeight(options.get(51)),e.hasChanged(66)){const padding=options.get(66);this._linesLayout.setPadding(padding.top,padding.bottom)}if(e.hasChanged(117)){const layoutInfo=options.get(117),width=layoutInfo.contentWidth,height=layoutInfo.height,scrollDimensions=this._scrollable.getScrollDimensions(),contentWidth=scrollDimensions.contentWidth;this._scrollable.setScrollDimensions(new EditorScrollDimensions(width,scrollDimensions.contentWidth,height,this._getContentHeight(width,height,contentWidth)))}else this._updateHeight();e.hasChanged(94)&&this._configureSmoothScrollDuration()}onFlushed(lineCount){this._linesLayout.onFlushed(lineCount)}onLinesDeleted(fromLineNumber,toLineNumber){this._linesLayout.onLinesDeleted(fromLineNumber,toLineNumber)}onLinesInserted(fromLineNumber,toLineNumber){this._linesLayout.onLinesInserted(fromLineNumber,toLineNumber)}_getHorizontalScrollbarHeight(width,scrollWidth){const scrollbar=this._configuration.options.get(84);return 2===scrollbar.horizontal?0:width>=scrollWidth?0:scrollbar.horizontalScrollbarSize}_getContentHeight(width,height,contentWidth){const options=this._configuration.options;let result=this._linesLayout.getLinesTotalHeight();return options.get(86)?result+=height-options.get(51):result+=this._getHorizontalScrollbarHeight(width,contentWidth),result}_updateHeight(){const scrollDimensions=this._scrollable.getScrollDimensions(),width=scrollDimensions.width,height=scrollDimensions.height,contentWidth=scrollDimensions.contentWidth;this._scrollable.setScrollDimensions(new EditorScrollDimensions(width,scrollDimensions.contentWidth,height,this._getContentHeight(width,height,contentWidth)))}getCurrentViewport(){const scrollDimensions=this._scrollable.getScrollDimensions(),currentScrollPosition=this._scrollable.getCurrentScrollPosition();return new viewModel_viewModel.f(currentScrollPosition.scrollTop,currentScrollPosition.scrollLeft,scrollDimensions.width,scrollDimensions.height)}getFutureViewport(){const scrollDimensions=this._scrollable.getScrollDimensions(),currentScrollPosition=this._scrollable.getFutureScrollPosition();return new viewModel_viewModel.f(currentScrollPosition.scrollTop,currentScrollPosition.scrollLeft,scrollDimensions.width,scrollDimensions.height)}_computeContentWidth(maxLineWidth){const options=this._configuration.options,wrappingInfo=options.get(118),fontInfo=options.get(36);if(wrappingInfo.isViewportWrapping){const layoutInfo=options.get(117),minimap=options.get(56);return maxLineWidth>layoutInfo.contentWidth+fontInfo.typicalHalfwidthCharacterWidth&&minimap.enabled&&"right"===minimap.side?maxLineWidth+layoutInfo.verticalScrollbarWidth:maxLineWidth}{const extraHorizontalSpace=options.get(85)*fontInfo.typicalHalfwidthCharacterWidth,whitespaceMinWidth=this._linesLayout.getWhitespaceMinWidth();return Math.max(maxLineWidth+extraHorizontalSpace,whitespaceMinWidth)}}setMaxLineWidth(maxLineWidth){const scrollDimensions=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new EditorScrollDimensions(scrollDimensions.width,this._computeContentWidth(maxLineWidth),scrollDimensions.height,scrollDimensions.contentHeight)),this._updateHeight()}saveState(){const currentScrollPosition=this._scrollable.getFutureScrollPosition();let scrollTop=currentScrollPosition.scrollTop,firstLineNumberInViewport=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(scrollTop);return{scrollTop:scrollTop,scrollTopWithoutViewZones:scrollTop-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(firstLineNumberInViewport),scrollLeft:currentScrollPosition.scrollLeft}}changeWhitespace(callback){const hadAChange=this._linesLayout.changeWhitespace(callback);return hadAChange&&this.onHeightMaybeChanged(),hadAChange}getVerticalOffsetForLineNumber(lineNumber){return this._linesLayout.getVerticalOffsetForLineNumber(lineNumber)}isAfterLines(verticalOffset){return this._linesLayout.isAfterLines(verticalOffset)}getLineNumberAtVerticalOffset(verticalOffset){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(verticalOffset)}getWhitespaceAtVerticalOffset(verticalOffset){return this._linesLayout.getWhitespaceAtVerticalOffset(verticalOffset)}getLinesViewportData(){const visibleBox=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(visibleBox.top,visibleBox.top+visibleBox.height)}getLinesViewportDataAtScrollTop(scrollTop){const scrollDimensions=this._scrollable.getScrollDimensions();return scrollTop+scrollDimensions.height>scrollDimensions.scrollHeight&&(scrollTop=scrollDimensions.scrollHeight-scrollDimensions.height),scrollTop<0&&(scrollTop=0),this._linesLayout.getLinesViewportData(scrollTop,scrollTop+scrollDimensions.height)}getWhitespaceViewportData(){const visibleBox=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(visibleBox.top,visibleBox.top+visibleBox.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(scrollPosition){return this._scrollable.validateScrollPosition(scrollPosition)}setScrollPosition(position,type){1===type?this._scrollable.setScrollPositionNow(position):this._scrollable.setScrollPositionSmooth(position)}deltaScrollNow(deltaScrollLeft,deltaScrollTop){const currentScrollPosition=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:currentScrollPosition.scrollLeft+deltaScrollLeft,scrollTop:currentScrollPosition.scrollTop+deltaScrollTop})}}var textModel=__webpack_require__(2321),prefixSumComputer=__webpack_require__(2480);class OutputPosition{constructor(outputLineIndex,outputOffset){this.outputLineIndex=outputLineIndex,this.outputOffset=outputOffset}}class LineBreakData{constructor(breakOffsets,breakOffsetsVisibleColumn,wrappedTextIndentLength){this.breakOffsets=breakOffsets,this.breakOffsetsVisibleColumn=breakOffsetsVisibleColumn,this.wrappedTextIndentLength=wrappedTextIndentLength}static getInputOffsetOfOutputPosition(breakOffsets,outputLineIndex,outputOffset){return 0===outputLineIndex?outputOffset:breakOffsets[outputLineIndex-1]+outputOffset}static getOutputPositionOfInputOffset(breakOffsets,inputOffset){let low=0,high=breakOffsets.length-1,mid=0,midStart=0;for(;low<=high;){const midStop=breakOffsets[mid=low+(high-low)/2|0];if(inputOffset<(midStart=mid>0?breakOffsets[mid-1]:0))high=mid-1;else{if(!(inputOffset>=midStop))break;low=mid+1}}return new OutputPosition(mid,inputOffset-midStart)}}class CoordinatesConverter{constructor(lines){this._lines=lines}convertViewPositionToModelPosition(viewPosition){return this._lines.convertViewPositionToModelPosition(viewPosition.lineNumber,viewPosition.column)}convertViewRangeToModelRange(viewRange){return this._lines.convertViewRangeToModelRange(viewRange)}validateViewPosition(viewPosition,expectedModelPosition){return this._lines.validateViewPosition(viewPosition.lineNumber,viewPosition.column,expectedModelPosition)}validateViewRange(viewRange,expectedModelRange){return this._lines.validateViewRange(viewRange,expectedModelRange)}convertModelPositionToViewPosition(modelPosition){return this._lines.convertModelPositionToViewPosition(modelPosition.lineNumber,modelPosition.column)}convertModelRangeToViewRange(modelRange){return this._lines.convertModelRangeToViewRange(modelRange)}modelPositionIsVisible(modelPosition){return this._lines.modelPositionIsVisible(modelPosition.lineNumber,modelPosition.column)}}class splitLinesCollection_LineNumberMapper{constructor(viewLineCounts){this._counts=viewLineCounts,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(index){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,index-1)}_ensureValid(){if(!this._isValid){for(let i=this._validEndIndex+1,len=this._counts.length;i<len;i++){const viewLineCount=this._counts[i],viewLinesAbove=i>0?this._modelToView[i-1]:0;this._modelToView[i]=viewLinesAbove+viewLineCount;for(let j=0;j<viewLineCount;j++)this._viewToModel[viewLinesAbove+j]=i}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(index,value){this._counts[index]!==value&&(this._counts[index]=value,this._invalidate(index))}removeValues(start,deleteCount){this._counts.splice(start,deleteCount),this._invalidate(start)}insertValues(insertIndex,insertArr){this._counts=arrays.a(this._counts,insertIndex,insertArr),this._invalidate(insertIndex)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(index){return this._ensureValid(),this._modelToView[index]}getIndexOf(accumulatedValue){this._ensureValid();const modelLineIndex=this._viewToModel[accumulatedValue],viewLinesAbove=modelLineIndex>0?this._modelToView[modelLineIndex-1]:0;return new prefixSumComputer.b(modelLineIndex,accumulatedValue-viewLinesAbove)}}class splitLinesCollection_SplitLinesCollection{constructor(model,domLineBreaksComputerFactory,monospaceLineBreaksComputerFactory,fontInfo,tabSize,wrappingStrategy,wrappingColumn,wrappingIndent){this.model=model,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=domLineBreaksComputerFactory,this._monospaceLineBreaksComputerFactory=monospaceLineBreaksComputerFactory,this.fontInfo=fontInfo,this.tabSize=tabSize,this.wrappingStrategy=wrappingStrategy,this.wrappingColumn=wrappingColumn,this.wrappingIndent=wrappingIndent,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new CoordinatesConverter(this)}_constructLines(resetHiddenAreas,previousLineBreaks){this.lines=[],resetHiddenAreas&&(this.hiddenAreasIds=[]);let linesContent=this.model.getLinesContent();const lineCount=linesContent.length,lineBreaksComputer=this.createLineBreaksComputer();for(let i=0;i<lineCount;i++)lineBreaksComputer.addRequest(linesContent[i],previousLineBreaks?previousLineBreaks[i]:null);const linesBreaks=lineBreaksComputer.finalize();let values=[],hiddenAreas=this.hiddenAreasIds.map(areaId=>this.model.getDecorationRange(areaId)).sort(core_range.a.compareRangesUsingStarts),hiddenAreaStart=1,hiddenAreaEnd=0,hiddenAreaIdx=-1,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:lineCount+2;for(let i=0;i<lineCount;i++){let lineNumber=i+1;lineNumber===nextLineNumberToUpdateHiddenArea&&(hiddenAreaStart=hiddenAreas[++hiddenAreaIdx].startLineNumber,hiddenAreaEnd=hiddenAreas[hiddenAreaIdx].endLineNumber,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:lineCount+2);let isInHiddenArea=lineNumber>=hiddenAreaStart&&lineNumber<=hiddenAreaEnd,line=createSplitLine(linesBreaks[i],!isInHiddenArea);values[i]=line.getViewLineCount(),this.lines[i]=line}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new splitLinesCollection_LineNumberMapper(values)}getHiddenAreas(){return this.hiddenAreasIds.map(decId=>this.model.getDecorationRange(decId))}_reduceRanges(_ranges){if(0===_ranges.length)return[];let ranges=_ranges.map(r=>this.model.validateRange(r)).sort(core_range.a.compareRangesUsingStarts),result=[],currentRangeStart=ranges[0].startLineNumber,currentRangeEnd=ranges[0].endLineNumber;for(let i=1,len=ranges.length;i<len;i++){let range=ranges[i];range.startLineNumber>currentRangeEnd+1?(result.push(new core_range.a(currentRangeStart,1,currentRangeEnd,1)),currentRangeStart=range.startLineNumber,currentRangeEnd=range.endLineNumber):range.endLineNumber>currentRangeEnd&&(currentRangeEnd=range.endLineNumber)}return result.push(new core_range.a(currentRangeStart,1,currentRangeEnd,1)),result}setHiddenAreas(_ranges){let newRanges=this._reduceRanges(_ranges),oldRanges=this.hiddenAreasIds.map(areaId=>this.model.getDecorationRange(areaId)).sort(core_range.a.compareRangesUsingStarts);if(newRanges.length===oldRanges.length){let hasDifference=!1;for(let i=0;i<newRanges.length;i++)if(!newRanges[i].equalsRange(oldRanges[i])){hasDifference=!0;break}if(!hasDifference)return!1}let newDecorations=[];for(const newRange of newRanges)newDecorations.push({range:newRange,options:textModel.a.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,newDecorations);let hiddenAreas=newRanges,hiddenAreaStart=1,hiddenAreaEnd=0,hiddenAreaIdx=-1,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:this.lines.length+2,hasVisibleLine=!1;for(let i=0;i<this.lines.length;i++){let lineNumber=i+1;lineNumber===nextLineNumberToUpdateHiddenArea&&(hiddenAreaStart=hiddenAreas[++hiddenAreaIdx].startLineNumber,hiddenAreaEnd=hiddenAreas[hiddenAreaIdx].endLineNumber,nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:this.lines.length+2);let lineChanged=!1;if(lineNumber>=hiddenAreaStart&&lineNumber<=hiddenAreaEnd?this.lines[i].isVisible()&&(this.lines[i]=this.lines[i].setVisible(!1),lineChanged=!0):(hasVisibleLine=!0,this.lines[i].isVisible()||(this.lines[i]=this.lines[i].setVisible(!0),lineChanged=!0)),lineChanged){let newOutputLineCount=this.lines[i].getViewLineCount();this.prefixSumComputer.changeValue(i,newOutputLineCount)}}return hasVisibleLine||this.setHiddenAreas([]),!0}modelPositionIsVisible(modelLineNumber,_modelColumn){return!(modelLineNumber<1||modelLineNumber>this.lines.length)&&this.lines[modelLineNumber-1].isVisible()}setTabSize(newTabSize){return this.tabSize!==newTabSize&&(this.tabSize=newTabSize,this._constructLines(!1,null),!0)}setWrappingSettings(fontInfo,wrappingStrategy,wrappingColumn,wrappingIndent){const equalFontInfo=this.fontInfo.equals(fontInfo),equalWrappingStrategy=this.wrappingStrategy===wrappingStrategy,equalWrappingColumn=this.wrappingColumn===wrappingColumn,equalWrappingIndent=this.wrappingIndent===wrappingIndent;if(equalFontInfo&&equalWrappingStrategy&&equalWrappingColumn&&equalWrappingIndent)return!1;const onlyWrappingColumnChanged=equalFontInfo&&equalWrappingStrategy&&!equalWrappingColumn&&equalWrappingIndent;this.fontInfo=fontInfo,this.wrappingStrategy=wrappingStrategy,this.wrappingColumn=wrappingColumn,this.wrappingIndent=wrappingIndent;let previousLineBreaks=null;if(onlyWrappingColumnChanged){previousLineBreaks=[];for(let i=0,len=this.lines.length;i<len;i++)previousLineBreaks[i]=this.lines[i].getLineBreakData()}return this._constructLines(!1,previousLineBreaks),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(versionId,fromLineNumber,toLineNumber){if(versionId<=this._validModelVersionId)return null;let outputFromLineNumber=1===fromLineNumber?1:this.prefixSumComputer.getAccumulatedValue(fromLineNumber-2)+1,outputToLineNumber=this.prefixSumComputer.getAccumulatedValue(toLineNumber-1);return this.lines.splice(fromLineNumber-1,toLineNumber-fromLineNumber+1),this.prefixSumComputer.removeValues(fromLineNumber-1,toLineNumber-fromLineNumber+1),new ViewLinesDeletedEvent(outputFromLineNumber,outputToLineNumber)}onModelLinesInserted(versionId,fromLineNumber,_toLineNumber,lineBreaks){if(versionId<=this._validModelVersionId)return null;let hiddenAreas=this.getHiddenAreas(),isInHiddenArea=!1,testPosition=new core_position.a(fromLineNumber,1);for(const hiddenArea of hiddenAreas)if(hiddenArea.containsPosition(testPosition)){isInHiddenArea=!0;break}let outputFromLineNumber=1===fromLineNumber?1:this.prefixSumComputer.getAccumulatedValue(fromLineNumber-2)+1,totalOutputLineCount=0,insertLines=[],insertPrefixSumValues=[];for(let i=0,len=lineBreaks.length;i<len;i++){let line=createSplitLine(lineBreaks[i],!isInHiddenArea);insertLines.push(line);let outputLineCount=line.getViewLineCount();totalOutputLineCount+=outputLineCount,insertPrefixSumValues[i]=outputLineCount}return this.lines=this.lines.slice(0,fromLineNumber-1).concat(insertLines).concat(this.lines.slice(fromLineNumber-1)),this.prefixSumComputer.insertValues(fromLineNumber-1,insertPrefixSumValues),new ViewLinesInsertedEvent(outputFromLineNumber,outputFromLineNumber+totalOutputLineCount-1)}onModelLineChanged(versionId,lineNumber,lineBreakData){if(versionId<=this._validModelVersionId)return[!1,null,null,null];let lineIndex=lineNumber-1,oldOutputLineCount=this.lines[lineIndex].getViewLineCount(),line=createSplitLine(lineBreakData,this.lines[lineIndex].isVisible());this.lines[lineIndex]=line;let newOutputLineCount=this.lines[lineIndex].getViewLineCount(),lineMappingChanged=!1,changeFrom=0,changeTo=-1,insertFrom=0,insertTo=-1,deleteFrom=0,deleteTo=-1;return oldOutputLineCount>newOutputLineCount?(deleteTo=(deleteFrom=(changeTo=(changeFrom=1===lineNumber?1:this.prefixSumComputer.getAccumulatedValue(lineNumber-2)+1)+newOutputLineCount-1)+1)+(oldOutputLineCount-newOutputLineCount)-1,lineMappingChanged=!0):oldOutputLineCount<newOutputLineCount?(insertTo=(insertFrom=(changeTo=(changeFrom=1===lineNumber?1:this.prefixSumComputer.getAccumulatedValue(lineNumber-2)+1)+oldOutputLineCount-1)+1)+(newOutputLineCount-oldOutputLineCount)-1,lineMappingChanged=!0):changeTo=(changeFrom=1===lineNumber?1:this.prefixSumComputer.getAccumulatedValue(lineNumber-2)+1)+newOutputLineCount-1,this.prefixSumComputer.changeValue(lineIndex,newOutputLineCount),[lineMappingChanged,changeFrom<=changeTo?new ViewLinesChangedEvent(changeFrom,changeTo):null,insertFrom<=insertTo?new ViewLinesInsertedEvent(insertFrom,insertTo):null,deleteFrom<=deleteTo?new ViewLinesDeletedEvent(deleteFrom,deleteTo):null]}acceptVersionId(versionId){this._validModelVersionId=versionId,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(viewLineNumber){if(viewLineNumber<1)return 1;const viewLineCount=this.getViewLineCount();return viewLineNumber>viewLineCount?viewLineCount:0|viewLineNumber}getActiveIndentGuide(viewLineNumber,minLineNumber,maxLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber),minLineNumber=this._toValidViewLineNumber(minLineNumber),maxLineNumber=this._toValidViewLineNumber(maxLineNumber);const modelPosition=this.convertViewPositionToModelPosition(viewLineNumber,this.getViewLineMinColumn(viewLineNumber)),modelMinPosition=this.convertViewPositionToModelPosition(minLineNumber,this.getViewLineMinColumn(minLineNumber)),modelMaxPosition=this.convertViewPositionToModelPosition(maxLineNumber,this.getViewLineMinColumn(maxLineNumber)),result=this.model.getActiveIndentGuide(modelPosition.lineNumber,modelMinPosition.lineNumber,modelMaxPosition.lineNumber),viewStartPosition=this.convertModelPositionToViewPosition(result.startLineNumber,1),viewEndPosition=this.convertModelPositionToViewPosition(result.endLineNumber,this.model.getLineMaxColumn(result.endLineNumber));return{startLineNumber:viewStartPosition.lineNumber,endLineNumber:viewEndPosition.lineNumber,indent:result.indent}}getViewLinesIndentGuides(viewStartLineNumber,viewEndLineNumber){viewStartLineNumber=this._toValidViewLineNumber(viewStartLineNumber),viewEndLineNumber=this._toValidViewLineNumber(viewEndLineNumber);const modelStart=this.convertViewPositionToModelPosition(viewStartLineNumber,this.getViewLineMinColumn(viewStartLineNumber)),modelEnd=this.convertViewPositionToModelPosition(viewEndLineNumber,this.getViewLineMaxColumn(viewEndLineNumber));let result=[],resultRepeatCount=[],resultRepeatOption=[];const modelStartLineIndex=modelStart.lineNumber-1,modelEndLineIndex=modelEnd.lineNumber-1;let reqStart=null;for(let modelLineIndex=modelStartLineIndex;modelLineIndex<=modelEndLineIndex;modelLineIndex++){const line=this.lines[modelLineIndex];if(line.isVisible()){let viewLineStartIndex=line.getViewLineNumberOfModelPosition(0,modelLineIndex===modelStartLineIndex?modelStart.column:1),viewLineEndIndex=line.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(modelLineIndex+1)),count=viewLineEndIndex-viewLineStartIndex+1,option=0;count>1&&1===line.getViewLineMinColumn(this.model,modelLineIndex+1,viewLineEndIndex)&&(option=0===viewLineStartIndex?1:2),resultRepeatCount.push(count),resultRepeatOption.push(option),null===reqStart&&(reqStart=new core_position.a(modelLineIndex+1,0))}else null!==reqStart&&(result=result.concat(this.model.getLinesIndentGuides(reqStart.lineNumber,modelLineIndex)),reqStart=null)}null!==reqStart&&(result=result.concat(this.model.getLinesIndentGuides(reqStart.lineNumber,modelEnd.lineNumber)),reqStart=null);const viewLineCount=viewEndLineNumber-viewStartLineNumber+1;let viewIndents=new Array(viewLineCount),currIndex=0;for(let i=0,len=result.length;i<len;i++){let blockAtIndex,value=result[i],count=Math.min(viewLineCount-currIndex,resultRepeatCount[i]),option=resultRepeatOption[i];blockAtIndex=2===option?0:1===option?1:count;for(let j=0;j<count;j++)j===blockAtIndex&&(value=0),viewIndents[currIndex++]=value}return viewIndents}getViewLineContent(viewLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineContent(this.model,lineIndex+1,remainder)}getViewLineLength(viewLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineLength(this.model,lineIndex+1,remainder)}getViewLineMinColumn(viewLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineMinColumn(this.model,lineIndex+1,remainder)}getViewLineMaxColumn(viewLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineMaxColumn(this.model,lineIndex+1,remainder)}getViewLineData(viewLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder;return this.lines[lineIndex].getViewLineData(this.model,lineIndex+1,remainder)}getViewLinesData(viewStartLineNumber,viewEndLineNumber,needed){viewStartLineNumber=this._toValidViewLineNumber(viewStartLineNumber),viewEndLineNumber=this._toValidViewLineNumber(viewEndLineNumber);let start=this.prefixSumComputer.getIndexOf(viewStartLineNumber-1),viewLineNumber=viewStartLineNumber,startModelLineIndex=start.index,startRemainder=start.remainder,result=[];for(let modelLineIndex=startModelLineIndex,len=this.model.getLineCount();modelLineIndex<len;modelLineIndex++){let line=this.lines[modelLineIndex];if(!line.isVisible())continue;let fromViewLineIndex=modelLineIndex===startModelLineIndex?startRemainder:0,remainingViewLineCount=line.getViewLineCount()-fromViewLineIndex,lastLine=!1;viewLineNumber+remainingViewLineCount>viewEndLineNumber&&(lastLine=!0,remainingViewLineCount=viewEndLineNumber-viewLineNumber+1);let toViewLineIndex=fromViewLineIndex+remainingViewLineCount;if(line.getViewLinesData(this.model,modelLineIndex+1,fromViewLineIndex,toViewLineIndex,viewLineNumber-viewStartLineNumber,needed,result),viewLineNumber+=remainingViewLineCount,lastLine)break}return result}validateViewPosition(viewLineNumber,viewColumn,expectedModelPosition){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder,line=this.lines[lineIndex],minColumn=line.getViewLineMinColumn(this.model,lineIndex+1,remainder),maxColumn=line.getViewLineMaxColumn(this.model,lineIndex+1,remainder);viewColumn<minColumn&&(viewColumn=minColumn),viewColumn>maxColumn&&(viewColumn=maxColumn);let computedModelColumn=line.getModelColumnOfViewPosition(remainder,viewColumn);return this.model.validatePosition(new core_position.a(lineIndex+1,computedModelColumn)).equals(expectedModelPosition)?new core_position.a(viewLineNumber,viewColumn):this.convertModelPositionToViewPosition(expectedModelPosition.lineNumber,expectedModelPosition.column)}validateViewRange(viewRange,expectedModelRange){const validViewStart=this.validateViewPosition(viewRange.startLineNumber,viewRange.startColumn,expectedModelRange.getStartPosition()),validViewEnd=this.validateViewPosition(viewRange.endLineNumber,viewRange.endColumn,expectedModelRange.getEndPosition());return new core_range.a(validViewStart.lineNumber,validViewStart.column,validViewEnd.lineNumber,validViewEnd.column)}convertViewPositionToModelPosition(viewLineNumber,viewColumn){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);let r=this.prefixSumComputer.getIndexOf(viewLineNumber-1),lineIndex=r.index,remainder=r.remainder,inputColumn=this.lines[lineIndex].getModelColumnOfViewPosition(remainder,viewColumn);return this.model.validatePosition(new core_position.a(lineIndex+1,inputColumn))}convertViewRangeToModelRange(viewRange){const start=this.convertViewPositionToModelPosition(viewRange.startLineNumber,viewRange.startColumn),end=this.convertViewPositionToModelPosition(viewRange.endLineNumber,viewRange.endColumn);return new core_range.a(start.lineNumber,start.column,end.lineNumber,end.column)}convertModelPositionToViewPosition(_modelLineNumber,_modelColumn){const validPosition=this.model.validatePosition(new core_position.a(_modelLineNumber,_modelColumn)),inputLineNumber=validPosition.lineNumber,inputColumn=validPosition.column;let lineIndex=inputLineNumber-1,lineIndexChanged=!1;for(;lineIndex>0&&!this.lines[lineIndex].isVisible();)lineIndex--,lineIndexChanged=!0;if(0===lineIndex&&!this.lines[lineIndex].isVisible())return new core_position.a(1,1);const deltaLineNumber=1+(0===lineIndex?0:this.prefixSumComputer.getAccumulatedValue(lineIndex-1));let r;return r=lineIndexChanged?this.lines[lineIndex].getViewPositionOfModelPosition(deltaLineNumber,this.model.getLineMaxColumn(lineIndex+1)):this.lines[inputLineNumber-1].getViewPositionOfModelPosition(deltaLineNumber,inputColumn)}convertModelRangeToViewRange(modelRange){let start=this.convertModelPositionToViewPosition(modelRange.startLineNumber,modelRange.startColumn),end=this.convertModelPositionToViewPosition(modelRange.endLineNumber,modelRange.endColumn);return modelRange.startLineNumber===modelRange.endLineNumber&&start.lineNumber!==end.lineNumber&&end.column===this.getViewLineMinColumn(end.lineNumber)?new core_range.a(start.lineNumber,start.column,end.lineNumber-1,this.getViewLineMaxColumn(end.lineNumber-1)):new core_range.a(start.lineNumber,start.column,end.lineNumber,end.column)}_getViewLineNumberForModelPosition(inputLineNumber,inputColumn){let lineIndex=inputLineNumber-1;if(this.lines[lineIndex].isVisible()){const deltaLineNumber=1+(0===lineIndex?0:this.prefixSumComputer.getAccumulatedValue(lineIndex-1));return this.lines[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber,inputColumn)}for(;lineIndex>0&&!this.lines[lineIndex].isVisible();)lineIndex--;if(0===lineIndex&&!this.lines[lineIndex].isVisible())return 1;const deltaLineNumber=1+(0===lineIndex?0:this.prefixSumComputer.getAccumulatedValue(lineIndex-1));return this.lines[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber,this.model.getLineMaxColumn(lineIndex+1))}getAllOverviewRulerDecorations(ownerId,filterOutValidation,theme){const decorations=this.model.getOverviewRulerDecorations(ownerId,filterOutValidation),result=new OverviewRulerDecorations;for(const decoration of decorations){const opts=decoration.options.overviewRuler,lane=opts?opts.position:0;if(0===lane)continue;const color=opts.getColor(theme),viewStartLineNumber=this._getViewLineNumberForModelPosition(decoration.range.startLineNumber,decoration.range.startColumn),viewEndLineNumber=this._getViewLineNumberForModelPosition(decoration.range.endLineNumber,decoration.range.endColumn);result.accept(color,viewStartLineNumber,viewEndLineNumber,lane)}return result.result}getDecorationsInRange(range,ownerId,filterOutValidation){const modelStart=this.convertViewPositionToModelPosition(range.startLineNumber,range.startColumn),modelEnd=this.convertViewPositionToModelPosition(range.endLineNumber,range.endColumn);if(modelEnd.lineNumber-modelStart.lineNumber<=range.endLineNumber-range.startLineNumber)return this.model.getDecorationsInRange(new core_range.a(modelStart.lineNumber,1,modelEnd.lineNumber,modelEnd.column),ownerId,filterOutValidation);let result=[];const modelStartLineIndex=modelStart.lineNumber-1,modelEndLineIndex=modelEnd.lineNumber-1;let reqStart=null;for(let modelLineIndex=modelStartLineIndex;modelLineIndex<=modelEndLineIndex;modelLineIndex++){if(this.lines[modelLineIndex].isVisible())null===reqStart&&(reqStart=new core_position.a(modelLineIndex+1,modelLineIndex===modelStartLineIndex?modelStart.column:1));else if(null!==reqStart){const maxLineColumn=this.model.getLineMaxColumn(modelLineIndex);result=result.concat(this.model.getDecorationsInRange(new core_range.a(reqStart.lineNumber,reqStart.column,modelLineIndex,maxLineColumn),ownerId,filterOutValidation)),reqStart=null}}null!==reqStart&&(result=result.concat(this.model.getDecorationsInRange(new core_range.a(reqStart.lineNumber,reqStart.column,modelEnd.lineNumber,modelEnd.column),ownerId,filterOutValidation)),reqStart=null),result.sort((a,b)=>{const res=core_range.a.compareRangesUsingStarts(a.range,b.range);return 0===res?a.id<b.id?-1:a.id>b.id?1:0:res});let finalResult=[],finalResultLen=0,prevDecId=null;for(const dec of result){const decId=dec.id;prevDecId!==decId&&(prevDecId=decId,finalResult[finalResultLen++]=dec)}return finalResult}}class splitLinesCollection_VisibleIdentitySplitLine{constructor(){}isVisible(){return!0}setVisible(isVisible){return isVisible?this:InvisibleIdentitySplitLine.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(model,modelLineNumber,_outputLineIndex){return model.getLineContent(modelLineNumber)}getViewLineLength(model,modelLineNumber,_outputLineIndex){return model.getLineLength(modelLineNumber)}getViewLineMinColumn(model,modelLineNumber,_outputLineIndex){return model.getLineMinColumn(modelLineNumber)}getViewLineMaxColumn(model,modelLineNumber,_outputLineIndex){return model.getLineMaxColumn(modelLineNumber)}getViewLineData(model,modelLineNumber,_outputLineIndex){let lineTokens=model.getLineTokens(modelLineNumber),lineContent=lineTokens.getLineContent();return new viewModel_viewModel.c(lineContent,!1,1,lineContent.length+1,0,lineTokens.inflate())}getViewLinesData(model,modelLineNumber,_fromOuputLineIndex,_toOutputLineIndex,globalStartIndex,needed,result){needed[globalStartIndex]?result[globalStartIndex]=this.getViewLineData(model,modelLineNumber,0):result[globalStartIndex]=null}getModelColumnOfViewPosition(_outputLineIndex,outputColumn){return outputColumn}getViewPositionOfModelPosition(deltaLineNumber,inputColumn){return new core_position.a(deltaLineNumber,inputColumn)}getViewLineNumberOfModelPosition(deltaLineNumber,_inputColumn){return deltaLineNumber}}splitLinesCollection_VisibleIdentitySplitLine.INSTANCE=new splitLinesCollection_VisibleIdentitySplitLine;class InvisibleIdentitySplitLine{constructor(){}isVisible(){return!1}setVisible(isVisible){return isVisible?splitLinesCollection_VisibleIdentitySplitLine.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")}getViewLineLength(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")}getViewLineMinColumn(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")}getViewLineMaxColumn(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")}getViewLineData(_model,_modelLineNumber,_outputLineIndex){throw new Error("Not supported")}getViewLinesData(_model,_modelLineNumber,_fromOuputLineIndex,_toOutputLineIndex,_globalStartIndex,_needed,_result){throw new Error("Not supported")}getModelColumnOfViewPosition(_outputLineIndex,_outputColumn){throw new Error("Not supported")}getViewPositionOfModelPosition(_deltaLineNumber,_inputColumn){throw new Error("Not supported")}getViewLineNumberOfModelPosition(_deltaLineNumber,_inputColumn){throw new Error("Not supported")}}InvisibleIdentitySplitLine.INSTANCE=new InvisibleIdentitySplitLine;class splitLinesCollection_SplitLine{constructor(lineBreakData,isVisible){this._lineBreakData=lineBreakData,this._isVisible=isVisible}isVisible(){return this._isVisible}setVisible(isVisible){return this._isVisible=isVisible,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(outputLineIndex){return LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,outputLineIndex,0)}getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex){return outputLineIndex+1===this._lineBreakData.breakOffsets.length?model.getLineMaxColumn(modelLineNumber)-1:LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,outputLineIndex+1,0)}getViewLineContent(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");let startOffset=this.getInputStartOffsetOfOutputLineIndex(outputLineIndex),endOffset=this.getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex),r=model.getValueInRange({startLineNumber:modelLineNumber,startColumn:startOffset+1,endLineNumber:modelLineNumber,endColumn:endOffset+1});return outputLineIndex>0&&(r=spaces(this._lineBreakData.wrappedTextIndentLength)+r),r}getViewLineLength(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");let startOffset=this.getInputStartOffsetOfOutputLineIndex(outputLineIndex),r=this.getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex)-startOffset;return outputLineIndex>0&&(r=this._lineBreakData.wrappedTextIndentLength+r),r}getViewLineMinColumn(_model,_modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");return outputLineIndex>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(model,modelLineNumber,outputLineIndex).length+1}getViewLineData(model,modelLineNumber,outputLineIndex){if(!this._isVisible)throw new Error("Not supported");let startOffset=this.getInputStartOffsetOfOutputLineIndex(outputLineIndex),endOffset=this.getInputEndOffsetOfOutputLineIndex(model,modelLineNumber,outputLineIndex),lineContent=model.getValueInRange({startLineNumber:modelLineNumber,startColumn:startOffset+1,endLineNumber:modelLineNumber,endColumn:endOffset+1});outputLineIndex>0&&(lineContent=spaces(this._lineBreakData.wrappedTextIndentLength)+lineContent);let minColumn=outputLineIndex>0?this._lineBreakData.wrappedTextIndentLength+1:1,maxColumn=lineContent.length+1,continuesWithWrappedLine=outputLineIndex+1<this.getViewLineCount(),deltaStartIndex=0;outputLineIndex>0&&(deltaStartIndex=this._lineBreakData.wrappedTextIndentLength);let lineTokens=model.getLineTokens(modelLineNumber);const startVisibleColumn=0===outputLineIndex?0:this._lineBreakData.breakOffsetsVisibleColumn[outputLineIndex-1];return new viewModel_viewModel.c(lineContent,continuesWithWrappedLine,minColumn,maxColumn,startVisibleColumn,lineTokens.sliceAndInflate(startOffset,endOffset,deltaStartIndex))}getViewLinesData(model,modelLineNumber,fromOuputLineIndex,toOutputLineIndex,globalStartIndex,needed,result){if(!this._isVisible)throw new Error("Not supported");for(let outputLineIndex=fromOuputLineIndex;outputLineIndex<toOutputLineIndex;outputLineIndex++){let globalIndex=globalStartIndex+outputLineIndex-fromOuputLineIndex;needed[globalIndex]?result[globalIndex]=this.getViewLineData(model,modelLineNumber,outputLineIndex):result[globalIndex]=null}}getModelColumnOfViewPosition(outputLineIndex,outputColumn){if(!this._isVisible)throw new Error("Not supported");let adjustedColumn=outputColumn-1;return outputLineIndex>0&&(adjustedColumn<this._lineBreakData.wrappedTextIndentLength?adjustedColumn=0:adjustedColumn-=this._lineBreakData.wrappedTextIndentLength),LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,outputLineIndex,adjustedColumn)+1}getViewPositionOfModelPosition(deltaLineNumber,inputColumn){if(!this._isVisible)throw new Error("Not supported");let r=LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,inputColumn-1),outputLineIndex=r.outputLineIndex,outputColumn=r.outputOffset+1;return outputLineIndex>0&&(outputColumn+=this._lineBreakData.wrappedTextIndentLength),new core_position.a(deltaLineNumber+outputLineIndex,outputColumn)}getViewLineNumberOfModelPosition(deltaLineNumber,inputColumn){if(!this._isVisible)throw new Error("Not supported");return deltaLineNumber+LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,inputColumn-1).outputLineIndex}}let _spaces=[""];function spaces(count){if(count>=_spaces.length)for(let i=1;i<=count;i++)_spaces[i]=_makeSpaces(i);return _spaces[count]}function _makeSpaces(count){return new Array(count+1).join(" ")}function createSplitLine(lineBreakData,isVisible){return null===lineBreakData?isVisible?splitLinesCollection_VisibleIdentitySplitLine.INSTANCE:InvisibleIdentitySplitLine.INSTANCE:new splitLinesCollection_SplitLine(lineBreakData,isVisible)}class IdentityCoordinatesConverter{constructor(lines){this._lines=lines}_validPosition(pos){return this._lines.model.validatePosition(pos)}_validRange(range){return this._lines.model.validateRange(range)}convertViewPositionToModelPosition(viewPosition){return this._validPosition(viewPosition)}convertViewRangeToModelRange(viewRange){return this._validRange(viewRange)}validateViewPosition(_viewPosition,expectedModelPosition){return this._validPosition(expectedModelPosition)}validateViewRange(_viewRange,expectedModelRange){return this._validRange(expectedModelRange)}convertModelPositionToViewPosition(modelPosition){return this._validPosition(modelPosition)}convertModelRangeToViewRange(modelRange){return this._validRange(modelRange)}modelPositionIsVisible(modelPosition){const lineCount=this._lines.model.getLineCount();return!(modelPosition.lineNumber<1||modelPosition.lineNumber>lineCount)}}class splitLinesCollection_IdentityLinesCollection{constructor(model){this.model=model}dispose(){}createCoordinatesConverter(){return new IdentityCoordinatesConverter(this)}getHiddenAreas(){return[]}setHiddenAreas(_ranges){return!1}setTabSize(_newTabSize){return!1}setWrappingSettings(_fontInfo,_wrappingStrategy,_wrappingColumn,_wrappingIndent){return!1}createLineBreaksComputer(){let result=[];return{addRequest:(lineText,previousLineBreakData)=>{result.push(null)},finalize:()=>result}}onModelFlushed(){}onModelLinesDeleted(_versionId,fromLineNumber,toLineNumber){return new ViewLinesDeletedEvent(fromLineNumber,toLineNumber)}onModelLinesInserted(_versionId,fromLineNumber,toLineNumber,lineBreaks){return new ViewLinesInsertedEvent(fromLineNumber,toLineNumber)}onModelLineChanged(_versionId,lineNumber,lineBreakData){return[!1,new ViewLinesChangedEvent(lineNumber,lineNumber),null,null]}acceptVersionId(_versionId){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(viewLineNumber,_minLineNumber,_maxLineNumber){return{startLineNumber:viewLineNumber,endLineNumber:viewLineNumber,indent:0}}getViewLinesIndentGuides(viewStartLineNumber,viewEndLineNumber){const viewLineCount=viewEndLineNumber-viewStartLineNumber+1;let result=new Array(viewLineCount);for(let i=0;i<viewLineCount;i++)result[i]=0;return result}getViewLineContent(viewLineNumber){return this.model.getLineContent(viewLineNumber)}getViewLineLength(viewLineNumber){return this.model.getLineLength(viewLineNumber)}getViewLineMinColumn(viewLineNumber){return this.model.getLineMinColumn(viewLineNumber)}getViewLineMaxColumn(viewLineNumber){return this.model.getLineMaxColumn(viewLineNumber)}getViewLineData(viewLineNumber){let lineTokens=this.model.getLineTokens(viewLineNumber),lineContent=lineTokens.getLineContent();return new viewModel_viewModel.c(lineContent,!1,1,lineContent.length+1,0,lineTokens.inflate())}getViewLinesData(viewStartLineNumber,viewEndLineNumber,needed){const lineCount=this.model.getLineCount();viewStartLineNumber=Math.min(Math.max(1,viewStartLineNumber),lineCount),viewEndLineNumber=Math.min(Math.max(1,viewEndLineNumber),lineCount);let result=[];for(let lineNumber=viewStartLineNumber;lineNumber<=viewEndLineNumber;lineNumber++){let idx=lineNumber-viewStartLineNumber;needed[idx]||(result[idx]=null),result[idx]=this.getViewLineData(lineNumber)}return result}getAllOverviewRulerDecorations(ownerId,filterOutValidation,theme){const decorations=this.model.getOverviewRulerDecorations(ownerId,filterOutValidation),result=new OverviewRulerDecorations;for(const decoration of decorations){const opts=decoration.options.overviewRuler,lane=opts?opts.position:0;if(0===lane)continue;const color=opts.getColor(theme),viewStartLineNumber=decoration.range.startLineNumber,viewEndLineNumber=decoration.range.endLineNumber;result.accept(color,viewStartLineNumber,viewEndLineNumber,lane)}return result.result}getDecorationsInRange(range,ownerId,filterOutValidation){return this.model.getDecorationsInRange(range,ownerId,filterOutValidation)}}class OverviewRulerDecorations{constructor(){this.result=Object.create(null)}accept(color,startLineNumber,endLineNumber,lane){let prev=this.result[color];if(prev){const prevLane=prev[prev.length-3],prevEndLineNumber=prev[prev.length-1];if(prevLane===lane&&prevEndLineNumber+1>=startLineNumber)return void(endLineNumber>prevEndLineNumber&&(prev[prev.length-1]=endLineNumber));prev.push(lane,startLineNumber,endLineNumber)}else this.result[color]=[lane,startLineNumber,endLineNumber]}}class viewModelDecorations_ViewModelDecorations{constructor(editorId,model,configuration,linesCollection,coordinatesConverter){this.editorId=editorId,this.model=model,this.configuration=configuration,this._linesCollection=linesCollection,this._coordinatesConverter=coordinatesConverter,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(modelDecoration){const id=modelDecoration.id;let r=this._decorationsCache[id];if(!r){const modelRange=modelDecoration.range,options=modelDecoration.options;let viewRange;if(options.isWholeLine){const start=this._coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.startLineNumber,1)),end=this._coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.endLineNumber,this.model.getLineMaxColumn(modelRange.endLineNumber)));viewRange=new core_range.a(start.lineNumber,start.column,end.lineNumber,end.column)}else viewRange=this._coordinatesConverter.convertModelRangeToViewRange(modelRange);r=new viewModel_viewModel.e(viewRange,options),this._decorationsCache[id]=r}return r}getDecorationsViewportData(viewRange){let cacheIsValid=null!==this._cachedModelDecorationsResolver;return(cacheIsValid=cacheIsValid&&viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(viewRange),this._cachedModelDecorationsResolverViewRange=viewRange),this._cachedModelDecorationsResolver}_getDecorationsViewportData(viewportRange){const modelDecorations=this._linesCollection.getDecorationsInRange(viewportRange,this.editorId,Object(editorOptions.l)(this.configuration.options)),startLineNumber=viewportRange.startLineNumber,endLineNumber=viewportRange.endLineNumber;let decorationsInViewport=[],decorationsInViewportLen=0,inlineDecorations=[];for(let j=startLineNumber;j<=endLineNumber;j++)inlineDecorations[j-startLineNumber]=[];for(let i=0,len=modelDecorations.length;i<len;i++){let modelDecoration=modelDecorations[i],decorationOptions=modelDecoration.options,viewModelDecoration=this._getOrCreateViewModelDecoration(modelDecoration),viewRange=viewModelDecoration.range;if(decorationsInViewport[decorationsInViewportLen++]=viewModelDecoration,decorationOptions.inlineClassName){let inlineDecoration=new viewModel_viewModel.a(viewRange,decorationOptions.inlineClassName,decorationOptions.inlineClassNameAffectsLetterSpacing?3:0),intersectedStartLineNumber=Math.max(startLineNumber,viewRange.startLineNumber),intersectedEndLineNumber=Math.min(endLineNumber,viewRange.endLineNumber);for(let j=intersectedStartLineNumber;j<=intersectedEndLineNumber;j++)inlineDecorations[j-startLineNumber].push(inlineDecoration)}if(decorationOptions.beforeContentClassName&&startLineNumber<=viewRange.startLineNumber&&viewRange.startLineNumber<=endLineNumber){let inlineDecoration=new viewModel_viewModel.a(new core_range.a(viewRange.startLineNumber,viewRange.startColumn,viewRange.startLineNumber,viewRange.startColumn),decorationOptions.beforeContentClassName,1);inlineDecorations[viewRange.startLineNumber-startLineNumber].push(inlineDecoration)}if(decorationOptions.afterContentClassName&&startLineNumber<=viewRange.endLineNumber&&viewRange.endLineNumber<=endLineNumber){let inlineDecoration=new viewModel_viewModel.a(new core_range.a(viewRange.endLineNumber,viewRange.endColumn,viewRange.endLineNumber,viewRange.endColumn),decorationOptions.afterContentClassName,2);inlineDecorations[viewRange.endLineNumber-startLineNumber].push(inlineDecoration)}}return{decorations:decorationsInViewport,inlineDecorations:inlineDecorations}}}const USE_IDENTITY_LINES_COLLECTION=!0;class viewModelImpl_ViewModel extends lifecycle.a{constructor(editorId,configuration,model,domLineBreaksComputerFactory,monospaceLineBreaksComputerFactory,scheduleAtNextAnimationFrame){if(super(),this._editorId=editorId,this._configuration=configuration,this.model=model,this._eventDispatcher=new viewModelEventDispatcher_ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new cursorCommon.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new common_async.d(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new common_async.d(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,USE_IDENTITY_LINES_COLLECTION&&this.model.isTooLargeForTokenization())this._lines=new splitLinesCollection_IdentityLinesCollection(this.model);else{const options=this._configuration.options,fontInfo=options.get(36),wrappingStrategy=options.get(112),wrappingInfo=options.get(118),wrappingIndent=options.get(111);this._lines=new splitLinesCollection_SplitLinesCollection(this.model,domLineBreaksComputerFactory,monospaceLineBreaksComputerFactory,fontInfo,this.model.getOptions().tabSize,wrappingStrategy,wrappingInfo.wrappingColumn,wrappingIndent)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new cursor_Cursor(model,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new viewLayout_ViewLayout(this._configuration,this.getLineCount(),scheduleAtNextAnimationFrame)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new ViewScrollChangedEvent(e)),this._eventDispatcher.emitOutgoingEvent(new ScrollChangedEvent(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new viewModelDecorations_ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{const eventsCollector=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(eventsCollector,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(minimapTokensColorTracker_MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}addViewEventHandler(eventHandler){this._eventDispatcher.addViewEventHandler(eventHandler)}removeViewEventHandler(eventHandler){this._eventDispatcher.removeViewEventHandler(eventHandler)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const linesViewportData=this.viewLayout.getLinesViewportData(),startPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(linesViewportData.startLineNumber,1)),endPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(linesViewportData.endLineNumber,1));this.model.tokenizeViewport(startPosition.lineNumber,endPosition.lineNumber)}setHasFocus(hasFocus){this._hasFocus=hasFocus,this._cursor.setHasFocus(hasFocus),this._eventDispatcher.emitSingleViewEvent(new ViewFocusChangedEvent(hasFocus)),this._eventDispatcher.emitOutgoingEvent(new FocusChangedEvent(!hasFocus,hasFocus))}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new ViewThemeChangedEvent)}_onConfigurationChanged(eventsCollector,e){let previousViewportStartModelPosition=null;if(-1!==this._viewportStartLine){let previousViewportStartViewPosition=new core_position.a(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));previousViewportStartModelPosition=this.coordinatesConverter.convertViewPositionToModelPosition(previousViewportStartViewPosition)}let restorePreviousViewportStart=!1;const options=this._configuration.options,fontInfo=options.get(36),wrappingStrategy=options.get(112),wrappingInfo=options.get(118),wrappingIndent=options.get(111);if(this._lines.setWrappingSettings(fontInfo,wrappingStrategy,wrappingInfo.wrappingColumn,wrappingIndent)&&(eventsCollector.emitViewEvent(new ViewFlushedEvent),eventsCollector.emitViewEvent(new ViewLineMappingChangedEvent),eventsCollector.emitViewEvent(new ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(eventsCollector),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(restorePreviousViewportStart=!0),this._updateConfigurationViewLineCount.schedule()),e.hasChanged(72)&&(this._decorations.reset(),eventsCollector.emitViewEvent(new ViewDecorationsChangedEvent(null))),eventsCollector.emitViewEvent(new ViewConfigurationChangedEvent(e)),this.viewLayout.onConfigurationChanged(e),restorePreviousViewportStart&&previousViewportStartModelPosition){const viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(previousViewportStartModelPosition),viewPositionTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);this.viewLayout.setScrollPosition({scrollTop:viewPositionTop+this._viewportStartLineDelta},1)}cursorCommon.b.shouldRecreate(e)&&(this.cursorConfig=new cursorCommon.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(e=>{try{const eventsCollector=this._eventDispatcher.beginEmitViewEvents();let hadOtherModelChange=!1,hadModelLineChangeThatChangedLineMapping=!1;const changes=e.changes,versionId=e.versionId,lineBreaksComputer=this._lines.createLineBreaksComputer();for(const change of changes)switch(change.changeType){case 4:for(const line of change.detail)lineBreaksComputer.addRequest(line,null);break;case 2:lineBreaksComputer.addRequest(change.detail,null)}const lineBreaks=lineBreaksComputer.finalize();let lineBreaksOffset=0;for(const change of changes)switch(change.changeType){case 1:this._lines.onModelFlushed(),eventsCollector.emitViewEvent(new ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),hadOtherModelChange=!0;break;case 3:{const linesDeletedEvent=this._lines.onModelLinesDeleted(versionId,change.fromLineNumber,change.toLineNumber);null!==linesDeletedEvent&&(eventsCollector.emitViewEvent(linesDeletedEvent),this.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber,linesDeletedEvent.toLineNumber)),hadOtherModelChange=!0;break}case 4:{const insertedLineBreaks=lineBreaks.slice(lineBreaksOffset,lineBreaksOffset+change.detail.length);lineBreaksOffset+=change.detail.length;const linesInsertedEvent=this._lines.onModelLinesInserted(versionId,change.fromLineNumber,change.toLineNumber,insertedLineBreaks);null!==linesInsertedEvent&&(eventsCollector.emitViewEvent(linesInsertedEvent),this.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber,linesInsertedEvent.toLineNumber)),hadOtherModelChange=!0;break}case 2:{const changedLineBreakData=lineBreaks[lineBreaksOffset];lineBreaksOffset++;const[lineMappingChanged,linesChangedEvent,linesInsertedEvent,linesDeletedEvent]=this._lines.onModelLineChanged(versionId,change.lineNumber,changedLineBreakData);hadModelLineChangeThatChangedLineMapping=lineMappingChanged,linesChangedEvent&&eventsCollector.emitViewEvent(linesChangedEvent),linesInsertedEvent&&(eventsCollector.emitViewEvent(linesInsertedEvent),this.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber,linesInsertedEvent.toLineNumber)),linesDeletedEvent&&(eventsCollector.emitViewEvent(linesDeletedEvent),this.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber,linesDeletedEvent.toLineNumber));break}}this._lines.acceptVersionId(versionId),this.viewLayout.onHeightMaybeChanged(),!hadOtherModelChange&&hadModelLineChangeThatChangedLineMapping&&(eventsCollector.emitViewEvent(new ViewLineMappingChangedEvent),eventsCollector.emitViewEvent(new ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(eventsCollector),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const modelRange=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(modelRange){const viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(modelRange.getStartPosition()),viewPositionTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);this.viewLayout.setScrollPosition({scrollTop:viewPositionTop+this._viewportStartLineDelta},1)}}try{const eventsCollector=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(eventsCollector,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let viewRanges=[];for(let j=0,lenJ=e.ranges.length;j<lenJ;j++){const modelRange=e.ranges[j],viewStartLineNumber=this.coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.fromLineNumber,1)).lineNumber,viewEndLineNumber=this.coordinatesConverter.convertModelPositionToViewPosition(new core_position.a(modelRange.toLineNumber,this.model.getLineMaxColumn(modelRange.toLineNumber))).lineNumber;viewRanges[j]={fromLineNumber:viewStartLineNumber,toLineNumber:viewEndLineNumber}}this._eventDispatcher.emitSingleViewEvent(new ViewTokensChangedEvent(viewRanges)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new ViewLanguageConfigurationEvent),this.cursorConfig=new cursorCommon.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new cursorCommon.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const eventsCollector=this._eventDispatcher.beginEmitViewEvents();eventsCollector.emitViewEvent(new ViewFlushedEvent),eventsCollector.emitViewEvent(new ViewLineMappingChangedEvent),eventsCollector.emitViewEvent(new ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(eventsCollector),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new cursorCommon.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new ViewDecorationsChangedEvent(e))}))}setHiddenAreas(ranges){try{const eventsCollector=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(ranges)&&(eventsCollector.emitViewEvent(new ViewFlushedEvent),eventsCollector.emitViewEvent(new ViewLineMappingChangedEvent),eventsCollector.emitViewEvent(new ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(eventsCollector),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const layoutInfo=this._configuration.options.get(117),lineHeight=this._configuration.options.get(51),linesAround=Math.max(20,Math.round(layoutInfo.height/lineHeight)),partialData=this.viewLayout.getLinesViewportData(),startViewLineNumber=Math.max(1,partialData.completelyVisibleStartLineNumber-linesAround),endViewLineNumber=Math.min(this.getLineCount(),partialData.completelyVisibleEndLineNumber+linesAround);return this._toModelVisibleRanges(new core_range.a(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber)))}getVisibleRanges(){const visibleViewRange=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(visibleViewRange)}_toModelVisibleRanges(visibleViewRange){const visibleRange=this.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange),hiddenAreas=this._lines.getHiddenAreas();if(0===hiddenAreas.length)return[visibleRange];let result=[],resultLen=0,startLineNumber=visibleRange.startLineNumber,startColumn=visibleRange.startColumn,endLineNumber=visibleRange.endLineNumber,endColumn=visibleRange.endColumn;for(let i=0,len=hiddenAreas.length;i<len;i++){const hiddenStartLineNumber=hiddenAreas[i].startLineNumber,hiddenEndLineNumber=hiddenAreas[i].endLineNumber;hiddenEndLineNumber<startLineNumber||(hiddenStartLineNumber>endLineNumber||(startLineNumber<hiddenStartLineNumber&&(result[resultLen++]=new core_range.a(startLineNumber,startColumn,hiddenStartLineNumber-1,this.model.getLineMaxColumn(hiddenStartLineNumber-1))),startLineNumber=hiddenEndLineNumber+1,startColumn=1))}return(startLineNumber<endLineNumber||startLineNumber===endLineNumber&&startColumn<endColumn)&&(result[resultLen++]=new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn)),result}getCompletelyVisibleViewRange(){const partialData=this.viewLayout.getLinesViewportData(),startViewLineNumber=partialData.completelyVisibleStartLineNumber,endViewLineNumber=partialData.completelyVisibleEndLineNumber;return new core_range.a(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber))}getCompletelyVisibleViewRangeAtScrollTop(scrollTop){const partialData=this.viewLayout.getLinesViewportDataAtScrollTop(scrollTop),startViewLineNumber=partialData.completelyVisibleStartLineNumber,endViewLineNumber=partialData.completelyVisibleEndLineNumber;return new core_range.a(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber))}saveState(){const compatViewState=this.viewLayout.saveState(),scrollTop=compatViewState.scrollTop,firstViewLineNumber=this.viewLayout.getLineNumberAtVerticalOffset(scrollTop),firstPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(firstViewLineNumber,this.getLineMinColumn(firstViewLineNumber))),firstPositionDeltaTop=this.viewLayout.getVerticalOffsetForLineNumber(firstViewLineNumber)-scrollTop;return{scrollLeft:compatViewState.scrollLeft,firstPosition:firstPosition,firstPositionDeltaTop:firstPositionDeltaTop}}reduceRestoreState(state){if(void 0===state.firstPosition)return this._reduceRestoreStateCompatibility(state);const modelPosition=this.model.validatePosition(state.firstPosition),viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(modelPosition),scrollTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber)-state.firstPositionDeltaTop;return{scrollLeft:state.scrollLeft,scrollTop:scrollTop}}_reduceRestoreStateCompatibility(state){return{scrollLeft:state.scrollLeft,scrollTop:state.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(startLineNumber,endLineNumber,centeredLineNumber){this._viewportStartLine=startLineNumber;let position=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position.a(startLineNumber,this.getLineMinColumn(startLineNumber)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),1);const viewportStartLineTop=this.viewLayout.getVerticalOffsetForLineNumber(startLineNumber),scrollTop=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=scrollTop-viewportStartLineTop}getActiveIndentGuide(lineNumber,minLineNumber,maxLineNumber){return this._lines.getActiveIndentGuide(lineNumber,minLineNumber,maxLineNumber)}getLinesIndentGuides(startLineNumber,endLineNumber){return this._lines.getViewLinesIndentGuides(startLineNumber,endLineNumber)}getLineContent(lineNumber){return this._lines.getViewLineContent(lineNumber)}getLineLength(lineNumber){return this._lines.getViewLineLength(lineNumber)}getLineMinColumn(lineNumber){return this._lines.getViewLineMinColumn(lineNumber)}getLineMaxColumn(lineNumber){return this._lines.getViewLineMaxColumn(lineNumber)}getLineFirstNonWhitespaceColumn(lineNumber){const result=strings.w(this.getLineContent(lineNumber));return-1===result?0:result+1}getLineLastNonWhitespaceColumn(lineNumber){const result=strings.J(this.getLineContent(lineNumber));return-1===result?0:result+2}getDecorationsInViewport(visibleRange){return this._decorations.getDecorationsViewportData(visibleRange).decorations}getViewLineRenderingData(visibleRange,lineNumber){let mightContainRTL=this.model.mightContainRTL(),mightContainNonBasicASCII=this.model.mightContainNonBasicASCII(),tabSize=this.getTabSize(),lineData=this._lines.getViewLineData(lineNumber),inlineDecorations=this._decorations.getDecorationsViewportData(visibleRange).inlineDecorations[lineNumber-visibleRange.startLineNumber];return new viewModel_viewModel.d(lineData.minColumn,lineData.maxColumn,lineData.content,lineData.continuesWithWrappedLine,mightContainRTL,mightContainNonBasicASCII,lineData.tokens,inlineDecorations,tabSize,lineData.startVisibleColumn)}getViewLineData(lineNumber){return this._lines.getViewLineData(lineNumber)}getMinimapLinesRenderingData(startLineNumber,endLineNumber,needed){let result=this._lines.getViewLinesData(startLineNumber,endLineNumber,needed);return new viewModel_viewModel.b(this.getTabSize(),result)}getAllOverviewRulerDecorations(theme){return this._lines.getAllOverviewRulerDecorations(this._editorId,Object(editorOptions.l)(this._configuration.options),theme)}invalidateOverviewRulerColorCache(){const decorations=this.model.getOverviewRulerDecorations();for(const decoration of decorations){const opts=decoration.options.overviewRuler;opts&&opts.invalidateCachedColor()}}invalidateMinimapColorCache(){const decorations=this.model.getAllDecorations();for(const decoration of decorations){const opts=decoration.options.minimap;opts&&opts.invalidateCachedColor()}}getValueInRange(range,eol){const modelRange=this.coordinatesConverter.convertViewRangeToModelRange(range);return this.model.getValueInRange(modelRange,eol)}getModelLineMaxColumn(modelLineNumber){return this.model.getLineMaxColumn(modelLineNumber)}validateModelPosition(position){return this.model.validatePosition(position)}validateModelRange(range){return this.model.validateRange(range)}deduceModelPositionRelativeToViewPosition(viewAnchorPosition,deltaOffset,lineFeedCnt){const modelAnchor=this.coordinatesConverter.convertViewPositionToModelPosition(viewAnchorPosition);2===this.model.getEOL().length&&(deltaOffset<0?deltaOffset-=lineFeedCnt:deltaOffset+=lineFeedCnt);const resultOffset=this.model.getOffsetAt(modelAnchor)+deltaOffset;return this.model.getPositionAt(resultOffset)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(modelRanges,emptySelectionClipboard,forceCRLF){const newLineCharacter=forceCRLF?"\r\n":this.model.getEOL();(modelRanges=modelRanges.slice(0)).sort(core_range.a.compareRangesUsingStarts);let hasEmptyRange=!1,hasNonEmptyRange=!1;for(const range of modelRanges)range.isEmpty()?hasEmptyRange=!0:hasNonEmptyRange=!0;if(!hasNonEmptyRange){if(!emptySelectionClipboard)return"";const modelLineNumbers=modelRanges.map(r=>r.startLineNumber);let result="";for(let i=0;i<modelLineNumbers.length;i++)i>0&&modelLineNumbers[i-1]===modelLineNumbers[i]||(result+=this.model.getLineContent(modelLineNumbers[i])+newLineCharacter);return result}if(hasEmptyRange&&emptySelectionClipboard){let result=[],prevModelLineNumber=0;for(const modelRange of modelRanges){const modelLineNumber=modelRange.startLineNumber;modelRange.isEmpty()?modelLineNumber!==prevModelLineNumber&&result.push(this.model.getLineContent(modelLineNumber)):result.push(this.model.getValueInRange(modelRange,forceCRLF?2:0)),prevModelLineNumber=modelLineNumber}return 1===result.length?result[0]:result}let result=[];for(const modelRange of modelRanges)modelRange.isEmpty()||result.push(this.model.getValueInRange(modelRange,forceCRLF?2:0));return 1===result.length?result[0]:result}getRichTextToCopy(modelRanges,emptySelectionClipboard){const languageId=this.model.getLanguageIdentifier();if(1===languageId.id)return null;if(1!==modelRanges.length)return null;let range=modelRanges[0];if(range.isEmpty()){if(!emptySelectionClipboard)return null;const lineNumber=range.startLineNumber;range=new core_range.a(lineNumber,this.model.getLineMinColumn(lineNumber),lineNumber,this.model.getLineMaxColumn(lineNumber))}const fontInfo=this._configuration.options.get(36),colorMap=this._getColorMap(),fontFamily=fontInfo.fontFamily===editorOptions.c.fontFamily?fontInfo.fontFamily:`'${fontInfo.fontFamily}', ${editorOptions.c.fontFamily}`;return{mode:languageId.language,html:'<div style="'+`color: ${colorMap[1]};`+`background-color: ${colorMap[2]};`+`font-family: ${fontFamily};`+`font-weight: ${fontInfo.fontWeight};`+`font-size: ${fontInfo.fontSize}px;`+`line-height: ${fontInfo.lineHeight}px;`+'white-space: pre;">'+this._getHTMLToCopy(range,colorMap)+"</div>"}}_getHTMLToCopy(modelRange,colorMap){const startLineNumber=modelRange.startLineNumber,startColumn=modelRange.startColumn,endLineNumber=modelRange.endLineNumber,endColumn=modelRange.endColumn,tabSize=this.getTabSize();let result="";for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){const lineTokens=this.model.getLineTokens(lineNumber),lineContent=lineTokens.getLineContent(),startOffset=lineNumber===startLineNumber?startColumn-1:0,endOffset=lineNumber===endLineNumber?endColumn-1:lineContent.length;result+=""===lineContent?"<br>":Object(textToHtmlTokenizer.a)(lineContent,lineTokens.inflate(),colorMap,startOffset,endOffset,tabSize,platform.i)}return result}_getColorMap(){let colorMap=modes.C.getColorMap(),result=["#000000"];if(colorMap)for(let i=1,len=colorMap.length;i<len;i++)result[i]=common_color.a.Format.CSS.formatHex(colorMap[i]);return result}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(source,reason,states){this._withViewEventsCollector(eventsCollector=>this._cursor.setStates(eventsCollector,source,reason,states))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}setCursorColumnSelectData(columnSelectData){this._cursor.setCursorColumnSelectData(columnSelectData)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(type){this._cursor.setPrevEditOperationType(type)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(source,selections){this._withViewEventsCollector(eventsCollector=>this._cursor.setSelections(eventsCollector,source,selections))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(states){this._withViewEventsCollector(eventsCollector=>this._cursor.restoreState(eventsCollector,states))}_executeCursorEdit(callback){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new ReadOnlyEditAttemptEvent):this._withViewEventsCollector(callback)}executeEdits(source,edits,cursorStateComputer){this._executeCursorEdit(eventsCollector=>this._cursor.executeEdits(eventsCollector,source,edits,cursorStateComputer))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(eventsCollector=>this._cursor.startComposition(eventsCollector))}endComposition(source){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(eventsCollector=>this._cursor.endComposition(eventsCollector,source))}type(text,source){this._executeCursorEdit(eventsCollector=>this._cursor.type(eventsCollector,text,source))}replacePreviousChar(text,replaceCharCnt,source){this._executeCursorEdit(eventsCollector=>this._cursor.replacePreviousChar(eventsCollector,text,replaceCharCnt,source))}paste(text,pasteOnNewLine,multicursorText,source){this._executeCursorEdit(eventsCollector=>this._cursor.paste(eventsCollector,text,pasteOnNewLine,multicursorText,source))}cut(source){this._executeCursorEdit(eventsCollector=>this._cursor.cut(eventsCollector,source))}executeCommand(command,source){this._executeCursorEdit(eventsCollector=>this._cursor.executeCommand(eventsCollector,command,source))}executeCommands(commands,source){this._executeCursorEdit(eventsCollector=>this._cursor.executeCommands(eventsCollector,commands,source))}revealPrimaryCursor(source,revealHorizontal){this._withViewEventsCollector(eventsCollector=>this._cursor.revealPrimary(eventsCollector,source,revealHorizontal,0))}revealTopMostCursor(source){const viewPosition=this._cursor.getTopMostViewPosition(),viewRange=new core_range.a(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this._withViewEventsCollector(eventsCollector=>eventsCollector.emitViewEvent(new ViewRevealRangeRequestEvent(source,viewRange,null,0,!0,0)))}revealBottomMostCursor(source){const viewPosition=this._cursor.getBottomMostViewPosition(),viewRange=new core_range.a(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this._withViewEventsCollector(eventsCollector=>eventsCollector.emitViewEvent(new ViewRevealRangeRequestEvent(source,viewRange,null,0,!0,0)))}revealRange(source,revealHorizontal,viewRange,verticalType,scrollType){this._withViewEventsCollector(eventsCollector=>eventsCollector.emitViewEvent(new ViewRevealRangeRequestEvent(source,viewRange,null,verticalType,revealHorizontal,scrollType)))}getVerticalOffsetForLineNumber(viewLineNumber){return this.viewLayout.getVerticalOffsetForLineNumber(viewLineNumber)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(newScrollTop,scrollType){this.viewLayout.setScrollPosition({scrollTop:newScrollTop},scrollType)}setScrollPosition(position,type){this.viewLayout.setScrollPosition(position,type)}deltaScrollNow(deltaScrollLeft,deltaScrollTop){this.viewLayout.deltaScrollNow(deltaScrollLeft,deltaScrollTop)}changeWhitespace(callback){this.viewLayout.changeWhitespace(callback)&&(this._eventDispatcher.emitSingleViewEvent(new ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new viewModelEventDispatcher_ViewZonesChangedEvent))}setMaxLineWidth(maxLineWidth){this.viewLayout.setMaxLineWidth(maxLineWidth)}_withViewEventsCollector(callback){try{callback(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}}var common_commands=__webpack_require__(2318),contextkey=__webpack_require__(2307),instantiation=__webpack_require__(2300),serviceCollection=__webpack_require__(2410),notification=__webpack_require__(2322),accessibility=__webpack_require__(2351),types=__webpack_require__(2314),characterClassifier=__webpack_require__(2377);class monospaceLineBreaksComputer_WrappingCharacterClassifier extends characterClassifier.a{constructor(BREAK_BEFORE,BREAK_AFTER){super(0);for(let i=0;i<BREAK_BEFORE.length;i++)this.set(BREAK_BEFORE.charCodeAt(i),1);for(let i=0;i<BREAK_AFTER.length;i++)this.set(BREAK_AFTER.charCodeAt(i),2)}get(charCode){return charCode>=0&&charCode<256?this._asciiMap[charCode]:charCode>=12352&&charCode<=12543||charCode>=13312&&charCode<=19903||charCode>=19968&&charCode<=40959?3:this._map.get(charCode)||this._defaultValue}}let arrPool1=[],arrPool2=[];class MonospaceLineBreaksComputerFactory{constructor(breakBeforeChars,breakAfterChars){this.classifier=new monospaceLineBreaksComputer_WrappingCharacterClassifier(breakBeforeChars,breakAfterChars)}static create(options){return new MonospaceLineBreaksComputerFactory(options.get(108),options.get(107))}createLineBreaksComputer(fontInfo,tabSize,wrappingColumn,wrappingIndent){tabSize|=0,wrappingColumn=+wrappingColumn;let requests=[],previousBreakingData=[];return{addRequest:(lineText,previousLineBreakData)=>{requests.push(lineText),previousBreakingData.push(previousLineBreakData)},finalize:()=>{const columnsForFullWidthChar=fontInfo.typicalFullwidthCharacterWidth/fontInfo.typicalHalfwidthCharacterWidth;let result=[];for(let i=0,len=requests.length;i<len;i++){const previousLineBreakData=previousBreakingData[i];result[i]=previousLineBreakData?createLineBreaksFromPreviousLineBreaks(this.classifier,previousLineBreakData,requests[i],tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent):createLineBreaks(this.classifier,requests[i],tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent)}return arrPool1.length=0,arrPool2.length=0,result}}}}function createLineBreaksFromPreviousLineBreaks(classifier,previousBreakingData,lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent){if(-1===firstLineBreakColumn)return null;const len=lineText.length;if(len<=1)return null;const prevBreakingOffsets=previousBreakingData.breakOffsets,prevBreakingOffsetsVisibleColumn=previousBreakingData.breakOffsetsVisibleColumn,wrappedTextIndentLength=computeWrappedTextIndentLength(lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent),wrappedLineBreakColumn=firstLineBreakColumn-wrappedTextIndentLength;let breakingOffsets=arrPool1,breakingOffsetsVisibleColumn=arrPool2,breakingOffsetsCount=0,lastBreakingOffset=0,lastBreakingOffsetVisibleColumn=0,breakingColumn=firstLineBreakColumn;const prevLen=prevBreakingOffsets.length;let prevIndex=0;if(prevIndex>=0){let bestDistance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex]-breakingColumn);for(;prevIndex+1<prevLen;){const distance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex+1]-breakingColumn);if(distance>=bestDistance)break;bestDistance=distance,prevIndex++}}for(;prevIndex<prevLen;){let prevBreakOffset=prevIndex<0?0:prevBreakingOffsets[prevIndex],prevBreakOffsetVisibleColumn=prevIndex<0?0:prevBreakingOffsetsVisibleColumn[prevIndex];lastBreakingOffset>prevBreakOffset&&(prevBreakOffset=lastBreakingOffset,prevBreakOffsetVisibleColumn=lastBreakingOffsetVisibleColumn);let breakOffset=0,breakOffsetVisibleColumn=0,forcedBreakOffset=0,forcedBreakOffsetVisibleColumn=0;if(prevBreakOffsetVisibleColumn<=breakingColumn){let visibleColumn=prevBreakOffsetVisibleColumn,prevCharCode=0===prevBreakOffset?0:lineText.charCodeAt(prevBreakOffset-1),prevCharCodeClass=0===prevBreakOffset?0:classifier.get(prevCharCode),entireLineFits=!0;for(let i=prevBreakOffset;i<len;i++){const charStartOffset=i,charCode=lineText.charCodeAt(i);let charCodeClass,charWidth;if(strings.F(charCode)?(i++,charCodeClass=0,charWidth=2):(charCodeClass=classifier.get(charCode),charWidth=computeCharWidth(charCode,visibleColumn,tabSize,columnsForFullWidthChar)),charStartOffset>lastBreakingOffset&&canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass)&&(breakOffset=charStartOffset,breakOffsetVisibleColumn=visibleColumn),(visibleColumn+=charWidth)>breakingColumn){charStartOffset>lastBreakingOffset?(forcedBreakOffset=charStartOffset,forcedBreakOffsetVisibleColumn=visibleColumn-charWidth):(forcedBreakOffset=i+1,forcedBreakOffsetVisibleColumn=visibleColumn),visibleColumn-breakOffsetVisibleColumn>wrappedLineBreakColumn&&(breakOffset=0),entireLineFits=!1;break}prevCharCode=charCode,prevCharCodeClass=charCodeClass}if(entireLineFits){breakingOffsetsCount>0&&(breakingOffsets[breakingOffsetsCount]=prevBreakingOffsets[prevBreakingOffsets.length-1],breakingOffsetsVisibleColumn[breakingOffsetsCount]=prevBreakingOffsetsVisibleColumn[prevBreakingOffsets.length-1],breakingOffsetsCount++);break}}if(0===breakOffset){let visibleColumn=prevBreakOffsetVisibleColumn,charCode=lineText.charCodeAt(prevBreakOffset),charCodeClass=classifier.get(charCode),hitATabCharacter=!1;for(let i=prevBreakOffset-1;i>=lastBreakingOffset;i--){const charStartOffset=i+1,prevCharCode=lineText.charCodeAt(i);if(9===prevCharCode){hitATabCharacter=!0;break}let prevCharCodeClass,prevCharWidth;if(strings.G(prevCharCode)?(i--,prevCharCodeClass=0,prevCharWidth=2):(prevCharCodeClass=classifier.get(prevCharCode),prevCharWidth=strings.E(prevCharCode)?columnsForFullWidthChar:1),visibleColumn<=breakingColumn){if(0===forcedBreakOffset&&(forcedBreakOffset=charStartOffset,forcedBreakOffsetVisibleColumn=visibleColumn),visibleColumn<=breakingColumn-wrappedLineBreakColumn)break;if(canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass)){breakOffset=charStartOffset,breakOffsetVisibleColumn=visibleColumn;break}}visibleColumn-=prevCharWidth,charCode=prevCharCode,charCodeClass=prevCharCodeClass}if(0!==breakOffset){const remainingWidthOfNextLine=wrappedLineBreakColumn-(forcedBreakOffsetVisibleColumn-breakOffsetVisibleColumn);if(remainingWidthOfNextLine<=tabSize){const charCodeAtForcedBreakOffset=lineText.charCodeAt(forcedBreakOffset);let charWidth;remainingWidthOfNextLine-(charWidth=strings.F(charCodeAtForcedBreakOffset)?2:computeCharWidth(charCodeAtForcedBreakOffset,forcedBreakOffsetVisibleColumn,tabSize,columnsForFullWidthChar))<0&&(breakOffset=0)}}if(hitATabCharacter){prevIndex--;continue}}for(0===breakOffset&&(breakOffset=forcedBreakOffset,breakOffsetVisibleColumn=forcedBreakOffsetVisibleColumn),lastBreakingOffset=breakOffset,breakingOffsets[breakingOffsetsCount]=breakOffset,lastBreakingOffsetVisibleColumn=breakOffsetVisibleColumn,breakingOffsetsVisibleColumn[breakingOffsetsCount]=breakOffsetVisibleColumn,breakingOffsetsCount++,breakingColumn=breakOffsetVisibleColumn+wrappedLineBreakColumn;prevIndex<0||prevIndex<prevLen&&prevBreakingOffsetsVisibleColumn[prevIndex]<breakOffsetVisibleColumn;)prevIndex++;let bestDistance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex]-breakingColumn);for(;prevIndex+1<prevLen;){const distance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex+1]-breakingColumn);if(distance>=bestDistance)break;bestDistance=distance,prevIndex++}}return 0===breakingOffsetsCount?null:(breakingOffsets.length=breakingOffsetsCount,breakingOffsetsVisibleColumn.length=breakingOffsetsCount,arrPool1=previousBreakingData.breakOffsets,arrPool2=previousBreakingData.breakOffsetsVisibleColumn,previousBreakingData.breakOffsets=breakingOffsets,previousBreakingData.breakOffsetsVisibleColumn=breakingOffsetsVisibleColumn,previousBreakingData.wrappedTextIndentLength=wrappedTextIndentLength,previousBreakingData)}function createLineBreaks(classifier,lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent){if(-1===firstLineBreakColumn)return null;const len=lineText.length;if(len<=1)return null;const wrappedTextIndentLength=computeWrappedTextIndentLength(lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent),wrappedLineBreakColumn=firstLineBreakColumn-wrappedTextIndentLength;let breakingOffsets=[],breakingOffsetsVisibleColumn=[],breakingOffsetsCount=0,breakOffset=0,breakOffsetVisibleColumn=0,breakingColumn=firstLineBreakColumn,prevCharCode=lineText.charCodeAt(0),prevCharCodeClass=classifier.get(prevCharCode),visibleColumn=computeCharWidth(prevCharCode,0,tabSize,columnsForFullWidthChar),startOffset=1;strings.F(prevCharCode)&&(visibleColumn+=1,prevCharCode=lineText.charCodeAt(1),prevCharCodeClass=classifier.get(prevCharCode),startOffset++);for(let i=startOffset;i<len;i++){const charStartOffset=i,charCode=lineText.charCodeAt(i);let charCodeClass,charWidth;strings.F(charCode)?(i++,charCodeClass=0,charWidth=2):(charCodeClass=classifier.get(charCode),charWidth=computeCharWidth(charCode,visibleColumn,tabSize,columnsForFullWidthChar)),canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass)&&(breakOffset=charStartOffset,breakOffsetVisibleColumn=visibleColumn),(visibleColumn+=charWidth)>breakingColumn&&((0===breakOffset||visibleColumn-breakOffsetVisibleColumn>wrappedLineBreakColumn)&&(breakOffset=charStartOffset,breakOffsetVisibleColumn=visibleColumn-charWidth),breakingOffsets[breakingOffsetsCount]=breakOffset,breakingOffsetsVisibleColumn[breakingOffsetsCount]=breakOffsetVisibleColumn,breakingOffsetsCount++,breakingColumn=breakOffsetVisibleColumn+wrappedLineBreakColumn,breakOffset=0),prevCharCode=charCode,prevCharCodeClass=charCodeClass}return 0===breakingOffsetsCount?null:(breakingOffsets[breakingOffsetsCount]=len,breakingOffsetsVisibleColumn[breakingOffsetsCount]=visibleColumn,new LineBreakData(breakingOffsets,breakingOffsetsVisibleColumn,wrappedTextIndentLength))}function computeCharWidth(charCode,visibleColumn,tabSize,columnsForFullWidthChar){return 9===charCode?tabSize-visibleColumn%tabSize:strings.E(charCode)?columnsForFullWidthChar:1}function tabCharacterWidth(visibleColumn,tabSize){return tabSize-visibleColumn%tabSize}function canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass){return 32!==charCode&&(2===prevCharCodeClass||3===prevCharCodeClass&&2!==charCodeClass||1===charCodeClass||3===charCodeClass&&1!==prevCharCodeClass)}function computeWrappedTextIndentLength(lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent){let wrappedTextIndentLength=0;if(0!==wrappingIndent){const firstNonWhitespaceIndex=strings.w(lineText);if(-1!==firstNonWhitespaceIndex){for(let i=0;i<firstNonWhitespaceIndex;i++){wrappedTextIndentLength+=9===lineText.charCodeAt(i)?tabCharacterWidth(wrappedTextIndentLength,tabSize):1}const numberOfAdditionalTabs=3===wrappingIndent?2:2===wrappingIndent?1:0;for(let i=0;i<numberOfAdditionalTabs;i++){wrappedTextIndentLength+=tabCharacterWidth(wrappedTextIndentLength,tabSize)}wrappedTextIndentLength+columnsForFullWidthChar>firstLineBreakColumn&&(wrappedTextIndentLength=0)}}return wrappedTextIndentLength}class DOMLineBreaksComputerFactory{static create(){return new DOMLineBreaksComputerFactory}constructor(){}createLineBreaksComputer(fontInfo,tabSize,wrappingColumn,wrappingIndent){tabSize|=0,wrappingColumn=+wrappingColumn;let requests=[];return{addRequest:(lineText,previousLineBreakData)=>{requests.push(lineText)},finalize:()=>(function domLineBreaksComputer_createLineBreaks(requests,fontInfo,tabSize,firstLineBreakColumn,wrappingIndent){if(-1===firstLineBreakColumn){const result=[];for(let i=0,len=requests.length;i<len;i++)result[i]=null;return result}const overallWidth=Math.round(firstLineBreakColumn*fontInfo.typicalHalfwidthCharacterWidth);2!==wrappingIndent&&3!==wrappingIndent||(wrappingIndent=1);const containerDomNode=document.createElement("div");config_configuration.a.applyFontInfoSlow(containerDomNode,fontInfo);const sb=Object(stringBuilder.a)(1e4),firstNonWhitespaceIndices=[],wrappedTextIndentLengths=[],renderLineContents=[],allCharOffsets=[],allVisibleColumns=[];for(let i=0;i<requests.length;i++){const lineContent=requests[i];let firstNonWhitespaceIndex=0,wrappedTextIndentLength=0,width=overallWidth;if(0!==wrappingIndent)if(-1===(firstNonWhitespaceIndex=strings.w(lineContent)))firstNonWhitespaceIndex=0;else{for(let i=0;i<firstNonWhitespaceIndex;i++){const charWidth=9===lineContent.charCodeAt(i)?tabSize-wrappedTextIndentLength%tabSize:1;wrappedTextIndentLength+=charWidth}const indentWidth=Math.ceil(fontInfo.spaceWidth*wrappedTextIndentLength);indentWidth+fontInfo.typicalFullwidthCharacterWidth>overallWidth?(firstNonWhitespaceIndex=0,wrappedTextIndentLength=0):width=overallWidth-indentWidth}const renderLineContent=lineContent.substr(firstNonWhitespaceIndex),tmp=renderLine(renderLineContent,wrappedTextIndentLength,tabSize,width,sb);firstNonWhitespaceIndices[i]=firstNonWhitespaceIndex,wrappedTextIndentLengths[i]=wrappedTextIndentLength,renderLineContents[i]=renderLineContent,allCharOffsets[i]=tmp[0],allVisibleColumns[i]=tmp[1]}containerDomNode.innerHTML=sb.build(),containerDomNode.style.position="absolute",containerDomNode.style.top="10000",containerDomNode.style.wordWrap="break-word",document.body.appendChild(containerDomNode);let range=document.createRange();const lineDomNodes=Array.prototype.slice.call(containerDomNode.children,0);let result=[];for(let i=0;i<requests.length;i++){const lineDomNode=lineDomNodes[i],breakOffsets=readLineBreaks(range,lineDomNode,renderLineContents[i],allCharOffsets[i]);if(null===breakOffsets){result[i]=null;continue}const firstNonWhitespaceIndex=firstNonWhitespaceIndices[i],wrappedTextIndentLength=wrappedTextIndentLengths[i],visibleColumns=allVisibleColumns[i],breakOffsetsVisibleColumn=[];for(let j=0,len=breakOffsets.length;j<len;j++)breakOffsetsVisibleColumn[j]=visibleColumns[breakOffsets[j]];if(0!==firstNonWhitespaceIndex)for(let j=0,len=breakOffsets.length;j<len;j++)breakOffsets[j]+=firstNonWhitespaceIndex;result[i]=new LineBreakData(breakOffsets,breakOffsetsVisibleColumn,wrappedTextIndentLength)}return document.body.removeChild(containerDomNode),result})(requests,fontInfo,tabSize,wrappingColumn,wrappingIndent)}}}function renderLine(lineContent,initialVisibleColumn,tabSize,width,sb){sb.appendASCIIString('<div style="width:'),sb.appendASCIIString(String(width)),sb.appendASCIIString('px;">');const len=lineContent.length;let visibleColumn=initialVisibleColumn,charOffset=0,charOffsets=[],visibleColumns=[],nextCharCode=0<len?lineContent.charCodeAt(0):0;sb.appendASCIIString("<span>");for(let charIndex=0;charIndex<len;charIndex++){0!==charIndex&&charIndex%16384==0&&sb.appendASCIIString("</span><span>"),charOffsets[charIndex]=charOffset,visibleColumns[charIndex]=visibleColumn;const charCode=nextCharCode;nextCharCode=charIndex+1<len?lineContent.charCodeAt(charIndex+1):0;let producedCharacters=1,charWidth=1;switch(charCode){case 9:charWidth=producedCharacters=tabSize-visibleColumn%tabSize;for(let space=1;space<=producedCharacters;space++)space<producedCharacters?sb.write1(160):sb.appendASCII(32);break;case 32:32===nextCharCode?sb.write1(160):sb.appendASCII(32);break;case 60:sb.appendASCIIString("&lt;");break;case 62:sb.appendASCIIString("&gt;");break;case 38:sb.appendASCIIString("&amp;");break;case 0:sb.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:sb.write1(65533);break;default:strings.E(charCode)&&charWidth++,sb.write1(charCode)}charOffset+=producedCharacters,visibleColumn+=charWidth}return sb.appendASCIIString("</span>"),charOffsets[lineContent.length]=charOffset,visibleColumns[lineContent.length]=visibleColumn,sb.appendASCIIString("</div>"),[charOffsets,visibleColumns]}function readLineBreaks(range,lineDomNode,lineContent,charOffsets){if(lineContent.length<=1)return null;const spans=Array.prototype.slice.call(lineDomNode.children,0),breakOffsets=[];try{!function discoverBreaks(range,spans,charOffsets,low,lowRects,high,highRects,result){if(low===high)return;lowRects=lowRects||readClientRect(range,spans,charOffsets[low],charOffsets[low+1]);highRects=highRects||readClientRect(range,spans,charOffsets[high],charOffsets[high+1]);if(Math.abs(lowRects[0].top-highRects[0].top)<=.1)return;if(low+1===high)return void result.push(high);const mid=low+(high-low)/2|0;const midRects=readClientRect(range,spans,charOffsets[mid],charOffsets[mid+1]);discoverBreaks(range,spans,charOffsets,low,lowRects,mid,midRects,result);discoverBreaks(range,spans,charOffsets,mid,midRects,high,highRects,result)}(range,spans,charOffsets,0,null,lineContent.length-1,null,breakOffsets)}catch(err){return console.log(err),null}return 0===breakOffsets.length?null:(breakOffsets.push(lineContent.length),breakOffsets)}function readClientRect(range,spans,startOffset,endOffset){return range.setStart(spans[startOffset/16384|0].firstChild,startOffset%16384),range.setEnd(spans[endOffset/16384|0].firstChild,endOffset%16384),range.getClientRects()}var cursorWordOperations=__webpack_require__(2406);__webpack_require__.d(__webpack_exports__,"a",function(){return codeEditorWidget_CodeEditorWidget});var __param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let EDITOR_ID=0;class codeEditorWidget_ModelData{constructor(model,viewModel,view,hasRealView,listenersToRemove){this.model=model,this.viewModel=viewModel,this.view=view,this.hasRealView=hasRealView,this.listenersToRemove=listenersToRemove}dispose(){Object(lifecycle.f)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let codeEditorWidget_CodeEditorWidget=class CodeEditorWidget extends lifecycle.a{constructor(domElement,options,codeEditorWidgetOptions,instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService){let contributions;super(),this._onDidDispose=this._register(new common_event.a),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new common_event.a),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new common_event.a),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new common_event.a),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new common_event.a),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new common_event.a),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new common_event.a),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new common_event.a),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new common_event.a),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new common_event.a),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new common_event.a),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new common_event.a),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new codeEditorWidget_BooleanEventEmitter),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new codeEditorWidget_BooleanEventEmitter),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new common_event.a),this.onWillType=this._onWillType.event,this._onDidType=this._register(new common_event.a),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new common_event.a),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new common_event.a),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new common_event.a),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new common_event.a),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new common_event.a),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new common_event.a),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new common_event.a),this.onMouseDrop=this._onMouseDrop.event,this._onContextMenu=this._register(new common_event.a),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new common_event.a),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new common_event.a),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new common_event.a),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new common_event.a),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new common_event.a),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new common_event.a),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new common_event.a),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new common_event.a),this.onDidChangeViewZones=this._onDidChangeViewZones.event,options=options||{},this._domElement=domElement,this._overflowWidgetsDomNode=options.overflowWidgetsDomNode,this._id=++EDITOR_ID,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=codeEditorWidgetOptions.isSimpleWidget||!1,this._telemetryData=codeEditorWidgetOptions.telemetryData,this._configuration=this._register(this._createConfiguration(options,accessibilityService)),this._register(this._configuration.onDidChange(e=>{this._onDidChangeConfiguration.fire(e);const options=this._configuration.options;if(e.hasChanged(117)){const layoutInfo=options.get(117);this._onDidLayoutChange.fire(layoutInfo)}})),this._contextKeyService=this._register(contextKeyService.createScoped(this._domElement)),this._notificationService=notificationService,this._codeEditorService=codeEditorService,this._commandService=commandService,this._themeService=themeService,this._register(new codeEditorWidget_EditorContextKeysManager(this,this._contextKeyService)),this._register(new codeEditorWidget_EditorModeContext(this,this._contextKeyService)),this._instantiationService=instantiationService.createChild(new serviceCollection.a([contextkey.b,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new codeEditorWidget_CodeEditorWidgetFocusTracker(domElement),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={},contributions=Array.isArray(codeEditorWidgetOptions.contributions)?codeEditorWidgetOptions.contributions:editorExtensions.d.getEditorContributions();for(const desc of contributions)try{const contribution=this._instantiationService.createInstance(desc.ctor,this);this._contributions[desc.id]=contribution}catch(err){Object(errors.e)(err)}editorExtensions.d.getEditorActions().forEach(action=>{const internalAction=new editorAction.a(action.id,action.label,action.alias,Object(types.n)(action.precondition),()=>this._instantiationService.invokeFunction(accessor=>Promise.resolve(action.runEditorCommand(accessor,this,null))),this._contextKeyService);this._actions[internalAction.id]=internalAction}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(options,accessibilityService){return new config_configuration.a(this.isSimpleWidget,options,this._domElement,accessibilityService)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return editorCommon.a.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const keys=Object.keys(this._contributions);for(let i=0,len=keys.length;i<len;i++){const contributionId=keys[i];this._contributions[contributionId].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(fn){return this._instantiationService.invokeFunction(fn)}updateOptions(newOptions){this._configuration.updateOptions(newOptions)}getOptions(){return this._configuration.options}getOption(id){return this._configuration.options.get(id)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(position){return this._modelData?cursorWordOperations.a.getWordAtPosition(this._modelData.model,this._configuration.options.get(105),position):null}getValue(options=null){if(!this._modelData)return"";const preserveBOM=!(!options||!options.preserveBOM);let eolPreference=0;return options&&options.lineEnding&&"\n"===options.lineEnding?eolPreference=1:options&&options.lineEnding&&"\r\n"===options.lineEnding&&(eolPreference=2),this._modelData.model.getValue(eolPreference,preserveBOM)}setValue(newValue){this._modelData&&this._modelData.model.setValue(newValue)}getModel(){return this._modelData?this._modelData.model:null}setModel(_model=null){const model=_model;if(null===this._modelData&&null===model)return;if(this._modelData&&this._modelData.model===model)return;const hasTextFocus=this.hasTextFocus(),detachedModel=this._detachModel();this._attachModel(model),hasTextFocus&&this.hasModel()&&this.focus();const e={oldModelUrl:detachedModel?detachedModel.uri:null,newModelUrl:model?model.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(e),this._postDetachModelCleanup(detachedModel)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let decorationType in this._decorationTypeSubtypes){const subTypes=this._decorationTypeSubtypes[decorationType];for(let subType in subTypes)this._removeDecorationType(decorationType+"-"+subType)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(modelData,modelLineNumber,modelColumn){const modelPosition=modelData.model.validatePosition({lineNumber:modelLineNumber,column:modelColumn}),viewPosition=modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);return modelData.viewModel.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber)}getTopForLineNumber(lineNumber){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,lineNumber,1):-1}getTopForPosition(lineNumber,column){return this._modelData?CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,lineNumber,column):-1}setHiddenAreas(ranges){this._modelData&&this._modelData.viewModel.setHiddenAreas(ranges.map(r=>core_range.a.lift(r)))}getVisibleColumnFromPosition(rawPosition){if(!this._modelData)return rawPosition.column;const position=this._modelData.model.validatePosition(rawPosition),tabSize=this._modelData.model.getOptions().tabSize;return cursorCommon.a.visibleColumnFromColumn(this._modelData.model.getLineContent(position.lineNumber),position.column,tabSize)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(position){if(this._modelData){if(!core_position.a.isIPosition(position))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:position.lineNumber,selectionStartColumn:position.column,positionLineNumber:position.lineNumber,positionColumn:position.column}])}}_sendRevealRange(modelRange,verticalType,revealHorizontal,scrollType){if(!this._modelData)return;if(!core_range.a.isIRange(modelRange))throw new Error("Invalid arguments");const validatedModelRange=this._modelData.model.validateRange(modelRange),viewRange=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(validatedModelRange);this._modelData.viewModel.revealRange("api",revealHorizontal,viewRange,verticalType,scrollType)}revealLine(lineNumber,scrollType=0){this._revealLine(lineNumber,0,scrollType)}revealLineInCenter(lineNumber,scrollType=0){this._revealLine(lineNumber,1,scrollType)}revealLineInCenterIfOutsideViewport(lineNumber,scrollType=0){this._revealLine(lineNumber,2,scrollType)}revealLineNearTop(lineNumber,scrollType=0){this._revealLine(lineNumber,5,scrollType)}_revealLine(lineNumber,revealType,scrollType){if("number"!=typeof lineNumber)throw new Error("Invalid arguments");this._sendRevealRange(new core_range.a(lineNumber,1,lineNumber,1),revealType,!1,scrollType)}revealPosition(position,scrollType=0){this._revealPosition(position,0,!0,scrollType)}revealPositionInCenter(position,scrollType=0){this._revealPosition(position,1,!0,scrollType)}revealPositionInCenterIfOutsideViewport(position,scrollType=0){this._revealPosition(position,2,!0,scrollType)}revealPositionNearTop(position,scrollType=0){this._revealPosition(position,5,!0,scrollType)}_revealPosition(position,verticalType,revealHorizontal,scrollType){if(!core_position.a.isIPosition(position))throw new Error("Invalid arguments");this._sendRevealRange(new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),verticalType,revealHorizontal,scrollType)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(something){const isSelection=core_selection.a.isISelection(something),isRange=core_range.a.isIRange(something);if(!isSelection&&!isRange)throw new Error("Invalid arguments");if(isSelection)this._setSelectionImpl(something);else if(isRange){const selection={selectionStartLineNumber:something.startLineNumber,selectionStartColumn:something.startColumn,positionLineNumber:something.endLineNumber,positionColumn:something.endColumn};this._setSelectionImpl(selection)}}_setSelectionImpl(sel){if(!this._modelData)return;const selection=new core_selection.a(sel.selectionStartLineNumber,sel.selectionStartColumn,sel.positionLineNumber,sel.positionColumn);this._modelData.viewModel.setSelections("api",[selection])}revealLines(startLineNumber,endLineNumber,scrollType=0){this._revealLines(startLineNumber,endLineNumber,0,scrollType)}revealLinesInCenter(startLineNumber,endLineNumber,scrollType=0){this._revealLines(startLineNumber,endLineNumber,1,scrollType)}revealLinesInCenterIfOutsideViewport(startLineNumber,endLineNumber,scrollType=0){this._revealLines(startLineNumber,endLineNumber,2,scrollType)}revealLinesNearTop(startLineNumber,endLineNumber,scrollType=0){this._revealLines(startLineNumber,endLineNumber,5,scrollType)}_revealLines(startLineNumber,endLineNumber,verticalType,scrollType){if("number"!=typeof startLineNumber||"number"!=typeof endLineNumber)throw new Error("Invalid arguments");this._sendRevealRange(new core_range.a(startLineNumber,1,endLineNumber,1),verticalType,!1,scrollType)}revealRange(range,scrollType=0,revealVerticalInCenter=!1,revealHorizontal=!0){this._revealRange(range,revealVerticalInCenter?1:0,revealHorizontal,scrollType)}revealRangeInCenter(range,scrollType=0){this._revealRange(range,1,!0,scrollType)}revealRangeInCenterIfOutsideViewport(range,scrollType=0){this._revealRange(range,2,!0,scrollType)}revealRangeNearTop(range,scrollType=0){this._revealRange(range,5,!0,scrollType)}revealRangeNearTopIfOutsideViewport(range,scrollType=0){this._revealRange(range,6,!0,scrollType)}revealRangeAtTop(range,scrollType=0){this._revealRange(range,3,!0,scrollType)}_revealRange(range,verticalType,revealHorizontal,scrollType){if(!core_range.a.isIRange(range))throw new Error("Invalid arguments");this._sendRevealRange(core_range.a.lift(range),verticalType,revealHorizontal,scrollType)}setSelections(ranges,source="api"){if(this._modelData){if(!ranges||0===ranges.length)throw new Error("Invalid arguments");for(let i=0,len=ranges.length;i<len;i++)if(!core_selection.a.isISelection(ranges[i]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(source,ranges)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(newScrollLeft,scrollType=1){if(this._modelData){if("number"!=typeof newScrollLeft)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:newScrollLeft},scrollType)}}setScrollTop(newScrollTop,scrollType=1){if(this._modelData){if("number"!=typeof newScrollTop)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:newScrollTop},scrollType)}}setScrollPosition(position,scrollType=1){this._modelData&&this._modelData.viewModel.setScrollPosition(position,scrollType)}saveViewState(){if(!this._modelData)return null;const contributionsState={},keys=Object.keys(this._contributions);for(const id of keys){const contribution=this._contributions[id];"function"==typeof contribution.saveViewState&&(contributionsState[id]=contribution.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:contributionsState}}restoreViewState(s){if(!this._modelData||!this._modelData.hasRealView)return;const codeEditorState=s;if(codeEditorState&&codeEditorState.cursorState&&codeEditorState.viewState){const cursorState=codeEditorState.cursorState;Array.isArray(cursorState)?this._modelData.viewModel.restoreCursorState(cursorState):this._modelData.viewModel.restoreCursorState([cursorState]);const contributionsState=codeEditorState.contributionsState||{},keys=Object.keys(this._contributions);for(let i=0,len=keys.length;i<len;i++){const id=keys[i],contribution=this._contributions[id];"function"==typeof contribution.restoreViewState&&contribution.restoreViewState(contributionsState[id])}const reducedState=this._modelData.viewModel.reduceRestoreState(codeEditorState.viewState);this._modelData.view.restoreState(reducedState)}}getContribution(id){return this._contributions[id]||null}getActions(){const result=[],keys=Object.keys(this._actions);for(let i=0,len=keys.length;i<len;i++){const id=keys[i];result.push(this._actions[id])}return result}getSupportedActions(){let result=this.getActions();return result=result.filter(action=>action.isSupported())}getAction(id){return this._actions[id]||null}trigger(source,handlerId,payload){switch(payload=payload||{},handlerId){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(source);case"type":{const args=payload;return void this._type(source,args.text||"")}case"replacePreviousChar":{const args=payload;return void this._replacePreviousChar(source,args.text||"",args.replaceCharCnt||0)}case"paste":{const args=payload;return void this._paste(source,args.text||"",args.pasteOnNewLine||!1,args.multicursorText||null,args.mode||null)}case"cut":return void this._cut(source)}const action=this.getAction(handlerId);action?Promise.resolve(action.run()).then(void 0,errors.e):this._modelData&&this._triggerEditorCommand(source,handlerId,payload)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(source){this._modelData&&(this._modelData.viewModel.endComposition(source),this._onDidCompositionEnd.fire())}_type(source,text){this._modelData&&0!==text.length&&("keyboard"===source&&this._onWillType.fire(text),this._modelData.viewModel.type(text,source),"keyboard"===source&&this._onDidType.fire(text))}_replacePreviousChar(source,text,replaceCharCnt){this._modelData&&this._modelData.viewModel.replacePreviousChar(text,replaceCharCnt,source)}_paste(source,text,pasteOnNewLine,multicursorText,mode){if(!this._modelData||0===text.length)return;const startPosition=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(text,pasteOnNewLine,multicursorText,source);const endPosition=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===source&&this._onDidPaste.fire({range:new core_range.a(startPosition.lineNumber,startPosition.column,endPosition.lineNumber,endPosition.column),mode:mode})}_cut(source){this._modelData&&this._modelData.viewModel.cut(source)}_triggerEditorCommand(source,handlerId,payload){const command=editorExtensions.d.getEditorCommand(handlerId);return!!command&&((payload=payload||{}).source=source,this._instantiationService.invokeFunction(accessor=>{Promise.resolve(command.runEditorCommand(accessor,this,payload)).then(void 0,errors.e)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(72)&&(this._modelData.model.pushStackElement(),!0))}executeEdits(source,edits,endCursorState){if(!this._modelData)return!1;if(this._configuration.options.get(72))return!1;let cursorStateComputer;return cursorStateComputer=endCursorState?Array.isArray(endCursorState)?()=>endCursorState:endCursorState:()=>null,this._modelData.viewModel.executeEdits(source,edits,cursorStateComputer),!0}executeCommand(source,command){this._modelData&&this._modelData.viewModel.executeCommand(command,source)}executeCommands(source,commands){this._modelData&&this._modelData.viewModel.executeCommands(commands,source)}changeDecorations(callback){return this._modelData?this._modelData.model.changeDecorations(callback,this._id):null}getLineDecorations(lineNumber){return this._modelData?this._modelData.model.getLineDecorations(lineNumber,this._id,Object(editorOptions.l)(this._configuration.options)):null}deltaDecorations(oldDecorations,newDecorations){return this._modelData?0===oldDecorations.length&&0===newDecorations.length?oldDecorations:this._modelData.model.deltaDecorations(oldDecorations,newDecorations,this._id):[]}removeDecorations(decorationTypeKey){const oldDecorationsIds=this._decorationTypeKeysToIds[decorationTypeKey];oldDecorationsIds&&this.deltaDecorations(oldDecorationsIds,[]),this._decorationTypeKeysToIds.hasOwnProperty(decorationTypeKey)&&delete this._decorationTypeKeysToIds[decorationTypeKey],this._decorationTypeSubtypes.hasOwnProperty(decorationTypeKey)&&delete this._decorationTypeSubtypes[decorationTypeKey]}getLayoutInfo(){return this._configuration.options.get(117)}createOverviewRuler(cssClassName){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(cssClassName):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(browserEvent){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(browserEvent)}layout(dimension){this._configuration.observeReferenceElement(dimension),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(widget){const widgetData={widget:widget,position:widget.getPosition()};this._contentWidgets.hasOwnProperty(widget.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[widget.getId()]=widgetData,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(widgetData)}layoutContentWidget(widget){const widgetId=widget.getId();if(this._contentWidgets.hasOwnProperty(widgetId)){const widgetData=this._contentWidgets[widgetId];widgetData.position=widget.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(widgetData)}}removeContentWidget(widget){const widgetId=widget.getId();if(this._contentWidgets.hasOwnProperty(widgetId)){const widgetData=this._contentWidgets[widgetId];delete this._contentWidgets[widgetId],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(widgetData)}}addOverlayWidget(widget){const widgetData={widget:widget,position:widget.getPosition()};this._overlayWidgets.hasOwnProperty(widget.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[widget.getId()]=widgetData,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(widgetData)}layoutOverlayWidget(widget){const widgetId=widget.getId();if(this._overlayWidgets.hasOwnProperty(widgetId)){const widgetData=this._overlayWidgets[widgetId];widgetData.position=widget.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(widgetData)}}removeOverlayWidget(widget){const widgetId=widget.getId();if(this._overlayWidgets.hasOwnProperty(widgetId)){const widgetData=this._overlayWidgets[widgetId];delete this._overlayWidgets[widgetId],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(widgetData)}}changeViewZones(callback){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(callback)}getTargetAtClientPoint(clientX,clientY){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(clientX,clientY):null}getScrolledVisiblePosition(rawPosition){if(!this._modelData||!this._modelData.hasRealView)return null;const position=this._modelData.model.validatePosition(rawPosition),options=this._configuration.options,layoutInfo=options.get(117);return{top:CodeEditorWidget._getVerticalOffsetForPosition(this._modelData,position.lineNumber,position.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(position.lineNumber,position.column)+layoutInfo.glyphMarginWidth+layoutInfo.lineNumbersWidth+layoutInfo.decorationsWidth-this.getScrollLeft(),height:options.get(51)}}getOffsetForColumn(lineNumber,column){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(lineNumber,column):-1}render(forceRedraw=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,forceRedraw)}setAriaOptions(options){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(options)}applyFontInfo(target){config_configuration.a.applyFontInfoSlow(target,this._configuration.options.get(36))}_attachModel(model){if(!model)return void(this._modelData=null);const listenersToRemove=[];this._domElement.setAttribute("data-mode-id",model.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(model.isDominatedByLongLines()),this._configuration.setMaxLineNumber(model.getLineCount()),model.onBeforeAttached();const viewModel=new viewModelImpl_ViewModel(this._id,this._configuration,model,DOMLineBreaksComputerFactory.create(),MonospaceLineBreaksComputerFactory.create(this._configuration.options),callback=>dom.Y(callback));listenersToRemove.push(model.onDidChangeDecorations(e=>this._onDidChangeModelDecorations.fire(e))),listenersToRemove.push(model.onDidChangeLanguage(e=>{this._domElement.setAttribute("data-mode-id",model.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(e)})),listenersToRemove.push(model.onDidChangeLanguageConfiguration(e=>this._onDidChangeModelLanguageConfiguration.fire(e))),listenersToRemove.push(model.onDidChangeContent(e=>this._onDidChangeModelContent.fire(e))),listenersToRemove.push(model.onDidChangeOptions(e=>this._onDidChangeModelOptions.fire(e))),listenersToRemove.push(model.onWillDispose(()=>this.setModel(null))),listenersToRemove.push(viewModel.onEvent(e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{e.reachedMaxCursorCount&&this._notificationService.warn(nls.a("cursors.maximum","The number of cursors has been limited to {0}.",cursor_Cursor.MAX_CURSOR_COUNT));const positions=[];for(let i=0,len=e.selections.length;i<len;i++)positions[i]=e.selections[i].getPosition();const e1={position:positions[0],secondaryPositions:positions.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(e1);const e2={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(e2);break}}}));const[view,hasRealView]=this._createView(viewModel);if(hasRealView){this._domElement.appendChild(view.domNode.domNode);let keys=Object.keys(this._contentWidgets);for(let i=0,len=keys.length;i<len;i++){const widgetId=keys[i];view.addContentWidget(this._contentWidgets[widgetId])}for(let i=0,len=(keys=Object.keys(this._overlayWidgets)).length;i<len;i++){const widgetId=keys[i];view.addOverlayWidget(this._overlayWidgets[widgetId])}view.render(!1,!0),view.domNode.domNode.setAttribute("data-uri",model.uri.toString())}this._modelData=new codeEditorWidget_ModelData(model,viewModel,view,hasRealView,listenersToRemove)}_createView(viewModel){let commandDelegate;commandDelegate=this.isSimpleWidget?{paste:(text,pasteOnNewLine,multicursorText,mode)=>{this._paste("keyboard",text,pasteOnNewLine,multicursorText,mode)},type:text=>{this._type("keyboard",text)},replacePreviousChar:(text,replaceCharCnt)=>{this._replacePreviousChar("keyboard",text,replaceCharCnt)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(text,pasteOnNewLine,multicursorText,mode)=>{const payload={text:text,pasteOnNewLine:pasteOnNewLine,multicursorText:multicursorText,mode:mode};this._commandService.executeCommand("paste",payload)},type:text=>{const payload={text:text};this._commandService.executeCommand("type",payload)},replacePreviousChar:(text,replaceCharCnt)=>{const payload={text:text,replaceCharCnt:replaceCharCnt};this._commandService.executeCommand("replacePreviousChar",payload)},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const viewUserInputEvents=new ViewUserInputEvents(viewModel.coordinatesConverter);return viewUserInputEvents.onKeyDown=e=>this._onKeyDown.fire(e),viewUserInputEvents.onKeyUp=e=>this._onKeyUp.fire(e),viewUserInputEvents.onContextMenu=e=>this._onContextMenu.fire(e),viewUserInputEvents.onMouseMove=e=>this._onMouseMove.fire(e),viewUserInputEvents.onMouseLeave=e=>this._onMouseLeave.fire(e),viewUserInputEvents.onMouseDown=e=>this._onMouseDown.fire(e),viewUserInputEvents.onMouseUp=e=>this._onMouseUp.fire(e),viewUserInputEvents.onMouseDrag=e=>this._onMouseDrag.fire(e),viewUserInputEvents.onMouseDrop=e=>this._onMouseDrop.fire(e),viewUserInputEvents.onMouseWheel=e=>this._onMouseWheel.fire(e),[new viewImpl_View(commandDelegate,this._configuration,this._themeService,viewModel,viewUserInputEvents,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(detachedModel){detachedModel&&detachedModel.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const model=this._modelData.model,removeDomNode=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),removeDomNode&&this._domElement.contains(removeDomNode)&&this._domElement.removeChild(removeDomNode),model}_removeDecorationType(key){this._codeEditorService.removeDecorationType(key)}hasModel(){return null!==this._modelData}};codeEditorWidget_CodeEditorWidget=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([__param(3,instantiation.a),__param(4,services_codeEditorService.a),__param(5,common_commands.b),__param(6,contextkey.b),__param(7,common_themeService.c),__param(8,notification.a),__param(9,accessibility.b)],codeEditorWidget_CodeEditorWidget);class codeEditorWidget_BooleanEventEmitter extends lifecycle.a{constructor(){super(),this._onDidChangeToTrue=this._register(new common_event.a),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new common_event.a),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(_value){const value=_value?2:1;this._value!==value&&(this._value=value,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class codeEditorWidget_EditorContextKeysManager extends lifecycle.a{constructor(editor,contextKeyService){super(),this._editor=editor,contextKeyService.createKey("editorId",editor.getId()),this._editorSimpleInput=editorContextKeys.a.editorSimpleInput.bindTo(contextKeyService),this._editorFocus=editorContextKeys.a.focus.bindTo(contextKeyService),this._textInputFocus=editorContextKeys.a.textInputFocus.bindTo(contextKeyService),this._editorTextFocus=editorContextKeys.a.editorTextFocus.bindTo(contextKeyService),this._editorTabMovesFocus=editorContextKeys.a.tabMovesFocus.bindTo(contextKeyService),this._editorReadonly=editorContextKeys.a.readOnly.bindTo(contextKeyService),this._editorColumnSelection=editorContextKeys.a.columnSelection.bindTo(contextKeyService),this._hasMultipleSelections=editorContextKeys.a.hasMultipleSelections.bindTo(contextKeyService),this._hasNonEmptySelection=editorContextKeys.a.hasNonEmptySelection.bindTo(contextKeyService),this._canUndo=editorContextKeys.a.canUndo.bindTo(contextKeyService),this._canRedo=editorContextKeys.a.canRedo.bindTo(contextKeyService),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const options=this._editor.getOptions();this._editorTabMovesFocus.set(options.get(116)),this._editorReadonly.set(options.get(72)),this._editorColumnSelection.set(options.get(13))}_updateFromSelection(){const selections=this._editor.getSelections();selections?(this._hasMultipleSelections.set(selections.length>1),this._hasNonEmptySelection.set(selections.some(s=>!s.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const model=this._editor.getModel();this._canUndo.set(Boolean(model&&model.canUndo())),this._canRedo.set(Boolean(model&&model.canRedo()))}}class codeEditorWidget_EditorModeContext extends lifecycle.a{constructor(_editor,_contextKeyService){super(),this._editor=_editor,this._contextKeyService=_contextKeyService,this._langId=editorContextKeys.a.languageId.bindTo(_contextKeyService),this._hasCompletionItemProvider=editorContextKeys.a.hasCompletionItemProvider.bindTo(_contextKeyService),this._hasCodeActionsProvider=editorContextKeys.a.hasCodeActionsProvider.bindTo(_contextKeyService),this._hasCodeLensProvider=editorContextKeys.a.hasCodeLensProvider.bindTo(_contextKeyService),this._hasDefinitionProvider=editorContextKeys.a.hasDefinitionProvider.bindTo(_contextKeyService),this._hasDeclarationProvider=editorContextKeys.a.hasDeclarationProvider.bindTo(_contextKeyService),this._hasImplementationProvider=editorContextKeys.a.hasImplementationProvider.bindTo(_contextKeyService),this._hasTypeDefinitionProvider=editorContextKeys.a.hasTypeDefinitionProvider.bindTo(_contextKeyService),this._hasHoverProvider=editorContextKeys.a.hasHoverProvider.bindTo(_contextKeyService),this._hasDocumentHighlightProvider=editorContextKeys.a.hasDocumentHighlightProvider.bindTo(_contextKeyService),this._hasDocumentSymbolProvider=editorContextKeys.a.hasDocumentSymbolProvider.bindTo(_contextKeyService),this._hasReferenceProvider=editorContextKeys.a.hasReferenceProvider.bindTo(_contextKeyService),this._hasRenameProvider=editorContextKeys.a.hasRenameProvider.bindTo(_contextKeyService),this._hasSignatureHelpProvider=editorContextKeys.a.hasSignatureHelpProvider.bindTo(_contextKeyService),this._hasDocumentFormattingProvider=editorContextKeys.a.hasDocumentFormattingProvider.bindTo(_contextKeyService),this._hasDocumentSelectionFormattingProvider=editorContextKeys.a.hasDocumentSelectionFormattingProvider.bindTo(_contextKeyService),this._hasMultipleDocumentFormattingProvider=editorContextKeys.a.hasMultipleDocumentFormattingProvider.bindTo(_contextKeyService),this._hasMultipleDocumentSelectionFormattingProvider=editorContextKeys.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(_contextKeyService),this._isInWalkThrough=editorContextKeys.a.isInWalkThroughSnippet.bindTo(_contextKeyService);const update=()=>this._update();this._register(_editor.onDidChangeModel(update)),this._register(_editor.onDidChangeModelLanguage(update)),this._register(modes.d.onDidChange(update)),this._register(modes.a.onDidChange(update)),this._register(modes.b.onDidChange(update)),this._register(modes.f.onDidChange(update)),this._register(modes.e.onDidChange(update)),this._register(modes.q.onDidChange(update)),this._register(modes.D.onDidChange(update)),this._register(modes.p.onDidChange(update)),this._register(modes.i.onDidChange(update)),this._register(modes.m.onDidChange(update)),this._register(modes.v.onDidChange(update)),this._register(modes.w.onDidChange(update)),this._register(modes.g.onDidChange(update)),this._register(modes.j.onDidChange(update)),this._register(modes.y.onDidChange(update)),update()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const model=this._editor.getModel();model?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(model.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(modes.d.has(model)),this._hasCodeActionsProvider.set(modes.a.has(model)),this._hasCodeLensProvider.set(modes.b.has(model)),this._hasDefinitionProvider.set(modes.f.has(model)),this._hasDeclarationProvider.set(modes.e.has(model)),this._hasImplementationProvider.set(modes.q.has(model)),this._hasTypeDefinitionProvider.set(modes.D.has(model)),this._hasHoverProvider.set(modes.p.has(model)),this._hasDocumentHighlightProvider.set(modes.i.has(model)),this._hasDocumentSymbolProvider.set(modes.m.has(model)),this._hasReferenceProvider.set(modes.v.has(model)),this._hasRenameProvider.set(modes.w.has(model)),this._hasSignatureHelpProvider.set(modes.y.has(model)),this._hasDocumentFormattingProvider.set(modes.g.has(model)||modes.j.has(model)),this._hasDocumentSelectionFormattingProvider.set(modes.j.has(model)),this._hasMultipleDocumentFormattingProvider.set(modes.g.all(model).length+modes.j.all(model).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(modes.j.all(model).length>1),this._isInWalkThrough.set(model.uri.scheme===network.b.walkThroughSnippet)}):this.reset()}}class codeEditorWidget_CodeEditorWidgetFocusTracker extends lifecycle.a{constructor(domElement){super(),this._onChange=this._register(new common_event.a),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(dom.bb(domElement)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const squigglyStart=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),squigglyEnd=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function getSquigglySVGData(color){return squigglyStart+encodeURIComponent(color.toString())+squigglyEnd}const dotdotdotStart=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),dotdotdotEnd=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(common_themeService.g)((theme,collector)=>{const errorBorderColor=theme.getColor(colorRegistry.t);errorBorderColor&&collector.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${errorBorderColor}; }`);const errorForeground=theme.getColor(colorRegistry.u);errorForeground&&collector.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${getSquigglySVGData(errorForeground)}") repeat-x bottom left; }`);const warningBorderColor=theme.getColor(colorRegistry.S);warningBorderColor&&collector.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${warningBorderColor}; }`);const warningForeground=theme.getColor(colorRegistry.T);warningForeground&&collector.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${getSquigglySVGData(warningForeground)}") repeat-x bottom left; }`);const infoBorderColor=theme.getColor(colorRegistry.K);infoBorderColor&&collector.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${infoBorderColor}; }`);const infoForeground=theme.getColor(colorRegistry.L);infoForeground&&collector.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${getSquigglySVGData(infoForeground)}") repeat-x bottom left; }`);const hintBorderColor=theme.getColor(colorRegistry.C);hintBorderColor&&collector.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${hintBorderColor}; }`);const hintForeground=theme.getColor(colorRegistry.D);hintForeground&&collector.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function getDotDotDotSVGData(color){return dotdotdotStart+encodeURIComponent(color.toString())+dotdotdotEnd}(hintForeground)}") no-repeat bottom left; }`);const unnecessaryForeground=theme.getColor(editorColorRegistry.p);unnecessaryForeground&&collector.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${unnecessaryForeground.rgba.a}; }`);const unnecessaryBorder=theme.getColor(editorColorRegistry.o);unnecessaryBorder&&collector.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${unnecessaryBorder}; }`);const deprecatedForeground=theme.getColor(colorRegistry.B)||"inherit";collector.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${deprecatedForeground}}`)})},2452:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var lifecycle=__webpack_require__(2294),editorExtensions=__webpack_require__(2301),core_range=__webpack_require__(2295),core_selection=__webpack_require__(2311),editorContextKeys=__webpack_require__(2312),suggest=__webpack_require__(2417),contextkey=__webpack_require__(2307),log=__webpack_require__(2374),arrays=__webpack_require__(2309),strings=__webpack_require__(2299),editOperation=(__webpack_require__(2619),__webpack_require__(2350)),textModel=__webpack_require__(2321),workspace=__webpack_require__(2445),instantiation=__webpack_require__(2300),snippetParser=__webpack_require__(2418),nls=__webpack_require__(2297),path=__webpack_require__(2352),resources=__webpack_require__(2331),languageConfigurationRegistry=__webpack_require__(2334),uri=__webpack_require__(2313);const WORKSPACE_EXTENSION="code-workspace";function isSingleFolderWorkspaceIdentifier(obj){return obj instanceof uri.a}var labels=__webpack_require__(2440);class CompositeSnippetVariableResolver{constructor(_delegates){this._delegates=_delegates}resolve(variable){for(const delegate of this._delegates){let value=delegate.resolve(variable);if(void 0!==value)return value}}}class snippetVariables_SelectionBasedVariableResolver{constructor(_model,_selection,_selectionIdx,_overtypingCapturer){this._model=_model,this._selection=_selection,this._selectionIdx=_selectionIdx,this._overtypingCapturer=_overtypingCapturer}resolve(variable){const{name:name}=variable;if("SELECTION"===name||"TM_SELECTED_TEXT"===name){let value=this._model.getValueInRange(this._selection)||void 0,isMultiline=this._selection.startLineNumber!==this._selection.endLineNumber;if(!value&&this._overtypingCapturer){const info=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);info&&(value=info.value,isMultiline=info.multiline)}if(value&&isMultiline&&variable.snippet){const line=this._model.getLineContent(this._selection.startLineNumber),lineLeadingWhitespace=Object(strings.z)(line,0,this._selection.startColumn-1);let varLeadingWhitespace=lineLeadingWhitespace;variable.snippet.walk(marker=>marker!==variable&&(marker instanceof snippetParser.d&&(varLeadingWhitespace=Object(strings.z)(marker.value.split(/\r\n|\r|\n/).pop())),!0));const whitespaceCommonLength=Object(strings.d)(varLeadingWhitespace,lineLeadingWhitespace);value=value.replace(/(\r\n|\r|\n)(.*)/g,(m,newline,rest)=>`${newline}${varLeadingWhitespace.substr(whitespaceCommonLength)}${rest}`)}return value}if("TM_CURRENT_LINE"===name)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===name){const info=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return info&&info.word||void 0}return"TM_LINE_INDEX"===name?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===name?String(this._selection.positionLineNumber):void 0}}class snippetVariables_ModelBasedVariableResolver{constructor(_labelService,_model){this._labelService=_labelService,this._model=_model}resolve(variable){const{name:name}=variable;if("TM_FILENAME"===name)return path.a(this._model.uri.fsPath);if("TM_FILENAME_BASE"===name){const name=path.a(this._model.uri.fsPath),idx=name.lastIndexOf(".");return idx<=0?name:name.slice(0,idx)}return"TM_DIRECTORY"===name&&this._labelService?"."===path.b(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Object(resources.d)(this._model.uri)):"TM_FILEPATH"===name&&this._labelService?this._labelService.getUriLabel(this._model.uri):void 0}}class snippetVariables_ClipboardBasedVariableResolver{constructor(_readClipboardText,_selectionIdx,_selectionCount,_spread){this._readClipboardText=_readClipboardText,this._selectionIdx=_selectionIdx,this._selectionCount=_selectionCount,this._spread=_spread}resolve(variable){if("CLIPBOARD"!==variable.name)return;const clipboardText=this._readClipboardText();if(clipboardText){if(this._spread){const lines=clipboardText.split(/\r\n|\n|\r/).filter(s=>!Object(strings.D)(s));if(lines.length===this._selectionCount)return lines[this._selectionIdx]}return clipboardText}}}class snippetVariables_CommentBasedVariableResolver{constructor(_model,_selection){this._model=_model,this._selection=_selection}resolve(variable){const{name:name}=variable,langId=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),config=languageConfigurationRegistry.a.getComments(langId);if(config)return"LINE_COMMENT"===name?config.lineCommentToken||void 0:"BLOCK_COMMENT_START"===name?config.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===name&&config.blockCommentEndToken||void 0}}class TimeBasedVariableResolver{resolve(variable){const{name:name}=variable;return"CURRENT_YEAR"===name?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===name?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===name?String((new Date).getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===name?String((new Date).getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===name?String((new Date).getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===name?String((new Date).getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===name?String((new Date).getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===name?TimeBasedVariableResolver.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===name?TimeBasedVariableResolver.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===name?TimeBasedVariableResolver.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===name?TimeBasedVariableResolver.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===name?String(Math.floor(Date.now()/1e3)):void 0}}TimeBasedVariableResolver.dayNames=[nls.a("Sunday","Sunday"),nls.a("Monday","Monday"),nls.a("Tuesday","Tuesday"),nls.a("Wednesday","Wednesday"),nls.a("Thursday","Thursday"),nls.a("Friday","Friday"),nls.a("Saturday","Saturday")],TimeBasedVariableResolver.dayNamesShort=[nls.a("SundayShort","Sun"),nls.a("MondayShort","Mon"),nls.a("TuesdayShort","Tue"),nls.a("WednesdayShort","Wed"),nls.a("ThursdayShort","Thu"),nls.a("FridayShort","Fri"),nls.a("SaturdayShort","Sat")],TimeBasedVariableResolver.monthNames=[nls.a("January","January"),nls.a("February","February"),nls.a("March","March"),nls.a("April","April"),nls.a("May","May"),nls.a("June","June"),nls.a("July","July"),nls.a("August","August"),nls.a("September","September"),nls.a("October","October"),nls.a("November","November"),nls.a("December","December")],TimeBasedVariableResolver.monthNamesShort=[nls.a("JanuaryShort","Jan"),nls.a("FebruaryShort","Feb"),nls.a("MarchShort","Mar"),nls.a("AprilShort","Apr"),nls.a("MayShort","May"),nls.a("JuneShort","Jun"),nls.a("JulyShort","Jul"),nls.a("AugustShort","Aug"),nls.a("SeptemberShort","Sep"),nls.a("OctoberShort","Oct"),nls.a("NovemberShort","Nov"),nls.a("DecemberShort","Dec")];class snippetVariables_WorkspaceBasedVariableResolver{constructor(_workspaceService){this._workspaceService=_workspaceService}resolve(variable){if(!this._workspaceService)return;const workspaceIdentifier=function toWorkspaceIdentifier(workspace){return workspace.configuration?{configPath:workspace.configuration,id:workspace.id}:1===workspace.folders.length?workspace.folders[0].uri:void 0}(this._workspaceService.getWorkspace());return workspaceIdentifier?"WORKSPACE_NAME"===variable.name?this._resolveWorkspaceName(workspaceIdentifier):"WORKSPACE_FOLDER"===variable.name?this._resoveWorkspacePath(workspaceIdentifier):void 0:void 0}_resolveWorkspaceName(workspaceIdentifier){if(isSingleFolderWorkspaceIdentifier(workspaceIdentifier))return path.a(workspaceIdentifier.path);let filename=path.a(workspaceIdentifier.configPath.path);return filename.endsWith(WORKSPACE_EXTENSION)&&(filename=filename.substr(0,filename.length-WORKSPACE_EXTENSION.length-1)),filename}_resoveWorkspacePath(workspaceIdentifier){if(isSingleFolderWorkspaceIdentifier(workspaceIdentifier))return Object(labels.c)(workspaceIdentifier.fsPath);let filename=path.a(workspaceIdentifier.configPath.path),folderpath=workspaceIdentifier.configPath.fsPath;return folderpath.endsWith(filename)&&(folderpath=folderpath.substr(0,folderpath.length-filename.length-1)),folderpath?Object(labels.c)(folderpath):"/"}}class RandomBasedVariableResolver{resolve(variable){const{name:name}=variable;return"RANDOM"===name?Math.random().toString().slice(-6):"RANDOM_HEX"===name?Math.random().toString(16).slice(-6):void 0}}var themeService=__webpack_require__(2304),colorRegistry=__webpack_require__(2310),label=__webpack_require__(2413);Object(themeService.g)((theme,collector)=>{function getColorGraceful(name){const color=theme.getColor(name);return color?color.toString():"transparent"}collector.addRule(`.monaco-editor .snippet-placeholder { background-color: ${getColorGraceful(colorRegistry.oc)}; outline-color: ${getColorGraceful(colorRegistry.pc)}; }`),collector.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${getColorGraceful(colorRegistry.mc)}; outline-color: ${getColorGraceful(colorRegistry.nc)}; }`)});class snippetSession_OneSnippet{constructor(editor,snippet,offset){this._nestingLevel=1,this._editor=editor,this._snippet=snippet,this._offset=offset,this._placeholderGroups=Object(arrays.m)(snippet.placeholders,snippetParser.b.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const model=this._editor.getModel();this._editor.changeDecorations(accessor=>{for(const placeholder of this._snippet.placeholders){const placeholderOffset=this._snippet.offset(placeholder),placeholderLen=this._snippet.fullLen(placeholder),range=core_range.a.fromPositions(model.getPositionAt(this._offset+placeholderOffset),model.getPositionAt(this._offset+placeholderOffset+placeholderLen)),options=placeholder.isFinalTabstop?snippetSession_OneSnippet._decor.inactiveFinal:snippetSession_OneSnippet._decor.inactive,handle=accessor.addDecoration(range,options);this._placeholderDecorations.set(placeholder,handle)}})}move(fwd){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let operations=[];for(const placeholder of this._placeholderGroups[this._placeholderGroupsIdx])if(placeholder.transform){const id=this._placeholderDecorations.get(placeholder),range=this._editor.getModel().getDecorationRange(id),currentValue=this._editor.getModel().getValueInRange(range);operations.push(editOperation.a.replaceMove(range,placeholder.transform.resolve(currentValue)))}operations.length>0&&this._editor.executeEdits("snippet.placeholderTransform",operations)}let couldSkipThisPlaceholder=!1;!0===fwd&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,couldSkipThisPlaceholder=!0):!1===fwd&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,couldSkipThisPlaceholder=!0);const newSelections=this._editor.getModel().changeDecorations(accessor=>{const activePlaceholders=new Set,selections=[];for(const placeholder of this._placeholderGroups[this._placeholderGroupsIdx]){const id=this._placeholderDecorations.get(placeholder),range=this._editor.getModel().getDecorationRange(id);selections.push(new core_selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn)),couldSkipThisPlaceholder=couldSkipThisPlaceholder&&this._hasPlaceholderBeenCollapsed(placeholder),accessor.changeDecorationOptions(id,placeholder.isFinalTabstop?snippetSession_OneSnippet._decor.activeFinal:snippetSession_OneSnippet._decor.active),activePlaceholders.add(placeholder);for(const enclosingPlaceholder of this._snippet.enclosingPlaceholders(placeholder)){const id=this._placeholderDecorations.get(enclosingPlaceholder);accessor.changeDecorationOptions(id,enclosingPlaceholder.isFinalTabstop?snippetSession_OneSnippet._decor.activeFinal:snippetSession_OneSnippet._decor.active),activePlaceholders.add(enclosingPlaceholder)}}for(const[placeholder,id]of this._placeholderDecorations)activePlaceholders.has(placeholder)||accessor.changeDecorationOptions(id,placeholder.isFinalTabstop?snippetSession_OneSnippet._decor.inactiveFinal:snippetSession_OneSnippet._decor.inactive);return selections});return couldSkipThisPlaceholder?this.move(fwd):null!=newSelections?newSelections:[]}_hasPlaceholderBeenCollapsed(placeholder){let marker=placeholder;for(;marker;){if(marker instanceof snippetParser.b){const id=this._placeholderDecorations.get(marker);if(this._editor.getModel().getDecorationRange(id).isEmpty()&&marker.toString().length>0)return!0}marker=marker.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const result=new Map;for(const placeholdersWithEqualIndex of this._placeholderGroups){let ranges;for(const placeholder of placeholdersWithEqualIndex){if(placeholder.isFinalTabstop)break;ranges||(ranges=[],result.set(placeholder.index,ranges));const id=this._placeholderDecorations.get(placeholder),range=this._editor.getModel().getDecorationRange(id);if(!range){result.delete(placeholder.index);break}ranges.push(range)}}return result}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(others){const model=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(accessor=>{for(const placeholder of this._placeholderGroups[this._placeholderGroupsIdx]){const nested=others.shift();console.assert(!nested._placeholderDecorations);const indexLastPlaceholder=nested._snippet.placeholderInfo.last.index;for(const nestedPlaceholder of nested._snippet.placeholderInfo.all)nestedPlaceholder.isFinalTabstop?nestedPlaceholder.index=placeholder.index+(indexLastPlaceholder+1)/this._nestingLevel:nestedPlaceholder.index=placeholder.index+nestedPlaceholder.index/this._nestingLevel;this._snippet.replace(placeholder,nested._snippet.children);const id=this._placeholderDecorations.get(placeholder);accessor.removeDecoration(id),this._placeholderDecorations.delete(placeholder);for(const placeholder of nested._snippet.placeholders){const placeholderOffset=nested._snippet.offset(placeholder),placeholderLen=nested._snippet.fullLen(placeholder),range=core_range.a.fromPositions(model.getPositionAt(nested._offset+placeholderOffset),model.getPositionAt(nested._offset+placeholderOffset+placeholderLen)),handle=accessor.addDecoration(range,snippetSession_OneSnippet._decor.inactive);this._placeholderDecorations.set(placeholder,handle)}}this._placeholderGroups=Object(arrays.m)(this._snippet.placeholders,snippetParser.b.compareByIndex)})}}snippetSession_OneSnippet._decor={active:textModel.a.register({stickiness:0,className:"snippet-placeholder"}),inactive:textModel.a.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:textModel.a.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:textModel.a.register({stickiness:1,className:"finish-snippet-placeholder"})};const _defaultOptions={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class snippetSession_SnippetSession{constructor(editor,template,options=_defaultOptions){this._templateMerges=[],this._snippets=[],this._editor=editor,this._template=template,this._options=options}static adjustWhitespace(model,position,snippet,adjustIndentation,adjustNewlines){const line=model.getLineContent(position.lineNumber),lineLeadingWhitespace=Object(strings.z)(line,0,position.column-1);snippet.walk(marker=>{if(marker instanceof snippetParser.d&&!(marker.parent instanceof snippetParser.a)){const lines=marker.value.split(/\r\n|\r|\n/);if(adjustIndentation)for(let i=1;i<lines.length;i++){let templateLeadingWhitespace=Object(strings.z)(lines[i]);lines[i]=model.normalizeIndentation(lineLeadingWhitespace+templateLeadingWhitespace)+lines[i].substr(templateLeadingWhitespace.length)}if(adjustNewlines){const newValue=lines.join(model.getEOL());newValue!==marker.value&&marker.parent.replace(marker,[new snippetParser.d(newValue)])}}return!0})}static adjustSelection(model,selection,overwriteBefore,overwriteAfter){if(0!==overwriteBefore||0!==overwriteAfter){const{positionLineNumber:positionLineNumber,positionColumn:positionColumn}=selection,positionColumnBefore=positionColumn-overwriteBefore,positionColumnAfter=positionColumn+overwriteAfter,range=model.validateRange({startLineNumber:positionLineNumber,startColumn:positionColumnBefore,endLineNumber:positionLineNumber,endColumn:positionColumnAfter});selection=core_selection.a.createWithDirection(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn,selection.getDirection())}return selection}static createEditsAndSnippets(editor,template,overwriteBefore,overwriteAfter,enforceFinalTabstop,adjustWhitespace,clipboardText,overtypingCapturer){const edits=[],snippets=[];if(!editor.hasModel())return{edits:edits,snippets:snippets};const model=editor.getModel(),workspaceService=editor.invokeWithinContext(accessor=>accessor.get(workspace.a,instantiation.d)),modelBasedVariableResolver=editor.invokeWithinContext(accessor=>new snippetVariables_ModelBasedVariableResolver(accessor.get(label.a,instantiation.d),model)),readClipboardText=()=>clipboardText;let delta=0,firstBeforeText=model.getValueInRange(snippetSession_SnippetSession.adjustSelection(model,editor.getSelection(),overwriteBefore,0)),firstAfterText=model.getValueInRange(snippetSession_SnippetSession.adjustSelection(model,editor.getSelection(),0,overwriteAfter)),firstLineFirstNonWhitespace=model.getLineFirstNonWhitespaceColumn(editor.getSelection().positionLineNumber);const indexedSelections=editor.getSelections().map((selection,idx)=>({selection:selection,idx:idx})).sort((a,b)=>core_range.a.compareRangesUsingStarts(a.selection,b.selection));for(const{selection:selection,idx:idx}of indexedSelections){let extensionBefore=snippetSession_SnippetSession.adjustSelection(model,selection,overwriteBefore,0),extensionAfter=snippetSession_SnippetSession.adjustSelection(model,selection,0,overwriteAfter);firstBeforeText!==model.getValueInRange(extensionBefore)&&(extensionBefore=selection),firstAfterText!==model.getValueInRange(extensionAfter)&&(extensionAfter=selection);const snippetSelection=selection.setStartPosition(extensionBefore.startLineNumber,extensionBefore.startColumn).setEndPosition(extensionAfter.endLineNumber,extensionAfter.endColumn),snippet=(new snippetParser.c).parse(template,!0,enforceFinalTabstop),start=snippetSelection.getStartPosition();snippetSession_SnippetSession.adjustWhitespace(model,start,snippet,adjustWhitespace||idx>0&&firstLineFirstNonWhitespace!==model.getLineFirstNonWhitespaceColumn(selection.positionLineNumber),!0),snippet.resolveVariables(new CompositeSnippetVariableResolver([modelBasedVariableResolver,new snippetVariables_ClipboardBasedVariableResolver(readClipboardText,idx,indexedSelections.length,"spread"===editor.getOption(62)),new snippetVariables_SelectionBasedVariableResolver(model,selection,idx,overtypingCapturer),new snippetVariables_CommentBasedVariableResolver(model,selection),new TimeBasedVariableResolver,new snippetVariables_WorkspaceBasedVariableResolver(workspaceService),new RandomBasedVariableResolver]));const offset=model.getOffsetAt(start)+delta;delta+=snippet.toString().length-model.getValueLengthInRange(snippetSelection),edits[idx]=editOperation.a.replace(snippetSelection,snippet.toString()),edits[idx].identifier={major:idx,minor:0},snippets[idx]=new snippetSession_OneSnippet(editor,snippet,offset)}return{edits:edits,snippets:snippets}}dispose(){Object(lifecycle.f)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:edits,snippets:snippets}=snippetSession_SnippetSession.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=snippets,this._editor.executeEdits("snippet",edits,undoEdits=>this._snippets[0].hasPlaceholder?this._move(!0):undoEdits.filter(edit=>!!edit.identifier).map(edit=>core_selection.a.fromPositions(edit.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(template,options=_defaultOptions){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,template]);const{edits:edits,snippets:snippets}=snippetSession_SnippetSession.createEditsAndSnippets(this._editor,template,options.overwriteBefore,options.overwriteAfter,!0,options.adjustWhitespace,options.clipboardText,options.overtypingCapturer);this._editor.executeEdits("snippet",edits,undoEdits=>{for(const snippet of this._snippets)snippet.merge(snippets);return console.assert(0===snippets.length),this._snippets[0].hasPlaceholder?this._move(void 0):undoEdits.filter(edit=>!!edit.identifier).map(edit=>core_selection.a.fromPositions(edit.range.getEndPosition()))})}next(){const newSelections=this._move(!0);this._editor.setSelections(newSelections),this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition())}prev(){const newSelections=this._move(!1);this._editor.setSelections(newSelections),this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition())}_move(fwd){const selections=[];for(const snippet of this._snippets){const oneSelection=snippet.move(fwd);selections.push(...oneSelection)}return selections}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const selections=this._editor.getSelections();if(selections.length<this._snippets.length)return!1;let allPossibleSelections=new Map;for(const snippet of this._snippets){const possibleSelections=snippet.computePossibleSelections();if(0===allPossibleSelections.size)for(const[index,ranges]of possibleSelections){ranges.sort(core_range.a.compareRangesUsingStarts);for(const selection of selections)if(ranges[0].containsRange(selection)){allPossibleSelections.set(index,[]);break}}if(0===allPossibleSelections.size)return!1;allPossibleSelections.forEach((array,index)=>{array.push(...possibleSelections.get(index))})}selections.sort(core_range.a.compareRangesUsingStarts);for(let[index,ranges]of allPossibleSelections)if(ranges.length===selections.length){ranges.sort(core_range.a.compareRangesUsingStarts);for(let i=0;i<ranges.length;i++)ranges[i].containsRange(selections[i])||allPossibleSelections.delete(index)}else allPossibleSelections.delete(index);return allPossibleSelections.size>0}}__webpack_require__.d(__webpack_exports__,"SnippetController2",function(){return snippetController2_SnippetController2});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const snippetController2_defaultOptions={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let snippetController2_SnippetController2=class SnippetController2{constructor(_editor,_logService,contextKeyService){this._editor=_editor,this._logService=_logService,this._snippetListener=new lifecycle.b,this._modelVersionId=-1,this._inSnippet=SnippetController2.InSnippetMode.bindTo(contextKeyService),this._hasNextTabstop=SnippetController2.HasNextTabstop.bindTo(contextKeyService),this._hasPrevTabstop=SnippetController2.HasPrevTabstop.bindTo(contextKeyService)}static get(editor){return editor.getContribution(SnippetController2.ID)}dispose(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(lifecycle.f)(this._session),this._snippetListener.dispose()}insert(template,opts){try{this._doInsert(template,void 0===opts?snippetController2_defaultOptions:Object.assign(Object.assign({},snippetController2_defaultOptions),opts))}catch(e){this.cancel(),this._logService.error(e),this._logService.error("snippet_error"),this._logService.error("insert_template=",template),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(template,opts){this._editor.hasModel()&&(this._snippetListener.clear(),opts.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(template,opts):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new snippetSession_SnippetSession(this._editor,template,opts),this._session.insert()),opts.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(e=>e.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:choice}=this._session;if(choice){if(this._currentChoice!==choice){this._currentChoice=choice,this._editor.setSelections(this._editor.getSelections().map(s=>core_selection.a.fromPositions(s.getStartPosition())));const[first]=choice.options;Object(suggest.f)(this._editor,choice.options.map((option,i)=>({kind:13,label:option.value,insertText:option.value,sortText:"a".repeat(i+1),range:core_range.a.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,first.value.length))})))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(resetSelection=!1){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),Object(lifecycle.f)(this._session),this._session=void 0,this._modelVersionId=-1,resetSelection&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};snippetController2_SnippetController2.ID="snippetController2",snippetController2_SnippetController2.InSnippetMode=new contextkey.c("inSnippetMode",!1),snippetController2_SnippetController2.HasNextTabstop=new contextkey.c("hasNextTabstop",!1),snippetController2_SnippetController2.HasPrevTabstop=new contextkey.c("hasPrevTabstop",!1),snippetController2_SnippetController2=__decorate([__param(1,log.b),__param(2,contextkey.b)],snippetController2_SnippetController2),Object(editorExtensions.m)(snippetController2_SnippetController2.ID,snippetController2_SnippetController2);const CommandCtor=editorExtensions.c.bindToContribution(snippetController2_SnippetController2.get);Object(editorExtensions.l)(new CommandCtor({id:"jumpToNextSnippetPlaceholder",precondition:contextkey.a.and(snippetController2_SnippetController2.InSnippetMode,snippetController2_SnippetController2.HasNextTabstop),handler:ctrl=>ctrl.next(),kbOpts:{weight:130,kbExpr:editorContextKeys.a.editorTextFocus,primary:2}})),Object(editorExtensions.l)(new CommandCtor({id:"jumpToPrevSnippetPlaceholder",precondition:contextkey.a.and(snippetController2_SnippetController2.InSnippetMode,snippetController2_SnippetController2.HasPrevTabstop),handler:ctrl=>ctrl.prev(),kbOpts:{weight:130,kbExpr:editorContextKeys.a.editorTextFocus,primary:1026}})),Object(editorExtensions.l)(new CommandCtor({id:"leaveSnippet",precondition:snippetController2_SnippetController2.InSnippetMode,handler:ctrl=>ctrl.cancel(!0),kbOpts:{weight:130,kbExpr:editorContextKeys.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(editorExtensions.l)(new CommandCtor({id:"acceptSnippet",precondition:snippetController2_SnippetController2.InSnippetMode,handler:ctrl=>ctrl.finish()}))},2453:function(module,__webpack_exports__,__webpack_require__){"use strict";var objects=__webpack_require__(2327),lifecycle=__webpack_require__(2294),touch=__webpack_require__(2348),dom=__webpack_require__(2298),common_event=__webpack_require__(2296),browser_event=__webpack_require__(2347),scrollableElement=__webpack_require__(2356),scrollable=__webpack_require__(2438),common_range=__webpack_require__(2412);function groupIntersect(range,groups){const result=[];for(let r of groups){if(range.start>=r.range.end)continue;if(range.end<r.range.start)break;const intersection=common_range.a.intersect(range,r.range);common_range.a.isEmpty(intersection)||result.push({range:intersection,size:r.size})}return result}function shift({start:start,end:end},much){return{start:start+much,end:end+much}}class RangeMap{constructor(){this.groups=[],this._size=0}splice(index,deleteCount,items=[]){const diff=items.length-deleteCount,before=groupIntersect({start:0,end:index},this.groups),after=groupIntersect({start:index+deleteCount,end:Number.POSITIVE_INFINITY},this.groups).map(g=>({range:shift(g.range,diff),size:g.size})),middle=items.map((item,i)=>({range:{start:index+i,end:index+i+1},size:item.size}));this.groups=function concat(...groups){return function consolidate(groups){const result=[];let previousGroup=null;for(let group of groups){const start=group.range.start,end=group.range.end,size=group.size;previousGroup&&size===previousGroup.size?previousGroup.range.end=end:(previousGroup={range:{start:start,end:end},size:size},result.push(previousGroup))}return result}(groups.reduce((r,g)=>r.concat(g),[]))}(before,middle,after),this._size=this.groups.reduce((t,g)=>t+g.size*(g.range.end-g.range.start),0)}get count(){const len=this.groups.length;return len?this.groups[len-1].range.end:0}get size(){return this._size}indexAt(position){if(position<0)return-1;let index=0,size=0;for(let group of this.groups){const count=group.range.end-group.range.start,newSize=size+count*group.size;if(position<newSize)return index+Math.floor((position-size)/group.size);index+=count,size=newSize}return index}indexAfter(position){return Math.min(this.indexAt(position)+1,this.count)}positionAt(index){if(index<0)return-1;let position=0,count=0;for(let group of this.groups){const groupCount=group.range.end-group.range.start,newCount=count+groupCount;if(index<newCount)return position+(index-count)*group.size;position+=groupCount*group.size,count=newCount}return-1}}class rowCache_RowCache{constructor(renderers){this.renderers=renderers,this.cache=new Map}alloc(templateId){let result=this.getTemplateCache(templateId).pop();if(!result){const domNode=Object(dom.a)(".monaco-list-row");result={domNode:domNode,templateId:templateId,templateData:this.getRenderer(templateId).renderTemplate(domNode)}}return result}release(row){row&&this.releaseRow(row)}releaseRow(row){const{domNode:domNode,templateId:templateId}=row;domNode&&(Object(dom.Q)(domNode,"scrolling"),function removeFromParent(element){try{element.parentElement&&element.parentElement.removeChild(element)}catch(e){}}(domNode)),this.getTemplateCache(templateId).push(row)}getTemplateCache(templateId){let result=this.cache.get(templateId);return result||(result=[],this.cache.set(templateId,result)),result}dispose(){this.cache.forEach((cachedRows,templateId)=>{for(const cachedRow of cachedRows){this.getRenderer(templateId).disposeTemplate(cachedRow.templateData),cachedRow.domNode=null,cachedRow.templateData=null}}),this.cache.clear()}getRenderer(templateId){const renderer=this.renderers.get(templateId);if(!renderer)throw new Error(`No renderer found for ${templateId}`);return renderer}}var decorators=__webpack_require__(2384),arrays=__webpack_require__(2309),dnd=__webpack_require__(2435),common_async=__webpack_require__(2306),browser=__webpack_require__(2326);__webpack_require__.d(__webpack_exports__,"a",function(){return ElementsDragAndDropData}),__webpack_require__.d(__webpack_exports__,"b",function(){return listView_ListView});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const DefaultOptions={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0};class ElementsDragAndDropData{constructor(elements){this.elements=elements}update(){}getData(){return this.elements}}class ExternalElementsDragAndDropData{constructor(elements){this.elements=elements}update(){}getData(){return this.elements}}class NativeDragAndDropData{constructor(){this.types=[],this.files=[]}update(dataTransfer){if(dataTransfer.types&&this.types.splice(0,this.types.length,...dataTransfer.types),dataTransfer.files){this.files.splice(0,this.files.length);for(let i=0;i<dataTransfer.files.length;i++){const file=dataTransfer.files.item(i);file&&(file.size||file.type)&&this.files.push(file)}}}getData(){return{types:this.types,files:this.files}}}class ListViewAccessibilityProvider{constructor(accessibilityProvider){(null==accessibilityProvider?void 0:accessibilityProvider.getSetSize)?this.getSetSize=accessibilityProvider.getSetSize.bind(accessibilityProvider):this.getSetSize=(e,i,l)=>l,(null==accessibilityProvider?void 0:accessibilityProvider.getPosInSet)?this.getPosInSet=accessibilityProvider.getPosInSet.bind(accessibilityProvider):this.getPosInSet=(e,i)=>i+1,(null==accessibilityProvider?void 0:accessibilityProvider.getRole)?this.getRole=accessibilityProvider.getRole.bind(accessibilityProvider):this.getRole=_=>"listitem",(null==accessibilityProvider?void 0:accessibilityProvider.isChecked)?this.isChecked=accessibilityProvider.isChecked.bind(accessibilityProvider):this.isChecked=_=>void 0}}class listView_ListView{constructor(container,virtualDelegate,renderers,options=DefaultOptions){if(this.virtualDelegate=virtualDelegate,this.domId=`list_id_${++listView_ListView.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new common_async.a(50),this.splicing=!1,this.dragOverAnimationStopDisposable=lifecycle.a.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=lifecycle.a.None,this.onDragLeaveTimeout=lifecycle.a.None,this.disposables=new lifecycle.b,this._onDidChangeContentHeight=new common_event.a,this._horizontalScrolling=!1,options.horizontalScrolling&&options.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new RangeMap;for(const renderer of renderers)this.renderers.set(renderer.templateId,renderer);this.cache=this.disposables.add(new rowCache_RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",dom.e(this.domNode,this.domId),this.domNode.tabIndex=0,dom.ab(this.domNode,"mouse-support","boolean"!=typeof options.mouseSupport||options.mouseSupport),this._horizontalScrolling=Object(objects.f)(options,o=>o.horizontalScrolling,DefaultOptions.horizontalScrolling),dom.ab(this.domNode,"horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===options.additionalScrollHeight?0:options.additionalScrollHeight,this.accessibilityProvider=new ListViewAccessibilityProvider(options.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",Object(objects.f)(options,o=>o.transformOptimization,DefaultOptions.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(touch.b.addTarget(this.rowsContainer)),this.scrollable=new scrollable.a(Object(objects.f)(options,o=>o.smoothScrolling,!1)?125:0,cb=>dom.Y(cb)),this.scrollableElement=this.disposables.add(new scrollableElement.c(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:1,vertical:Object(objects.f)(options,o=>o.verticalScrollMode,DefaultOptions.verticalScrollMode),useShadows:Object(objects.f)(options,o=>o.useShadows,DefaultOptions.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),container.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Object(browser_event.a)(this.rowsContainer,touch.a.Change)(this.onTouchChange,this,this.disposables),Object(browser_event.a)(this.scrollableElement.getDomNode(),"scroll")(e=>e.target.scrollTop=0,null,this.disposables),common_event.b.map(Object(browser_event.a)(this.domNode,"dragover"),e=>this.toDragEvent(e))(this.onDragOver,this,this.disposables),common_event.b.map(Object(browser_event.a)(this.domNode,"drop"),e=>this.toDragEvent(e))(this.onDrop,this,this.disposables),Object(browser_event.a)(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),Object(browser_event.a)(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=Object(objects.f)(options,o=>o.setRowLineHeight,DefaultOptions.setRowLineHeight),this.setRowHeight=Object(objects.f)(options,o=>o.setRowHeight,DefaultOptions.setRowHeight),this.supportDynamicHeights=Object(objects.f)(options,o=>o.supportDynamicHeights,DefaultOptions.supportDynamicHeights),this.dnd=Object(objects.f)(options,o=>o.dnd,DefaultOptions.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(value){if(value!==this._horizontalScrolling){if(value&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=value,dom.ab(this.domNode,"horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const item of this.items)this.measureItemWidth(item);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:dom.B(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(options){void 0!==options.additionalScrollHeight&&(this.additionalScrollHeight=options.additionalScrollHeight),void 0!==options.smoothScrolling&&this.scrollable.setSmoothScrollDuration(options.smoothScrolling?125:0),void 0!==options.horizontalScrolling&&(this.horizontalScrolling=options.horizontalScrolling)}splice(start,deleteCount,elements=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(start,deleteCount,elements)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(start,deleteCount,elements=[]){const previousRenderRange=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),deleteRange={start:start,end:start+deleteCount},removeRange=common_range.a.intersect(previousRenderRange,deleteRange);for(let i=removeRange.start;i<removeRange.end;i++)this.removeItemFromDOM(i);const previousRestRange={start:start+deleteCount,end:this.items.length},previousRenderedRestRange=common_range.a.intersect(previousRestRange,previousRenderRange),previousUnrenderedRestRanges=common_range.a.relativeComplement(previousRestRange,previousRenderRange),inserted=elements.map(element=>({id:String(this.itemId++),element:element,templateId:this.virtualDelegate.getTemplateId(element),size:this.virtualDelegate.getHeight(element),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(element),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:lifecycle.a.None}));let deleted;0===start&&deleteCount>=this.items.length?(this.rangeMap=new RangeMap,this.rangeMap.splice(0,0,inserted),this.items=inserted,deleted=[]):(this.rangeMap.splice(start,deleteCount,inserted),deleted=this.items.splice(start,deleteCount,...inserted));const delta=elements.length-deleteCount,renderRange=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),renderedRestRange=shift(previousRenderedRestRange,delta),updateRange=common_range.a.intersect(renderRange,renderedRestRange);for(let i=updateRange.start;i<updateRange.end;i++)this.updateItemInDOM(this.items[i],i);const removeRanges=common_range.a.relativeComplement(renderedRestRange,renderRange);for(const range of removeRanges)for(let i=range.start;i<range.end;i++)this.removeItemFromDOM(i);const unrenderedRestRanges=previousUnrenderedRestRanges.map(r=>shift(r,delta)),insertRanges=[{start:start,end:start+elements.length},...unrenderedRestRanges].map(r=>common_range.a.intersect(renderRange,r)),beforeElement=this.getNextToLastElement(insertRanges);for(const range of insertRanges)for(let i=range.start;i<range.end;i++)this.insertItemInDOM(i,beforeElement);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),deleted.map(i=>i.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=dom.Y(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let scrollWidth=0;for(const item of this.items)void 0!==item.width&&(scrollWidth=Math.max(scrollWidth,item.width));this.scrollWidth=scrollWidth,this.scrollableElement.setScrollDimensions({scrollWidth:0===scrollWidth?0:scrollWidth+10})}rerender(){if(this.supportDynamicHeights){for(const item of this.items)item.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(index){return this.items[index].element}domElement(index){const row=this.items[index].row;return row&&row.domNode}elementHeight(index){return this.items[index].size}elementTop(index){return this.rangeMap.positionAt(index)}indexAt(position){return this.rangeMap.indexAt(position)}indexAfter(position){return this.rangeMap.indexAfter(position)}layout(height,width){let scrollDimensions={height:"number"==typeof height?height:dom.A(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,scrollDimensions.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(scrollDimensions),void 0!==width&&(this.renderWidth=width,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof width?width:dom.B(this.domNode)}))}render(previousRenderRange,renderTop,renderHeight,renderLeft,scrollWidth,updateItemsInDOM=!1){const renderRange=this.getRenderRange(renderTop,renderHeight),rangesToInsert=common_range.a.relativeComplement(renderRange,previousRenderRange),rangesToRemove=common_range.a.relativeComplement(previousRenderRange,renderRange),beforeElement=this.getNextToLastElement(rangesToInsert);if(updateItemsInDOM){const rangesToUpdate=common_range.a.intersect(previousRenderRange,renderRange);for(let i=rangesToUpdate.start;i<rangesToUpdate.end;i++)this.updateItemInDOM(this.items[i],i)}for(const range of rangesToInsert)for(let i=range.start;i<range.end;i++)this.insertItemInDOM(i,beforeElement);for(const range of rangesToRemove)for(let i=range.start;i<range.end;i++)this.removeItemFromDOM(i);void 0!==renderLeft&&(this.rowsContainer.style.left=`-${renderLeft}px`),this.rowsContainer.style.top=`-${renderTop}px`,this.horizontalScrolling&&void 0!==scrollWidth&&(this.rowsContainer.style.width=`${Math.max(scrollWidth,this.renderWidth)}px`),this.lastRenderTop=renderTop,this.lastRenderHeight=renderHeight}insertItemInDOM(index,beforeElement){const item=this.items[index];if(!item.row){item.row=this.cache.alloc(item.templateId);const role=this.accessibilityProvider.getRole(item.element)||"listitem";item.row.domNode.setAttribute("role",role);const checked=this.accessibilityProvider.isChecked(item.element);void 0!==checked&&item.row.domNode.setAttribute("aria-checked",String(!!checked))}item.row.domNode.parentElement||(beforeElement?this.rowsContainer.insertBefore(item.row.domNode,beforeElement):this.rowsContainer.appendChild(item.row.domNode)),this.updateItemInDOM(item,index);const renderer=this.renderers.get(item.templateId);if(!renderer)throw new Error(`No renderer found for template id ${item.templateId}`);renderer&&renderer.renderElement(item.element,index,item.row.templateData,item.size);const uri=this.dnd.getDragURI(item.element);if(item.dragStartDisposable.dispose(),item.row.domNode.draggable=!!uri,uri){const onDragStart=Object(browser_event.a)(item.row.domNode,"dragstart");item.dragStartDisposable=onDragStart(event=>this.onDragStart(item.element,uri,event))}this.horizontalScrolling&&(this.measureItemWidth(item),this.eventuallyUpdateScrollWidth())}measureItemWidth(item){if(!item.row||!item.row.domNode)return;item.row.domNode.style.width=browser.h?"-moz-fit-content":"fit-content",item.width=dom.B(item.row.domNode);const style=window.getComputedStyle(item.row.domNode);style.paddingLeft&&(item.width+=parseFloat(style.paddingLeft)),style.paddingRight&&(item.width+=parseFloat(style.paddingRight)),item.row.domNode.style.width=""}updateItemInDOM(item,index){item.row.domNode.style.top=`${this.elementTop(index)}px`,this.setRowHeight&&(item.row.domNode.style.height=`${item.size}px`),this.setRowLineHeight&&(item.row.domNode.style.lineHeight=`${item.size}px`),item.row.domNode.setAttribute("data-index",`${index}`),item.row.domNode.setAttribute("data-last-element",index===this.length-1?"true":"false"),item.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(item.element,index,this.length))),item.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(item.element,index))),item.row.domNode.setAttribute("id",this.getElementDomId(index)),dom.ab(item.row.domNode,"drop-target",item.dropTarget)}removeItemFromDOM(index){const item=this.items[index];item.dragStartDisposable.dispose();const renderer=this.renderers.get(item.templateId);item.row&&renderer&&renderer.disposeElement&&renderer.disposeElement(item.element,index,item.row.templateData,item.size),this.cache.release(item.row),item.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(scrollTop){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:scrollTop})}get scrollTop(){return this.getScrollTop()}set scrollTop(scrollTop){this.setScrollTop(scrollTop)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return common_event.b.map(Object(browser_event.a)(this.domNode,"click"),e=>this.toMouseEvent(e))}get onMouseDblClick(){return common_event.b.map(Object(browser_event.a)(this.domNode,"dblclick"),e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return common_event.b.filter(common_event.b.map(Object(browser_event.a)(this.domNode,"auxclick"),e=>this.toMouseEvent(e)),e=>1===e.browserEvent.button)}get onMouseDown(){return common_event.b.map(Object(browser_event.a)(this.domNode,"mousedown"),e=>this.toMouseEvent(e))}get onContextMenu(){return common_event.b.map(Object(browser_event.a)(this.domNode,"contextmenu"),e=>this.toMouseEvent(e))}get onTouchStart(){return common_event.b.map(Object(browser_event.a)(this.domNode,"touchstart"),e=>this.toTouchEvent(e))}get onTap(){return common_event.b.map(Object(browser_event.a)(this.rowsContainer,touch.a.Tap),e=>this.toGestureEvent(e))}toMouseEvent(browserEvent){const index=this.getItemIndexFromEventTarget(browserEvent.target||null),item=void 0===index?void 0:this.items[index];return{browserEvent:browserEvent,index:index,element:item&&item.element}}toTouchEvent(browserEvent){const index=this.getItemIndexFromEventTarget(browserEvent.target||null),item=void 0===index?void 0:this.items[index];return{browserEvent:browserEvent,index:index,element:item&&item.element}}toGestureEvent(browserEvent){const index=this.getItemIndexFromEventTarget(browserEvent.initialTarget||null),item=void 0===index?void 0:this.items[index];return{browserEvent:browserEvent,index:index,element:item&&item.element}}toDragEvent(browserEvent){const index=this.getItemIndexFromEventTarget(browserEvent.target||null),item=void 0===index?void 0:this.items[index];return{browserEvent:browserEvent,index:index,element:item&&item.element}}onScroll(e){try{const previousRenderRange=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(previousRenderRange,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(err){throw console.error("Got bad scroll event:",e),err}}onTouchChange(event){event.preventDefault(),event.stopPropagation(),this.scrollTop-=event.translationY}onDragStart(element,uri,event){if(!event.dataTransfer)return;const elements=this.dnd.getDragElements(element);if(event.dataTransfer.effectAllowed="copyMove",event.dataTransfer.setData(dnd.a.RESOURCES,JSON.stringify([uri])),event.dataTransfer.setDragImage){let label;this.dnd.getDragLabel&&(label=this.dnd.getDragLabel(elements,event)),void 0===label&&(label=String(elements.length));const dragImage=dom.a(".monaco-drag-image");dragImage.textContent=label,document.body.appendChild(dragImage),event.dataTransfer.setDragImage(dragImage,-10,-10),setTimeout(()=>document.body.removeChild(dragImage),0)}this.currentDragData=new ElementsDragAndDropData(elements),dnd.c.CurrentDragAndDropData=new ExternalElementsDragAndDropData(elements),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,event)}onDragOver(event){if(event.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),dnd.c.CurrentDragAndDropData&&"vscode-ui"===dnd.c.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(event.browserEvent),!event.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(dnd.c.CurrentDragAndDropData)this.currentDragData=dnd.c.CurrentDragAndDropData;else{if(!event.browserEvent.dataTransfer.types)return!1;this.currentDragData=new NativeDragAndDropData}const result=this.dnd.onDragOver(this.currentDragData,event.element,event.index,event.browserEvent);if(this.canDrop="boolean"==typeof result?result:result.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let feedback;if(event.browserEvent.dataTransfer.dropEffect="boolean"!=typeof result&&0===result.effect?"copy":"move",feedback="boolean"!=typeof result&&result.feedback?result.feedback:void 0===event.index?[-1]:[event.index],feedback=-1===(feedback=Object(arrays.e)(feedback).filter(i=>i>=-1&&i<this.length).sort((a,b)=>a-b))[0]?[-1]:feedback,function equalsDragFeedback(f1,f2){return Array.isArray(f1)&&Array.isArray(f2)?Object(arrays.g)(f1,f2):f1===f2}(this.currentDragFeedback,feedback))return!0;if(this.currentDragFeedback=feedback,this.currentDragFeedbackDisposable.dispose(),-1===feedback[0])dom.e(this.domNode,"drop-target"),dom.e(this.rowsContainer,"drop-target"),this.currentDragFeedbackDisposable=Object(lifecycle.h)(()=>{dom.Q(this.domNode,"drop-target"),dom.Q(this.rowsContainer,"drop-target")});else{for(const index of feedback){const item=this.items[index];item.dropTarget=!0,item.row&&item.row.domNode&&dom.e(item.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=Object(lifecycle.h)(()=>{for(const index of feedback){const item=this.items[index];item.dropTarget=!1,item.row&&item.row.domNode&&dom.Q(item.row.domNode,"drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Object(common_async.g)(()=>this.clearDragOverFeedback(),100)}onDrop(event){if(!this.canDrop)return;const dragData=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,dnd.c.CurrentDragAndDropData=void 0,dragData&&event.browserEvent.dataTransfer&&(event.browserEvent.preventDefault(),dragData.update(event.browserEvent.dataTransfer),this.dnd.drop(dragData,event.element,event.index,event.browserEvent))}onDragEnd(event){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,dnd.c.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(event)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=lifecycle.a.None}setupDragAndDropScrollTopAnimation(event){if(!this.dragOverAnimationDisposable){const viewTop=dom.F(this.domNode).top;this.dragOverAnimationDisposable=dom.o(this.animateDragAndDropScrollTop.bind(this,viewTop))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Object(common_async.g)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=event.pageY}animateDragAndDropScrollTop(viewTop){if(void 0===this.dragOverMouseY)return;const diff=this.dragOverMouseY-viewTop,upperLimit=this.renderHeight-35;diff<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(diff-35))):diff>upperLimit&&(this.scrollTop+=Math.min(14,Math.floor(.3*(diff-upperLimit))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(target){const scrollableElement=this.scrollableElement.getDomNode();let element=target;for(;element instanceof HTMLElement&&element!==this.rowsContainer&&scrollableElement.contains(element);){const rawIndex=element.getAttribute("data-index");if(rawIndex){const index=Number(rawIndex);if(!isNaN(index))return index}element=element.parentElement}}getRenderRange(renderTop,renderHeight){return{start:this.rangeMap.indexAt(renderTop),end:this.rangeMap.indexAfter(renderTop+renderHeight-1)}}_rerender(renderTop,renderHeight){const previousRenderRange=this.getRenderRange(renderTop,renderHeight);let anchorElementIndex,anchorElementTopDelta;renderTop===this.elementTop(previousRenderRange.start)?(anchorElementIndex=previousRenderRange.start,anchorElementTopDelta=0):previousRenderRange.end-previousRenderRange.start>1&&(anchorElementIndex=previousRenderRange.start+1,anchorElementTopDelta=this.elementTop(anchorElementIndex)-renderTop);let heightDiff=0;for(;;){const renderRange=this.getRenderRange(renderTop,renderHeight);let didChange=!1;for(let i=renderRange.start;i<renderRange.end;i++){const diff=this.probeDynamicHeight(i);0!==diff&&this.rangeMap.splice(i,1,[this.items[i]]),heightDiff+=diff,didChange=didChange||0!==diff}if(!didChange){0!==heightDiff&&this.eventuallyUpdateScrollDimensions();const unrenderRanges=common_range.a.relativeComplement(previousRenderRange,renderRange);for(const range of unrenderRanges)for(let i=range.start;i<range.end;i++)this.items[i].row&&this.removeItemFromDOM(i);const renderRanges=common_range.a.relativeComplement(renderRange,previousRenderRange);for(const range of renderRanges)for(let i=range.start;i<range.end;i++){const afterIndex=i+1,beforeRow=afterIndex<this.items.length?this.items[afterIndex].row:null,beforeElement=beforeRow?beforeRow.domNode:null;this.insertItemInDOM(i,beforeElement)}for(let i=renderRange.start;i<renderRange.end;i++)this.items[i].row&&this.updateItemInDOM(this.items[i],i);return"number"==typeof anchorElementIndex&&(this.scrollTop=this.elementTop(anchorElementIndex)-anchorElementTopDelta),void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(index){const item=this.items[index];if(!item.hasDynamicHeight||item.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(item.element))return 0;const size=item.size;if(!this.setRowHeight&&item.row&&item.row.domNode){let newSize=item.row.domNode.offsetHeight;return item.size=newSize,item.lastDynamicHeightWidth=this.renderWidth,newSize-size}const row=this.cache.alloc(item.templateId);row.domNode.style.height="",this.rowsContainer.appendChild(row.domNode);const renderer=this.renderers.get(item.templateId);return renderer&&(renderer.renderElement(item.element,index,row.templateData,void 0),renderer.disposeElement&&renderer.disposeElement(item.element,index,row.templateData,void 0)),item.size=row.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(item.element,item.size),item.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(row.domNode),this.cache.release(row),item.size-size}getNextToLastElement(ranges){const lastRange=ranges[ranges.length-1];if(!lastRange)return null;const nextToLastItem=this.items[lastRange.end];return nextToLastItem&&nextToLastItem.row?nextToLastItem.row.domNode:null}getElementDomId(index){return`${this.domId}_${index}`}dispose(){if(this.items){for(const item of this.items)if(item.row){const renderer=this.renderers.get(item.row.templateId);renderer&&renderer.disposeTemplate(item.row.templateData)}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Object(lifecycle.f)(this.disposables)}}listView_ListView.InstanceCount=0,__decorate([decorators.a],listView_ListView.prototype,"onMouseClick",null),__decorate([decorators.a],listView_ListView.prototype,"onMouseDblClick",null),__decorate([decorators.a],listView_ListView.prototype,"onMouseMiddleClick",null),__decorate([decorators.a],listView_ListView.prototype,"onMouseDown",null),__decorate([decorators.a],listView_ListView.prototype,"onContextMenu",null),__decorate([decorators.a],listView_ListView.prototype,"onTouchStart",null),__decorate([decorators.a],listView_ListView.prototype,"onTap",null)},2454:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(2535);var nls=__webpack_require__(2297),dom=__webpack_require__(2298),formattedTextRenderer=__webpack_require__(2427),aria=__webpack_require__(2335),actionbar=__webpack_require__(2373),common_event=__webpack_require__(2296),widget=__webpack_require__(2343),color=__webpack_require__(2320),objects=__webpack_require__(2327);class ArrayNavigator{constructor(items,start=0,end=items.length,index=start-1){this.items=items,this.start=start,this.end=end,this.index=index}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class history_HistoryNavigator{constructor(history=[],limit=10){this._initialize(history),this._limit=limit,this._onChange()}add(t){this._history.delete(t),this._history.add(t),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(t){return this._history.has(t)}_onChange(){this._reduceToLimit();const elements=this._elements;this._navigator=new ArrayNavigator(elements,0,elements.length,elements.length)}_reduceToLimit(){const data=this._elements;data.length>this._limit&&this._initialize(data.slice(data.length-this._limit))}_currentPosition(){const currentElement=this._navigator.current();return currentElement?this._elements.indexOf(currentElement):-1}_initialize(history){this._history=new Set;for(const entry of history)this._history.add(entry)}get _elements(){const elements=[];return this._history.forEach(e=>elements.push(e)),elements}}var scrollableElement=__webpack_require__(2356),browser_event=__webpack_require__(2347);__webpack_require__.d(__webpack_exports__,"b",function(){return inputBox_InputBox}),__webpack_require__.d(__webpack_exports__,"a",function(){return inputBox_HistoryInputBox});const $=dom.a,defaultOpts={inputBackground:color.a.fromHex("#3C3C3C"),inputForeground:color.a.fromHex("#CCCCCC"),inputValidationInfoBorder:color.a.fromHex("#55AAFF"),inputValidationInfoBackground:color.a.fromHex("#063B49"),inputValidationWarningBorder:color.a.fromHex("#B89500"),inputValidationWarningBackground:color.a.fromHex("#352A05"),inputValidationErrorBorder:color.a.fromHex("#BE1100"),inputValidationErrorBackground:color.a.fromHex("#5A1D1D")};class inputBox_InputBox extends widget.a{constructor(container,contextViewProvider,options){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new common_event.a),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new common_event.a),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=contextViewProvider,this.options=options||Object.create(null),Object(objects.g)(this.options,defaultOpts,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=dom.p(container,$(".monaco-inputbox.idle"));let tagName=this.options.flexibleHeight?"textarea":"input",wrapper=dom.p(this.element,$(".wrapper"));if(this.input=dom.p(wrapper,$(tagName+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=dom.p(wrapper,$("div.mirror")),this.mirror.innerText="",this.scrollableElement=new scrollableElement.b(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),dom.p(container,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(e=>this.input.scrollTop=e.scrollTop));const onSelectionChange=common_event.b.filter(Object(browser_event.a)(document,"selectionchange"),()=>{const selection=document.getSelection();return(null==selection?void 0:selection.anchorNode)===wrapper});this._register(onSelectionChange(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new actionbar.a(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(placeHolder){this.placeholder=placeHolder,this.input.setAttribute("placeholder",placeHolder),this.input.title=placeHolder}setAriaLabel(label){this.ariaLabel=label,label?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(newValue){this.input.value!==newValue&&(this.input.value=newValue,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:dom.G(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(range=null){this.input.select(),range&&this.input.setSelectionRange(range.start,range.end)}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return dom.H(this.input)}set width(width){if(this.options.flexibleHeight&&this.options.flexibleWidth){let horizontalPadding=0;if(this.mirror){horizontalPadding=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=width-horizontalPadding+"px"}else this.input.style.width=width+"px";this.mirror&&(this.mirror.style.width=width+"px")}set paddingRight(paddingRight){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${paddingRight}px)`:this.input.style.paddingRight=paddingRight+"px",this.mirror&&(this.mirror.style.paddingRight=paddingRight+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const scrollHeight=this.cachedContentHeight,height=this.cachedHeight,scrollTop=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:scrollHeight,height:height}),this.scrollableElement.setScrollPosition({scrollTop:scrollTop})}showMessage(message,force){this.message=message,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(message.type));const styles=this.stylesForType(this.message.type);this.element.style.border=styles.border?`1px solid ${styles.border}`:"",(this.hasFocus()||force)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let errorMsg=null;return this.validation&&((errorMsg=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(errorMsg)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!errorMsg}stylesForType(type){switch(type){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(type){switch(type){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let div,alertText,layout=()=>div.style.width=dom.H(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:container=>{if(!this.message)return null;div=dom.p(container,$(".monaco-inputbox-container")),layout();const renderOptions={inline:!0,className:"monaco-inputbox-message"},spanElement=this.message.formatContent?Object(formattedTextRenderer.b)(this.message.content,renderOptions):Object(formattedTextRenderer.c)(this.message.content,renderOptions);spanElement.classList.add(this.classForType(this.message.type));const styles=this.stylesForType(this.message.type);return spanElement.style.backgroundColor=styles.background?styles.background.toString():"",spanElement.style.color=styles.foreground?styles.foreground.toString():"",spanElement.style.border=styles.border?`1px solid ${styles.border}`:"",dom.p(div,spanElement),null},onHide:()=>{this.state="closed"},layout:layout}),alertText=3===this.message.type?nls.a("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?nls.a("alertWarningMessage","Warning: {0}",this.message.content):nls.a("alertInfoMessage","Info: {0}",this.message.content),aria.a(alertText),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const value=this.value,suffix=10===value.charCodeAt(value.length-1)?" ":"";value+suffix?this.mirror.textContent=value+suffix:this.mirror.innerText="",this.layout()}style(styles){this.inputBackground=styles.inputBackground,this.inputForeground=styles.inputForeground,this.inputBorder=styles.inputBorder,this.inputValidationInfoBackground=styles.inputValidationInfoBackground,this.inputValidationInfoForeground=styles.inputValidationInfoForeground,this.inputValidationInfoBorder=styles.inputValidationInfoBorder,this.inputValidationWarningBackground=styles.inputValidationWarningBackground,this.inputValidationWarningForeground=styles.inputValidationWarningForeground,this.inputValidationWarningBorder=styles.inputValidationWarningBorder,this.inputValidationErrorBackground=styles.inputValidationErrorBackground,this.inputValidationErrorForeground=styles.inputValidationErrorForeground,this.inputValidationErrorBorder=styles.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const background=this.inputBackground?this.inputBackground.toString():"",foreground=this.inputForeground?this.inputForeground.toString():"",border=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=background,this.element.style.color=foreground,this.input.style.backgroundColor="inherit",this.input.style.color=foreground,this.element.style.borderWidth=border?"1px":"",this.element.style.borderStyle=border?"solid":"",this.element.style.borderColor=border}layout(){if(!this.mirror)return;const previousHeight=this.cachedContentHeight;this.cachedContentHeight=dom.G(this.mirror),previousHeight!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(text){const inputElement=this.inputElement,start=inputElement.selectionStart,end=inputElement.selectionEnd,content=inputElement.value;null!==start&&null!==end&&(this.value=content.substr(0,start)+text+content.substr(end),inputElement.setSelectionRange(start+1,start+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class inputBox_HistoryInputBox extends inputBox_InputBox{constructor(container,contextViewProvider,options){super(container,contextViewProvider,options),this.history=new history_HistoryNavigator(options.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let next=this.getNextValue();next&&(next=next===this.value?this.getNextValue():next),next&&(this.value=next,aria.c(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let previous=this.getPreviousValue();previous&&(previous=previous===this.value?this.getPreviousValue():previous),previous&&(this.value=previous,aria.c(this.value))}getCurrentValue(){let currentValue=this.history.current();return currentValue||(currentValue=this.history.last(),this.history.next()),currentValue}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},2455:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),types=__webpack_require__(2314),editorExtensions=__webpack_require__(2301),codeEditorService=__webpack_require__(2317),cursorCommon=__webpack_require__(2333),position=__webpack_require__(2303),core_range=__webpack_require__(2295);class cursorColumnSelection_ColumnSelection{static columnSelect(config,model,fromLineNumber,fromVisibleColumn,toLineNumber,toVisibleColumn){let lineCount=Math.abs(toLineNumber-fromLineNumber)+1,reversed=fromLineNumber>toLineNumber,isRTL=fromVisibleColumn>toVisibleColumn,isLTR=fromVisibleColumn<toVisibleColumn,result=[];for(let i=0;i<lineCount;i++){let lineNumber=fromLineNumber+(reversed?-i:i),startColumn=cursorCommon.a.columnFromVisibleColumn2(config,model,lineNumber,fromVisibleColumn),endColumn=cursorCommon.a.columnFromVisibleColumn2(config,model,lineNumber,toVisibleColumn),visibleStartColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,new position.a(lineNumber,startColumn)),visibleEndColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,new position.a(lineNumber,endColumn));if(isLTR){if(visibleStartColumn>toVisibleColumn)continue;if(visibleEndColumn<fromVisibleColumn)continue}if(isRTL){if(visibleEndColumn>fromVisibleColumn)continue;if(visibleStartColumn<toVisibleColumn)continue}result.push(new cursorCommon.f(new core_range.a(lineNumber,startColumn,lineNumber,startColumn),0,new position.a(lineNumber,endColumn),0))}if(0===result.length)for(let i=0;i<lineCount;i++){const lineNumber=fromLineNumber+(reversed?-i:i),maxColumn=model.getLineMaxColumn(lineNumber);result.push(new cursorCommon.f(new core_range.a(lineNumber,maxColumn,lineNumber,maxColumn),0,new position.a(lineNumber,maxColumn),0))}return{viewStates:result,reversed:reversed,fromLineNumber:fromLineNumber,fromVisualColumn:fromVisibleColumn,toLineNumber:toLineNumber,toVisualColumn:toVisibleColumn}}static columnSelectLeft(config,model,prevColumnSelectData){let toViewVisualColumn=prevColumnSelectData.toViewVisualColumn;return toViewVisualColumn>1&&toViewVisualColumn--,cursorColumnSelection_ColumnSelection.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,prevColumnSelectData.toViewLineNumber,toViewVisualColumn)}static columnSelectRight(config,model,prevColumnSelectData){let maxVisualViewColumn=0;const minViewLineNumber=Math.min(prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.toViewLineNumber),maxViewLineNumber=Math.max(prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.toViewLineNumber);for(let lineNumber=minViewLineNumber;lineNumber<=maxViewLineNumber;lineNumber++){const lineMaxViewColumn=model.getLineMaxColumn(lineNumber),lineMaxVisualViewColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,new position.a(lineNumber,lineMaxViewColumn));maxVisualViewColumn=Math.max(maxVisualViewColumn,lineMaxVisualViewColumn)}let toViewVisualColumn=prevColumnSelectData.toViewVisualColumn;return toViewVisualColumn<maxVisualViewColumn&&toViewVisualColumn++,this.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,prevColumnSelectData.toViewLineNumber,toViewVisualColumn)}static columnSelectUp(config,model,prevColumnSelectData,isPaged){const linesCount=isPaged?config.pageSize:1,toViewLineNumber=Math.max(1,prevColumnSelectData.toViewLineNumber-linesCount);return this.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,toViewLineNumber,prevColumnSelectData.toViewVisualColumn)}static columnSelectDown(config,model,prevColumnSelectData,isPaged){const linesCount=isPaged?config.pageSize:1,toViewLineNumber=Math.min(model.getLineCount(),prevColumnSelectData.toViewLineNumber+linesCount);return this.columnSelect(config,model,prevColumnSelectData.fromViewLineNumber,prevColumnSelectData.fromViewVisualColumn,toViewLineNumber,prevColumnSelectData.toViewVisualColumn)}}var cursorDeleteOperations=__webpack_require__(2473),cursorMoveCommands=__webpack_require__(2474),cursorTypeOperations=__webpack_require__(2456),editorContextKeys=__webpack_require__(2312),contextkey=__webpack_require__(2307),keybindingsRegistry=__webpack_require__(2367);__webpack_require__.d(__webpack_exports__,"CoreEditorCommand",function(){return coreCommands_CoreEditorCommand}),__webpack_require__.d(__webpack_exports__,"EditorScroll_",function(){return coreCommands_EditorScroll_}),__webpack_require__.d(__webpack_exports__,"RevealLine_",function(){return coreCommands_RevealLine_}),__webpack_require__.d(__webpack_exports__,"CoreNavigationCommands",function(){return coreCommands_CoreNavigationCommands}),__webpack_require__.d(__webpack_exports__,"CoreEditingCommands",function(){return coreCommands_CoreEditingCommands});const CORE_WEIGHT=0;class coreCommands_CoreEditorCommand extends editorExtensions.c{runEditorCommand(accessor,editor,args){const viewModel=editor._getViewModel();viewModel&&this.runCoreEditorCommand(viewModel,args||{})}}var coreCommands_EditorScroll_,coreCommands_RevealLine_,RevealLine_,coreCommands_CoreNavigationCommands;!function(EditorScroll_){EditorScroll_.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(arg){if(!types.i(arg))return!1;const scrollArg=arg;return!(!types.j(scrollArg.to)||!types.k(scrollArg.by)&&!types.j(scrollArg.by)||!types.k(scrollArg.value)&&!types.h(scrollArg.value)||!types.k(scrollArg.revealCursor)&&!types.f(scrollArg.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},EditorScroll_.RawDirection={Up:"up",Down:"down"},EditorScroll_.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},EditorScroll_.parse=function parse(args){let direction,unit;switch(args.to){case EditorScroll_.RawDirection.Up:direction=1;break;case EditorScroll_.RawDirection.Down:direction=2;break;default:return null}switch(args.by){case EditorScroll_.RawUnit.Line:unit=1;break;case EditorScroll_.RawUnit.WrappedLine:unit=2;break;case EditorScroll_.RawUnit.Page:unit=3;break;case EditorScroll_.RawUnit.HalfPage:unit=4;break;default:unit=2}return{direction:direction,unit:unit,value:Math.floor(args.value||1),revealCursor:!!args.revealCursor,select:!!args.select}}}(coreCommands_EditorScroll_||(coreCommands_EditorScroll_={})),(RevealLine_=coreCommands_RevealLine_||(coreCommands_RevealLine_={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(arg){if(!types.i(arg))return!1;const reveaLineArg=arg;return!(!types.h(reveaLineArg.lineNumber)||!types.k(reveaLineArg.at)&&!types.j(reveaLineArg.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},RevealLine_.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class coreCommands_EditorOrNativeTextInputCommand{constructor(target){target.addImplementation(1e4,(accessor,args)=>{const focusedEditor=accessor.get(codeEditorService.a).getFocusedCodeEditor();return!(!focusedEditor||!focusedEditor.hasTextFocus())&&(this.runEditorCommand(accessor,focusedEditor,args),!0)}),target.addImplementation(1e3,(accessor,args)=>{const activeElement=document.activeElement;return!!(activeElement&&["input","textarea"].indexOf(activeElement.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),target.addImplementation(0,(accessor,args)=>{const activeEditor=accessor.get(codeEditorService.a).getActiveCodeEditor();return!!activeEditor&&(activeEditor.focus(),this.runEditorCommand(accessor,activeEditor,args),!0)})}}!function(CoreNavigationCommands){class BaseMoveToCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,[cursorMoveCommands.b.moveTo(viewModel,viewModel.getPrimaryCursorState(),this._inSelectionMode,args.position,args.viewPosition)]),viewModel.revealPrimaryCursor(args.source,!0)}}CoreNavigationCommands.MoveTo=Object(editorExtensions.l)(new BaseMoveToCommand({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),CoreNavigationCommands.MoveToSelect=Object(editorExtensions.l)(new BaseMoveToCommand({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class ColumnSelectCommand extends coreCommands_CoreEditorCommand{runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();const result=this._getColumnSelectResult(viewModel,viewModel.getPrimaryCursorState(),viewModel.getCursorColumnSelectData(),args);viewModel.setCursorStates(args.source,3,result.viewStates.map(viewState=>cursorCommon.d.fromViewState(viewState))),viewModel.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:result.fromLineNumber,fromViewVisualColumn:result.fromVisualColumn,toViewLineNumber:result.toLineNumber,toViewVisualColumn:result.toVisualColumn}),result.reversed?viewModel.revealTopMostCursor(args.source):viewModel.revealBottomMostCursor(args.source)}}CoreNavigationCommands.ColumnSelect=Object(editorExtensions.l)(new class extends ColumnSelectCommand{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){const validatedPosition=viewModel.model.validatePosition(args.position),validatedViewPosition=viewModel.coordinatesConverter.validateViewPosition(new position.a(args.viewPosition.lineNumber,args.viewPosition.column),validatedPosition);let fromViewLineNumber=args.doColumnSelect?prevColumnSelectData.fromViewLineNumber:validatedViewPosition.lineNumber,fromViewVisualColumn=args.doColumnSelect?prevColumnSelectData.fromViewVisualColumn:args.mouseColumn-1;return cursorColumnSelection_ColumnSelection.columnSelect(viewModel.cursorConfig,viewModel,fromViewLineNumber,fromViewVisualColumn,validatedViewPosition.lineNumber,args.mouseColumn-1)}}),CoreNavigationCommands.CursorColumnSelectLeft=Object(editorExtensions.l)(new class extends ColumnSelectCommand{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectLeft(viewModel.cursorConfig,viewModel,prevColumnSelectData)}}),CoreNavigationCommands.CursorColumnSelectRight=Object(editorExtensions.l)(new class extends ColumnSelectCommand{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectRight(viewModel.cursorConfig,viewModel,prevColumnSelectData)}});class ColumnSelectUpCommand extends ColumnSelectCommand{constructor(opts){super(opts),this._isPaged=opts.isPaged}_getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectUp(viewModel.cursorConfig,viewModel,prevColumnSelectData,this._isPaged)}}CoreNavigationCommands.CursorColumnSelectUp=Object(editorExtensions.l)(new ColumnSelectUpCommand({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3600,linux:{primary:0}}})),CoreNavigationCommands.CursorColumnSelectPageUp=Object(editorExtensions.l)(new ColumnSelectUpCommand({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3595,linux:{primary:0}}}));class ColumnSelectDownCommand extends ColumnSelectCommand{constructor(opts){super(opts),this._isPaged=opts.isPaged}_getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return cursorColumnSelection_ColumnSelection.columnSelectDown(viewModel.cursorConfig,viewModel,prevColumnSelectData,this._isPaged)}}CoreNavigationCommands.CursorColumnSelectDown=Object(editorExtensions.l)(new ColumnSelectDownCommand({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3602,linux:{primary:0}}})),CoreNavigationCommands.CursorColumnSelectPageDown=Object(editorExtensions.l)(new ColumnSelectDownCommand({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3596,linux:{primary:0}}}));class CursorMoveImpl extends coreCommands_CoreEditorCommand{constructor(){super({id:"cursorMove",precondition:void 0,description:cursorMoveCommands.a.description})}runCoreEditorCommand(viewModel,args){const parsed=cursorMoveCommands.a.parse(args);parsed&&this._runCursorMove(viewModel,args.source,parsed)}_runCursorMove(viewModel,source,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(source,3,CursorMoveImpl._move(viewModel,viewModel.getCursorStates(),args)),viewModel.revealPrimaryCursor(source,!0)}static _move(viewModel,cursors,args){const inSelectionMode=args.select,value=args.value;switch(args.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return cursorMoveCommands.b.simpleMove(viewModel,cursors,args.direction,inSelectionMode,value,args.unit);case 9:case 11:case 10:case 12:return cursorMoveCommands.b.viewportMove(viewModel,cursors,args.direction,inSelectionMode,value);default:return null}}}CoreNavigationCommands.CursorMoveImpl=CursorMoveImpl,CoreNavigationCommands.CursorMove=Object(editorExtensions.l)(new CursorMoveImpl);class CursorMoveBasedCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._staticArgs=opts.args}runCoreEditorCommand(viewModel,dynamicArgs){let args=this._staticArgs;-1===this._staticArgs.value&&(args={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:viewModel.cursorConfig.pageSize}),viewModel.model.pushStackElement(),viewModel.setCursorStates(dynamicArgs.source,3,cursorMoveCommands.b.simpleMove(viewModel,viewModel.getCursorStates(),args.direction,args.select,args.value,args.unit)),viewModel.revealPrimaryCursor(dynamicArgs.source,!0)}}CoreNavigationCommands.CursorLeft=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),CoreNavigationCommands.CursorLeftSelect=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1039}})),CoreNavigationCommands.CursorRight=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),CoreNavigationCommands.CursorRightSelect=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1041}})),CoreNavigationCommands.CursorUp=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),CoreNavigationCommands.CursorUpSelect=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),CoreNavigationCommands.CursorPageUp=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:11}})),CoreNavigationCommands.CursorPageUpSelect=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1035}})),CoreNavigationCommands.CursorDown=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),CoreNavigationCommands.CursorDownSelect=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),CoreNavigationCommands.CursorPageDown=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:12}})),CoreNavigationCommands.CursorPageDownSelect=Object(editorExtensions.l)(new CursorMoveBasedCommand({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1036}})),CoreNavigationCommands.CreateCursor=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(viewModel,args){let newState;newState=args.wholeLine?cursorMoveCommands.b.line(viewModel,viewModel.getPrimaryCursorState(),!1,args.position,args.viewPosition):cursorMoveCommands.b.moveTo(viewModel,viewModel.getPrimaryCursorState(),!1,args.position,args.viewPosition);const states=viewModel.getCursorStates();if(states.length>1){const newModelPosition=newState.modelState?newState.modelState.position:null,newViewPosition=newState.viewState?newState.viewState.position:null;for(let i=0,len=states.length;i<len;i++){const state=states[i];if((!newModelPosition||state.modelState.selection.containsPosition(newModelPosition))&&(!newViewPosition||state.viewState.selection.containsPosition(newViewPosition)))return states.splice(i,1),viewModel.model.pushStackElement(),void viewModel.setCursorStates(args.source,3,states)}}states.push(newState),viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,states)}}),CoreNavigationCommands.LastCursorMoveToSelect=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(viewModel,args){const lastAddedCursorIndex=viewModel.getLastAddedCursorIndex(),states=viewModel.getCursorStates(),newStates=states.slice(0);newStates[lastAddedCursorIndex]=cursorMoveCommands.b.moveTo(viewModel,states[lastAddedCursorIndex],!0,args.position,args.viewPosition),viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,newStates)}});class HomeCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,cursorMoveCommands.b.moveToBeginningOfLine(viewModel,viewModel.getCursorStates(),this._inSelectionMode)),viewModel.revealPrimaryCursor(args.source,!0)}}CoreNavigationCommands.CursorHome=Object(editorExtensions.l)(new HomeCommand({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),CoreNavigationCommands.CursorHomeSelect=Object(editorExtensions.l)(new HomeCommand({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class LineStartCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,this._exec(viewModel.getCursorStates())),viewModel.revealPrimaryCursor(args.source,!0)}_exec(cursors){const result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],lineNumber=cursor.modelState.position.lineNumber;result[i]=cursorCommon.d.fromModelState(cursor.modelState.move(this._inSelectionMode,lineNumber,1,0))}return result}}CoreNavigationCommands.CursorLineStart=Object(editorExtensions.l)(new LineStartCommand({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:287}}})),CoreNavigationCommands.CursorLineStartSelect=Object(editorExtensions.l)(new LineStartCommand({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:1311}}}));class EndCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,cursorMoveCommands.b.moveToEndOfLine(viewModel,viewModel.getCursorStates(),this._inSelectionMode,args.sticky||!1)),viewModel.revealPrimaryCursor(args.source,!0)}}CoreNavigationCommands.CursorEnd=Object(editorExtensions.l)(new EndCommand({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:nls.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),CoreNavigationCommands.CursorEndSelect=Object(editorExtensions.l)(new EndCommand({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:nls.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class LineEndCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,this._exec(viewModel,viewModel.getCursorStates())),viewModel.revealPrimaryCursor(args.source,!0)}_exec(viewModel,cursors){const result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],lineNumber=cursor.modelState.position.lineNumber,maxColumn=viewModel.model.getLineMaxColumn(lineNumber);result[i]=cursorCommon.d.fromModelState(cursor.modelState.move(this._inSelectionMode,lineNumber,maxColumn,0))}return result}}CoreNavigationCommands.CursorLineEnd=Object(editorExtensions.l)(new LineEndCommand({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:291}}})),CoreNavigationCommands.CursorLineEndSelect=Object(editorExtensions.l)(new LineEndCommand({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:1315}}}));class TopCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,cursorMoveCommands.b.moveToBeginningOfBuffer(viewModel,viewModel.getCursorStates(),this._inSelectionMode)),viewModel.revealPrimaryCursor(args.source,!0)}}CoreNavigationCommands.CursorTop=Object(editorExtensions.l)(new TopCommand({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2062,mac:{primary:2064}}})),CoreNavigationCommands.CursorTopSelect=Object(editorExtensions.l)(new TopCommand({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3086,mac:{primary:3088}}}));class BottomCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,cursorMoveCommands.b.moveToEndOfBuffer(viewModel,viewModel.getCursorStates(),this._inSelectionMode)),viewModel.revealPrimaryCursor(args.source,!0)}}CoreNavigationCommands.CursorBottom=Object(editorExtensions.l)(new BottomCommand({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2061,mac:{primary:2066}}})),CoreNavigationCommands.CursorBottomSelect=Object(editorExtensions.l)(new BottomCommand({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:3085,mac:{primary:3090}}}));class EditorScrollImpl extends coreCommands_CoreEditorCommand{constructor(){super({id:"editorScroll",precondition:void 0,description:coreCommands_EditorScroll_.description})}runCoreEditorCommand(viewModel,args){const parsed=coreCommands_EditorScroll_.parse(args);parsed&&this._runEditorScroll(viewModel,args.source,parsed)}_runEditorScroll(viewModel,source,args){const desiredScrollTop=this._computeDesiredScrollTop(viewModel,args);if(args.revealCursor){const desiredVisibleViewRange=viewModel.getCompletelyVisibleViewRangeAtScrollTop(desiredScrollTop);viewModel.setCursorStates(source,3,[cursorMoveCommands.b.findPositionInViewportIfOutside(viewModel,viewModel.getPrimaryCursorState(),desiredVisibleViewRange,args.select)])}viewModel.setScrollTop(desiredScrollTop,0)}_computeDesiredScrollTop(viewModel,args){if(1===args.unit){const visibleViewRange=viewModel.getCompletelyVisibleViewRange(),visibleModelRange=viewModel.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange);let desiredTopModelLineNumber;desiredTopModelLineNumber=1===args.direction?Math.max(1,visibleModelRange.startLineNumber-args.value):Math.min(viewModel.model.getLineCount(),visibleModelRange.startLineNumber+args.value);const viewPosition=viewModel.coordinatesConverter.convertModelPositionToViewPosition(new position.a(desiredTopModelLineNumber,1));return viewModel.getVerticalOffsetForLineNumber(viewPosition.lineNumber)}let noOfLines;noOfLines=3===args.unit?viewModel.cursorConfig.pageSize*args.value:4===args.unit?Math.round(viewModel.cursorConfig.pageSize/2)*args.value:args.value;const deltaLines=(1===args.direction?-1:1)*noOfLines;return viewModel.getScrollTop()+deltaLines*viewModel.cursorConfig.lineHeight}}CoreNavigationCommands.EditorScrollImpl=EditorScrollImpl,CoreNavigationCommands.EditorScroll=Object(editorExtensions.l)(new EditorScrollImpl),CoreNavigationCommands.ScrollLineUp=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),CoreNavigationCommands.ScrollPageUp=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),CoreNavigationCommands.ScrollLineDown=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),CoreNavigationCommands.ScrollPageDown=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class WordCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,[cursorMoveCommands.b.word(viewModel,viewModel.getPrimaryCursorState(),this._inSelectionMode,args.position)]),viewModel.revealPrimaryCursor(args.source,!0)}}CoreNavigationCommands.WordSelect=Object(editorExtensions.l)(new WordCommand({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),CoreNavigationCommands.WordSelectDrag=Object(editorExtensions.l)(new WordCommand({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),CoreNavigationCommands.LastCursorWordSelect=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(viewModel,args){const lastAddedCursorIndex=viewModel.getLastAddedCursorIndex(),states=viewModel.getCursorStates(),newStates=states.slice(0),lastAddedState=states[lastAddedCursorIndex];newStates[lastAddedCursorIndex]=cursorMoveCommands.b.word(viewModel,lastAddedState,lastAddedState.modelState.hasSelection(),args.position),viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,newStates)}});class LineCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,[cursorMoveCommands.b.line(viewModel,viewModel.getPrimaryCursorState(),this._inSelectionMode,args.position,args.viewPosition)]),viewModel.revealPrimaryCursor(args.source,!1)}}CoreNavigationCommands.LineSelect=Object(editorExtensions.l)(new LineCommand({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),CoreNavigationCommands.LineSelectDrag=Object(editorExtensions.l)(new LineCommand({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class LastCursorLineCommand extends coreCommands_CoreEditorCommand{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode}runCoreEditorCommand(viewModel,args){const lastAddedCursorIndex=viewModel.getLastAddedCursorIndex(),states=viewModel.getCursorStates(),newStates=states.slice(0);newStates[lastAddedCursorIndex]=cursorMoveCommands.b.line(viewModel,states[lastAddedCursorIndex],this._inSelectionMode,args.position,args.viewPosition),viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,newStates)}}CoreNavigationCommands.LastCursorLineSelect=Object(editorExtensions.l)(new LastCursorLineCommand({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),CoreNavigationCommands.LastCursorLineSelectDrag=Object(editorExtensions.l)(new LastCursorLineCommand({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),CoreNavigationCommands.ExpandLineSelection=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:2090}})}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,cursorMoveCommands.b.expandLineSelection(viewModel,viewModel.getCursorStates())),viewModel.revealPrimaryCursor(args.source,!0)}}),CoreNavigationCommands.CancelSelection=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"cancelSelection",precondition:editorContextKeys.a.hasNonEmptySelection,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,[cursorMoveCommands.b.cancelSelection(viewModel,viewModel.getPrimaryCursorState())]),viewModel.revealPrimaryCursor(args.source,!0)}}),CoreNavigationCommands.RemoveSecondaryCursors=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"removeSecondaryCursors",precondition:editorContextKeys.a.hasMultipleSelections,kbOpts:{weight:CORE_WEIGHT+1,kbExpr:editorContextKeys.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,[viewModel.getPrimaryCursorState()]),viewModel.revealPrimaryCursor(args.source,!0)}}),CoreNavigationCommands.RevealLine=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"revealLine",precondition:void 0,description:coreCommands_RevealLine_.description})}runCoreEditorCommand(viewModel,args){const revealLineArg=args;let lineNumber=(revealLineArg.lineNumber||0)+1;lineNumber<1&&(lineNumber=1);const lineCount=viewModel.model.getLineCount();lineNumber>lineCount&&(lineNumber=lineCount);const range=new core_range.a(lineNumber,1,lineNumber,viewModel.model.getLineMaxColumn(lineNumber));let revealAt=0;if(revealLineArg.at)switch(revealLineArg.at){case coreCommands_RevealLine_.RawAtArgument.Top:revealAt=3;break;case coreCommands_RevealLine_.RawAtArgument.Center:revealAt=1;break;case coreCommands_RevealLine_.RawAtArgument.Bottom:revealAt=4}const viewRange=viewModel.coordinatesConverter.convertModelRangeToViewRange(range);viewModel.revealRange(args.source,!1,viewRange,revealAt,0)}}),CoreNavigationCommands.SelectAll=new class extends coreCommands_EditorOrNativeTextInputCommand{constructor(){super(editorExtensions.h)}runDOMCommand(){document.execCommand("selectAll")}runEditorCommand(accessor,editor,args){const viewModel=editor._getViewModel();viewModel&&this.runCoreEditorCommand(viewModel,args)}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates("keyboard",3,[cursorMoveCommands.b.selectAll(viewModel,viewModel.getPrimaryCursorState())])}},CoreNavigationCommands.SetSelection=Object(editorExtensions.l)(new class extends coreCommands_CoreEditorCommand{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement(),viewModel.setCursorStates(args.source,3,[cursorCommon.d.fromModelSelection(args.selection)])}})}(coreCommands_CoreNavigationCommands||(coreCommands_CoreNavigationCommands={}));const columnSelectionCondition=contextkey.a.and(editorContextKeys.a.textInputFocus,editorContextKeys.a.columnSelection);function registerColumnSelection(id,keybinding){keybindingsRegistry.a.registerKeybindingRule({id:id,primary:keybinding,when:columnSelectionCondition,weight:CORE_WEIGHT+1})}function registerCommand(command){return command.register(),command}var coreCommands_CoreEditingCommands;registerColumnSelection(coreCommands_CoreNavigationCommands.CursorColumnSelectLeft.id,1039),registerColumnSelection(coreCommands_CoreNavigationCommands.CursorColumnSelectRight.id,1041),registerColumnSelection(coreCommands_CoreNavigationCommands.CursorColumnSelectUp.id,1040),registerColumnSelection(coreCommands_CoreNavigationCommands.CursorColumnSelectPageUp.id,1035),registerColumnSelection(coreCommands_CoreNavigationCommands.CursorColumnSelectDown.id,1042),registerColumnSelection(coreCommands_CoreNavigationCommands.CursorColumnSelectPageDown.id,1036),function(CoreEditingCommands){class CoreEditingCommand extends editorExtensions.c{runEditorCommand(accessor,editor,args){const viewModel=editor._getViewModel();viewModel&&this.runCoreEditingCommand(editor,viewModel,args||{})}}CoreEditingCommands.CoreEditingCommand=CoreEditingCommand,CoreEditingCommands.LineBreakInsert=Object(editorExtensions.l)(new class extends CoreEditingCommand{constructor(){super({id:"lineBreakInsert",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(editor,viewModel,args){editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.lineBreakInsert(viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(s=>s.modelState.selection)))}}),CoreEditingCommands.Outdent=Object(editorExtensions.l)(new class extends CoreEditingCommand{constructor(){super({id:"outdent",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(editor,viewModel,args){editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.outdent(viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(s=>s.modelState.selection))),editor.pushUndoStop()}}),CoreEditingCommands.Tab=Object(editorExtensions.l)(new class extends CoreEditingCommand{constructor(){super({id:"tab",precondition:editorContextKeys.a.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(editor,viewModel,args){editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.tab(viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(s=>s.modelState.selection))),editor.pushUndoStop()}}),CoreEditingCommands.DeleteLeft=Object(editorExtensions.l)(new class extends CoreEditingCommand{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(editor,viewModel,args){const[shouldPushStackElementBefore,commands]=cursorDeleteOperations.a.deleteLeft(viewModel.getPrevEditOperationType(),viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(s=>s.modelState.selection));shouldPushStackElementBefore&&editor.pushUndoStop(),editor.executeCommands(this.id,commands),viewModel.setPrevEditOperationType(2)}}),CoreEditingCommands.DeleteRight=Object(editorExtensions.l)(new class extends CoreEditingCommand{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:CORE_WEIGHT,kbExpr:editorContextKeys.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(editor,viewModel,args){const[shouldPushStackElementBefore,commands]=cursorDeleteOperations.a.deleteRight(viewModel.getPrevEditOperationType(),viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(s=>s.modelState.selection));shouldPushStackElementBefore&&editor.pushUndoStop(),editor.executeCommands(this.id,commands),viewModel.setPrevEditOperationType(3)}}),CoreEditingCommands.Undo=new class extends coreCommands_EditorOrNativeTextInputCommand{constructor(){super(editorExtensions.i)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(accessor,editor,args){editor.hasModel()&&!0!==editor.getOption(72)&&editor.getModel().undo()}},CoreEditingCommands.Redo=new class extends coreCommands_EditorOrNativeTextInputCommand{constructor(){super(editorExtensions.g)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(accessor,editor,args){editor.hasModel()&&!0!==editor.getOption(72)&&editor.getModel().redo()}}}(coreCommands_CoreEditingCommands||(coreCommands_CoreEditingCommands={}));class coreCommands_EditorHandlerCommand extends editorExtensions.a{constructor(id,handlerId,description){super({id:id,precondition:void 0,description:description}),this._handlerId=handlerId}runCommand(accessor,args){const editor=accessor.get(codeEditorService.a).getFocusedCodeEditor();editor&&editor.trigger("keyboard",this._handlerId,args)}}function registerOverwritableCommand(handlerId,description){registerCommand(new coreCommands_EditorHandlerCommand("default:"+handlerId,handlerId)),registerCommand(new coreCommands_EditorHandlerCommand(handlerId,handlerId,description))}registerOverwritableCommand("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),registerOverwritableCommand("replacePreviousChar"),registerOverwritableCommand("compositionStart"),registerOverwritableCommand("compositionEnd"),registerOverwritableCommand("paste"),registerOverwritableCommand("cut")},2456:function(module,__webpack_exports__,__webpack_require__){"use strict";var errors=__webpack_require__(2302),strings=__webpack_require__(2299),replaceCommand=__webpack_require__(2381),shiftCommand=__webpack_require__(2437),core_range=__webpack_require__(2295),core_selection=__webpack_require__(2311);class surroundSelectionCommand_SurroundSelectionCommand{constructor(range,charBeforeSelection,charAfterSelection){this._range=range,this._charBeforeSelection=charBeforeSelection,this._charAfterSelection=charAfterSelection}getEditOperations(model,builder){builder.addTrackedEditOperation(new core_range.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),builder.addTrackedEditOperation(new core_range.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(model,helper){let inverseEditOperations=helper.getInverseEditOperations(),firstOperationRange=inverseEditOperations[0].range,secondOperationRange=inverseEditOperations[1].range;return new core_selection.a(firstOperationRange.endLineNumber,firstOperationRange.endColumn,secondOperationRange.endLineNumber,secondOperationRange.endColumn-this._charAfterSelection.length)}}var cursorCommon=__webpack_require__(2333),wordCharacterClassifier=__webpack_require__(2386),languageConfiguration=__webpack_require__(2388),languageConfigurationRegistry=__webpack_require__(2334);__webpack_require__.d(__webpack_exports__,"a",function(){return cursorTypeOperations_TypeOperations}),__webpack_require__.d(__webpack_exports__,"b",function(){return cursorTypeOperations_TypeWithAutoClosingCommand});class cursorTypeOperations_TypeOperations{static indent(config,model,selections){if(null===model||null===selections)return[];let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=new shiftCommand.a(selections[i],{isUnshift:!1,tabSize:config.tabSize,indentSize:config.indentSize,insertSpaces:config.insertSpaces,useTabStops:config.useTabStops,autoIndent:config.autoIndent});return commands}static outdent(config,model,selections){let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=new shiftCommand.a(selections[i],{isUnshift:!0,tabSize:config.tabSize,indentSize:config.indentSize,insertSpaces:config.insertSpaces,useTabStops:config.useTabStops,autoIndent:config.autoIndent});return commands}static shiftIndent(config,indentation,count){return count=count||1,shiftCommand.a.shiftIndent(indentation,indentation.length+count,config.tabSize,config.indentSize,config.insertSpaces)}static unshiftIndent(config,indentation,count){return count=count||1,shiftCommand.a.unshiftIndent(indentation,indentation.length+count,config.tabSize,config.indentSize,config.insertSpaces)}static _distributedPaste(config,model,selections,text){let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=new replaceCommand.a(selections[i],text[i]);return new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(config,model,selections,text,pasteOnNewLine){let commands=[];for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];let position=selection.getPosition();if(pasteOnNewLine&&!selection.isEmpty()&&(pasteOnNewLine=!1),pasteOnNewLine&&text.indexOf("\n")!==text.length-1&&(pasteOnNewLine=!1),pasteOnNewLine){let typeSelection=new core_range.a(position.lineNumber,1,position.lineNumber,1);commands[i]=new replaceCommand.b(typeSelection,text,selection,!0)}else commands[i]=new replaceCommand.a(selection,text)}return new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(config,selections,text,pasteOnNewLine,multicursorText){if(pasteOnNewLine)return null;if(1===selections.length)return null;if(multicursorText&&multicursorText.length===selections.length)return multicursorText;if("spread"===config.multiCursorPaste){10===text.charCodeAt(text.length-1)&&(text=text.substr(0,text.length-1)),13===text.charCodeAt(text.length-1)&&(text=text.substr(0,text.length-1));let lines=text.split(/\r\n|\r|\n/);if(lines.length===selections.length)return lines}return null}static paste(config,model,selections,text,pasteOnNewLine,multicursorText){const distributedPaste=this._distributePasteToCursors(config,selections,text,pasteOnNewLine,multicursorText);return distributedPaste?(selections=selections.sort(core_range.a.compareRangesUsingStarts),this._distributedPaste(config,model,selections,distributedPaste)):this._simplePaste(config,model,selections,text,pasteOnNewLine)}static _goodIndentForLine(config,model,lineNumber){let action=null,indentation="";const expectedIndentAction=languageConfigurationRegistry.a.getInheritIndentForLine(config.autoIndent,model,lineNumber,!1);if(expectedIndentAction)action=expectedIndentAction.action,indentation=expectedIndentAction.indentation;else if(lineNumber>1){let lastLineNumber;for(lastLineNumber=lineNumber-1;lastLineNumber>=1;lastLineNumber--){const lineText=model.getLineContent(lastLineNumber);if(strings.J(lineText)>=0)break}if(lastLineNumber<1)return null;const maxColumn=model.getLineMaxColumn(lastLineNumber),expectedEnterAction=languageConfigurationRegistry.a.getEnterAction(config.autoIndent,model,new core_range.a(lastLineNumber,maxColumn,lastLineNumber,maxColumn));expectedEnterAction&&(indentation=expectedEnterAction.indentation+expectedEnterAction.appendText)}return action&&(action===languageConfiguration.a.Indent&&(indentation=cursorTypeOperations_TypeOperations.shiftIndent(config,indentation)),action===languageConfiguration.a.Outdent&&(indentation=cursorTypeOperations_TypeOperations.unshiftIndent(config,indentation)),indentation=config.normalizeIndentation(indentation)),indentation||null}static _replaceJumpToNextIndent(config,model,selection,insertsAutoWhitespace){let typeText="",position=selection.getStartPosition();if(config.insertSpaces){let visibleColumnFromColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,position),indentSize=config.indentSize,spacesCnt=indentSize-visibleColumnFromColumn%indentSize;for(let i=0;i<spacesCnt;i++)typeText+=" "}else typeText="\t";return new replaceCommand.a(selection,typeText,insertsAutoWhitespace)}static tab(config,model,selections){let commands=[];for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];if(selection.isEmpty()){let lineText=model.getLineContent(selection.startLineNumber);if(/^\s*$/.test(lineText)&&model.isCheapToTokenize(selection.startLineNumber)){let goodIndent=this._goodIndentForLine(config,model,selection.startLineNumber);goodIndent=goodIndent||"\t";let possibleTypeText=config.normalizeIndentation(goodIndent);if(!strings.S(lineText,possibleTypeText)){commands[i]=new replaceCommand.a(new core_range.a(selection.startLineNumber,1,selection.startLineNumber,lineText.length+1),possibleTypeText,!0);continue}}commands[i]=this._replaceJumpToNextIndent(config,model,selection,!0)}else{if(selection.startLineNumber===selection.endLineNumber){let lineMaxColumn=model.getLineMaxColumn(selection.startLineNumber);if(1!==selection.startColumn||selection.endColumn!==lineMaxColumn){commands[i]=this._replaceJumpToNextIndent(config,model,selection,!1);continue}}commands[i]=new shiftCommand.a(selection,{isUnshift:!1,tabSize:config.tabSize,indentSize:config.indentSize,insertSpaces:config.insertSpaces,useTabStops:config.useTabStops,autoIndent:config.autoIndent})}}return commands}static replacePreviousChar(prevEditOperationType,config,model,selections,txt,replaceCharCnt){let commands=[];for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];if(!selection.isEmpty()){commands[i]=null;continue}const pos=selection.getPosition(),startColumn=Math.max(1,pos.column-replaceCharCnt),range=new core_range.a(pos.lineNumber,startColumn,pos.lineNumber,pos.column);model.getValueInRange(range)!==txt?commands[i]=new replaceCommand.a(range,txt):commands[i]=null}return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:1!==prevEditOperationType,shouldPushStackElementAfter:!1})}static _typeCommand(range,text,keepPosition){return keepPosition?new replaceCommand.e(range,text,!0):new replaceCommand.a(range,text,!0)}static _enter(config,model,keepPosition,range){if(0===config.autoIndent)return cursorTypeOperations_TypeOperations._typeCommand(range,"\n",keepPosition);if(!model.isCheapToTokenize(range.getStartPosition().lineNumber)||1===config.autoIndent){let lineText=model.getLineContent(range.startLineNumber),indentation=strings.z(lineText).substring(0,range.startColumn-1);return cursorTypeOperations_TypeOperations._typeCommand(range,"\n"+config.normalizeIndentation(indentation),keepPosition)}const r=languageConfigurationRegistry.a.getEnterAction(config.autoIndent,model,range);if(r){if(r.indentAction===languageConfiguration.a.None)return cursorTypeOperations_TypeOperations._typeCommand(range,"\n"+config.normalizeIndentation(r.indentation+r.appendText),keepPosition);if(r.indentAction===languageConfiguration.a.Indent)return cursorTypeOperations_TypeOperations._typeCommand(range,"\n"+config.normalizeIndentation(r.indentation+r.appendText),keepPosition);if(r.indentAction===languageConfiguration.a.IndentOutdent){const normalIndent=config.normalizeIndentation(r.indentation),increasedIndent=config.normalizeIndentation(r.indentation+r.appendText),typeText="\n"+increasedIndent+"\n"+normalIndent;return keepPosition?new replaceCommand.e(range,typeText,!0):new replaceCommand.d(range,typeText,-1,increasedIndent.length-normalIndent.length,!0)}if(r.indentAction===languageConfiguration.a.Outdent){const actualIndentation=cursorTypeOperations_TypeOperations.unshiftIndent(config,r.indentation);return cursorTypeOperations_TypeOperations._typeCommand(range,"\n"+config.normalizeIndentation(actualIndentation+r.appendText),keepPosition)}}const lineText=model.getLineContent(range.startLineNumber),indentation=strings.z(lineText).substring(0,range.startColumn-1);if(config.autoIndent>=4){const ir=languageConfigurationRegistry.a.getIndentForEnter(config.autoIndent,model,range,{unshiftIndent:indent=>cursorTypeOperations_TypeOperations.unshiftIndent(config,indent),shiftIndent:indent=>cursorTypeOperations_TypeOperations.shiftIndent(config,indent),normalizeIndentation:indent=>config.normalizeIndentation(indent)});if(ir){let oldEndViewColumn=cursorCommon.a.visibleColumnFromColumn2(config,model,range.getEndPosition());const oldEndColumn=range.endColumn;let beforeText="\n";indentation!==config.normalizeIndentation(ir.beforeEnter)&&(beforeText=config.normalizeIndentation(ir.beforeEnter)+lineText.substring(indentation.length,range.startColumn-1)+"\n",range=new core_range.a(range.startLineNumber,1,range.endLineNumber,range.endColumn));const newLineContent=model.getLineContent(range.endLineNumber),firstNonWhitespace=strings.w(newLineContent);if(range=firstNonWhitespace>=0?range.setEndPosition(range.endLineNumber,Math.max(range.endColumn,firstNonWhitespace+1)):range.setEndPosition(range.endLineNumber,model.getLineMaxColumn(range.endLineNumber)),keepPosition)return new replaceCommand.e(range,beforeText+config.normalizeIndentation(ir.afterEnter),!0);{let offset=0;return oldEndColumn<=firstNonWhitespace+1&&(config.insertSpaces||(oldEndViewColumn=Math.ceil(oldEndViewColumn/config.indentSize)),offset=Math.min(oldEndViewColumn+1-config.normalizeIndentation(ir.afterEnter).length-1,0)),new replaceCommand.d(range,beforeText+config.normalizeIndentation(ir.afterEnter),0,offset,!0)}}}return cursorTypeOperations_TypeOperations._typeCommand(range,"\n"+config.normalizeIndentation(indentation),keepPosition)}static _isAutoIndentType(config,model,selections){if(config.autoIndent<4)return!1;for(let i=0,len=selections.length;i<len;i++)if(!model.isCheapToTokenize(selections[i].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(config,model,range,ch){const currentIndentation=languageConfigurationRegistry.a.getIndentationAtPosition(model,range.startLineNumber,range.startColumn),actualIndentation=languageConfigurationRegistry.a.getIndentActionForType(config.autoIndent,model,range,ch,{shiftIndent:indentation=>cursorTypeOperations_TypeOperations.shiftIndent(config,indentation),unshiftIndent:indentation=>cursorTypeOperations_TypeOperations.unshiftIndent(config,indentation)});if(null===actualIndentation)return null;if(actualIndentation!==config.normalizeIndentation(currentIndentation)){const firstNonWhitespace=model.getLineFirstNonWhitespaceColumn(range.startLineNumber);return 0===firstNonWhitespace?cursorTypeOperations_TypeOperations._typeCommand(new core_range.a(range.startLineNumber,0,range.endLineNumber,range.endColumn),config.normalizeIndentation(actualIndentation)+ch,!1):cursorTypeOperations_TypeOperations._typeCommand(new core_range.a(range.startLineNumber,0,range.endLineNumber,range.endColumn),config.normalizeIndentation(actualIndentation)+model.getLineContent(range.startLineNumber).substring(firstNonWhitespace-1,range.startColumn-1)+ch,!1)}return null}static _isAutoClosingOvertype(config,model,selections,autoClosedCharacters,ch){if("never"===config.autoClosingOvertype)return!1;if(!config.autoClosingPairsClose2.has(ch))return!1;for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];if(!selection.isEmpty())return!1;const position=selection.getPosition(),lineText=model.getLineContent(position.lineNumber);if(lineText.charAt(position.column-1)!==ch)return!1;const chIsQuote=Object(cursorCommon.g)(ch);if(92===(position.column>2?lineText.charCodeAt(position.column-2):0)&&chIsQuote)return!1;if("auto"===config.autoClosingOvertype){let found=!1;for(let j=0,lenJ=autoClosedCharacters.length;j<lenJ;j++){const autoClosedCharacter=autoClosedCharacters[j];if(position.lineNumber===autoClosedCharacter.startLineNumber&&position.column===autoClosedCharacter.startColumn){found=!0;break}}if(!found)return!1}}return!0}static _runAutoClosingOvertype(prevEditOperationType,config,model,selections,ch){let commands=[];for(let i=0,len=selections.length;i<len;i++){const position=selections[i].getPosition(),typeSelection=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column+1);commands[i]=new replaceCommand.a(typeSelection,ch)}return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:1!==prevEditOperationType,shouldPushStackElementAfter:!1})}static _autoClosingPairIsSymmetric(autoClosingPair){const{open:open,close:close}=autoClosingPair;return open.indexOf(close)>=0||close.indexOf(open)>=0}static _isBeforeClosingBrace(config,autoClosingPair,characterAfter){const otherAutoClosingPairs=config.autoClosingPairsClose2.get(characterAfter);if(!otherAutoClosingPairs)return!1;const thisBraceIsSymmetric=cursorTypeOperations_TypeOperations._autoClosingPairIsSymmetric(autoClosingPair);for(const otherAutoClosingPair of otherAutoClosingPairs){const otherBraceIsSymmetric=cursorTypeOperations_TypeOperations._autoClosingPairIsSymmetric(otherAutoClosingPair);if(thisBraceIsSymmetric||!otherBraceIsSymmetric)return!0}return!1}static _findAutoClosingPairOpen(config,model,positions,ch){const autoClosingPairCandidates=config.autoClosingPairsOpen2.get(ch);if(!autoClosingPairCandidates)return null;let autoClosingPair=null;for(const autoClosingPairCandidate of autoClosingPairCandidates)if(null===autoClosingPair||autoClosingPairCandidate.open.length>autoClosingPair.open.length){let candidateIsMatch=!0;for(const position of positions){if(model.getValueInRange(new core_range.a(position.lineNumber,position.column-autoClosingPairCandidate.open.length+1,position.lineNumber,position.column))+ch!==autoClosingPairCandidate.open){candidateIsMatch=!1;break}}candidateIsMatch&&(autoClosingPair=autoClosingPairCandidate)}return autoClosingPair}static _isAutoClosingOpenCharType(config,model,selections,ch,insertOpenCharacter){const chIsQuote=Object(cursorCommon.g)(ch),autoCloseConfig=chIsQuote?config.autoClosingQuotes:config.autoClosingBrackets;if("never"===autoCloseConfig)return null;const autoClosingPair=this._findAutoClosingPairOpen(config,model,selections.map(s=>s.getPosition()),ch);if(!autoClosingPair)return null;const shouldAutoCloseBefore=chIsQuote?config.shouldAutoCloseBefore.quote:config.shouldAutoCloseBefore.bracket;for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];if(!selection.isEmpty())return null;const position=selection.getPosition(),lineText=model.getLineContent(position.lineNumber);if(lineText.length>position.column-1){const characterAfter=lineText.charAt(position.column-1);if(!cursorTypeOperations_TypeOperations._isBeforeClosingBrace(config,autoClosingPair,characterAfter)&&!shouldAutoCloseBefore(characterAfter))return null}if(!model.isCheapToTokenize(position.lineNumber))return null;if(1===autoClosingPair.open.length&&chIsQuote&&"always"!==autoCloseConfig){const wordSeparators=Object(wordCharacterClassifier.a)(config.wordSeparators);if(insertOpenCharacter&&position.column>1&&0===wordSeparators.get(lineText.charCodeAt(position.column-2)))return null;if(!insertOpenCharacter&&position.column>2&&0===wordSeparators.get(lineText.charCodeAt(position.column-3)))return null}model.forceTokenization(position.lineNumber);const lineTokens=model.getLineTokens(position.lineNumber);let shouldAutoClosePair=!1;try{shouldAutoClosePair=languageConfigurationRegistry.a.shouldAutoClosePair(autoClosingPair,lineTokens,insertOpenCharacter?position.column:position.column-1)}catch(e){Object(errors.e)(e)}if(!shouldAutoClosePair)return null}return autoClosingPair}static _runAutoClosingOpenCharType(prevEditOperationType,config,model,selections,ch,insertOpenCharacter,autoClosingPair){let commands=[];for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];commands[i]=new cursorTypeOperations_TypeWithAutoClosingCommand(selection,ch,insertOpenCharacter,autoClosingPair.close)}return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(config,ch){return Object(cursorCommon.g)(ch)?"quotes"===config.autoSurround||"languageDefined"===config.autoSurround:"brackets"===config.autoSurround||"languageDefined"===config.autoSurround}static _isSurroundSelectionType(config,model,selections,ch){if(!cursorTypeOperations_TypeOperations._shouldSurroundChar(config,ch)||!config.surroundingPairs.hasOwnProperty(ch))return!1;const isTypingAQuoteCharacter=Object(cursorCommon.g)(ch);for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];if(selection.isEmpty())return!1;let selectionContainsOnlyWhitespace=!0;for(let lineNumber=selection.startLineNumber;lineNumber<=selection.endLineNumber;lineNumber++){const lineText=model.getLineContent(lineNumber),startIndex=lineNumber===selection.startLineNumber?selection.startColumn-1:0,endIndex=lineNumber===selection.endLineNumber?selection.endColumn-1:lineText.length,selectedText=lineText.substring(startIndex,endIndex);if(/[^ \t]/.test(selectedText)){selectionContainsOnlyWhitespace=!1;break}}if(selectionContainsOnlyWhitespace)return!1;if(isTypingAQuoteCharacter&&selection.startLineNumber===selection.endLineNumber&&selection.startColumn+1===selection.endColumn){const selectionText=model.getValueInRange(selection);if(Object(cursorCommon.g)(selectionText))return!1}}return!0}static _runSurroundSelectionType(prevEditOperationType,config,model,selections,ch){let commands=[];for(let i=0,len=selections.length;i<len;i++){const selection=selections[i],closeCharacter=config.surroundingPairs[ch];commands[i]=new surroundSelectionCommand_SurroundSelectionCommand(selection,ch,closeCharacter)}return new cursorCommon.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(config,model,selections){return!(1!==selections.length||!model.isCheapToTokenize(selections[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(prevEditOperationType,config,model,selection,ch){if(!config.electricChars.hasOwnProperty(ch)||!selection.isEmpty())return null;let position=selection.getPosition();model.forceTokenization(position.lineNumber);let electricAction,lineTokens=model.getLineTokens(position.lineNumber);try{electricAction=languageConfigurationRegistry.a.onElectricCharacter(ch,lineTokens,position.column)}catch(e){return Object(errors.e)(e),null}if(!electricAction)return null;if(electricAction.matchOpenBracket){let endColumn=(lineTokens.getLineContent()+ch).lastIndexOf(electricAction.matchOpenBracket)+1,match=model.findMatchingBracketUp(electricAction.matchOpenBracket,{lineNumber:position.lineNumber,column:endColumn});if(match){if(match.startLineNumber===position.lineNumber)return null;let matchLine=model.getLineContent(match.startLineNumber),matchLineIndentation=strings.z(matchLine),newIndentation=config.normalizeIndentation(matchLineIndentation),lineText=model.getLineContent(position.lineNumber),lineFirstNonBlankColumn=model.getLineFirstNonWhitespaceColumn(position.lineNumber)||position.column,typeText=newIndentation+lineText.substring(lineFirstNonBlankColumn-1,position.column-1)+ch,typeSelection=new core_range.a(position.lineNumber,1,position.lineNumber,position.column);const command=new replaceCommand.a(typeSelection,typeText);return new cursorCommon.e(1,[command],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(prevEditOperationType,config,model,selectionsWhenCompositionStarted,selections,autoClosedCharacters){if(!selectionsWhenCompositionStarted||core_selection.a.selectionsArrEqual(selectionsWhenCompositionStarted,selections))return null;let ch=null;for(const selection of selections){if(!selection.isEmpty())return null;const position=selection.getPosition(),currentChar=model.getValueInRange(new core_range.a(position.lineNumber,position.column-1,position.lineNumber,position.column));if(null===ch)ch=currentChar;else if(ch!==currentChar)return null}if(!ch)return null;if(this._isAutoClosingOvertype(config,model,selections,autoClosedCharacters,ch)){const commands=selections.map(s=>new replaceCommand.a(new core_range.a(s.positionLineNumber,s.positionColumn,s.positionLineNumber,s.positionColumn+1),"",!1));return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const autoClosingPairOpenCharType=this._isAutoClosingOpenCharType(config,model,selections,ch,!1);return autoClosingPairOpenCharType?this._runAutoClosingOpenCharType(prevEditOperationType,config,model,selections,ch,!1,autoClosingPairOpenCharType):null}static typeWithInterceptors(isDoingComposition,prevEditOperationType,config,model,selections,autoClosedCharacters,ch){if(!isDoingComposition&&"\n"===ch){let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=cursorTypeOperations_TypeOperations._enter(config,model,!1,selections[i]);return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!isDoingComposition&&this._isAutoIndentType(config,model,selections)){let commands=[],autoIndentFails=!1;for(let i=0,len=selections.length;i<len;i++)if(commands[i]=this._runAutoIndentType(config,model,selections[i],ch),!commands[i]){autoIndentFails=!0;break}if(!autoIndentFails)return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!isDoingComposition&&this._isAutoClosingOvertype(config,model,selections,autoClosedCharacters,ch))return this._runAutoClosingOvertype(prevEditOperationType,config,model,selections,ch);if(!isDoingComposition){const autoClosingPairOpenCharType=this._isAutoClosingOpenCharType(config,model,selections,ch,!0);if(autoClosingPairOpenCharType)return this._runAutoClosingOpenCharType(prevEditOperationType,config,model,selections,ch,!0,autoClosingPairOpenCharType)}if(this._isSurroundSelectionType(config,model,selections,ch))return this._runSurroundSelectionType(prevEditOperationType,config,model,selections,ch);if(!isDoingComposition&&this._isTypeInterceptorElectricChar(config,model,selections)){const r=this._typeInterceptorElectricChar(prevEditOperationType,config,model,selections[0],ch);if(r)return r}let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=new replaceCommand.a(selections[i],ch);let shouldPushStackElementBefore=1!==prevEditOperationType;return" "===ch&&(shouldPushStackElementBefore=!0),new cursorCommon.e(1,commands,{shouldPushStackElementBefore:shouldPushStackElementBefore,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(prevEditOperationType,config,model,selections,str){let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=new replaceCommand.a(selections[i],str);return new cursorCommon.e(1,commands,{shouldPushStackElementBefore:1!==prevEditOperationType,shouldPushStackElementAfter:!1})}static lineInsertBefore(config,model,selections){if(null===model||null===selections)return[];let commands=[];for(let i=0,len=selections.length;i<len;i++){let lineNumber=selections[i].positionLineNumber;if(1===lineNumber)commands[i]=new replaceCommand.e(new core_range.a(1,1,1,1),"\n");else{lineNumber--;let column=model.getLineMaxColumn(lineNumber);commands[i]=this._enter(config,model,!1,new core_range.a(lineNumber,column,lineNumber,column))}}return commands}static lineInsertAfter(config,model,selections){if(null===model||null===selections)return[];let commands=[];for(let i=0,len=selections.length;i<len;i++){const lineNumber=selections[i].positionLineNumber;let column=model.getLineMaxColumn(lineNumber);commands[i]=this._enter(config,model,!1,new core_range.a(lineNumber,column,lineNumber,column))}return commands}static lineBreakInsert(config,model,selections){let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=this._enter(config,model,!0,selections[i]);return commands}}class cursorTypeOperations_TypeWithAutoClosingCommand extends replaceCommand.d{constructor(selection,openCharacter,insertOpenCharacter,closeCharacter){super(selection,(insertOpenCharacter?openCharacter:"")+closeCharacter,0,-closeCharacter.length),this._openCharacter=openCharacter,this._closeCharacter=closeCharacter,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(model,helper){let range=helper.getInverseEditOperations()[0].range;return this.closeCharacterRange=new core_range.a(range.startLineNumber,range.endColumn-this._closeCharacter.length,range.endLineNumber,range.endColumn),this.enclosingRange=new core_range.a(range.startLineNumber,range.endColumn-this._openCharacter.length-this._closeCharacter.length,range.endLineNumber,range.endColumn),super.computeCursorState(model,helper)}}},2457:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IframeUtils});let hasDifferentOriginAncestorFlag=!1,sameOriginWindowChainCache=null;function getParentWindowIfSameOrigin(w){if(!w.parent||w.parent===w)return null;try{let location=w.location,parentLocation=w.parent.location;if("null"!==location.origin&&"null"!==parentLocation.origin&&(location.protocol!==parentLocation.protocol||location.hostname!==parentLocation.hostname||location.port!==parentLocation.port))return hasDifferentOriginAncestorFlag=!0,null}catch(e){return hasDifferentOriginAncestorFlag=!0,null}return w.parent}class IframeUtils{static getSameOriginWindowChain(){if(!sameOriginWindowChainCache){sameOriginWindowChainCache=[];let parent,w=window;do{(parent=getParentWindowIfSameOrigin(w))?sameOriginWindowChainCache.push({window:w,iframeElement:w.frameElement||null}):sameOriginWindowChainCache.push({window:w,iframeElement:null}),w=parent}while(w)}return sameOriginWindowChainCache.slice(0)}static hasDifferentOriginAncestor(){return sameOriginWindowChainCache||this.getSameOriginWindowChain(),hasDifferentOriginAncestorFlag}static getPositionOfChildWindowRelativeToAncestorWindow(childWindow,ancestorWindow){if(!ancestorWindow||childWindow===ancestorWindow)return{top:0,left:0};let top=0,left=0,windowChain=this.getSameOriginWindowChain();for(const windowChainEl of windowChain){if(top+=windowChainEl.window.scrollY,left+=windowChainEl.window.scrollX,windowChainEl.window===ancestorWindow)break;if(!windowChainEl.iframeElement)break;let boundingRect=windowChainEl.iframeElement.getBoundingClientRect();top+=boundingRect.top,left+=boundingRect.left}return{top:top,left:left}}}},2458:function(module,__webpack_exports__,__webpack_require__){"use strict";function ok(value,message){if(!value)throw new Error(message?`Assertion failed (${message})`:"Assertion Failed")}__webpack_require__.d(__webpack_exports__,"a",function(){return ok})},2459:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ToggleTabFocusModeAction",function(){return ToggleTabFocusModeAction});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2335),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2301),_common_config_commonEditorConfig_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2428);class ToggleTabFocusModeAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b{constructor(){super({id:ToggleTabFocusModeAction.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(accessor,editor){const newValue=!_common_config_commonEditorConfig_js__WEBPACK_IMPORTED_MODULE_3__.b.getTabFocusMode();_common_config_commonEditorConfig_js__WEBPACK_IMPORTED_MODULE_3__.b.setTabFocusMode(newValue),newValue?Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__.a)(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__.a)(_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}ToggleTabFocusModeAction.ID="editor.action.toggleTabFocusMode",Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.k)(ToggleTabFocusModeAction)},2460:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Extensions});var _registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2324),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296);const Extensions={JSONContribution:"base.contributions.json"};const jsonContributionRegistry=new class JSONContributionRegistry{constructor(){this._onDidChangeSchema=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a,this.schemasById={}}registerSchema(uri,unresolvedSchemaContent){this.schemasById[function normalizeId(id){return id.length>0&&"#"===id.charAt(id.length-1)?id.substring(0,id.length-1):id}(uri)]=unresolvedSchemaContent,this._onDidChangeSchema.fire(uri)}notifySchemaChanged(uri){this._onDidChangeSchema.fire(uri)}};_registry_common_platform_js__WEBPACK_IMPORTED_MODULE_0__.a.add(Extensions.JSONContribution,jsonContributionRegistry)},2461:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return forEach}),__webpack_require__.d(__webpack_exports__,"a",function(){return SetMap});const hasOwnProperty=Object.prototype.hasOwnProperty;function forEach(from,callback){for(let key in from)if(hasOwnProperty.call(from,key)){if(!1===callback({key:key,value:from[key]},function(){delete from[key]}))return}}class SetMap{constructor(){this.map=new Map}add(key,value){let values=this.map.get(key);values||(values=new Set,this.map.set(key,values)),values.add(value)}delete(key,value){const values=this.map.get(key);values&&(values.delete(value),0===values.size&&this.map.delete(key))}forEach(key,fn){const values=this.map.get(key);values&&values.forEach(fn)}}},2462:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return codiconStartMarker}),__webpack_require__.d(__webpack_exports__,"c",function(){return parseCodicons}),__webpack_require__.d(__webpack_exports__,"b",function(){return matchesFuzzyCodiconAware});var _filters_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2354),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2299);const codiconStartMarker="$(";function parseCodicons(text){const firstCodiconIndex=text.indexOf(codiconStartMarker);return-1===firstCodiconIndex?{text:text}:function doParseCodicons(text,firstCodiconIndex){const codiconOffsets=[];let textWithoutCodicons="";function appendChars(chars){if(chars){textWithoutCodicons+=chars;for(const _ of chars)codiconOffsets.push(codiconsOffset)}}let char,nextChar,currentCodiconStart=-1,currentCodiconValue="",codiconsOffset=0,offset=firstCodiconIndex;const length=text.length;appendChars(text.substr(0,firstCodiconIndex));for(;offset<length;){if(char=text[offset],nextChar=text[offset+1],char===codiconStartMarker[0]&&nextChar===codiconStartMarker[1])currentCodiconStart=offset,appendChars(currentCodiconValue),currentCodiconValue=codiconStartMarker,offset++;else if(")"===char&&-1!==currentCodiconStart){const currentCodiconLength=offset-currentCodiconStart+1;codiconsOffset+=currentCodiconLength,currentCodiconStart=-1,currentCodiconValue=""}else-1!==currentCodiconStart?/^[a-z0-9\-]$/i.test(char)?currentCodiconValue+=char:(appendChars(currentCodiconValue),currentCodiconStart=-1,currentCodiconValue=""):appendChars(char);offset++}return appendChars(currentCodiconValue),{text:textWithoutCodicons,codiconOffsets:codiconOffsets}}(text,firstCodiconIndex)}function matchesFuzzyCodiconAware(query,target,enableSeparateSubstringMatching=!1){const{text:text,codiconOffsets:codiconOffsets}=target;if(!codiconOffsets||0===codiconOffsets.length)return Object(_filters_js__WEBPACK_IMPORTED_MODULE_0__.g)(query,text,enableSeparateSubstringMatching);const wordToMatchAgainstWithoutCodiconsTrimmed=Object(_strings_js__WEBPACK_IMPORTED_MODULE_1__.K)(text," "),leadingWhitespaceOffset=text.length-wordToMatchAgainstWithoutCodiconsTrimmed.length,matches=Object(_filters_js__WEBPACK_IMPORTED_MODULE_0__.g)(query,wordToMatchAgainstWithoutCodiconsTrimmed,enableSeparateSubstringMatching);if(matches)for(const match of matches){const codiconOffset=codiconOffsets[match.start+leadingWhitespaceOffset]+leadingWhitespaceOffset;match.start+=codiconOffset,match.end+=codiconOffset}return matches}},2463:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return isEditStackElement}),__webpack_require__.d(__webpack_exports__,"a",function(){return EditStack});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2302),_core_selection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2311),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2313),_textChange_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2464),_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2397);function uriGetComparisonKey(resource){return resource.toString()}class SingleModelEditStackData{constructor(beforeVersionId,afterVersionId,beforeEOL,afterEOL,beforeCursorState,afterCursorState,changes){this.beforeVersionId=beforeVersionId,this.afterVersionId=afterVersionId,this.beforeEOL=beforeEOL,this.afterEOL=afterEOL,this.beforeCursorState=beforeCursorState,this.afterCursorState=afterCursorState,this.changes=changes}static create(model,beforeCursorState){const alternativeVersionId=model.getAlternativeVersionId(),eol=getModelEOL(model);return new SingleModelEditStackData(alternativeVersionId,alternativeVersionId,eol,eol,beforeCursorState,beforeCursorState,[])}append(model,textChanges,afterEOL,afterVersionId,afterCursorState){textChanges.length>0&&(this.changes=Object(_textChange_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.changes,textChanges)),this.afterEOL=afterEOL,this.afterVersionId=afterVersionId,this.afterCursorState=afterCursorState}static _writeSelectionsSize(selections){return 4+16*(selections?selections.length:0)}static _writeSelections(b,selections,offset){if(_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,selections?selections.length:0,offset),offset+=4,selections)for(const selection of selections)_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,selection.selectionStartLineNumber,offset),offset+=4,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,selection.selectionStartColumn,offset),offset+=4,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,selection.positionLineNumber,offset),offset+=4,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,selection.positionColumn,offset),offset+=4;return offset}static _readSelections(b,offset,dest){const count=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;for(let i=0;i<count;i++){const selectionStartLineNumber=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;const selectionStartColumn=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;const positionLineNumber=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;const positionColumn=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4,dest.push(new _core_selection_js__WEBPACK_IMPORTED_MODULE_2__.a(selectionStartLineNumber,selectionStartColumn,positionLineNumber,positionColumn))}return offset}serialize(){let necessarySize=10+SingleModelEditStackData._writeSelectionsSize(this.beforeCursorState)+SingleModelEditStackData._writeSelectionsSize(this.afterCursorState)+4;for(const change of this.changes)necessarySize+=change.writeSize();const b=new Uint8Array(necessarySize);let offset=0;_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,this.beforeVersionId,offset),offset+=4,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,this.afterVersionId,offset),offset+=4,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.g(b,this.beforeEOL,offset),offset+=1,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.g(b,this.afterEOL,offset),offset+=1,offset=SingleModelEditStackData._writeSelections(b,this.beforeCursorState,offset),offset=SingleModelEditStackData._writeSelections(b,this.afterCursorState,offset),_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.f(b,this.changes.length,offset),offset+=4;for(const change of this.changes)offset=change.write(b,offset);return b.buffer}static deserialize(source){const b=new Uint8Array(source);let offset=0;const beforeVersionId=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;const afterVersionId=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;const beforeEOL=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.d(b,offset);offset+=1;const afterEOL=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.d(b,offset);offset+=1;const beforeCursorState=[];offset=SingleModelEditStackData._readSelections(b,offset,beforeCursorState);const afterCursorState=[];offset=SingleModelEditStackData._readSelections(b,offset,afterCursorState);const changeCount=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_5__.c(b,offset);offset+=4;const changes=[];for(let i=0;i<changeCount;i++)offset=_textChange_js__WEBPACK_IMPORTED_MODULE_4__.a.read(b,offset,changes);return new SingleModelEditStackData(beforeVersionId,afterVersionId,beforeEOL,afterEOL,beforeCursorState,afterCursorState,changes)}}class SingleModelEditStackElement{constructor(model,beforeCursorState){this.model=model,this._data=SingleModelEditStackData.create(model,beforeCursorState)}get type(){return 0}get resource(){return _base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.a.isUri(this.model)?this.model:this.model.uri}get label(){return _nls_js__WEBPACK_IMPORTED_MODULE_0__.a("edit","Typing")}toString(){return(this._data instanceof SingleModelEditStackData?this._data:SingleModelEditStackData.deserialize(this._data)).changes.map(change=>change.toString()).join(", ")}matchesResource(resource){return(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.a.isUri(this.model)?this.model:this.model.uri).toString()===resource.toString()}setModel(model){this.model=model}canAppend(model){return this.model===model&&this._data instanceof SingleModelEditStackData}append(model,textChanges,afterEOL,afterVersionId,afterCursorState){this._data instanceof SingleModelEditStackData&&this._data.append(model,textChanges,afterEOL,afterVersionId,afterCursorState)}close(){this._data instanceof SingleModelEditStackData&&(this._data=this._data.serialize())}undo(){if(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof SingleModelEditStackData&&(this._data=this._data.serialize());const data=SingleModelEditStackData.deserialize(this._data);this.model._applyUndo(data.changes,data.beforeEOL,data.beforeVersionId,data.beforeCursorState)}redo(){if(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof SingleModelEditStackData&&(this._data=this._data.serialize());const data=SingleModelEditStackData.deserialize(this._data);this.model._applyRedo(data.changes,data.afterEOL,data.afterVersionId,data.afterCursorState)}}class MultiModelEditStackElement{constructor(label,editStackElements){this.type=1,this.label=label,this._isOpen=!0,this._editStackElementsArr=editStackElements.slice(0),this._editStackElementsMap=new Map;for(const editStackElement of this._editStackElementsArr){const key=uriGetComparisonKey(editStackElement.resource);this._editStackElementsMap.set(key,editStackElement)}this._delegate=null}get resources(){return this._editStackElementsArr.map(editStackElement=>editStackElement.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(resource){const key=uriGetComparisonKey(resource);return this._editStackElementsMap.has(key)}setModel(model){const key=uriGetComparisonKey(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__.a.isUri(model)?model:model.uri);this._editStackElementsMap.has(key)&&this._editStackElementsMap.get(key).setModel(model)}canAppend(model){if(!this._isOpen)return!1;const key=uriGetComparisonKey(model.uri);if(this._editStackElementsMap.has(key)){return this._editStackElementsMap.get(key).canAppend(model)}return!1}append(model,textChanges,afterEOL,afterVersionId,afterCursorState){const key=uriGetComparisonKey(model.uri);this._editStackElementsMap.get(key).append(model,textChanges,afterEOL,afterVersionId,afterCursorState)}close(){this._isOpen=!1}undo(){this._isOpen=!1;for(const editStackElement of this._editStackElementsArr)editStackElement.undo()}redo(){for(const editStackElement of this._editStackElementsArr)editStackElement.redo()}split(){return this._editStackElementsArr}}function getModelEOL(model){return"\n"===model.getEOL()?0:1}function isEditStackElement(element){return!!element&&(element instanceof SingleModelEditStackElement||element instanceof MultiModelEditStackElement)}class EditStack{constructor(model,undoRedoService){this._model=model,this._undoRedoService=undoRedoService}pushStackElement(){const lastElement=this._undoRedoService.getLastElement(this._model.uri);isEditStackElement(lastElement)&&lastElement.close()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(beforeCursorState){const lastElement=this._undoRedoService.getLastElement(this._model.uri);if(isEditStackElement(lastElement)&&lastElement.canAppend(this._model))return lastElement;const newElement=new SingleModelEditStackElement(this._model,beforeCursorState);return this._undoRedoService.pushElement(newElement),newElement}pushEOL(eol){const editStackElement=this._getOrCreateEditStackElement(null);this._model.setEOL(eol),editStackElement.append(this._model,[],getModelEOL(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(beforeCursorState,editOperations,cursorStateComputer){const editStackElement=this._getOrCreateEditStackElement(beforeCursorState),inverseEditOperations=this._model.applyEdits(editOperations,!0),afterCursorState=EditStack._computeCursorState(cursorStateComputer,inverseEditOperations),textChanges=inverseEditOperations.map((op,index)=>({index:index,textChange:op.textChange}));return textChanges.sort((a,b)=>a.textChange.oldPosition===b.textChange.oldPosition?a.index-b.index:a.textChange.oldPosition-b.textChange.oldPosition),editStackElement.append(this._model,textChanges.map(op=>op.textChange),getModelEOL(this._model),this._model.getAlternativeVersionId(),afterCursorState),afterCursorState}static _computeCursorState(cursorStateComputer,inverseEditOperations){try{return cursorStateComputer?cursorStateComputer(inverseEditOperations):null}catch(e){return Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.e)(e),null}}}},2464:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TextChange}),__webpack_require__.d(__webpack_exports__,"b",function(){return compressConsecutiveTextChanges});var _base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2397),_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2376);class TextChange{constructor(oldPosition,oldText,newPosition,newText){this.oldPosition=oldPosition,this.oldText=oldText,this.newPosition=newPosition,this.newText=newText}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${this.newText}")`:0===this.newText.length?`(delete@${this.oldPosition} "${this.oldText}")`:`(replace@${this.oldPosition} "${this.oldText}" with "${this.newText}")`}static _writeStringSize(str){return 4+2*str.length}static _writeString(b,str,offset){const len=str.length;_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.f(b,len,offset),offset+=4;for(let i=0;i<len;i++)_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.e(b,str.charCodeAt(i),offset),offset+=2;return offset}static _readString(b,offset){const len=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.c(b,offset);return offset+=4,Object(_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__.b)(b,offset,len)}writeSize(){return 8+TextChange._writeStringSize(this.oldText)+TextChange._writeStringSize(this.newText)}write(b,offset){return _base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.f(b,this.oldPosition,offset),offset+=4,_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.f(b,this.newPosition,offset),offset+=4,offset=TextChange._writeString(b,this.oldText,offset),offset=TextChange._writeString(b,this.newText,offset)}static read(b,offset,dest){const oldPosition=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.c(b,offset);offset+=4;const newPosition=_base_common_buffer_js__WEBPACK_IMPORTED_MODULE_0__.c(b,offset);offset+=4;const oldText=TextChange._readString(b,offset);offset+=TextChange._writeStringSize(oldText);const newText=TextChange._readString(b,offset);return offset+=TextChange._writeStringSize(newText),dest.push(new TextChange(oldPosition,oldText,newPosition,newText)),offset}}function compressConsecutiveTextChanges(prevEdits,currEdits){if(null===prevEdits||0===prevEdits.length)return currEdits;return new TextChangeCompressor(prevEdits,currEdits).compress()}class TextChangeCompressor{constructor(prevEdits,currEdits){this._prevEdits=prevEdits,this._currEdits=currEdits,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let prevIndex=0,currIndex=0,prevEdit=this._getPrev(prevIndex),currEdit=this._getCurr(currIndex);for(;prevIndex<this._prevLen||currIndex<this._currLen;){if(null===prevEdit){this._acceptCurr(currEdit),currEdit=this._getCurr(++currIndex);continue}if(null===currEdit){this._acceptPrev(prevEdit),prevEdit=this._getPrev(++prevIndex);continue}if(currEdit.oldEnd<=prevEdit.newPosition){this._acceptCurr(currEdit),currEdit=this._getCurr(++currIndex);continue}if(prevEdit.newEnd<=currEdit.oldPosition){this._acceptPrev(prevEdit),prevEdit=this._getPrev(++prevIndex);continue}if(currEdit.oldPosition<prevEdit.newPosition){const[e1,e2]=TextChangeCompressor._splitCurr(currEdit,prevEdit.newPosition-currEdit.oldPosition);this._acceptCurr(e1),currEdit=e2;continue}if(prevEdit.newPosition<currEdit.oldPosition){const[e1,e2]=TextChangeCompressor._splitPrev(prevEdit,currEdit.oldPosition-prevEdit.newPosition);this._acceptPrev(e1),prevEdit=e2;continue}let mergePrev,mergeCurr;if(currEdit.oldEnd===prevEdit.newEnd)mergePrev=prevEdit,mergeCurr=currEdit,prevEdit=this._getPrev(++prevIndex),currEdit=this._getCurr(++currIndex);else if(currEdit.oldEnd<prevEdit.newEnd){const[e1,e2]=TextChangeCompressor._splitPrev(prevEdit,currEdit.oldLength);mergePrev=e1,mergeCurr=currEdit,prevEdit=e2,currEdit=this._getCurr(++currIndex)}else{const[e1,e2]=TextChangeCompressor._splitCurr(currEdit,prevEdit.newLength);mergePrev=prevEdit,mergeCurr=e1,prevEdit=this._getPrev(++prevIndex),currEdit=e2}this._result[this._resultLen++]=new TextChange(mergePrev.oldPosition,mergePrev.oldText,mergeCurr.newPosition,mergeCurr.newText),this._prevDeltaOffset+=mergePrev.newLength-mergePrev.oldLength,this._currDeltaOffset+=mergeCurr.newLength-mergeCurr.oldLength}const merged=TextChangeCompressor._merge(this._result);return TextChangeCompressor._removeNoOps(merged)}_acceptCurr(currEdit){this._result[this._resultLen++]=TextChangeCompressor._rebaseCurr(this._prevDeltaOffset,currEdit),this._currDeltaOffset+=currEdit.newLength-currEdit.oldLength}_getCurr(currIndex){return currIndex<this._currLen?this._currEdits[currIndex]:null}_acceptPrev(prevEdit){this._result[this._resultLen++]=TextChangeCompressor._rebasePrev(this._currDeltaOffset,prevEdit),this._prevDeltaOffset+=prevEdit.newLength-prevEdit.oldLength}_getPrev(prevIndex){return prevIndex<this._prevLen?this._prevEdits[prevIndex]:null}static _rebaseCurr(prevDeltaOffset,currEdit){return new TextChange(currEdit.oldPosition-prevDeltaOffset,currEdit.oldText,currEdit.newPosition,currEdit.newText)}static _rebasePrev(currDeltaOffset,prevEdit){return new TextChange(prevEdit.oldPosition,prevEdit.oldText,prevEdit.newPosition+currDeltaOffset,prevEdit.newText)}static _splitPrev(edit,offset){const preText=edit.newText.substr(0,offset),postText=edit.newText.substr(offset);return[new TextChange(edit.oldPosition,edit.oldText,edit.newPosition,preText),new TextChange(edit.oldEnd,"",edit.newPosition+offset,postText)]}static _splitCurr(edit,offset){const preText=edit.oldText.substr(0,offset),postText=edit.oldText.substr(offset);return[new TextChange(edit.oldPosition,preText,edit.newPosition,edit.newText),new TextChange(edit.oldPosition+offset,postText,edit.newEnd,"")]}static _merge(edits){if(0===edits.length)return edits;let result=[],resultLen=0,prev=edits[0];for(let i=1;i<edits.length;i++){const curr=edits[i];prev.oldEnd===curr.oldPosition?prev=new TextChange(prev.oldPosition,prev.oldText+curr.oldText,prev.newPosition,prev.newText+curr.newText):(result[resultLen++]=prev,prev=curr)}return result[resultLen++]=prev,result}static _removeNoOps(edits){if(0===edits.length)return edits;let result=[],resultLen=0;for(let i=0;i<edits.length;i++){const edit=edits[i];edit.oldText!==edit.newText&&(result[resultLen++]=edit)}return result}}},2465:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return match});var _arrays_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2309),_strings_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2299),_extpath_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2466),_path_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2352),_map_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2349),_async_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2306);const GLOBSTAR="**",GLOB_SPLIT="/",PATH_REGEX="[/\\\\]",NO_PATH_REGEX="[^/\\\\]",ALL_FORWARD_SLASHES=/\//g;function starsToRegExp(starCount){switch(starCount){case 0:return"";case 1:return`${NO_PATH_REGEX}*?`;default:return`(?:${PATH_REGEX}|${NO_PATH_REGEX}+${PATH_REGEX}|${PATH_REGEX}${NO_PATH_REGEX}+)*?`}}function splitGlobAware(pattern,splitChar){if(!pattern)return[];const segments=[];let inBraces=!1,inBrackets=!1,curVal="";for(const char of pattern){switch(char){case splitChar:if(!inBraces&&!inBrackets){segments.push(curVal),curVal="";continue}break;case"{":inBraces=!0;break;case"}":inBraces=!1;break;case"[":inBrackets=!0;break;case"]":inBrackets=!1}curVal+=char}return curVal&&segments.push(curVal),segments}const T1=/^\*\*\/\*\.[\w\.-]+$/,T2=/^\*\*\/([\w\.-]+)\/?$/,T3=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,T3_2=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,T4=/^\*\*((\/[\w\.-]+)+)\/?$/,T5=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,CACHE=new _map_js__WEBPACK_IMPORTED_MODULE_4__.a(1e4),FALSE=function(){return!1},NULL=function(){return null};function parsePattern(arg1,options){if(!arg1)return NULL;let pattern;const patternKey=`${pattern=(pattern="string"!=typeof arg1?arg1.pattern:arg1).trim()}_${!!options.trimForExclusions}`;let match,parsedPattern=CACHE.get(patternKey);if(parsedPattern)return wrapRelativePattern(parsedPattern,arg1);if(T1.test(pattern)){const base=pattern.substr(4);parsedPattern=function(path,basename){return"string"==typeof path&&path.endsWith(base)?pattern:null}}else parsedPattern=(match=T2.exec(trimForExclusions(pattern,options)))?function trivia2(base,originalPattern){const slashBase=`/${base}`,backslashBase=`\\${base}`,parsedPattern=function(path,basename){return"string"!=typeof path?null:basename?basename===base?originalPattern:null:path===base||path.endsWith(slashBase)||path.endsWith(backslashBase)?originalPattern:null},basenames=[base];return parsedPattern.basenames=basenames,parsedPattern.patterns=[originalPattern],parsedPattern.allBasenames=basenames,parsedPattern}(match[1],pattern):(options.trimForExclusions?T3_2:T3).test(pattern)?function trivia3(pattern,options){const parsedPatterns=aggregateBasenameMatches(pattern.slice(1,-1).split(",").map(pattern=>parsePattern(pattern,options)).filter(pattern=>pattern!==NULL),pattern),n=parsedPatterns.length;if(!n)return NULL;if(1===n)return parsedPatterns[0];const parsedPattern=function(path,basename){for(let i=0,n=parsedPatterns.length;i<n;i++)if(parsedPatterns[i](path,basename))return pattern;return null},withBasenames=_arrays_js__WEBPACK_IMPORTED_MODULE_0__.i(parsedPatterns,pattern=>!!pattern.allBasenames);withBasenames&&(parsedPattern.allBasenames=withBasenames.allBasenames);const allPaths=parsedPatterns.reduce((all,current)=>current.allPaths?all.concat(current.allPaths):all,[]);allPaths.length&&(parsedPattern.allPaths=allPaths);return parsedPattern}(pattern,options):(match=T4.exec(trimForExclusions(pattern,options)))?trivia4and5(match[1].substr(1),pattern,!0):(match=T5.exec(trimForExclusions(pattern,options)))?trivia4and5(match[1],pattern,!1):function toRegExp(pattern){try{const regExp=new RegExp(`^${function parseRegExp(pattern){if(!pattern)return"";let regEx="";const segments=splitGlobAware(pattern,GLOB_SPLIT);if(segments.every(s=>s===GLOBSTAR))regEx=".*";else{let previousSegmentWasGlobStar=!1;segments.forEach((segment,index)=>{if(segment===GLOBSTAR)return void(previousSegmentWasGlobStar||(regEx+=starsToRegExp(2),previousSegmentWasGlobStar=!0));let inBraces=!1,braceVal="",inBrackets=!1,bracketVal="";for(const char of segment)if("}"!==char&&inBraces)braceVal+=char;else if(!inBrackets||"]"===char&&bracketVal)switch(char){case"{":inBraces=!0;continue;case"[":inBrackets=!0;continue;case"}":const braceRegExp=`(?:${splitGlobAware(braceVal,",").map(c=>parseRegExp(c)).join("|")})`;regEx+=braceRegExp,inBraces=!1,braceVal="";break;case"]":regEx+="["+bracketVal+"]",inBrackets=!1,bracketVal="";break;case"?":regEx+=NO_PATH_REGEX;continue;case"*":regEx+=starsToRegExp(1);continue;default:regEx+=_strings_js__WEBPACK_IMPORTED_MODULE_1__.v(char)}else{let res;bracketVal+=res="-"===char?char:"^"!==char&&"!"!==char||bracketVal?char===GLOB_SPLIT?"":_strings_js__WEBPACK_IMPORTED_MODULE_1__.v(char):"^"}index<segments.length-1&&(segments[index+1]!==GLOBSTAR||index+2<segments.length)&&(regEx+=PATH_REGEX),previousSegmentWasGlobStar=!1})}return regEx}(pattern)}$`);return function(path){return regExp.lastIndex=0,"string"==typeof path&&regExp.test(path)?pattern:null}}catch(error){return NULL}}(pattern);return CACHE.set(patternKey,parsedPattern),wrapRelativePattern(parsedPattern,arg1)}function wrapRelativePattern(parsedPattern,arg2){return"string"==typeof arg2?parsedPattern:function(path,basename){return _extpath_js__WEBPACK_IMPORTED_MODULE_2__.a(path,arg2.base)?parsedPattern(_path_js__WEBPACK_IMPORTED_MODULE_3__.f(arg2.base,path),basename):null}}function trimForExclusions(pattern,options){return options.trimForExclusions&&pattern.endsWith("/**")?pattern.substr(0,pattern.length-2):pattern}function trivia4and5(path,pattern,matchPathEnds){const nativePath=_path_js__WEBPACK_IMPORTED_MODULE_3__.h!==_path_js__WEBPACK_IMPORTED_MODULE_3__.e.sep?path.replace(ALL_FORWARD_SLASHES,_path_js__WEBPACK_IMPORTED_MODULE_3__.h):path,nativePathEnd=_path_js__WEBPACK_IMPORTED_MODULE_3__.h+nativePath,parsedPattern=matchPathEnds?function(path,basename){return"string"!=typeof path||path!==nativePath&&!path.endsWith(nativePathEnd)?null:pattern}:function(path,basename){return"string"==typeof path&&path===nativePath?pattern:null};return parsedPattern.allPaths=[(matchPathEnds?"*/":"./")+path],parsedPattern}function match(arg1,path,hasSibling){return!(!arg1||"string"!=typeof path)&&function parse(arg1,options={}){if(!arg1)return FALSE;if("string"==typeof arg1||function isRelativePattern(obj){const rp=obj;return rp&&"string"==typeof rp.base&&"string"==typeof rp.pattern}(arg1)){const parsedPattern=parsePattern(arg1,options);if(parsedPattern===NULL)return FALSE;const resultPattern=function(path,basename){return!!parsedPattern(path,basename)};return parsedPattern.allBasenames&&(resultPattern.allBasenames=parsedPattern.allBasenames),parsedPattern.allPaths&&(resultPattern.allPaths=parsedPattern.allPaths),resultPattern}return function parsedExpression(expression,options){const parsedPatterns=aggregateBasenameMatches(Object.getOwnPropertyNames(expression).map(pattern=>(function parseExpressionPattern(pattern,value,options){if(!1===value)return NULL;const parsedPattern=parsePattern(pattern,options);if(parsedPattern===NULL)return NULL;if("boolean"==typeof value)return parsedPattern;if(value){const when=value.when;if("string"==typeof when){const result=(path,basename,name,hasSibling)=>{if(!hasSibling||!parsedPattern(path,basename))return null;const clausePattern=when.replace("$(basename)",name),matched=hasSibling(clausePattern);return Object(_async_js__WEBPACK_IMPORTED_MODULE_5__.i)(matched)?matched.then(m=>m?pattern:null):matched?pattern:null};return result.requiresSiblings=!0,result}}return parsedPattern})(pattern,expression[pattern],options)).filter(pattern=>pattern!==NULL)),n=parsedPatterns.length;if(!n)return NULL;if(!parsedPatterns.some(parsedPattern=>!!parsedPattern.requiresSiblings)){if(1===n)return parsedPatterns[0];const resultExpression=function(path,basename){for(let i=0,n=parsedPatterns.length;i<n;i++){const result=parsedPatterns[i](path,basename);if(result)return result}return null},withBasenames=_arrays_js__WEBPACK_IMPORTED_MODULE_0__.i(parsedPatterns,pattern=>!!pattern.allBasenames);withBasenames&&(resultExpression.allBasenames=withBasenames.allBasenames);const allPaths=parsedPatterns.reduce((all,current)=>current.allPaths?all.concat(current.allPaths):all,[]);return allPaths.length&&(resultExpression.allPaths=allPaths),resultExpression}const resultExpression=function(path,basename,hasSibling){let name=void 0;for(let i=0,n=parsedPatterns.length;i<n;i++){const parsedPattern=parsedPatterns[i];parsedPattern.requiresSiblings&&hasSibling&&(basename||(basename=_path_js__WEBPACK_IMPORTED_MODULE_3__.a(path)),name||(name=basename.substr(0,basename.length-_path_js__WEBPACK_IMPORTED_MODULE_3__.c(path).length)));const result=parsedPattern(path,basename,name,hasSibling);if(result)return result}return null},withBasenames=_arrays_js__WEBPACK_IMPORTED_MODULE_0__.i(parsedPatterns,pattern=>!!pattern.allBasenames);withBasenames&&(resultExpression.allBasenames=withBasenames.allBasenames);const allPaths=parsedPatterns.reduce((all,current)=>current.allPaths?all.concat(current.allPaths):all,[]);allPaths.length&&(resultExpression.allPaths=allPaths);return resultExpression}(arg1,options)}(arg1)(path,void 0,hasSibling)}function aggregateBasenameMatches(parsedPatterns,result){const basenamePatterns=parsedPatterns.filter(parsedPattern=>!!parsedPattern.basenames);if(basenamePatterns.length<2)return parsedPatterns;const basenames=basenamePatterns.reduce((all,current)=>{const basenames=current.basenames;return basenames?all.concat(basenames):all},[]);let patterns;if(result){patterns=[];for(let i=0,n=basenames.length;i<n;i++)patterns.push(result)}else patterns=basenamePatterns.reduce((all,current)=>{const patterns=current.patterns;return patterns?all.concat(patterns):all},[]);const aggregate=function(path,basename){if("string"!=typeof path)return null;if(!basename){let i;for(i=path.length;i>0;i--){const ch=path.charCodeAt(i-1);if(47===ch||92===ch)break}basename=path.substr(i)}const index=basenames.indexOf(basename);return-1!==index?patterns[index]:null};aggregate.basenames=basenames,aggregate.patterns=patterns,aggregate.allBasenames=basenames;const aggregatedPatterns=parsedPatterns.filter(parsedPattern=>!parsedPattern.basenames);return aggregatedPatterns.push(aggregate),aggregatedPatterns}},2466:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return toSlashes}),__webpack_require__.d(__webpack_exports__,"a",function(){return isEqualOrParent});var _strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_path_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2352);function toSlashes(osPath){return osPath.replace(/[\\/]/g,_path_js__WEBPACK_IMPORTED_MODULE_1__.e.sep)}function isEqualOrParent(path,candidate,ignoreCase,separator=_path_js__WEBPACK_IMPORTED_MODULE_1__.h){if(path===candidate)return!0;if(!path||!candidate)return!1;if(candidate.length>path.length)return!1;if(ignoreCase){if(!Object(_strings_js__WEBPACK_IMPORTED_MODULE_0__.T)(path,candidate))return!1;if(candidate.length===path.length)return!0;let sepOffset=candidate.length;return candidate.charAt(candidate.length-1)===separator&&sepOffset--,path.charAt(sepOffset)===separator}return candidate.charAt(candidate.length-1)!==separator&&(candidate+=separator),0===path.indexOf(candidate)}},2467:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CopyOptions}),__webpack_require__.d(__webpack_exports__,"b",function(){return InMemoryClipboardMetadataManager}),__webpack_require__.d(__webpack_exports__,"c",function(){return TextAreaInput});var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2326),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2298),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2306),_base_common_event_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2296),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2294),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2305),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2299),_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2468),_common_core_position_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2303),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2311),_base_browser_canIUse_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2383);const CopyOptions={forceCopyWithSyntaxHighlighting:!1};class InMemoryClipboardMetadataManager{constructor(){this._lastState=null}set(lastCopiedValue,data){this._lastState={lastCopiedValue:lastCopiedValue,data:data}}get(pastedText){return this._lastState&&this._lastState.lastCopiedValue===pastedText?this._lastState.data:(this._lastState=null,null)}}InMemoryClipboardMetadataManager.INSTANCE=new InMemoryClipboardMetadataManager;class TextAreaInput extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a{constructor(host,textArea){super(),this.textArea=textArea,this._onFocus=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onFocus=this._onFocus.event,this._onBlur=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onCut=this._onCut.event,this._onPaste=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onPaste=this._onPaste.event,this._onType=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onType=this._onType.event,this._onCompositionStart=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_3__.a),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=host,this._textArea=this._register(new TextAreaWrapper(textArea)),this._asyncTriggerCut=this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.d(()=>this._onCut.fire(),0)),this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let lastKeyDown=null;this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.n(textArea.domNode,"keydown",e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),lastKeyDown=e,this._onKeyDown.fire(e)})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.n(textArea.domNode,"keyup",e=>{this._onKeyUp.fire(e)})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"compositionstart",e=>{if(this._isDoingComposition)return;this._isDoingComposition=!0;let moveOneCharacterLeft=!1;_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__.f&&lastKeyDown&&lastKeyDown.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"!==lastKeyDown.code&&"ArrowLeft"!==lastKeyDown.code||(moveOneCharacterLeft=!0)),moveOneCharacterLeft?this._textAreaState=new _textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new _common_core_position_js__WEBPACK_IMPORTED_MODULE_8__.a(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition):_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f||this._setAndWriteTextAreaState("compositionstart",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY),this._onCompositionStart.fire({moveOneCharacterLeft:moveOneCharacterLeft})}));const deduceInputFromTextAreaValue=couldBeEmojiInput=>{const oldState=this._textAreaState,newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.readFromTextArea(this._textArea);return[newState,_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.deduceInput(oldState,newState,couldBeEmojiInput)]},deduceComposition=text=>{const oldState=this._textAreaState,newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.selectedText(text);return[newState,{text:newState.value,replaceCharCnt:oldState.selectionEnd-oldState.selectionStart}]},compositionDataInValid=locale=>!(!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f||"ja"!==locale);this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"compositionupdate",e=>{if(compositionDataInValid(e.locale)){const[newState,typeInput]=deduceInputFromTextAreaValue(!1);return this._textAreaState=newState,this._onType.fire(typeInput),void this._onCompositionUpdate.fire(e)}const[newState,typeInput]=deduceComposition(e.data||"");this._textAreaState=newState,this._onType.fire(typeInput),this._onCompositionUpdate.fire(e)})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"compositionend",e=>{if(this._isDoingComposition){if(compositionDataInValid(e.locale)){const[newState,typeInput]=deduceInputFromTextAreaValue(!1);this._textAreaState=newState,this._onType.fire(typeInput)}else{const[newState,typeInput]=deduceComposition(e.data||"");this._textAreaState=newState,this._onType.fire(typeInput)}(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f||_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.e)&&(this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.readFromTextArea(this._textArea)),this._isDoingComposition&&(this._isDoingComposition=!1,this._onCompositionEnd.fire())}})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[newState,typeInput]=deduceInputFromTextAreaValue(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_5__.f);0===typeInput.replaceCharCnt&&1===typeInput.text.length&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_6__.F(typeInput.text.charCodeAt(0))||(this._textAreaState=newState,0===this._nextCommand?""!==typeInput.text&&this._onType.fire(typeInput):(""===typeInput.text&&0===typeInput.replaceCharCnt||this._firePaste(typeInput.text,null),this._nextCommand=0))})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"cut",e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"copy",e=>{this._ensureClipboardGetsEditorSelection(e)})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"paste",e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),ClipboardEventUtils.canUseTextData(e)){const[pastePlainText,metadata]=ClipboardEventUtils.getTextData(e);""!==pastePlainText&&this._firePaste(pastePlainText,metadata)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY),this._nextCommand=1})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"focus",()=>{this._setHasFocus(!0)})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(textArea.domNode,"blur",()=>{this._setHasFocus(!1)}))}_installSelectionChangeListener(){let previousSelectionChangeEventTime=0;return _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.i(document,"selectionchange",e=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.e)return;const now=Date.now(),delta1=now-previousSelectionChangeEventTime;if(previousSelectionChangeEventTime=now,delta1<5)return;const delta2=now-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),delta2<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const newValue=this._textArea.getValue();if(this._textAreaState.value!==newValue)return;const newSelectionStart=this._textArea.getSelectionStart(),newSelectionEnd=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===newSelectionStart&&this._textAreaState.selectionEnd===newSelectionEnd)return;const _newSelectionStartPosition=this._textAreaState.deduceEditorPosition(newSelectionStart),newSelectionStartPosition=this._host.deduceModelPosition(_newSelectionStartPosition[0],_newSelectionStartPosition[1],_newSelectionStartPosition[2]),_newSelectionEndPosition=this._textAreaState.deduceEditorPosition(newSelectionEnd),newSelectionEndPosition=this._host.deduceModelPosition(_newSelectionEndPosition[0],_newSelectionEndPosition[1],_newSelectionEndPosition[2]),newSelection=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_9__.a(newSelectionStartPosition.lineNumber,newSelectionStartPosition.column,newSelectionEndPosition.lineNumber,newSelectionEndPosition.column);this._onSelectionChangeRequest.fire(newSelection)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const shadowRoot=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.E(this.textArea.domNode);shadowRoot?this._setHasFocus(shadowRoot.activeElement===this.textArea.domNode):_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.N(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(newHasFocus){this._hasFocus!==newHasFocus&&(this._hasFocus=newHasFocus,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.f?this._setAndWriteTextAreaState("focusgain",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(reason,textAreaState){this._hasFocus||(textAreaState=textAreaState.collapseSelection()),textAreaState.writeToTextArea(reason,this._textArea,this._hasFocus),this._textAreaState=textAreaState}writeScreenReaderContent(reason){this._isDoingComposition||this._setAndWriteTextAreaState(reason,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const dataToCopy=this._host.getDataToCopy(ClipboardEventUtils.canUseTextData(e)&&_base_browser_canIUse_js__WEBPACK_IMPORTED_MODULE_10__.a.clipboard.richText),storedMetadata={version:1,isFromEmptySelection:dataToCopy.isFromEmptySelection,multicursorText:dataToCopy.multicursorText,mode:dataToCopy.mode};InMemoryClipboardMetadataManager.INSTANCE.set(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.h?dataToCopy.text.replace(/\r\n/g,"\n"):dataToCopy.text,storedMetadata),ClipboardEventUtils.canUseTextData(e)?ClipboardEventUtils.setTextData(e,dataToCopy.text,dataToCopy.html,storedMetadata):this._setAndWriteTextAreaState("copy or cut",_textAreaState_js__WEBPACK_IMPORTED_MODULE_7__.b.selectedText(dataToCopy.text))}_firePaste(text,metadata){metadata||(metadata=InMemoryClipboardMetadataManager.INSTANCE.get(text)),this._onPaste.fire({text:text,metadata:metadata})}}class ClipboardEventUtils{static canUseTextData(e){return!!e.clipboardData||!!window.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const text=e.clipboardData.getData("text/plain");let metadata=null;const rawmetadata=e.clipboardData.getData("vscode-editor-data");if("string"==typeof rawmetadata)try{1!==(metadata=JSON.parse(rawmetadata)).version&&(metadata=null)}catch(err){}return[text,metadata]}if(window.clipboardData){return e.preventDefault(),[window.clipboardData.getData("Text"),null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,text,html,metadata){if(e.clipboardData)return e.clipboardData.setData("text/plain",text),"string"==typeof html&&e.clipboardData.setData("text/html",html),e.clipboardData.setData("vscode-editor-data",JSON.stringify(metadata)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",text),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class TextAreaWrapper extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a{constructor(_textArea){super(),this._actual=_textArea,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(reason){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(reason,value){const textArea=this._actual.domNode;textArea.value!==value&&(this.setIgnoreSelectionChangeTime("setValue"),textArea.value=value)}getSelectionStart(){return this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionEnd}setSelectionRange(reason,selectionStart,selectionEnd){const textArea=this._actual.domNode;let activeElement=null;const shadowRoot=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.E(textArea),currentIsFocused=(activeElement=shadowRoot?shadowRoot.activeElement:document.activeElement)===textArea,currentSelectionStart=textArea.selectionStart,currentSelectionEnd=textArea.selectionEnd;if(currentIsFocused&&currentSelectionStart===selectionStart&&currentSelectionEnd===selectionEnd)_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.h&&window.parent!==window&&textArea.focus();else{if(currentIsFocused)return this.setIgnoreSelectionChangeTime("setSelectionRange"),textArea.setSelectionRange(selectionStart,selectionEnd),void(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.h&&window.parent!==window&&textArea.focus());try{const scrollState=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.X(textArea);this.setIgnoreSelectionChangeTime("setSelectionRange"),textArea.focus(),textArea.setSelectionRange(selectionStart,selectionEnd),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.V(textArea,scrollState)}catch(e){}}}}},2468:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return TextAreaState}),__webpack_require__.d(__webpack_exports__,"a",function(){return PagedScreenReaderStrategy});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_common_core_position_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2303),_common_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2295);class TextAreaState{constructor(value,selectionStart,selectionEnd,selectionStartPosition,selectionEndPosition){this.value=value,this.selectionStart=selectionStart,this.selectionEnd=selectionEnd,this.selectionStartPosition=selectionStartPosition,this.selectionEndPosition=selectionEndPosition}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(textArea){return new TextAreaState(textArea.getValue(),textArea.getSelectionStart(),textArea.getSelectionEnd(),null,null)}collapseSelection(){return new TextAreaState(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(reason,textArea,select){textArea.setValue(reason,this.value),select&&textArea.setSelectionRange(reason,this.selectionStart,this.selectionEnd)}deduceEditorPosition(offset){if(offset<=this.selectionStart){const str=this.value.substring(offset,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,str,-1)}if(offset>=this.selectionEnd){const str=this.value.substring(this.selectionEnd,offset);return this._finishDeduceEditorPosition(this.selectionEndPosition,str,1)}const str1=this.value.substring(this.selectionStart,offset);if(-1===str1.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,str1,1);const str2=this.value.substring(offset,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,str2,-1)}_finishDeduceEditorPosition(anchor,deltaText,signum){let lineFeedCnt=0,lastLineFeedIndex=-1;for(;-1!==(lastLineFeedIndex=deltaText.indexOf("\n",lastLineFeedIndex+1));)lineFeedCnt++;return[anchor,signum*deltaText.length,lineFeedCnt]}static selectedText(text){return new TextAreaState(text,0,text.length,null,null)}static deduceInput(previousState,currentState,couldBeEmojiInput){if(!previousState)return{text:"",replaceCharCnt:0};let previousValue=previousState.value,previousSelectionStart=previousState.selectionStart,previousSelectionEnd=previousState.selectionEnd,currentValue=currentState.value,currentSelectionStart=currentState.selectionStart,currentSelectionEnd=currentState.selectionEnd;const previousSuffix=previousValue.substring(previousSelectionEnd),currentSuffix=currentValue.substring(currentSelectionEnd),suffixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.e(previousSuffix,currentSuffix);currentValue=currentValue.substring(0,currentValue.length-suffixLength);const previousPrefix=(previousValue=previousValue.substring(0,previousValue.length-suffixLength)).substring(0,previousSelectionStart),currentPrefix=currentValue.substring(0,currentSelectionStart),prefixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.d(previousPrefix,currentPrefix);if(currentValue=currentValue.substring(prefixLength),previousValue=previousValue.substring(prefixLength),currentSelectionStart-=prefixLength,previousSelectionStart-=prefixLength,currentSelectionEnd-=prefixLength,previousSelectionEnd-=prefixLength,couldBeEmojiInput&&currentSelectionStart===currentSelectionEnd&&previousValue.length>0){let potentialEmojiInput=null;if(currentSelectionStart===currentValue.length?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.S(currentValue,previousValue)&&(potentialEmojiInput=currentValue.substring(previousValue.length)):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.s(currentValue,previousValue)&&(potentialEmojiInput=currentValue.substring(0,currentValue.length-previousValue.length)),null!==potentialEmojiInput&&potentialEmojiInput.length>0&&(/\uFE0F/.test(potentialEmojiInput)||_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.k(potentialEmojiInput)))return{text:potentialEmojiInput,replaceCharCnt:0}}if(currentSelectionStart===currentSelectionEnd){if(previousValue===currentValue&&0===previousSelectionStart&&previousSelectionEnd===previousValue.length&&currentSelectionStart===currentValue.length&&-1===currentValue.indexOf("\n")&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.l(currentValue))return{text:"",replaceCharCnt:0};return{text:currentValue,replaceCharCnt:previousPrefix.length-prefixLength}}return{text:currentValue,replaceCharCnt:previousSelectionEnd-previousSelectionStart}}}TextAreaState.EMPTY=new TextAreaState("",0,0,null,null);class PagedScreenReaderStrategy{static _getPageOfLine(lineNumber,linesPerPage){return Math.floor((lineNumber-1)/linesPerPage)}static _getRangeForPage(page,linesPerPage){const offset=page*linesPerPage,startLineNumber=offset+1,endLineNumber=offset+linesPerPage;return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(startLineNumber,1,endLineNumber+1,1)}static fromEditorSelection(previousState,model,selection,linesPerPage,trimLongText){const selectionStartPage=PagedScreenReaderStrategy._getPageOfLine(selection.startLineNumber,linesPerPage),selectionStartPageRange=PagedScreenReaderStrategy._getRangeForPage(selectionStartPage,linesPerPage),selectionEndPage=PagedScreenReaderStrategy._getPageOfLine(selection.endLineNumber,linesPerPage),selectionEndPageRange=PagedScreenReaderStrategy._getRangeForPage(selectionEndPage,linesPerPage),pretextRange=selectionStartPageRange.intersectRanges(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(1,1,selection.startLineNumber,selection.startColumn));let pretext=model.getValueInRange(pretextRange,1);const lastLine=model.getLineCount(),lastLineMaxColumn=model.getLineMaxColumn(lastLine),posttextRange=selectionEndPageRange.intersectRanges(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(selection.endLineNumber,selection.endColumn,lastLine,lastLineMaxColumn));let text,posttext=model.getValueInRange(posttextRange,1);if(selectionStartPage===selectionEndPage||selectionStartPage+1===selectionEndPage)text=model.getValueInRange(selection,1);else{const selectionRange1=selectionStartPageRange.intersectRanges(selection),selectionRange2=selectionEndPageRange.intersectRanges(selection);text=model.getValueInRange(selectionRange1,1)+String.fromCharCode(8230)+model.getValueInRange(selectionRange2,1)}if(trimLongText){const LIMIT_CHARS=500;pretext.length>LIMIT_CHARS&&(pretext=pretext.substring(pretext.length-LIMIT_CHARS,pretext.length)),posttext.length>LIMIT_CHARS&&(posttext=posttext.substring(0,LIMIT_CHARS)),text.length>2*LIMIT_CHARS&&(text=text.substring(0,LIMIT_CHARS)+String.fromCharCode(8230)+text.substring(text.length-LIMIT_CHARS,text.length))}return new TextAreaState(pretext+text+posttext,pretext.length,pretext.length+text.length,new _common_core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(selection.startLineNumber,selection.startColumn),new _common_core_position_js__WEBPACK_IMPORTED_MODULE_1__.a(selection.endLineNumber,selection.endColumn))}}},2469:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SyncDescriptor});class SyncDescriptor{constructor(ctor,staticArguments=[],supportsDelayedInstantiation=!1){this.ctor=ctor,this.staticArguments=staticArguments,this.supportsDelayedInstantiation=supportsDelayedInstantiation}}},2470:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ColorDetector",function(){return ColorDetector});var _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2306),_base_common_color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2320),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2302),_base_common_hash_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2405),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2301),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2317),_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2295),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2321),_common_modes_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2308),_color_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2471),_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2332),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let ColorDetector=class ColorDetector extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a{constructor(_editor,_codeEditorService,_configurationService){super(),this._editor=_editor,this._codeEditorService=_codeEditorService,this._configurationService=_configurationService,this._localToDispose=this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.b),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(_editor.onDidChangeModel(e=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(_editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(_common_modes_js__WEBPACK_IMPORTED_MODULE_9__.c.onDidChange(e=>this.onModelChanged())),this._register(_editor.onDidChangeConfiguration(e=>{let prevIsEnabled=this._isEnabled;this._isEnabled=this.isEnabled(),prevIsEnabled!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const model=this._editor.getModel();if(!model)return!1;const languageId=model.getLanguageIdentifier(),deprecatedConfig=this._configurationService.getValue(languageId.language);if(deprecatedConfig){const colorDecorators=deprecatedConfig.colorDecorators;if(colorDecorators&&void 0!==colorDecorators.enable&&!colorDecorators.enable)return colorDecorators.enable}return this._editor.getOption(12)}static get(editor){return editor.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const model=this._editor.getModel();model&&_common_modes_js__WEBPACK_IMPORTED_MODULE_9__.c.has(model)&&(this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{this._timeoutTimer||(this._timeoutTimer=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.e,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},ColorDetector.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.f)(token=>{const model=this._editor.getModel();return model?Object(_color_js__WEBPACK_IMPORTED_MODULE_10__.b)(model,token):Promise.resolve([])}),this._computePromise.then(colorInfos=>{this.updateDecorations(colorInfos),this.updateColorDecorators(colorInfos),this._computePromise=null},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__.e)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(colorDatas){const decorations=colorDatas.map(c=>({range:{startLineNumber:c.colorInfo.range.startLineNumber,startColumn:c.colorInfo.range.startColumn,endLineNumber:c.colorInfo.range.endLineNumber,endColumn:c.colorInfo.range.endColumn},options:_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_8__.a.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,decorations),this._colorDatas=new Map,this._decorationsIds.forEach((id,i)=>this._colorDatas.set(id,colorDatas[i]))}updateColorDecorators(colorData){let decorations=[],newDecorationsTypes={};for(let i=0;i<colorData.length&&decorations.length<500;i++){const{red:red,green:green,blue:blue,alpha:alpha}=colorData[i].colorInfo.color,rgba=new _base_common_color_js__WEBPACK_IMPORTED_MODULE_1__.c(Math.round(255*red),Math.round(255*green),Math.round(255*blue),alpha);let subKey=Object(_base_common_hash_js__WEBPACK_IMPORTED_MODULE_3__.b)(`rgba(${rgba.r},${rgba.g},${rgba.b},${rgba.a})`).toString(16),color=`rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`,key="colorBox-"+subKey;this._decorationsTypes.has(key)||newDecorationsTypes[key]||this._codeEditorService.registerDecorationType(key,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:color},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),newDecorationsTypes[key]=!0,decorations.push({range:{startLineNumber:colorData[i].colorInfo.range.startLineNumber,startColumn:colorData[i].colorInfo.range.startColumn,endLineNumber:colorData[i].colorInfo.range.endLineNumber,endColumn:colorData[i].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(key,!0)})}this._decorationsTypes.forEach(subType=>{newDecorationsTypes[subType]||this._codeEditorService.removeDecorationType(subType)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,decorations)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(subType=>{this._codeEditorService.removeDecorationType(subType)})}getColorData(position){const model=this._editor.getModel();if(!model)return null;const decorations=model.getDecorationsInRange(_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a.fromPositions(position,position)).filter(d=>this._colorDatas.has(d.id));return 0===decorations.length?null:this._colorDatas.get(decorations[0].id)}};ColorDetector.ID="editor.contrib.colorDetector",ColorDetector.RECOMPUTE_TIME=1e3,ColorDetector=__decorate([__param(1,_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__.a),__param(2,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__.a)],ColorDetector),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__.m)(ColorDetector.ID,ColorDetector)},2471:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getColors}),__webpack_require__.d(__webpack_exports__,"a",function(){return getColorPresentations});var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2315),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2302),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2313),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2301),_common_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2295),_common_modes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2308),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2336);function getColors(model,token){const colors=[],promises=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.c.ordered(model).reverse().map(provider=>Promise.resolve(provider.provideDocumentColors(model,token)).then(result=>{if(Array.isArray(result))for(let colorInfo of result)colors.push({colorInfo:colorInfo,provider:provider})}));return Promise.all(promises).then(()=>colors)}function getColorPresentations(model,colorInfo,provider,token){return Promise.resolve(provider.provideColorPresentations(model,colorInfo,token))}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.o)("_executeDocumentColorProvider",function(accessor,args){const{resource:resource}=args;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();const model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_6__.a).getModel(resource);if(!model)throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();const rawCIs=[],promises=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.c.ordered(model).reverse().map(provider=>Promise.resolve(provider.provideDocumentColors(model,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)).then(result=>{if(Array.isArray(result))for(let ci of result)rawCIs.push({range:ci.range,color:[ci.color.red,ci.color.green,ci.color.blue,ci.color.alpha]})}));return Promise.all(promises).then(()=>rawCIs)}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.o)("_executeColorPresentationProvider",function(accessor,args){const{resource:resource,color:color,range:range}=args;if(!(resource instanceof _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.a&&Array.isArray(color)&&4===color.length&&_common_core_range_js__WEBPACK_IMPORTED_MODULE_4__.a.isIRange(range)))throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();const[red,green,blue,alpha]=color,model=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_6__.a).getModel(resource);if(!model)throw Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.b)();const colorInfo={range:range,color:{red:red,green:green,blue:blue,alpha:alpha}},presentations=[],promises=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.c.ordered(model).reverse().map(provider=>Promise.resolve(provider.provideColorPresentations(model,colorInfo,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)).then(result=>{Array.isArray(result)&&presentations.push(...result)}));return Promise.all(promises).then(()=>presentations)})},2472:function(module,exports,__webpack_require__){var content=__webpack_require__(2524);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2473:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DeleteOperations});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2381),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2333),_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2436),_core_range_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2295);class DeleteOperations{static deleteRight(prevEditOperationType,config,model,selections){let commands=[],shouldPushStackElementBefore=3!==prevEditOperationType;for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];let deleteSelection=selection;if(deleteSelection.isEmpty()){let position=selection.getPosition(),rightOfPosition=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.right(config,model,position.lineNumber,position.column);deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(rightOfPosition.lineNumber,rightOfPosition.column,position.lineNumber,position.column)}deleteSelection.isEmpty()?commands[i]=null:(deleteSelection.startLineNumber!==deleteSelection.endLineNumber&&(shouldPushStackElementBefore=!0),commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,""))}return[shouldPushStackElementBefore,commands]}static _isAutoClosingPairDelete(config,model,selections){if("never"===config.autoClosingBrackets&&"never"===config.autoClosingQuotes)return!1;for(let i=0,len=selections.length;i<len;i++){const selection=selections[i],position=selection.getPosition();if(!selection.isEmpty())return!1;const lineText=model.getLineContent(position.lineNumber),character=lineText[position.column-2],autoClosingPairCandidates=config.autoClosingPairsOpen2.get(character);if(!autoClosingPairCandidates)return!1;if(Object(_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.g)(character)){if("never"===config.autoClosingQuotes)return!1}else if("never"===config.autoClosingBrackets)return!1;const afterCharacter=lineText[position.column-1];let foundAutoClosingPair=!1;for(const autoClosingPairCandidate of autoClosingPairCandidates)autoClosingPairCandidate.open===character&&autoClosingPairCandidate.close===afterCharacter&&(foundAutoClosingPair=!0);if(!foundAutoClosingPair)return!1}return!0}static _runAutoClosingPairDelete(config,model,selections){let commands=[];for(let i=0,len=selections.length;i<len;i++){const position=selections[i].getPosition(),deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,position.column-1,position.lineNumber,position.column+1);commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,"")}return[!0,commands]}static deleteLeft(prevEditOperationType,config,model,selections){if(this._isAutoClosingPairDelete(config,model,selections))return this._runAutoClosingPairDelete(config,model,selections);let commands=[],shouldPushStackElementBefore=2!==prevEditOperationType;for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];let deleteSelection=selection;if(deleteSelection.isEmpty()){let position=selection.getPosition();if(config.useTabStops&&position.column>1){let lineContent=model.getLineContent(position.lineNumber),firstNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.w(lineContent),lastIndentationColumn=-1===firstNonWhitespaceIndex?lineContent.length+1:firstNonWhitespaceIndex+1;if(position.column<=lastIndentationColumn){let fromVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.a.visibleColumnFromColumn2(config,model,position),toVisibleColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.a.prevIndentTabStop(fromVisibleColumn,config.indentSize),toColumn=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.a.columnFromVisibleColumn2(config,model,position.lineNumber,toVisibleColumn);deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,toColumn,position.lineNumber,position.column)}else deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(position.lineNumber,position.column-1,position.lineNumber,position.column)}else{let leftOfPosition=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.left(config,model,position.lineNumber,position.column);deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(leftOfPosition.lineNumber,leftOfPosition.column,position.lineNumber,position.column)}}deleteSelection.isEmpty()?commands[i]=null:(deleteSelection.startLineNumber!==deleteSelection.endLineNumber&&(shouldPushStackElementBefore=!0),commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,""))}return[shouldPushStackElementBefore,commands]}static cut(config,model,selections){let commands=[];for(let i=0,len=selections.length;i<len;i++){const selection=selections[i];if(selection.isEmpty())if(config.emptySelectionClipboard){let startLineNumber,startColumn,endLineNumber,endColumn,position=selection.getPosition();position.lineNumber<model.getLineCount()?(startLineNumber=position.lineNumber,startColumn=1,endLineNumber=position.lineNumber+1,endColumn=1):position.lineNumber>1?(startLineNumber=position.lineNumber-1,startColumn=model.getLineMaxColumn(position.lineNumber-1),endLineNumber=position.lineNumber,endColumn=model.getLineMaxColumn(position.lineNumber)):(startLineNumber=position.lineNumber,startColumn=1,endLineNumber=position.lineNumber,endColumn=model.getLineMaxColumn(position.lineNumber));let deleteSelection=new _core_range_js__WEBPACK_IMPORTED_MODULE_4__.a(startLineNumber,startColumn,endLineNumber,endColumn);deleteSelection.isEmpty()?commands[i]=null:commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteSelection,"")}else commands[i]=null;else commands[i]=new _commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(selection,"")}return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.e(0,commands,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},2474:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return CursorMoveCommands}),__webpack_require__.d(__webpack_exports__,"a",function(){return CursorMove});var CursorMove,_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2314),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2333),_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2436),_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2406),_core_position_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2303),_core_range_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2295);class CursorMoveCommands{static addCursorDown(viewModel,cursors,useLogicalLine){let result=[],resultLen=0;for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[resultLen++]=new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState),result[resultLen++]=useLogicalLine?_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateDown(viewModel.cursorConfig,viewModel.model,cursor.modelState)):_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateDown(viewModel.cursorConfig,viewModel,cursor.viewState))}return result}static addCursorUp(viewModel,cursors,useLogicalLine){let result=[],resultLen=0;for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[resultLen++]=new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState),result[resultLen++]=useLogicalLine?_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateUp(viewModel.cursorConfig,viewModel.model,cursor.modelState)):_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.translateUp(viewModel.cursorConfig,viewModel,cursor.viewState))}return result}static moveToBeginningOfLine(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=this._moveToLineStart(viewModel,cursor,inSelectionMode)}return result}static _moveToLineStart(viewModel,cursor,inSelectionMode){const currentViewStateColumn=cursor.viewState.position.column,isFirstLineOfWrappedLine=currentViewStateColumn===cursor.modelState.position.column,currentViewStatelineNumber=cursor.viewState.position.lineNumber,firstNonBlankColumn=viewModel.getLineFirstNonWhitespaceColumn(currentViewStatelineNumber);return isFirstLineOfWrappedLine||currentViewStateColumn===firstNonBlankColumn?this._moveToLineStartByModel(viewModel,cursor,inSelectionMode):this._moveToLineStartByView(viewModel,cursor,inSelectionMode)}static _moveToLineStartByView(viewModel,cursor,inSelectionMode){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToBeginningOfLine(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode))}static _moveToLineStartByModel(viewModel,cursor,inSelectionMode){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToBeginningOfLine(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode))}static moveToEndOfLine(viewModel,cursors,inSelectionMode,sticky){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=this._moveToLineEnd(viewModel,cursor,inSelectionMode,sticky)}return result}static _moveToLineEnd(viewModel,cursor,inSelectionMode,sticky){const viewStatePosition=cursor.viewState.position,viewModelMaxColumn=viewModel.getLineMaxColumn(viewStatePosition.lineNumber),isEndOfViewLine=viewStatePosition.column===viewModelMaxColumn,modelStatePosition=cursor.modelState.position,modelMaxColumn=viewModel.model.getLineMaxColumn(modelStatePosition.lineNumber),isEndLineOfWrappedLine=viewModelMaxColumn-viewStatePosition.column==modelMaxColumn-modelStatePosition.column;return isEndOfViewLine||isEndLineOfWrappedLine?this._moveToLineEndByModel(viewModel,cursor,inSelectionMode,sticky):this._moveToLineEndByView(viewModel,cursor,inSelectionMode,sticky)}static _moveToLineEndByView(viewModel,cursor,inSelectionMode,sticky){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToEndOfLine(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,sticky))}static _moveToLineEndByModel(viewModel,cursor,inSelectionMode,sticky){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToEndOfLine(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode,sticky))}static expandLineSelection(viewModel,cursors){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],startLineNumber=cursor.modelState.selection.startLineNumber,lineCount=viewModel.model.getLineCount();let endColumn,endLineNumber=cursor.modelState.selection.endLineNumber;endLineNumber===lineCount?endColumn=viewModel.model.getLineMaxColumn(lineCount):(endLineNumber++,endColumn=1),result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(startLineNumber,1,startLineNumber,1),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(endLineNumber,endColumn),0))}return result}static moveToBeginningOfBuffer(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToBeginningOfBuffer(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode))}return result}static moveToEndOfBuffer(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveToEndOfBuffer(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode))}return result}static selectAll(viewModel,cursor){const lineCount=viewModel.model.getLineCount(),maxColumn=viewModel.model.getLineMaxColumn(lineCount);return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(1,1,1,1),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(lineCount,maxColumn),0))}static line(viewModel,cursor,inSelectionMode,_position,_viewPosition){const position=viewModel.model.validatePosition(_position),viewPosition=_viewPosition?viewModel.coordinatesConverter.validateViewPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(_viewPosition.lineNumber,_viewPosition.column),position):viewModel.coordinatesConverter.convertModelPositionToViewPosition(position);if(!inSelectionMode||!cursor.modelState.hasSelection()){const lineCount=viewModel.model.getLineCount();let selectToLineNumber=position.lineNumber+1,selectToColumn=1;return selectToLineNumber>lineCount&&(selectToLineNumber=lineCount,selectToColumn=viewModel.model.getLineMaxColumn(selectToLineNumber)),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(position.lineNumber,1,selectToLineNumber,selectToColumn),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(selectToLineNumber,selectToColumn),0))}const enteringLineNumber=cursor.modelState.selectionStart.getStartPosition().lineNumber;if(position.lineNumber<enteringLineNumber)return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(cursor.modelState.hasSelection(),viewPosition.lineNumber,1,0));if(position.lineNumber>enteringLineNumber){const lineCount=viewModel.getLineCount();let selectToViewLineNumber=viewPosition.lineNumber+1,selectToViewColumn=1;return selectToViewLineNumber>lineCount&&(selectToViewLineNumber=lineCount,selectToViewColumn=viewModel.getLineMaxColumn(selectToViewLineNumber)),_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(cursor.modelState.hasSelection(),selectToViewLineNumber,selectToViewColumn,0))}{const endPositionOfSelectionStart=cursor.modelState.selectionStart.getEndPosition();return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(cursor.modelState.move(cursor.modelState.hasSelection(),endPositionOfSelectionStart.lineNumber,endPositionOfSelectionStart.column,0))}}static word(viewModel,cursor,inSelectionMode,_position){const position=viewModel.model.validatePosition(_position);return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.word(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode,position))}static cancelSelection(viewModel,cursor){if(!cursor.modelState.hasSelection())return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState);const lineNumber=cursor.viewState.position.lineNumber,column=cursor.viewState.position.column;return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.f(new _core_range_js__WEBPACK_IMPORTED_MODULE_5__.a(lineNumber,column,lineNumber,column),0,new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(lineNumber,column),0))}static moveTo(viewModel,cursor,inSelectionMode,_position,_viewPosition){const position=viewModel.model.validatePosition(_position),viewPosition=_viewPosition?viewModel.coordinatesConverter.validateViewPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_4__.a(_viewPosition.lineNumber,_viewPosition.column),position):viewModel.coordinatesConverter.convertModelPositionToViewPosition(position);return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(inSelectionMode,viewPosition.lineNumber,viewPosition.column,0))}static simpleMove(viewModel,cursors,direction,inSelectionMode,value,unit){switch(direction){case 0:return 4===unit?this._moveHalfLineLeft(viewModel,cursors,inSelectionMode):this._moveLeft(viewModel,cursors,inSelectionMode,value);case 1:return 4===unit?this._moveHalfLineRight(viewModel,cursors,inSelectionMode):this._moveRight(viewModel,cursors,inSelectionMode,value);case 2:return 2===unit?this._moveUpByViewLines(viewModel,cursors,inSelectionMode,value):this._moveUpByModelLines(viewModel,cursors,inSelectionMode,value);case 3:return 2===unit?this._moveDownByViewLines(viewModel,cursors,inSelectionMode,value):this._moveDownByModelLines(viewModel,cursors,inSelectionMode,value);case 4:return this._moveToViewMinColumn(viewModel,cursors,inSelectionMode);case 5:return this._moveToViewFirstNonWhitespaceColumn(viewModel,cursors,inSelectionMode);case 6:return this._moveToViewCenterColumn(viewModel,cursors,inSelectionMode);case 7:return this._moveToViewMaxColumn(viewModel,cursors,inSelectionMode);case 8:return this._moveToViewLastNonWhitespaceColumn(viewModel,cursors,inSelectionMode);default:return null}}static viewportMove(viewModel,cursors,direction,inSelectionMode,value){const visibleViewRange=viewModel.getCompletelyVisibleViewRange(),visibleModelRange=viewModel.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange);switch(direction){case 9:{const modelLineNumber=this._firstLineNumberInRange(viewModel.model,visibleModelRange,value),modelColumn=viewModel.model.getLineFirstNonWhitespaceColumn(modelLineNumber);return[this._moveToModelPosition(viewModel,cursors[0],inSelectionMode,modelLineNumber,modelColumn)]}case 11:{const modelLineNumber=this._lastLineNumberInRange(viewModel.model,visibleModelRange,value),modelColumn=viewModel.model.getLineFirstNonWhitespaceColumn(modelLineNumber);return[this._moveToModelPosition(viewModel,cursors[0],inSelectionMode,modelLineNumber,modelColumn)]}case 10:{const modelLineNumber=Math.round((visibleModelRange.startLineNumber+visibleModelRange.endLineNumber)/2),modelColumn=viewModel.model.getLineFirstNonWhitespaceColumn(modelLineNumber);return[this._moveToModelPosition(viewModel,cursors[0],inSelectionMode,modelLineNumber,modelColumn)]}case 12:{let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=this.findPositionInViewportIfOutside(viewModel,cursor,visibleViewRange,inSelectionMode)}return result}default:return null}}static findPositionInViewportIfOutside(viewModel,cursor,visibleViewRange,inSelectionMode){let viewLineNumber=cursor.viewState.position.lineNumber;if(visibleViewRange.startLineNumber<=viewLineNumber&&viewLineNumber<=visibleViewRange.endLineNumber-1)return new _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d(cursor.modelState,cursor.viewState);{viewLineNumber>visibleViewRange.endLineNumber-1&&(viewLineNumber=visibleViewRange.endLineNumber-1),viewLineNumber<visibleViewRange.startLineNumber&&(viewLineNumber=visibleViewRange.startLineNumber);const viewColumn=viewModel.getLineFirstNonWhitespaceColumn(viewLineNumber);return this._moveToViewPosition(viewModel,cursor,inSelectionMode,viewLineNumber,viewColumn)}}static _firstLineNumberInRange(model,range,count){let startLineNumber=range.startLineNumber;return range.startColumn!==model.getLineMinColumn(startLineNumber)&&startLineNumber++,Math.min(range.endLineNumber,startLineNumber+count-1)}static _lastLineNumberInRange(model,range,count){let startLineNumber=range.startLineNumber;return range.startColumn!==model.getLineMinColumn(startLineNumber)&&startLineNumber++,Math.max(startLineNumber,range.endLineNumber-count+1)}static _moveLeft(viewModel,cursors,inSelectionMode,noOfColumns){const hasMultipleCursors=cursors.length>1;let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],skipWrappingPointStop=hasMultipleCursors||!cursor.viewState.hasSelection();let newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveLeft(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,noOfColumns);if(skipWrappingPointStop&&1===noOfColumns&&newViewState.position.lineNumber!==cursor.viewState.position.lineNumber){viewModel.coordinatesConverter.convertViewPositionToModelPosition(newViewState.position).lineNumber===cursor.modelState.position.lineNumber&&(newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveLeft(viewModel.cursorConfig,viewModel,newViewState,inSelectionMode,1))}result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(newViewState)}return result}static _moveHalfLineLeft(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,halfLine=Math.round(viewModel.getLineContent(viewLineNumber).length/2);result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveLeft(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,halfLine))}return result}static _moveRight(viewModel,cursors,inSelectionMode,noOfColumns){const hasMultipleCursors=cursors.length>1;let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],skipWrappingPointStop=hasMultipleCursors||!cursor.viewState.hasSelection();let newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveRight(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,noOfColumns);if(skipWrappingPointStop&&1===noOfColumns&&newViewState.position.lineNumber!==cursor.viewState.position.lineNumber){viewModel.coordinatesConverter.convertViewPositionToModelPosition(newViewState.position).lineNumber===cursor.modelState.position.lineNumber&&(newViewState=_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveRight(viewModel.cursorConfig,viewModel,newViewState,inSelectionMode,1))}result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(newViewState)}return result}static _moveHalfLineRight(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,halfLine=Math.round(viewModel.getLineContent(viewLineNumber).length/2);result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveRight(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,halfLine))}return result}static _moveDownByViewLines(viewModel,cursors,inSelectionMode,linesCount){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveDown(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,linesCount))}return result}static _moveDownByModelLines(viewModel,cursors,inSelectionMode,linesCount){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveDown(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode,linesCount))}return result}static _moveUpByViewLines(viewModel,cursors,inSelectionMode,linesCount){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveUp(viewModel.cursorConfig,viewModel,cursor.viewState,inSelectionMode,linesCount))}return result}static _moveUpByModelLines(viewModel,cursors,inSelectionMode,linesCount){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i];result[i]=_cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_2__.a.moveUp(viewModel.cursorConfig,viewModel.model,cursor.modelState,inSelectionMode,linesCount))}return result}static _moveToViewPosition(viewModel,cursor,inSelectionMode,toViewLineNumber,toViewColumn){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromViewState(cursor.viewState.move(inSelectionMode,toViewLineNumber,toViewColumn,0))}static _moveToModelPosition(viewModel,cursor,inSelectionMode,toModelLineNumber,toModelColumn){return _cursorCommon_js__WEBPACK_IMPORTED_MODULE_1__.d.fromModelState(cursor.modelState.move(inSelectionMode,toModelLineNumber,toModelColumn,0))}static _moveToViewMinColumn(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=viewModel.getLineMinColumn(viewLineNumber);result[i]=this._moveToViewPosition(viewModel,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result}static _moveToViewFirstNonWhitespaceColumn(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=viewModel.getLineFirstNonWhitespaceColumn(viewLineNumber);result[i]=this._moveToViewPosition(viewModel,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result}static _moveToViewCenterColumn(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=Math.round((viewModel.getLineMaxColumn(viewLineNumber)+viewModel.getLineMinColumn(viewLineNumber))/2);result[i]=this._moveToViewPosition(viewModel,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result}static _moveToViewMaxColumn(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=viewModel.getLineMaxColumn(viewLineNumber);result[i]=this._moveToViewPosition(viewModel,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result}static _moveToViewLastNonWhitespaceColumn(viewModel,cursors,inSelectionMode){let result=[];for(let i=0,len=cursors.length;i<len;i++){const cursor=cursors[i],viewLineNumber=cursor.viewState.position.lineNumber,viewColumn=viewModel.getLineLastNonWhitespaceColumn(viewLineNumber);result[i]=this._moveToViewPosition(viewModel,cursor,inSelectionMode,viewLineNumber,viewColumn)}return result}}!function(CursorMove){CursorMove.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(arg){if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.i(arg))return!1;let cursorMoveArg=arg;return!(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.j(cursorMoveArg.to)||!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.k(cursorMoveArg.select)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.f(cursorMoveArg.select)||!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.k(cursorMoveArg.by)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.j(cursorMoveArg.by)||!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.k(cursorMoveArg.value)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_0__.h(cursorMoveArg.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},CursorMove.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},CursorMove.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},CursorMove.parse=function parse(args){if(!args.to)return null;let direction;switch(args.to){case CursorMove.RawDirection.Left:direction=0;break;case CursorMove.RawDirection.Right:direction=1;break;case CursorMove.RawDirection.Up:direction=2;break;case CursorMove.RawDirection.Down:direction=3;break;case CursorMove.RawDirection.WrappedLineStart:direction=4;break;case CursorMove.RawDirection.WrappedLineFirstNonWhitespaceCharacter:direction=5;break;case CursorMove.RawDirection.WrappedLineColumnCenter:direction=6;break;case CursorMove.RawDirection.WrappedLineEnd:direction=7;break;case CursorMove.RawDirection.WrappedLineLastNonWhitespaceCharacter:direction=8;break;case CursorMove.RawDirection.ViewPortTop:direction=9;break;case CursorMove.RawDirection.ViewPortBottom:direction=11;break;case CursorMove.RawDirection.ViewPortCenter:direction=10;break;case CursorMove.RawDirection.ViewPortIfOutside:direction=12;break;default:return null}let unit=0;switch(args.by){case CursorMove.RawUnit.Line:unit=1;break;case CursorMove.RawUnit.WrappedLine:unit=2;break;case CursorMove.RawUnit.Character:unit=3;break;case CursorMove.RawUnit.HalfLine:unit=4}return{direction:direction,unit:unit,select:!!args.select,value:args.value||1}}}(CursorMove||(CursorMove={}))},2475:function(module,exports,__webpack_require__){var content=__webpack_require__(2534);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2476:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ElementSizeObserver});var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2294);class ElementSizeObserver extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.a{constructor(referenceDomElement,dimension,changeCallback){super(),this.referenceDomElement=referenceDomElement,this.changeCallback=changeCallback,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,dimension)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(entries=>{entries&&entries[0]&&entries[0].contentRect?this.observe({width:entries[0].contentRect.width,height:entries[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(dimension){this.measureReferenceDomElement(!0,dimension)}measureReferenceDomElement(callChangeCallback,dimension){let observedWidth=0,observedHeight=0;dimension?(observedWidth=dimension.width,observedHeight=dimension.height):this.referenceDomElement&&(observedWidth=this.referenceDomElement.clientWidth,observedHeight=this.referenceDomElement.clientHeight),observedWidth=Math.max(5,observedWidth),observedHeight=Math.max(5,observedHeight),this.width===observedWidth&&this.height===observedHeight||(this.width=observedWidth,this.height=observedHeight,callChangeCallback&&this.changeCallback())}}},2477:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OverviewRulerZone}),__webpack_require__.d(__webpack_exports__,"b",function(){return OverviewZoneManager});class ColorZone{constructor(from,to,colorId){this.from=0|from,this.to=0|to,this.colorId=0|colorId}static compare(a,b){return a.colorId===b.colorId?a.from===b.from?a.to-b.to:a.from-b.from:a.colorId-b.colorId}}class OverviewRulerZone{constructor(startLineNumber,endLineNumber,color){this.startLineNumber=startLineNumber,this.endLineNumber=endLineNumber,this.color=color,this._colorZone=null}static compare(a,b){return a.color===b.color?a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber:a.color<b.color?-1:1}setColorZone(colorZone){this._colorZone=colorZone}getColorZones(){return this._colorZone}}class OverviewZoneManager{constructor(getVerticalOffsetForLine){this._getVerticalOffsetForLine=getVerticalOffsetForLine,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(newZones){this._zones=newZones,this._zones.sort(OverviewRulerZone.compare)}setLineHeight(lineHeight){return this._lineHeight!==lineHeight&&(this._lineHeight=lineHeight,this._colorZonesInvalid=!0,!0)}setPixelRatio(pixelRatio){this._pixelRatio=pixelRatio,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(width){return this._domWidth!==width&&(this._domWidth=width,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(height){return this._domHeight!==height&&(this._domHeight=height,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(outerHeight){return this._outerHeight!==outerHeight&&(this._outerHeight=outerHeight,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const colorZonesInvalid=this._colorZonesInvalid,lineHeight=Math.floor(this._lineHeight),totalHeight=Math.floor(this.getCanvasHeight()),heightRatio=totalHeight/Math.floor(this._outerHeight),halfMinimumHeight=Math.floor(4*this._pixelRatio/2);let allColorZones=[];for(let i=0,len=this._zones.length;i<len;i++){const zone=this._zones[i];if(!colorZonesInvalid){const colorZone=zone.getColorZones();if(colorZone){allColorZones.push(colorZone);continue}}const y1=Math.floor(heightRatio*this._getVerticalOffsetForLine(zone.startLineNumber)),y2=Math.floor(heightRatio*(this._getVerticalOffsetForLine(zone.endLineNumber)+lineHeight));let ycenter=Math.floor((y1+y2)/2),halfHeight=y2-ycenter;halfHeight<halfMinimumHeight&&(halfHeight=halfMinimumHeight),ycenter-halfHeight<0&&(ycenter=halfHeight),ycenter+halfHeight>totalHeight&&(ycenter=totalHeight-halfHeight);const color=zone.color;let colorId=this._color2Id[color];colorId||(colorId=++this._lastAssignedId,this._color2Id[color]=colorId,this._id2Color[colorId]=color);const colorZone=new ColorZone(ycenter-halfHeight,ycenter+halfHeight,colorId);zone.setColorZone(colorZone),allColorZones.push(colorZone)}return this._colorZonesInvalid=!1,allColorZones.sort(ColorZone.compare),allColorZones}}},2478:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return InternalEditorAction});class InternalEditorAction{constructor(id,label,alias,precondition,run,contextKeyService){this.id=id,this.label=label,this.alias=alias,this._precondition=precondition,this._run=run,this._contextKeyService=contextKeyService}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},2479:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return tokenizeToString}),__webpack_require__.d(__webpack_exports__,"a",function(){return tokenizeLineToHTML});var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2299),_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2387),_nullMode_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2360);const fallback={getInitialState:()=>_nullMode_js__WEBPACK_IMPORTED_MODULE_2__.c,tokenize2:(buffer,state,deltaOffset)=>Object(_nullMode_js__WEBPACK_IMPORTED_MODULE_2__.e)(0,buffer,state,deltaOffset)};function tokenizeToString(text,tokenizationSupport=fallback){return function _tokenizeToString(text,tokenizationSupport){let result='<div class="monaco-tokenized-source">',lines=text.split(/\r\n|\r|\n/),currentState=tokenizationSupport.getInitialState();for(let i=0,len=lines.length;i<len;i++){let line=lines[i];i>0&&(result+="<br/>");let tokenizationResult=tokenizationSupport.tokenize2(line,currentState,0);_core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a.convertToEndOffset(tokenizationResult.tokens,line.length);let lineTokens=new _core_lineTokens_js__WEBPACK_IMPORTED_MODULE_1__.a(tokenizationResult.tokens,line),viewLineTokens=lineTokens.inflate(),startOffset=0;for(let j=0,lenJ=viewLineTokens.getCount();j<lenJ;j++){const type=viewLineTokens.getClassName(j),endIndex=viewLineTokens.getEndOffset(j);result+=`<span class="${type}">${_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__.u(line.substring(startOffset,endIndex))}</span>`,startOffset=endIndex}currentState=tokenizationResult.endState}return result+="</div>"}(text,tokenizationSupport||fallback)}function tokenizeLineToHTML(text,viewLineTokens,colorMap,startOffset,endOffset,tabSize,useNbsp){let result="<div>",charIndex=startOffset,tabsCharDelta=0;for(let tokenIndex=0,tokenCount=viewLineTokens.getCount();tokenIndex<tokenCount;tokenIndex++){const tokenEndIndex=viewLineTokens.getEndOffset(tokenIndex);if(tokenEndIndex<=startOffset)continue;let partContent="";for(;charIndex<tokenEndIndex&&charIndex<endOffset;charIndex++){const charCode=text.charCodeAt(charIndex);switch(charCode){case 9:let insertSpacesCount=tabSize-(charIndex+tabsCharDelta)%tabSize;for(tabsCharDelta+=insertSpacesCount-1;insertSpacesCount>0;)partContent+=useNbsp?"&#160;":" ",insertSpacesCount--;break;case 60:partContent+="&lt;";break;case 62:partContent+="&gt;";break;case 38:partContent+="&amp;";break;case 0:partContent+="&#00;";break;case 65279:case 8232:case 8233:case 133:partContent+="";break;case 13:partContent+="&#8203";break;case 32:partContent+=useNbsp?"&#160;":" ";break;default:partContent+=String.fromCharCode(charCode)}}if(result+=`<span style="${viewLineTokens.getInlineStyle(tokenIndex,colorMap)}">${partContent}</span>`,tokenEndIndex>endOffset||charIndex>=endOffset)break}return result+="</div>"}},2480:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return PrefixSumIndexOfResult}),__webpack_require__.d(__webpack_exports__,"a",function(){return PrefixSumComputer});var _base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2398);class PrefixSumIndexOfResult{constructor(index,remainder){this.index=index,this.remainder=remainder}}class PrefixSumComputer{constructor(values){this.values=values,this.prefixSum=new Uint32Array(values.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(insertIndex,insertValues){insertIndex=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(insertIndex);const oldValues=this.values,oldPrefixSum=this.prefixSum,insertValuesLen=insertValues.length;return 0!==insertValuesLen&&(this.values=new Uint32Array(oldValues.length+insertValuesLen),this.values.set(oldValues.subarray(0,insertIndex),0),this.values.set(oldValues.subarray(insertIndex),insertIndex+insertValuesLen),this.values.set(insertValues,insertIndex),insertIndex-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=insertIndex-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(oldPrefixSum.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(index,value){return index=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(index),value=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(value),this.values[index]!==value&&(this.values[index]=value,index-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=index-1),!0)}removeValues(startIndex,cnt){startIndex=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(startIndex),cnt=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(cnt);const oldValues=this.values,oldPrefixSum=this.prefixSum;if(startIndex>=oldValues.length)return!1;let maxCnt=oldValues.length-startIndex;return cnt>=maxCnt&&(cnt=maxCnt),0!==cnt&&(this.values=new Uint32Array(oldValues.length-cnt),this.values.set(oldValues.subarray(0,startIndex),0),this.values.set(oldValues.subarray(startIndex+cnt),startIndex),this.prefixSum=new Uint32Array(this.values.length),startIndex-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=startIndex-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(oldPrefixSum.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(index){return index<0?0:(index=Object(_base_common_uint_js__WEBPACK_IMPORTED_MODULE_0__.a)(index),this._getAccumulatedValue(index))}_getAccumulatedValue(index){if(index<=this.prefixSumValidIndex[0])return this.prefixSum[index];let startIndex=this.prefixSumValidIndex[0]+1;0===startIndex&&(this.prefixSum[0]=this.values[0],startIndex++),index>=this.values.length&&(index=this.values.length-1);for(let i=startIndex;i<=index;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],index),this.prefixSum[index]}getIndexOf(accumulatedValue){accumulatedValue=Math.floor(accumulatedValue),this.getTotalValue();let low=0,high=this.values.length-1,mid=0,midStop=0,midStart=0;for(;low<=high;)if(mid=low+(high-low)/2|0,accumulatedValue<(midStart=(midStop=this.prefixSum[mid])-this.values[mid]))high=mid-1;else{if(!(accumulatedValue>=midStop))break;low=mid+1}return new PrefixSumIndexOfResult(mid,accumulatedValue-midStart)}}},2481:function(module,exports,__webpack_require__){var content=__webpack_require__(2582);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2482:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AbstractEditorNavigationQuickAccessProvider});var _common_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2340),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2304),_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2338),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2389),_base_common_types_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2314),_base_common_functional_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2379);class AbstractEditorNavigationQuickAccessProvider{constructor(options){this.options=options,this.rangeHighlightDecorationId=void 0}provide(picker,token){var _a;const disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b;picker.canAcceptInBackground=!!(null===(_a=this.options)||void 0===_a?void 0:_a.canAcceptInBackground),picker.matchOnLabel=picker.matchOnDescription=picker.matchOnDetail=picker.sortByLabel=!1;const pickerDisposable=disposables.add(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.d);return pickerDisposable.value=this.doProvide(picker,token),disposables.add(this.onDidActiveTextEditorControlChange(()=>{pickerDisposable.value=void 0,pickerDisposable.value=this.doProvide(picker,token)})),disposables}doProvide(picker,token){const disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b,editor=this.activeTextEditorControl;if(editor&&this.canProvideWithTextEditor(editor)){const codeEditor=Object(_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_4__.a)(editor);if(codeEditor){let lastKnownEditorViewState=Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_5__.n)(editor.saveViewState());disposables.add(codeEditor.onDidChangeCursorPosition(()=>{lastKnownEditorViewState=Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_5__.n)(editor.saveViewState())})),disposables.add(Object(_base_common_functional_js__WEBPACK_IMPORTED_MODULE_6__.a)(token.onCancellationRequested)(()=>{lastKnownEditorViewState&&editor===this.activeTextEditorControl&&editor.restoreViewState(lastKnownEditorViewState)}))}disposables.add(Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.h)(()=>this.clearDecorations(editor))),disposables.add(this.provideWithTextEditor(editor,picker,token))}else disposables.add(this.provideWithoutTextEditor(picker,token));return disposables}canProvideWithTextEditor(editor){return!0}gotoLocation(editor,options){editor.setSelection(options.range),editor.revealRangeInCenter(options.range,0),options.preserveFocus||editor.focus()}getModel(editor){var _a;return Object(_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_4__.c)(editor)?null===(_a=editor.getModel())||void 0===_a?void 0:_a.modified:editor.getModel()}addDecorations(editor,range){editor.changeDecorations(changeAccessor=>{const deleteDecorations=[];this.rangeHighlightDecorationId&&(deleteDecorations.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),deleteDecorations.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const newDecorations=[{range:range,options:{className:"rangeHighlight",isWholeLine:!0}},{range:range,options:{overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_1__.h)(_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_2__.s),position:_common_model_js__WEBPACK_IMPORTED_MODULE_0__.d.Full}}}],[rangeHighlightId,overviewRulerDecorationId]=changeAccessor.deltaDecorations(deleteDecorations,newDecorations);this.rangeHighlightDecorationId={rangeHighlightId:rangeHighlightId,overviewRulerDecorationId:overviewRulerDecorationId}})}clearDecorations(editor){const rangeHighlightDecorationId=this.rangeHighlightDecorationId;rangeHighlightDecorationId&&(editor.changeDecorations(changeAccessor=>{changeAccessor.deltaDecorations([rangeHighlightDecorationId.overviewRulerDecorationId,rangeHighlightDecorationId.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},2483:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CountBadge});__webpack_require__(2587);var _dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2298),_common_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2299),_common_color_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2320),_common_objects_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2327);const defaultOpts={badgeBackground:_common_color_js__WEBPACK_IMPORTED_MODULE_3__.a.fromHex("#4D4D4D"),badgeForeground:_common_color_js__WEBPACK_IMPORTED_MODULE_3__.a.fromHex("#FFFFFF")};class CountBadge{constructor(container,options){this.count=0,this.options=options||Object.create(null),Object(_common_objects_js__WEBPACK_IMPORTED_MODULE_4__.g)(this.options,defaultOpts,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(_dom_js__WEBPACK_IMPORTED_MODULE_1__.p)(container,Object(_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(count){this.count=count,this.render()}setTitleFormat(titleFormat){this.titleFormat=titleFormat,this.render()}render(){this.element.textContent=Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.x)(this.countFormat,this.count),this.element.title=Object(_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.x)(this.titleFormat,this.count),this.applyStyles()}style(styles){this.badgeBackground=styles.badgeBackground,this.badgeForeground=styles.badgeForeground,this.badgeBorder=styles.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const background=this.badgeBackground?this.badgeBackground.toString():"",foreground=this.badgeForeground?this.badgeForeground.toString():"",border=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=background,this.element.style.color=foreground,this.element.style.borderWidth=border?"1px":"",this.element.style.borderStyle=border?"solid":"",this.element.style.borderColor=border}}}},2484:function(module,exports,__webpack_require__){var content=__webpack_require__(2589);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2485:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getDefinitionsAtPosition}),__webpack_require__.d(__webpack_exports__,"a",function(){return getDeclarationsAtPosition}),__webpack_require__.d(__webpack_exports__,"c",function(){return getImplementationsAtPosition}),__webpack_require__.d(__webpack_exports__,"e",function(){return getTypeDefinitionsAtPosition}),__webpack_require__.d(__webpack_exports__,"d",function(){return getReferencesAtPosition});var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2315),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2302),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2301),_common_modes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2308),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function getLocationLinks(model,position,registry,provide){const promises=registry.ordered(model).map(provider=>Promise.resolve(provide(provider,model,position)).then(void 0,err=>{Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__.f)(err)}));return Promise.all(promises).then(values=>{const result=[];for(let value of values)Array.isArray(value)?result.push(...value):value&&result.push(value);return result})}function getDefinitionsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.f,(provider,model,position)=>provider.provideDefinition(model,position,token))}function getDeclarationsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.e,(provider,model,position)=>provider.provideDeclaration(model,position,token))}function getImplementationsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.q,(provider,model,position)=>provider.provideImplementation(model,position,token))}function getTypeDefinitionsAtPosition(model,position,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.D,(provider,model,position)=>provider.provideTypeDefinition(model,position,token))}function getReferencesAtPosition(model,position,compact,token){return getLocationLinks(model,position,_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.v,(provider,model,position)=>__awaiter(this,void 0,void 0,function*(){const result=yield provider.provideReferences(model,position,{includeDeclaration:!0},token);if(!compact||!result||2!==result.length)return result;const resultWithoutDeclaration=yield provider.provideReferences(model,position,{includeDeclaration:!1},token);return resultWithoutDeclaration&&1===resultWithoutDeclaration.length?resultWithoutDeclaration:result}))}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.p)("_executeDefinitionProvider",(model,position)=>getDefinitionsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.p)("_executeDeclarationProvider",(model,position)=>getDeclarationsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.p)("_executeImplementationProvider",(model,position)=>getImplementationsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.p)("_executeTypeDefinitionProvider",(model,position)=>getTypeDefinitionsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None)),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.p)("_executeReferenceProvider",(model,position)=>getReferencesAtPosition(model,position,!1,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__.a.None))},2486:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GotoDefinitionAtPositionEditorContribution",function(){return GotoDefinitionAtPositionEditorContribution});__webpack_require__(2594);var _nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2297),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2306),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2302),_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2369),_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2366),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_common_modes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2308),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2301),_goToSymbol_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2485),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2294),_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2385),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2304),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2310),_browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2357),_goToCommands_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2502),_clickLinkGesture_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2487),_common_core_position_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2303),_base_common_types_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2314),_peekView_peekView_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2394),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2307),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let GotoDefinitionAtPositionEditorContribution=class GotoDefinitionAtPositionEditorContribution{constructor(editor,textModelResolverService,modeService){this.textModelResolverService=textModelResolverService,this.modeService=modeService,this.toUnhook=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.b,this.toUnhookForKeyboard=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_10__.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=editor;let linkGesture=new _clickLinkGesture_js__WEBPACK_IMPORTED_MODULE_16__.a(editor);this.toUnhook.add(linkGesture),this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent,keyboardEvent])=>{this.startFindDefinitionFromMouse(mouseEvent,Object(_base_common_types_js__WEBPACK_IMPORTED_MODULE_18__.n)(keyboardEvent))})),this.toUnhook.add(linkGesture.onExecute(mouseEvent=>{this.isEnabled(mouseEvent)&&this.gotoDefinition(mouseEvent.target.position,mouseEvent.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},error=>{this.removeLinkDecorations(),Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__.e)(error)})})),this.toUnhook.add(linkGesture.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(editor){return editor.getContribution(GotoDefinitionAtPositionEditorContribution.ID)}startFindDefinitionFromCursor(position){return this.startFindDefinition(position).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(mouseEvent,withKey){if(9===mouseEvent.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(mouseEvent,withKey))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const position=mouseEvent.target.position;this.startFindDefinition(position)}startFindDefinition(position){var _a;this.toUnhookForKeyboard.clear();const word=position?null===(_a=this.editor.getModel())||void 0===_a?void 0:_a.getWordAtPosition(position):null;if(!word)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===word.startColumn&&this.currentWordAtPosition.endColumn===word.endColumn&&this.currentWordAtPosition.word===word.word)return Promise.resolve(0);this.currentWordAtPosition=word;let state=new _browser_core_editorState_js__WEBPACK_IMPORTED_MODULE_14__.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.f)(token=>this.findDefinition(position,token)),this.previousPromise.then(results=>{if(results&&results.length&&state.validate(this.editor))if(results.length>1)this.addDecoration(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn),(new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_4__.a).appendText(_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("multipleResults","Click to show {0} definitions.",results.length)));else{let result=results[0];if(!result.uri)return;this.textModelResolverService.createModelReference(result.uri).then(ref=>{if(!ref.object||!ref.object.textEditorModel)return void ref.dispose();const{object:{textEditorModel:textEditorModel}}=ref,{startLineNumber:startLineNumber}=result.range;if(startLineNumber<1||startLineNumber>textEditorModel.getLineCount())return void ref.dispose();const previewValue=this.getPreviewValue(textEditorModel,startLineNumber,result);let wordRange;wordRange=result.originSelectionRange?_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.lift(result.originSelectionRange):new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn);const modeId=this.modeService.getModeIdByFilepathOrFirstLine(textEditorModel.uri);this.addDecoration(wordRange,(new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_4__.a).appendCodeblock(modeId||"",previewValue)),ref.dispose()})}else this.removeLinkDecorations()}).then(void 0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__.e)}getPreviewValue(textEditorModel,startLineNumber,result){let rangeToUse=result.targetSelectionRange?result.range:this.getPreviewRangeBasedOnBrackets(textEditorModel,startLineNumber);return rangeToUse.endLineNumber-rangeToUse.startLineNumber>=GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES&&(rangeToUse=this.getPreviewRangeBasedOnIndentation(textEditorModel,startLineNumber)),this.stripIndentationFromPreviewRange(textEditorModel,startLineNumber,rangeToUse)}stripIndentationFromPreviewRange(textEditorModel,startLineNumber,previewRange){let minIndent=textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);for(let endLineNumber=startLineNumber+1;endLineNumber<previewRange.endLineNumber;endLineNumber++){const endIndent=textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);minIndent=Math.min(minIndent,endIndent)}return textEditorModel.getValueInRange(previewRange).replace(new RegExp(`^\\s{${minIndent-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(textEditorModel,startLineNumber){const startIndent=textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber),maxLineNumber=Math.min(textEditorModel.getLineCount(),startLineNumber+GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);let endLineNumber=startLineNumber+1;for(;endLineNumber<maxLineNumber;endLineNumber++){if(startIndent===textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber))break}return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,endLineNumber+1,1)}getPreviewRangeBasedOnBrackets(textEditorModel,startLineNumber){const maxLineNumber=Math.min(textEditorModel.getLineCount(),startLineNumber+GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES),brackets=[];let ignoreFirstEmpty=!0,currentBracket=textEditorModel.findNextBracket(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_17__.a(startLineNumber,1));for(;null!==currentBracket;){if(0===brackets.length)brackets.push(currentBracket);else{const lastBracket=brackets[brackets.length-1];if(lastBracket.open[0]===currentBracket.open[0]&&lastBracket.isOpen&&!currentBracket.isOpen?brackets.pop():brackets.push(currentBracket),0===brackets.length){if(!ignoreFirstEmpty)return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,currentBracket.range.endLineNumber+1,1);ignoreFirstEmpty=!1}}const maxColumn=textEditorModel.getLineMaxColumn(startLineNumber);let nextLineNumber=currentBracket.range.endLineNumber,nextColumn=currentBracket.range.endColumn;if(maxColumn===currentBracket.range.endColumn&&(nextLineNumber++,nextColumn=1),nextLineNumber>maxLineNumber)return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,maxLineNumber+1,1);currentBracket=textEditorModel.findNextBracket(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_17__.a(nextLineNumber,nextColumn))}return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,maxLineNumber+1,1)}addDecoration(range,hoverMessage){const newDecorations={range:range,options:{inlineClassName:"goto-definition-link",hoverMessage:hoverMessage}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[newDecorations])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(mouseEvent,withKey){return this.editor.hasModel()&&mouseEvent.isNoneOrSingleMouseDown&&6===mouseEvent.target.type&&(mouseEvent.hasTriggerModifier||!!withKey&&withKey.keyCodeIsTriggerKey)&&_common_modes_js__WEBPACK_IMPORTED_MODULE_7__.f.has(this.editor.getModel())}findDefinition(position,token){const model=this.editor.getModel();return model?Object(_goToSymbol_js__WEBPACK_IMPORTED_MODULE_9__.b)(model,position,token):Promise.resolve(null)}gotoDefinition(position,openToSide){return this.editor.setPosition(position),this.editor.invokeWithinContext(accessor=>{const canPeek=!openToSide&&this.editor.getOption(69)&&!this.isInPeekEditor(accessor);return new _goToCommands_js__WEBPACK_IMPORTED_MODULE_15__.DefinitionAction({openToSide:openToSide,openInPeek:canPeek,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(accessor,this.editor)})}isInPeekEditor(accessor){const contextKeyService=accessor.get(_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_20__.b);return _peekView_peekView_js__WEBPACK_IMPORTED_MODULE_19__.b.inPeekEditor.getValue(contextKeyService)}dispose(){this.toUnhook.dispose()}};GotoDefinitionAtPositionEditorContribution.ID="editor.contrib.gotodefinitionatposition",GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES=8,GotoDefinitionAtPositionEditorContribution=__decorate([__param(1,_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__.a),__param(2,_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_5__.a)],GotoDefinitionAtPositionEditorContribution),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_8__.m)(GotoDefinitionAtPositionEditorContribution.ID,GotoDefinitionAtPositionEditorContribution),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__.g)((theme,collector)=>{const activeLinkForeground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.r);activeLinkForeground&&collector.addRule(`.monaco-editor .goto-definition-link { color: ${activeLinkForeground} !important; }`)})},2487:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ClickLinkGesture});var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2294),_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2296),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305);function hasModifier(e,modifier){return!!e[modifier]}class ClickLinkMouseEvent{constructor(source,opts){this.target=source.target,this.hasTriggerModifier=hasModifier(source.event,opts.triggerModifier),this.hasSideBySideModifier=hasModifier(source.event,opts.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=source.event.detail<=1}}class ClickLinkKeyboardEvent{constructor(source,opts){this.keyCodeIsTriggerKey=source.keyCode===opts.triggerKey,this.keyCodeIsSideBySideKey=source.keyCode===opts.triggerSideBySideKey,this.hasTriggerModifier=hasModifier(source,opts.triggerModifier)}}class ClickLinkOptions{constructor(triggerKey,triggerModifier,triggerSideBySideKey,triggerSideBySideModifier){this.triggerKey=triggerKey,this.triggerModifier=triggerModifier,this.triggerSideBySideKey=triggerSideBySideKey,this.triggerSideBySideModifier=triggerSideBySideModifier}equals(other){return this.triggerKey===other.triggerKey&&this.triggerModifier===other.triggerModifier&&this.triggerSideBySideKey===other.triggerSideBySideKey&&this.triggerSideBySideModifier===other.triggerSideBySideModifier}}function createOptions(multiCursorModifier){return"altKey"===multiCursorModifier?_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?new ClickLinkOptions(57,"metaKey",6,"altKey"):new ClickLinkOptions(5,"ctrlKey",6,"altKey"):_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?new ClickLinkOptions(6,"altKey",57,"metaKey"):new ClickLinkOptions(6,"altKey",5,"ctrlKey")}class ClickLinkGesture extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.a{constructor(editor){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onExecute=this._onExecute.event,this._onCancel=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__.a),this.onCancel=this._onCancel.event,this._editor=editor,this._opts=createOptions(this._editor.getOption(61)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(e=>{if(e.hasChanged(61)){const newOpts=createOptions(this._editor.getOption(61));if(this._opts.equals(newOpts))return;this._opts=newOpts,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(e=>this._onEditorMouseMove(new ClickLinkMouseEvent(e,this._opts)))),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(new ClickLinkMouseEvent(e,this._opts)))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(new ClickLinkMouseEvent(e,this._opts)))),this._register(this._editor.onKeyDown(e=>this._onEditorKeyDown(new ClickLinkKeyboardEvent(e,this._opts)))),this._register(this._editor.onKeyUp(e=>this._onEditorKeyUp(new ClickLinkKeyboardEvent(e,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(e=>this._onDidChangeCursorSelection(e))),this._register(this._editor.onDidChangeModel(e=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(mouseEvent){this._lastMouseMoveEvent=mouseEvent,this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent,null])}_onEditorMouseDown(mouseEvent){this._hasTriggerKeyOnMouseDown=mouseEvent.hasTriggerModifier,this._lineNumberOnMouseDown=mouseEvent.target.position?mouseEvent.target.position.lineNumber:0}_onEditorMouseUp(mouseEvent){const currentLineNumber=mouseEvent.target.position?mouseEvent.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===currentLineNumber&&this._onExecute.fire(mouseEvent)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},2488:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return parse});var _buffer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2397),_uri_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2313);function parse(text){let data=JSON.parse(text);return data=function revive(obj,depth=0){if(!obj||depth>200)return obj;if("object"==typeof obj){switch(obj.$mid){case 1:return _uri_js__WEBPACK_IMPORTED_MODULE_1__.a.revive(obj);case 2:return new RegExp(obj.source,obj.flags)}if(obj instanceof _buffer_js__WEBPACK_IMPORTED_MODULE_0__.a||obj instanceof Uint8Array)return obj;if(Array.isArray(obj))for(let i=0;i<obj.length;++i)obj[i]=revive(obj[i],depth+1);else for(const key in obj)Object.hasOwnProperty.call(obj,key)&&(obj[key]=revive(obj[key],depth+1))}return obj}(data)}},2489:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IMarkerDecorationsService});var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2300);const IMarkerDecorationsService=Object(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__.c)("markerDecorationsService")},2490:function(module,__webpack_exports__,__webpack_require__){"use strict";function getSpaceCnt(str,tabSize){let spacesCnt=0;for(let i=0;i<str.length;i++)"\t"===str.charAt(i)?spacesCnt+=tabSize:spacesCnt++;return spacesCnt}function generateIndent(spacesCnt,tabSize,insertSpaces){spacesCnt=spacesCnt<0?0:spacesCnt;let result="";if(!insertSpaces){let tabsCnt=Math.floor(spacesCnt/tabSize);spacesCnt%=tabSize;for(let i=0;i<tabsCnt;i++)result+="\t"}for(let i=0;i<spacesCnt;i++)result+=" ";return result}__webpack_require__.d(__webpack_exports__,"b",function(){return getSpaceCnt}),__webpack_require__.d(__webpack_exports__,"a",function(){return generateIndent})},2491:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BracketSelectionRangeProvider});var _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2303),_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2295),_base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2359),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class BracketSelectionRangeProvider{provideSelectionRanges(model,positions){return __awaiter(this,void 0,void 0,function*(){const result=[];for(const position of positions){const bucket=[];result.push(bucket);const ranges=new Map;yield new Promise(resolve=>BracketSelectionRangeProvider._bracketsRightYield(resolve,0,model,position,ranges)),yield new Promise(resolve=>BracketSelectionRangeProvider._bracketsLeftYield(resolve,0,model,position,ranges,bucket))}return result})}static _bracketsRightYield(resolve,round,model,pos,ranges){const counts=new Map,t1=Date.now();for(;;){if(round>=BracketSelectionRangeProvider._maxRounds){resolve();break}if(!pos){resolve();break}let bracket=model.findNextBracket(pos);if(!bracket){resolve();break}if(Date.now()-t1>BracketSelectionRangeProvider._maxDuration){setTimeout(()=>BracketSelectionRangeProvider._bracketsRightYield(resolve,round+1,model,pos,ranges));break}const key=bracket.close[0];if(bracket.isOpen){let val=counts.has(key)?counts.get(key):0;counts.set(key,val+1)}else{let val=counts.has(key)?counts.get(key):0;if(val-=1,counts.set(key,Math.max(0,val)),val<0){let list=ranges.get(key);list||(list=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_2__.a,ranges.set(key,list)),list.push(bracket.range)}}pos=bracket.range.getEndPosition()}}static _bracketsLeftYield(resolve,round,model,pos,ranges,bucket){const counts=new Map,t1=Date.now();for(;;){if(round>=BracketSelectionRangeProvider._maxRounds&&0===ranges.size){resolve();break}if(!pos){resolve();break}let bracket=model.findPrevBracket(pos);if(!bracket){resolve();break}if(Date.now()-t1>BracketSelectionRangeProvider._maxDuration){setTimeout(()=>BracketSelectionRangeProvider._bracketsLeftYield(resolve,round+1,model,pos,ranges,bucket));break}const key=bracket.close[0];if(bracket.isOpen){let val=counts.has(key)?counts.get(key):0;if(val-=1,counts.set(key,Math.max(0,val)),val<0){let list=ranges.get(key);if(list){let closing=list.shift();0===list.size&&ranges.delete(key);const innerBracket=_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(bracket.range.getEndPosition(),closing.getStartPosition()),outerBracket=_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(bracket.range.getStartPosition(),closing.getEndPosition());bucket.push({range:innerBracket}),bucket.push({range:outerBracket}),BracketSelectionRangeProvider._addBracketLeading(model,outerBracket,bucket)}}}else{let val=counts.has(key)?counts.get(key):0;counts.set(key,val+1)}pos=bracket.range.getStartPosition()}}static _addBracketLeading(model,bracket,bucket){if(bracket.startLineNumber===bracket.endLineNumber)return;const startLine=bracket.startLineNumber,column=model.getLineFirstNonWhitespaceColumn(startLine);0!==column&&column!==bracket.startColumn&&(bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(startLine,column),bracket.getEndPosition())}),bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(startLine,1),bracket.getEndPosition())}));const aboveLine=startLine-1;if(aboveLine>0){const column=model.getLineFirstNonWhitespaceColumn(aboveLine);column===bracket.startColumn&&column!==model.getLineLastNonWhitespaceColumn(aboveLine)&&(bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(aboveLine,column),bracket.getEndPosition())}),bucket.push({range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__.a.fromPositions(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_0__.a(aboveLine,1),bracket.getEndPosition())}))}}}BracketSelectionRangeProvider._maxDuration=30,BracketSelectionRangeProvider._maxRounds=2},2492:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return SemanticTokensProviderStyling}),__webpack_require__.d(__webpack_exports__,"b",function(){return toMultilineTokens2});var _modes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2308),_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2374),_model_tokensStore_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2399);class SemanticTokensProviderStyling{constructor(_legend,_themeService,_logService){this._legend=_legend,this._themeService=_themeService,this._logService=_logService,this._hashTable=new HashTable}getMetadata(tokenTypeIndex,tokenModifierSet,languageId){const entry=this._hashTable.get(tokenTypeIndex,tokenModifierSet,languageId.id);let metadata;if(entry)metadata=entry.metadata,this._logService.getLevel()===_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_1__.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${tokenTypeIndex} / ${tokenModifierSet}: foreground ${_modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getForeground(metadata)}, fontStyle ${_modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getFontStyle(metadata).toString(2)}`);else{let tokenType=this._legend.tokenTypes[tokenTypeIndex];const tokenModifiers=[];if(tokenType){let modifierSet=tokenModifierSet;for(let modifierIndex=0;modifierSet>0&&modifierIndex<this._legend.tokenModifiers.length;modifierIndex++)1&modifierSet&&tokenModifiers.push(this._legend.tokenModifiers[modifierIndex]),modifierSet>>=1;modifierSet>0&&this._logService.getLevel()===_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_1__.c.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${tokenModifierSet.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),tokenModifiers.push("not-in-legend"));const tokenStyle=this._themeService.getColorTheme().getTokenStyleMetadata(tokenType,tokenModifiers,languageId.language);if(void 0===tokenStyle)metadata=2147483647;else{if(metadata=0,void 0!==tokenStyle.italic){metadata|=1|(tokenStyle.italic?1:0)<<11}if(void 0!==tokenStyle.bold){metadata|=2|(tokenStyle.bold?2:0)<<11}if(void 0!==tokenStyle.underline){metadata|=4|(tokenStyle.underline?4:0)<<11}if(tokenStyle.foreground){metadata|=8|tokenStyle.foreground<<14}0===metadata&&(metadata=2147483647)}}else this._logService.getLevel()===_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_1__.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${tokenTypeIndex} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),metadata=2147483647,tokenType="not-in-legend";this._hashTable.add(tokenTypeIndex,tokenModifierSet,languageId.id,metadata),this._logService.getLevel()===_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_1__.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${tokenTypeIndex} (${tokenType}) / ${tokenModifierSet} (${tokenModifiers.join(" ")}): foreground ${_modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getForeground(metadata)}, fontStyle ${_modes_js__WEBPACK_IMPORTED_MODULE_0__.B.getFontStyle(metadata).toString(2)}`)}return metadata}}function toMultilineTokens2(tokens,styling,languageId){const srcData=tokens.data,tokenCount=tokens.data.length/5|0,tokensPerArea=Math.max(Math.ceil(tokenCount/1024),400),result=[];let tokenIndex=0,lastLineNumber=1,lastStartCharacter=0;for(;tokenIndex<tokenCount;){const tokenStartIndex=tokenIndex;let tokenEndIndex=Math.min(tokenStartIndex+tokensPerArea,tokenCount);if(tokenEndIndex<tokenCount){let smallTokenEndIndex=tokenEndIndex;for(;smallTokenEndIndex-1>tokenStartIndex&&0===srcData[5*smallTokenEndIndex];)smallTokenEndIndex--;if(smallTokenEndIndex-1===tokenStartIndex){let bigTokenEndIndex=tokenEndIndex;for(;bigTokenEndIndex+1<tokenCount&&0===srcData[5*bigTokenEndIndex];)bigTokenEndIndex++;tokenEndIndex=bigTokenEndIndex}else tokenEndIndex=smallTokenEndIndex}let destData=new Uint32Array(4*(tokenEndIndex-tokenStartIndex)),destOffset=0,areaLine=0;for(;tokenIndex<tokenEndIndex;){const srcOffset=5*tokenIndex,deltaLine=srcData[srcOffset],deltaCharacter=srcData[srcOffset+1],lineNumber=lastLineNumber+deltaLine,startCharacter=0===deltaLine?lastStartCharacter+deltaCharacter:deltaCharacter,length=srcData[srcOffset+2],tokenTypeIndex=srcData[srcOffset+3],tokenModifierSet=srcData[srcOffset+4],metadata=styling.getMetadata(tokenTypeIndex,tokenModifierSet,languageId);2147483647!==metadata&&(0===areaLine&&(areaLine=lineNumber),destData[destOffset]=lineNumber-areaLine,destData[destOffset+1]=startCharacter,destData[destOffset+2]=startCharacter+length,destData[destOffset+3]=metadata,destOffset+=4),lastLineNumber=lineNumber,lastStartCharacter=startCharacter,tokenIndex++}destOffset!==destData.length&&(destData=destData.subarray(0,destOffset));const tokens=new _model_tokensStore_js__WEBPACK_IMPORTED_MODULE_2__.a(areaLine,new _model_tokensStore_js__WEBPACK_IMPORTED_MODULE_2__.c(destData));result.push(tokens)}return result}class HashTableEntry{constructor(tokenTypeIndex,tokenModifierSet,languageId,metadata){this.tokenTypeIndex=tokenTypeIndex,this.tokenModifierSet=tokenModifierSet,this.languageId=languageId,this.metadata=metadata,this.next=null}}class HashTable{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=HashTable._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<HashTable._SIZES.length?2/3*this._currentLength:0),this._elements=[],HashTable._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(entries,length){for(let i=0;i<length;i++)entries[i]=null}_hash2(n1,n2){return(n1<<5)-n1+n2|0}_hashFunc(tokenTypeIndex,tokenModifierSet,languageId){return this._hash2(this._hash2(tokenTypeIndex,tokenModifierSet),languageId)%this._currentLength}get(tokenTypeIndex,tokenModifierSet,languageId){const hash=this._hashFunc(tokenTypeIndex,tokenModifierSet,languageId);let p=this._elements[hash];for(;p;){if(p.tokenTypeIndex===tokenTypeIndex&&p.tokenModifierSet===tokenModifierSet&&p.languageId===languageId)return p;p=p.next}return null}add(tokenTypeIndex,tokenModifierSet,languageId,metadata){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const oldElements=this._elements;this._currentLengthIndex++,this._currentLength=HashTable._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<HashTable._SIZES.length?2/3*this._currentLength:0),this._elements=[],HashTable._nullOutEntries(this._elements,this._currentLength);for(const first of oldElements){let p=first;for(;p;){const oldNext=p.next;p.next=null,this._add(p),p=oldNext}}}this._add(new HashTableEntry(tokenTypeIndex,tokenModifierSet,languageId,metadata))}_add(element){const hash=this._hashFunc(element.tokenTypeIndex,element.tokenModifierSet,element.languageId);element.next=this._elements[hash],this._elements[hash]=element}}HashTable._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},2493:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ModelServiceImpl}),__webpack_require__.d(__webpack_exports__,"b",function(){return SEMANTIC_HIGHLIGHTING_SETTING_ID}),__webpack_require__.d(__webpack_exports__,"c",function(){return isSemanticColoringEnabled});var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2296),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2302),_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2328),_model_textModel_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2321),_modes_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2308),_modes_modesRegistry_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2419),_textResourceConfigurationService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2416),_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2332),_base_common_async_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2306),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2315),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2304),_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2374),_platform_undoRedo_common_undoRedo_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2415),_base_common_hash_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2405),_model_editStack_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2463),_semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2492),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};function MODEL_ID(resource){return resource.toString()}class ModelData{constructor(model,onWillDispose,onDidChangeLanguage){this._modelEventListeners=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b,this.model=model,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(model.onWillDispose(()=>onWillDispose(model))),this._modelEventListeners.add(model.onDidChangeLanguage(e=>onDidChangeLanguage(model,e)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(languageSelection){this._disposeLanguageSelection(),this._languageSelection=languageSelection,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(languageSelection.languageIdentifier)),this.model.setMode(languageSelection.languageIdentifier)}}const DEFAULT_EOL=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.d||_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.f?1:2;let ModelServiceImpl=class ModelServiceImpl extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(_configurationService,_resourcePropertiesService,_themeService,_logService,_undoRedoService){super(),this._configurationService=_configurationService,this._resourcePropertiesService=_resourcePropertiesService,this._themeService=_themeService,this._logService=_logService,this._undoRedoService=_undoRedoService,this._onModelAdded=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.a),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.a),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__.a),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new SemanticStyling(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new SemanticColoringFeature(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(config,isForSimpleWidget){let tabSize=_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_4__.d.tabSize;if(config.editor&&void 0!==config.editor.tabSize){const parsedTabSize=parseInt(config.editor.tabSize,10);isNaN(parsedTabSize)||(tabSize=parsedTabSize),tabSize<1&&(tabSize=1)}let indentSize=tabSize;if(config.editor&&void 0!==config.editor.indentSize&&"tabSize"!==config.editor.indentSize){const parsedIndentSize=parseInt(config.editor.indentSize,10);isNaN(parsedIndentSize)||(indentSize=parsedIndentSize),indentSize<1&&(indentSize=1)}let insertSpaces=_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_4__.d.insertSpaces;config.editor&&void 0!==config.editor.insertSpaces&&(insertSpaces="false"!==config.editor.insertSpaces&&Boolean(config.editor.insertSpaces));let newDefaultEOL=DEFAULT_EOL;const eol=config.eol;"\r\n"===eol?newDefaultEOL=2:"\n"===eol&&(newDefaultEOL=1);let trimAutoWhitespace=_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_4__.d.trimAutoWhitespace;config.editor&&void 0!==config.editor.trimAutoWhitespace&&(trimAutoWhitespace="false"!==config.editor.trimAutoWhitespace&&Boolean(config.editor.trimAutoWhitespace));let detectIndentation=_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_4__.d.detectIndentation;config.editor&&void 0!==config.editor.detectIndentation&&(detectIndentation="false"!==config.editor.detectIndentation&&Boolean(config.editor.detectIndentation));let largeFileOptimizations=_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_4__.d.largeFileOptimizations;return config.editor&&void 0!==config.editor.largeFileOptimizations&&(largeFileOptimizations="false"!==config.editor.largeFileOptimizations&&Boolean(config.editor.largeFileOptimizations)),{isForSimpleWidget:isForSimpleWidget,tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces,detectIndentation:detectIndentation,defaultEOL:newDefaultEOL,trimAutoWhitespace:trimAutoWhitespace,largeFileOptimizations:largeFileOptimizations}}_getEOL(resource,language){if(resource)return this._resourcePropertiesService.getEOL(resource,language);const eol=this._configurationService.getValue("files.eol",{overrideIdentifier:language});return eol&&"auto"!==eol?eol:3===_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a||2===_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.a?"\n":"\r\n"}getCreationOptions(language,resource,isForSimpleWidget){let creationOptions=this._modelCreationOptionsByLanguageAndResource[language+resource];if(!creationOptions){const editor=this._configurationService.getValue("editor",{overrideIdentifier:language,resource:resource}),eol=this._getEOL(resource,language);creationOptions=ModelServiceImpl._readModelOptions({editor:editor,eol:eol},isForSimpleWidget),this._modelCreationOptionsByLanguageAndResource[language+resource]=creationOptions}return creationOptions}_updateModelOptions(){const oldOptionsByLanguageAndResource=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const keys=Object.keys(this._models);for(let i=0,len=keys.length;i<len;i++){const modelId=keys[i],modelData=this._models[modelId],language=modelData.model.getLanguageIdentifier().language,uri=modelData.model.uri,oldOptions=oldOptionsByLanguageAndResource[language+uri],newOptions=this.getCreationOptions(language,uri,modelData.model.isForSimpleWidget);ModelServiceImpl._setModelOptionsForModel(modelData.model,newOptions,oldOptions)}}static _setModelOptionsForModel(model,newOptions,currentOptions){currentOptions&&currentOptions.defaultEOL!==newOptions.defaultEOL&&1===model.getLineCount()&&model.setEOL(1===newOptions.defaultEOL?0:1),currentOptions&&currentOptions.detectIndentation===newOptions.detectIndentation&&currentOptions.insertSpaces===newOptions.insertSpaces&&currentOptions.tabSize===newOptions.tabSize&&currentOptions.indentSize===newOptions.indentSize&&currentOptions.trimAutoWhitespace===newOptions.trimAutoWhitespace||(newOptions.detectIndentation?(model.detectIndentation(newOptions.insertSpaces,newOptions.tabSize),model.updateOptions({trimAutoWhitespace:newOptions.trimAutoWhitespace})):model.updateOptions({insertSpaces:newOptions.insertSpaces,tabSize:newOptions.tabSize,indentSize:newOptions.indentSize,trimAutoWhitespace:newOptions.trimAutoWhitespace}))}_removeDisposedModel(resource){const disposedModelData=this._disposedModels.get(MODEL_ID(resource));return disposedModelData&&(this._disposedModelsHeapSize-=disposedModelData.heapSize),this._disposedModels.delete(MODEL_ID(resource)),disposedModelData}_createModelData(value,languageIdentifier,resource,isForSimpleWidget){const options=this.getCreationOptions(languageIdentifier.language,resource,isForSimpleWidget),model=new _model_textModel_js__WEBPACK_IMPORTED_MODULE_5__.b(value,options,languageIdentifier,resource,this._undoRedoService);if(resource&&this._disposedModels.has(MODEL_ID(resource))){const disposedModelData=this._removeDisposedModel(resource),elements=this._undoRedoService.getElements(resource),sha1IsEqual=function computeModelSha1(model){const shaComputer=new _base_common_hash_js__WEBPACK_IMPORTED_MODULE_15__.a,snapshot=model.createSnapshot();let text;for(;text=snapshot.read();)shaComputer.update(text);return shaComputer.digest()}(model)===disposedModelData.sha1;if(sha1IsEqual||disposedModelData.sharesUndoRedoStack){for(const element of elements.past)Object(_model_editStack_js__WEBPACK_IMPORTED_MODULE_16__.b)(element)&&element.matchesResource(resource)&&element.setModel(model);for(const element of elements.future)Object(_model_editStack_js__WEBPACK_IMPORTED_MODULE_16__.b)(element)&&element.matchesResource(resource)&&element.setModel(model);this._undoRedoService.setElementsValidFlag(resource,!0,element=>Object(_model_editStack_js__WEBPACK_IMPORTED_MODULE_16__.b)(element)&&element.matchesResource(resource)),sha1IsEqual&&(model._overwriteVersionId(disposedModelData.versionId),model._overwriteAlternativeVersionId(disposedModelData.alternativeVersionId),model._overwriteInitialUndoRedoSnapshot(disposedModelData.initialUndoRedoSnapshot))}else null!==disposedModelData.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(disposedModelData.initialUndoRedoSnapshot)}const modelId=MODEL_ID(model.uri);if(this._models[modelId])throw new Error("ModelService: Cannot add model because it already exists!");const modelData=new ModelData(model,model=>this._onWillDispose(model),(model,e)=>this._onDidChangeLanguage(model,e));return this._models[modelId]=modelData,modelData}createModel(value,languageSelection,resource,isForSimpleWidget=!1){let modelData;return languageSelection?(modelData=this._createModelData(value,languageSelection.languageIdentifier,resource,isForSimpleWidget),this.setMode(modelData.model,languageSelection)):modelData=this._createModelData(value,_modes_modesRegistry_js__WEBPACK_IMPORTED_MODULE_7__.b,resource,isForSimpleWidget),this._onModelAdded.fire(modelData.model),modelData.model}setMode(model,languageSelection){if(!languageSelection)return;const modelData=this._models[MODEL_ID(model.uri)];modelData&&modelData.setLanguage(languageSelection)}getModels(){const ret=[],keys=Object.keys(this._models);for(let i=0,len=keys.length;i<len;i++){const modelId=keys[i];ret.push(this._models[modelId].model)}return ret}getModel(resource){const modelId=MODEL_ID(resource),modelData=this._models[modelId];return modelData?modelData.model:null}getSemanticTokensProviderStyling(provider){return this._semanticStyling.get(provider)}_onWillDispose(model){const modelId=MODEL_ID(model.uri),modelData=this._models[modelId];delete this._models[modelId],modelData.dispose(),delete this._modelCreationOptionsByLanguageAndResource[model.getLanguageIdentifier().language+model.uri],this._onModelRemoved.fire(model)}_onDidChangeLanguage(model,e){const oldModeId=e.oldLanguage,newModeId=model.getLanguageIdentifier().language,oldOptions=this.getCreationOptions(oldModeId,model.uri,model.isForSimpleWidget),newOptions=this.getCreationOptions(newModeId,model.uri,model.isForSimpleWidget);ModelServiceImpl._setModelOptionsForModel(model,newOptions,oldOptions),this._onModelModeChanged.fire({model:model,oldModeId:oldModeId})}};ModelServiceImpl=__decorate([__param(0,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_9__.a),__param(1,_textResourceConfigurationService_js__WEBPACK_IMPORTED_MODULE_8__.b),__param(2,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_12__.c),__param(3,_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_13__.b),__param(4,_platform_undoRedo_common_undoRedo_js__WEBPACK_IMPORTED_MODULE_14__.a)],ModelServiceImpl);const SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function isSemanticColoringEnabled(model,themeService,configurationService){var _a;const setting=null===(_a=configurationService.getValue(SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:model.getLanguageIdentifier().language,resource:model.uri}))||void 0===_a?void 0:_a.enabled;return"boolean"==typeof setting?setting:themeService.getColorTheme().semanticHighlighting}class SemanticColoringFeature extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(modelService,themeService,configurationService,semanticStyling){super(),this._watchers=Object.create(null),this._semanticStyling=semanticStyling;const register=model=>{this._watchers[model.uri.toString()]=new ModelSemanticColoring(model,themeService,this._semanticStyling)},deregister=(model,modelSemanticColoring)=>{modelSemanticColoring.dispose(),delete this._watchers[model.uri.toString()]},handleSettingOrThemeChange=()=>{for(let model of modelService.getModels()){const curr=this._watchers[model.uri.toString()];isSemanticColoringEnabled(model,themeService,configurationService)?curr||register(model):curr&&deregister(model,curr)}};this._register(modelService.onModelAdded(model=>{isSemanticColoringEnabled(model,themeService,configurationService)&&register(model)})),this._register(modelService.onModelRemoved(model=>{const curr=this._watchers[model.uri.toString()];curr&&deregister(model,curr)})),this._register(configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)&&handleSettingOrThemeChange()})),this._register(themeService.onDidColorThemeChange(handleSettingOrThemeChange))}}class SemanticStyling extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(_themeService,_logService){super(),this._themeService=_themeService,this._logService=_logService,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(provider){return this._caches.has(provider)||this._caches.set(provider,new _semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_17__.a(provider.getLegend(),this._themeService,this._logService)),this._caches.get(provider)}}class SemanticTokensResponse{constructor(_provider,resultId,data){this._provider=_provider,this.resultId=resultId,this.data=data}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class ModelSemanticColoring extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(model,themeService,stylingProvider){super(),this._isDisposed=!1,this._model=model,this._semanticStyling=stylingProvider,this._fetchDocumentSemanticTokens=this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_10__.d(()=>this._fetchDocumentSemanticTokensNow(),300)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}));const bindDocumentChangeListeners=()=>{Object(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.f)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const provider of _modes_js__WEBPACK_IMPORTED_MODULE_6__.l.all(model))"function"==typeof provider.onDidChange&&this._documentProvidersChangeListeners.push(provider.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};bindDocumentChangeListeners(),this._register(_modes_js__WEBPACK_IMPORTED_MODULE_6__.l.onDidChange(()=>{bindDocumentChangeListeners(),this._fetchDocumentSemanticTokens.schedule()})),this._register(themeService.onDidColorThemeChange(_=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const provider=this._getSemanticColoringProvider();if(!provider)return;this._currentDocumentRequestCancellationTokenSource=new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_11__.b;const pendingChanges=[],contentChangeListener=this._model.onDidChangeContent(e=>{pendingChanges.push(e)}),styling=this._semanticStyling.get(provider),lastResultId=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null;Promise.resolve(provider.provideDocumentSemanticTokens(this._model,lastResultId,this._currentDocumentRequestCancellationTokenSource.token)).then(res=>{this._currentDocumentRequestCancellationTokenSource=null,contentChangeListener.dispose(),this._setDocumentSemanticTokens(provider,res||null,styling,pendingChanges)},err=>{err&&"string"==typeof err.message&&-1!==err.message.indexOf("busy")||_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__.e(err),this._currentDocumentRequestCancellationTokenSource=null,contentChangeListener.dispose(),pendingChanges.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _isSemanticTokens(v){return v&&!!v.data}static _isSemanticTokensEdits(v){return v&&Array.isArray(v.edits)}static _copy(src,srcOffset,dest,destOffset,length){for(let i=0;i<length;i++)dest[destOffset+i]=src[srcOffset+i]}_setDocumentSemanticTokens(provider,tokens,styling,pendingChanges){const currentResponse=this._currentDocumentResponse;if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)provider&&tokens&&provider.releaseDocumentSemanticTokens(tokens.resultId);else if(provider&&styling)if(tokens){if(ModelSemanticColoring._isSemanticTokensEdits(tokens)){if(!currentResponse)return void this._model.setSemanticTokens(null,!0);if(0===tokens.edits.length)tokens={resultId:tokens.resultId,data:currentResponse.data};else{let deltaLength=0;for(const edit of tokens.edits)deltaLength+=(edit.data?edit.data.length:0)-edit.deleteCount;const srcData=currentResponse.data,destData=new Uint32Array(srcData.length+deltaLength);let srcLastStart=srcData.length,destLastStart=destData.length;for(let i=tokens.edits.length-1;i>=0;i--){const edit=tokens.edits[i],copyCount=srcLastStart-(edit.start+edit.deleteCount);copyCount>0&&(ModelSemanticColoring._copy(srcData,srcLastStart-copyCount,destData,destLastStart-copyCount,copyCount),destLastStart-=copyCount),edit.data&&(ModelSemanticColoring._copy(edit.data,0,destData,destLastStart-edit.data.length,edit.data.length),destLastStart-=edit.data.length),srcLastStart=edit.start}srcLastStart>0&&ModelSemanticColoring._copy(srcData,0,destData,0,srcLastStart),tokens={resultId:tokens.resultId,data:destData}}}if(ModelSemanticColoring._isSemanticTokens(tokens)){this._currentDocumentResponse=new SemanticTokensResponse(provider,tokens.resultId,tokens.data);const result=Object(_semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_17__.b)(tokens,styling,this._model.getLanguageIdentifier());if(pendingChanges.length>0){for(const change of pendingChanges)for(const area of result)for(const singleChange of change.changes)area.applyEdit(singleChange.range,singleChange.text);this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}this._model.setSemanticTokens(result,!0)}else this._model.setSemanticTokens(null,!0)}else this._model.setSemanticTokens(null,!0);else this._model.setSemanticTokens(null,!1)}_getSemanticColoringProvider(){const result=_modes_js__WEBPACK_IMPORTED_MODULE_6__.l.ordered(this._model);return result.length>0?result[0]:null}}},2494:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MoveWordCommand",function(){return MoveWordCommand}),__webpack_require__.d(__webpack_exports__,"WordLeftCommand",function(){return WordLeftCommand}),__webpack_require__.d(__webpack_exports__,"WordRightCommand",function(){return WordRightCommand}),__webpack_require__.d(__webpack_exports__,"CursorWordStartLeft",function(){return CursorWordStartLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordEndLeft",function(){return CursorWordEndLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordLeft",function(){return CursorWordLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordStartLeftSelect",function(){return CursorWordStartLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordEndLeftSelect",function(){return CursorWordEndLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordLeftSelect",function(){return CursorWordLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityLeft",function(){return CursorWordAccessibilityLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityLeftSelect",function(){return CursorWordAccessibilityLeftSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordStartRight",function(){return CursorWordStartRight}),__webpack_require__.d(__webpack_exports__,"CursorWordEndRight",function(){return CursorWordEndRight}),__webpack_require__.d(__webpack_exports__,"CursorWordRight",function(){return CursorWordRight}),__webpack_require__.d(__webpack_exports__,"CursorWordStartRightSelect",function(){return CursorWordStartRightSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordEndRightSelect",function(){return CursorWordEndRightSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordRightSelect",function(){return CursorWordRightSelect}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityRight",function(){return CursorWordAccessibilityRight}),__webpack_require__.d(__webpack_exports__,"CursorWordAccessibilityRightSelect",function(){return CursorWordAccessibilityRightSelect}),__webpack_require__.d(__webpack_exports__,"DeleteWordCommand",function(){return DeleteWordCommand}),__webpack_require__.d(__webpack_exports__,"DeleteWordLeftCommand",function(){return DeleteWordLeftCommand}),__webpack_require__.d(__webpack_exports__,"DeleteWordRightCommand",function(){return DeleteWordRightCommand}),__webpack_require__.d(__webpack_exports__,"DeleteWordStartLeft",function(){return DeleteWordStartLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordEndLeft",function(){return DeleteWordEndLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordLeft",function(){return DeleteWordLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordStartRight",function(){return DeleteWordStartRight}),__webpack_require__.d(__webpack_exports__,"DeleteWordEndRight",function(){return DeleteWordEndRight}),__webpack_require__.d(__webpack_exports__,"DeleteWordRight",function(){return DeleteWordRight});var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2301),_common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2381),_common_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2333),_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2406),_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2386),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2303),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2311),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2312),_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2351),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2307),_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2328);class MoveWordCommand extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.c{constructor(opts){super(opts),this._inSelectionMode=opts.inSelectionMode,this._wordNavigationType=opts.wordNavigationType}runEditorCommand(accessor,editor,args){if(!editor.hasModel())return;const wordSeparators=Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(editor.getOption(105)),model=editor.getModel(),result=editor.getSelections().map(sel=>{const inPosition=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(sel.positionLineNumber,sel.positionColumn),outPosition=this._move(wordSeparators,model,inPosition,this._wordNavigationType);return this._moveTo(sel,outPosition,this._inSelectionMode)});if(model.pushStackElement(),editor._getViewModel().setCursorStates("moveWordCommand",0,result.map(r=>_common_controller_cursorCommon_js__WEBPACK_IMPORTED_MODULE_2__.d.fromModelSelection(r))),1===result.length){const pos=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a(result[0].positionLineNumber,result[0].positionColumn);editor.revealPosition(pos,0)}}_moveTo(from,to,inSelectionMode){return inSelectionMode?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(from.selectionStartLineNumber,from.selectionStartColumn,to.lineNumber,to.column):new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(to.lineNumber,to.column,to.lineNumber,to.column)}}class WordLeftCommand extends MoveWordCommand{_move(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.moveWordLeft(wordSeparators,model,position,wordNavigationType)}}class WordRightCommand extends MoveWordCommand{_move(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.moveWordRight(wordSeparators,model,position,wordNavigationType)}}class CursorWordStartLeft extends WordLeftCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class CursorWordEndLeft extends WordLeftCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class CursorWordLeft extends WordLeftCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2063,mac:{primary:527},weight:100}})}}class CursorWordStartLeftSelect extends WordLeftCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class CursorWordEndLeftSelect extends WordLeftCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class CursorWordLeftSelect extends WordLeftCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})}}class CursorWordAccessibilityLeft extends WordLeftCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),win:{primary:2063},weight:101}})}_move(_,model,position,wordNavigationType){return super._move(Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.g.wordSeparators.defaultValue),model,position,wordNavigationType)}}class CursorWordAccessibilityLeftSelect extends WordLeftCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),win:{primary:3087},weight:101}})}_move(_,model,position,wordNavigationType){return super._move(Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.g.wordSeparators.defaultValue),model,position,wordNavigationType)}}class CursorWordStartRight extends WordRightCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class CursorWordEndRight extends WordRightCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2065,mac:{primary:529},weight:100}})}}class CursorWordRight extends WordRightCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class CursorWordStartRightSelect extends WordRightCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class CursorWordEndRightSelect extends WordRightCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})}}class CursorWordRightSelect extends WordRightCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class CursorWordAccessibilityRight extends WordRightCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),win:{primary:2065},weight:101}})}_move(_,model,position,wordNavigationType){return super._move(Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.g.wordSeparators.defaultValue),model,position,wordNavigationType)}}class CursorWordAccessibilityRightSelect extends WordRightCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,_platform_accessibility_common_accessibility_js__WEBPACK_IMPORTED_MODULE_9__.a),win:{primary:3089},weight:101}})}_move(_,model,position,wordNavigationType){return super._move(Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_11__.g.wordSeparators.defaultValue),model,position,wordNavigationType)}}class DeleteWordCommand extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.c{constructor(opts){super(opts),this._whitespaceHeuristics=opts.whitespaceHeuristics,this._wordNavigationType=opts.wordNavigationType}runEditorCommand(accessor,editor,args){if(!editor.hasModel())return;const wordSeparators=Object(_common_controller_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_4__.a)(editor.getOption(105)),model=editor.getModel(),commands=editor.getSelections().map(sel=>{const deleteRange=this._delete(wordSeparators,model,sel,this._whitespaceHeuristics,this._wordNavigationType);return new _common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_1__.a(deleteRange,"")});editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class DeleteWordLeftCommand extends DeleteWordCommand{_delete(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){let r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.deleteWordLeft(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType);return r||new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(1,1,1,1)}}class DeleteWordRightCommand extends DeleteWordCommand{_delete(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){let r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_3__.a.deleteWordRight(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType);if(r)return r;const lineCount=model.getLineCount(),maxColumn=model.getLineMaxColumn(lineCount);return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(lineCount,maxColumn,lineCount,maxColumn)}}class DeleteWordStartLeft extends DeleteWordLeftCommand{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}}class DeleteWordEndLeft extends DeleteWordLeftCommand{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}}class DeleteWordLeft extends DeleteWordLeftCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class DeleteWordStartRight extends DeleteWordRightCommand{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}}class DeleteWordEndRight extends DeleteWordRightCommand{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}}class DeleteWordRight extends DeleteWordRightCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordStartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordEndLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordStartLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordEndLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordStartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordEndRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordStartRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordEndRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordAccessibilityLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordAccessibilityLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordAccessibilityRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordAccessibilityRightSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordStartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordEndLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordStartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordEndRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordRight)},2495:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return registerLanguage});var _fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2448),languageDefinitions={},lazyLanguageLoaders={},LazyLanguageLoader=function(){function LazyLanguageLoader(languageId){var _this=this;this._languageId=languageId,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(resolve,reject){_this._lazyLoadPromiseResolve=resolve,_this._lazyLoadPromiseReject=reject})}return LazyLanguageLoader.getOrCreate=function(languageId){return lazyLanguageLoaders[languageId]||(lazyLanguageLoaders[languageId]=new LazyLanguageLoader(languageId)),lazyLanguageLoaders[languageId]},LazyLanguageLoader.prototype.whenLoaded=function(){return this._lazyLoadPromise},LazyLanguageLoader.prototype.load=function(){var _this=this;return this._loadingTriggered||(this._loadingTriggered=!0,languageDefinitions[this._languageId].loader().then(function(mod){return _this._lazyLoadPromiseResolve(mod)},function(err){return _this._lazyLoadPromiseReject(err)})),this._lazyLoadPromise},LazyLanguageLoader}();function registerLanguage(def){var languageId=def.id;languageDefinitions[languageId]=def,_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_0__.languages.register(def);var lazyLanguageLoader=LazyLanguageLoader.getOrCreate(languageId);_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_0__.languages.setMonarchTokensProvider(languageId,lazyLanguageLoader.whenLoaded().then(function(mod){return mod.language})),_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_0__.languages.onLanguage(languageId,function(){lazyLanguageLoader.load().then(function(mod){_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_0__.languages.setLanguageConfiguration(languageId,mod.conf)})})}},2497:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),common_async=__webpack_require__(2306),lifecycle=__webpack_require__(2294),strings=__webpack_require__(2299),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),replaceCommand=__webpack_require__(2381),core_position=__webpack_require__(2303),core_range=__webpack_require__(2295),core_selection=__webpack_require__(2311),textModelSearch=__webpack_require__(2430),common_model=__webpack_require__(2340),textModel=__webpack_require__(2321),colorRegistry=__webpack_require__(2310),common_themeService=__webpack_require__(2304);class findDecorations_FindDecorations{constructor(editor){this._editor=editor,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const scopes=this._findScopeDecorationIds.map(findScopeDecorationId=>this._editor.getModel().getDecorationRange(findScopeDecorationId)).filter(element=>!!element);if(scopes.length)return scopes}return null}getStartPosition(){return this._startPosition}setStartPosition(newStartPosition){this._startPosition=newStartPosition,this.setCurrentFindMatch(null)}_getDecorationIndex(decorationId){const index=this._decorations.indexOf(decorationId);return index>=0?index+1:1}getCurrentMatchesPosition(desiredRange){let candidates=this._editor.getModel().getDecorationsInRange(desiredRange);for(const candidate of candidates){const candidateOpts=candidate.options;if(candidateOpts===findDecorations_FindDecorations._FIND_MATCH_DECORATION||candidateOpts===findDecorations_FindDecorations._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(candidate.id)}return 0}setCurrentFindMatch(nextMatch){let newCurrentDecorationId=null,matchPosition=0;if(nextMatch)for(let i=0,len=this._decorations.length;i<len;i++){let range=this._editor.getModel().getDecorationRange(this._decorations[i]);if(nextMatch.equalsRange(range)){newCurrentDecorationId=this._decorations[i],matchPosition=i+1;break}}return null===this._highlightedDecorationId&&null===newCurrentDecorationId||this._editor.changeDecorations(changeAccessor=>{if(null!==this._highlightedDecorationId&&(changeAccessor.changeDecorationOptions(this._highlightedDecorationId,findDecorations_FindDecorations._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==newCurrentDecorationId&&(this._highlightedDecorationId=newCurrentDecorationId,changeAccessor.changeDecorationOptions(this._highlightedDecorationId,findDecorations_FindDecorations._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(changeAccessor.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==newCurrentDecorationId){let rng=this._editor.getModel().getDecorationRange(newCurrentDecorationId);if(rng.startLineNumber!==rng.endLineNumber&&1===rng.endColumn){let lineBeforeEnd=rng.endLineNumber-1,lineBeforeEndMaxColumn=this._editor.getModel().getLineMaxColumn(lineBeforeEnd);rng=new core_range.a(rng.startLineNumber,rng.startColumn,lineBeforeEnd,lineBeforeEndMaxColumn)}this._rangeHighlightDecorationId=changeAccessor.addDecoration(rng,findDecorations_FindDecorations._RANGE_HIGHLIGHT_DECORATION)}}),matchPosition}set(findMatches,findScopes){this._editor.changeDecorations(accessor=>{let findMatchesOptions=findDecorations_FindDecorations._FIND_MATCH_DECORATION,newOverviewRulerApproximateDecorations=[];if(findMatches.length>1e3){findMatchesOptions=findDecorations_FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;const lineCount=this._editor.getModel().getLineCount(),approxPixelsPerLine=this._editor.getLayoutInfo().height/lineCount,mergeLinesDelta=Math.max(2,Math.ceil(3/approxPixelsPerLine));let prevStartLineNumber=findMatches[0].range.startLineNumber,prevEndLineNumber=findMatches[0].range.endLineNumber;for(let i=1,len=findMatches.length;i<len;i++){const range=findMatches[i].range;prevEndLineNumber+mergeLinesDelta>=range.startLineNumber?range.endLineNumber>prevEndLineNumber&&(prevEndLineNumber=range.endLineNumber):(newOverviewRulerApproximateDecorations.push({range:new core_range.a(prevStartLineNumber,1,prevEndLineNumber,1),options:findDecorations_FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),prevStartLineNumber=range.startLineNumber,prevEndLineNumber=range.endLineNumber)}newOverviewRulerApproximateDecorations.push({range:new core_range.a(prevStartLineNumber,1,prevEndLineNumber,1),options:findDecorations_FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let newFindMatchesDecorations=new Array(findMatches.length);for(let i=0,len=findMatches.length;i<len;i++)newFindMatchesDecorations[i]={range:findMatches[i].range,options:findMatchesOptions};this._decorations=accessor.deltaDecorations(this._decorations,newFindMatchesDecorations),this._overviewRulerApproximateDecorations=accessor.deltaDecorations(this._overviewRulerApproximateDecorations,newOverviewRulerApproximateDecorations),this._rangeHighlightDecorationId&&(accessor.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(findScopeDecorationId=>accessor.removeDecoration(findScopeDecorationId)),this._findScopeDecorationIds=[]),(null==findScopes?void 0:findScopes.length)&&(this._findScopeDecorationIds=findScopes.map(findScope=>accessor.addDecoration(findScope,findDecorations_FindDecorations._FIND_SCOPE_DECORATION)))})}matchBeforePosition(position){if(0===this._decorations.length)return null;for(let i=this._decorations.length-1;i>=0;i--){let decorationId=this._decorations[i],r=this._editor.getModel().getDecorationRange(decorationId);if(r&&!(r.endLineNumber>position.lineNumber)){if(r.endLineNumber<position.lineNumber)return r;if(!(r.endColumn>position.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(position){if(0===this._decorations.length)return null;for(let i=0,len=this._decorations.length;i<len;i++){let decorationId=this._decorations[i],r=this._editor.getModel().getDecorationRange(decorationId);if(r&&!(r.startLineNumber<position.lineNumber)){if(r.startLineNumber>position.lineNumber)return r;if(!(r.startColumn<position.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let result=[];return result=(result=result.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&result.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&result.push(this._rangeHighlightDecorationId),result}}findDecorations_FindDecorations._CURRENT_FIND_MATCH_DECORATION=textModel.a.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(common_themeService.h)(colorRegistry.Vb),position:common_model.d.Center},minimap:{color:Object(common_themeService.h)(colorRegistry.Ob),position:common_model.c.Inline}}),findDecorations_FindDecorations._FIND_MATCH_DECORATION=textModel.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(common_themeService.h)(colorRegistry.Vb),position:common_model.d.Center},minimap:{color:Object(common_themeService.h)(colorRegistry.Ob),position:common_model.c.Inline}}),findDecorations_FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION=textModel.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),findDecorations_FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION=textModel.a.register({stickiness:1,overviewRuler:{color:Object(common_themeService.h)(colorRegistry.Vb),position:common_model.d.Center}}),findDecorations_FindDecorations._RANGE_HIGHLIGHT_DECORATION=textModel.a.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),findDecorations_FindDecorations._FIND_SCOPE_DECORATION=textModel.a.register({className:"findScope",isWholeLine:!0});class replaceAllCommand_ReplaceAllCommand{constructor(editorSelection,ranges,replaceStrings){this._editorSelection=editorSelection,this._ranges=ranges,this._replaceStrings=replaceStrings,this._trackedEditorSelectionId=null}getEditOperations(model,builder){if(this._ranges.length>0){let ops=[];for(let i=0;i<this._ranges.length;i++)ops.push({range:this._ranges[i],text:this._replaceStrings[i]});ops.sort((o1,o2)=>core_range.a.compareRangesUsingStarts(o1.range,o2.range));let resultOps=[],previousOp=ops[0];for(let i=1;i<ops.length;i++)previousOp.range.endLineNumber===ops[i].range.startLineNumber&&previousOp.range.endColumn===ops[i].range.startColumn?(previousOp.range=previousOp.range.plusRange(ops[i].range),previousOp.text=previousOp.text+ops[i].text):(resultOps.push(previousOp),previousOp=ops[i]);resultOps.push(previousOp);for(const op of resultOps)builder.addEditOperation(op.range,op.text)}this._trackedEditorSelectionId=builder.trackSelection(this._editorSelection)}computeCursorState(model,helper){return helper.getTrackedSelection(this._trackedEditorSelectionId)}}function buildReplaceStringWithCasePreserved(matches,pattern){if(matches&&""!==matches[0]){const containsHyphens=validateSpecificSpecialCharacter(matches,pattern,"-"),containsUnderscores=validateSpecificSpecialCharacter(matches,pattern,"_");return containsHyphens&&!containsUnderscores?buildReplaceStringForSpecificSpecialCharacter(matches,pattern,"-"):!containsHyphens&&containsUnderscores?buildReplaceStringForSpecificSpecialCharacter(matches,pattern,"_"):matches[0].toUpperCase()===matches[0]?pattern.toUpperCase():matches[0].toLowerCase()===matches[0]?pattern.toLowerCase():strings.o(matches[0][0])&&pattern.length>0?pattern[0].toUpperCase()+pattern.substr(1):pattern}return pattern}function validateSpecificSpecialCharacter(matches,pattern,specialCharacter){return-1!==matches[0].indexOf(specialCharacter)&&-1!==pattern.indexOf(specialCharacter)&&matches[0].split(specialCharacter).length===pattern.split(specialCharacter).length}function buildReplaceStringForSpecificSpecialCharacter(matches,pattern,specialCharacter){const splitPatternAtSpecialCharacter=pattern.split(specialCharacter),splitMatchAtSpecialCharacter=matches[0].split(specialCharacter);let replaceString="";return splitPatternAtSpecialCharacter.forEach((splitValue,index)=>{replaceString+=buildReplaceStringWithCasePreserved([splitMatchAtSpecialCharacter[index]],splitValue)+specialCharacter}),replaceString.slice(0,-1)}class StaticValueReplacePattern{constructor(staticValue){this.staticValue=staticValue,this.kind=0}}class DynamicPiecesReplacePattern{constructor(pieces){this.pieces=pieces,this.kind=1}}class replacePattern_ReplacePattern{constructor(pieces){pieces&&0!==pieces.length?1===pieces.length&&null!==pieces[0].staticValue?this._state=new StaticValueReplacePattern(pieces[0].staticValue):this._state=new DynamicPiecesReplacePattern(pieces):this._state=new StaticValueReplacePattern("")}static fromStaticValue(value){return new replacePattern_ReplacePattern([ReplacePiece.staticValue(value)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(matches,preserveCase){if(0===this._state.kind)return preserveCase?buildReplaceStringWithCasePreserved(matches,this._state.staticValue):this._state.staticValue;let result="";for(let i=0,len=this._state.pieces.length;i<len;i++){let piece=this._state.pieces[i];if(null!==piece.staticValue){result+=piece.staticValue;continue}let match=replacePattern_ReplacePattern._substitute(piece.matchIndex,matches);if(null!==piece.caseOps&&piece.caseOps.length>0){let repl=[],lenOps=piece.caseOps.length,opIdx=0;for(let idx=0,len=match.length;idx<len;idx++){if(opIdx>=lenOps){repl.push(match.slice(idx));break}switch(piece.caseOps[opIdx]){case"U":repl.push(match[idx].toUpperCase());break;case"u":repl.push(match[idx].toUpperCase()),opIdx++;break;case"L":repl.push(match[idx].toLowerCase());break;case"l":repl.push(match[idx].toLowerCase()),opIdx++;break;default:repl.push(match[idx])}}match=repl.join("")}result+=match}return result}static _substitute(matchIndex,matches){if(null===matches)return"";if(0===matchIndex)return matches[0];let remainder="";for(;matchIndex>0;){if(matchIndex<matches.length){return(matches[matchIndex]||"")+remainder}remainder=String(matchIndex%10)+remainder,matchIndex=Math.floor(matchIndex/10)}return"$"+remainder}}class ReplacePiece{constructor(staticValue,matchIndex,caseOps){this.staticValue=staticValue,this.matchIndex=matchIndex,caseOps&&0!==caseOps.length?this.caseOps=caseOps.slice(0):this.caseOps=null}static staticValue(value){return new ReplacePiece(value,-1,null)}static caseOps(index,caseOps){return new ReplacePiece(null,index,caseOps)}}class ReplacePieceBuilder{constructor(source){this._source=source,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(toCharIndex){this._emitStatic(this._source.substring(this._lastCharIndex,toCharIndex)),this._lastCharIndex=toCharIndex}emitStatic(value,toCharIndex){this._emitStatic(value),this._lastCharIndex=toCharIndex}_emitStatic(value){0!==value.length&&(this._currentStaticPiece+=value)}emitMatchIndex(index,toCharIndex,caseOps){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=ReplacePiece.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=ReplacePiece.caseOps(index,caseOps),this._lastCharIndex=toCharIndex}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=ReplacePiece.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new replacePattern_ReplacePattern(this._result)}}var contextkey=__webpack_require__(2307),arrays=__webpack_require__(2309);const CONTEXT_FIND_WIDGET_VISIBLE=new contextkey.c("findWidgetVisible",!1),CONTEXT_FIND_INPUT_FOCUSED=new contextkey.c("findInputFocussed",!1),CONTEXT_REPLACE_INPUT_FOCUSED=new contextkey.c("replaceInputFocussed",!1),ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},ToggleRegexKeybinding={primary:560,mac:{primary:2608}},ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},MATCHES_LIMIT=19999,RESEARCH_DELAY=240;class findModel_FindModelBoundToEditorModel{constructor(editor,state){this._toDispose=new lifecycle.b,this._editor=editor,this._state=state,this._isDisposed=!1,this._startSearchingTimer=new common_async.e,this._decorations=new findDecorations_FindDecorations(editor),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new common_async.d(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Object(lifecycle.f)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},RESEARCH_DELAY)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(model,findScope){return findScope||model.getFullModelRange()}research(moveCursor,newFindScope){let findScopes=null;void 0!==newFindScope?null!==newFindScope&&(findScopes=Array.isArray(newFindScope)?newFindScope:[newFindScope]):findScopes=this._decorations.getFindScopes(),null!==findScopes&&(findScopes=findScopes.map(findScope=>{if(findScope.startLineNumber!==findScope.endLineNumber){let endLineNumber=findScope.endLineNumber;return 1===findScope.endColumn&&(endLineNumber-=1),new core_range.a(findScope.startLineNumber,1,endLineNumber,this._editor.getModel().getLineMaxColumn(endLineNumber))}return findScope}));let findMatches=this._findMatches(findScopes,!1,MATCHES_LIMIT);this._decorations.set(findMatches,findScopes);const editorSelection=this._editor.getSelection();let currentMatchesPosition=this._decorations.getCurrentMatchesPosition(editorSelection);if(0===currentMatchesPosition&&findMatches.length>0){const matchAfterSelection=Object(arrays.h)(findMatches.map(match=>match.range),range=>core_range.a.compareRangesUsingStarts(range,editorSelection)>=0);currentMatchesPosition=matchAfterSelection>0?matchAfterSelection-1+1:currentMatchesPosition}this._state.changeMatchInfo(currentMatchesPosition,this._decorations.getCount(),void 0),moveCursor&&this._editor.getOption(29).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let findScope=this._decorations.getFindScope();return findScope&&this._editor.revealRangeInCenterIfOutsideViewport(findScope,0),!0}return!1}_setCurrentFindMatch(match){let matchesPosition=this._decorations.setCurrentFindMatch(match);this._state.changeMatchInfo(matchesPosition,this._decorations.getCount(),match),this._editor.setSelection(match),this._editor.revealRangeInCenterIfOutsideViewport(match,0)}_prevSearchPosition(before){let isUsingLineStops=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:lineNumber,column:column}=before,model=this._editor.getModel();return isUsingLineStops||1===column?(1===lineNumber?lineNumber=model.getLineCount():lineNumber--,column=model.getLineMaxColumn(lineNumber)):column--,new core_position.a(lineNumber,column)}_moveToPrevMatch(before,isRecursed=!1){if(!this._state.canNavigateBack()){const nextMatchRange=this._decorations.matchAfterPosition(before);return void(nextMatchRange&&this._setCurrentFindMatch(nextMatchRange))}if(this._decorations.getCount()<MATCHES_LIMIT){let prevMatchRange=this._decorations.matchBeforePosition(before);return prevMatchRange&&prevMatchRange.isEmpty()&&prevMatchRange.getStartPosition().equals(before)&&(before=this._prevSearchPosition(before),prevMatchRange=this._decorations.matchBeforePosition(before)),void(prevMatchRange&&this._setCurrentFindMatch(prevMatchRange))}if(this._cannotFind())return;let findScope=this._decorations.getFindScope(),searchRange=findModel_FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);searchRange.getEndPosition().isBefore(before)&&(before=searchRange.getEndPosition()),before.isBefore(searchRange.getStartPosition())&&(before=searchRange.getEndPosition());let{lineNumber:lineNumber,column:column}=before,model=this._editor.getModel(),position=new core_position.a(lineNumber,column),prevMatch=model.findPreviousMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,!1);return prevMatch&&prevMatch.range.isEmpty()&&prevMatch.range.getStartPosition().equals(position)&&(position=this._prevSearchPosition(position),prevMatch=model.findPreviousMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,!1)),prevMatch?isRecursed||searchRange.containsRange(prevMatch.range)?void this._setCurrentFindMatch(prevMatch.range):this._moveToPrevMatch(prevMatch.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(after){let isUsingLineStops=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:lineNumber,column:column}=after,model=this._editor.getModel();return isUsingLineStops||column===model.getLineMaxColumn(lineNumber)?(lineNumber===model.getLineCount()?lineNumber=1:lineNumber++,column=1):column++,new core_position.a(lineNumber,column)}_moveToNextMatch(after){if(!this._state.canNavigateForward()){const prevMatchRange=this._decorations.matchBeforePosition(after);return void(prevMatchRange&&this._setCurrentFindMatch(prevMatchRange))}if(this._decorations.getCount()<MATCHES_LIMIT){let nextMatchRange=this._decorations.matchAfterPosition(after);return nextMatchRange&&nextMatchRange.isEmpty()&&nextMatchRange.getStartPosition().equals(after)&&(after=this._nextSearchPosition(after),nextMatchRange=this._decorations.matchAfterPosition(after)),void(nextMatchRange&&this._setCurrentFindMatch(nextMatchRange))}let nextMatch=this._getNextMatch(after,!1,!0);nextMatch&&this._setCurrentFindMatch(nextMatch.range)}_getNextMatch(after,captureMatches,forceMove,isRecursed=!1){if(this._cannotFind())return null;let findScope=this._decorations.getFindScope(),searchRange=findModel_FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);searchRange.getEndPosition().isBefore(after)&&(after=searchRange.getStartPosition()),after.isBefore(searchRange.getStartPosition())&&(after=searchRange.getStartPosition());let{lineNumber:lineNumber,column:column}=after,model=this._editor.getModel(),position=new core_position.a(lineNumber,column),nextMatch=model.findNextMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,captureMatches);return forceMove&&nextMatch&&nextMatch.range.isEmpty()&&nextMatch.range.getStartPosition().equals(position)&&(position=this._nextSearchPosition(position),nextMatch=model.findNextMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,captureMatches)),nextMatch?isRecursed||searchRange.containsRange(nextMatch.range)?nextMatch:this._getNextMatch(nextMatch.range.getEndPosition(),captureMatches,forceMove,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function parseReplaceString(replaceString){if(!replaceString||0===replaceString.length)return new replacePattern_ReplacePattern(null);let caseOps=[],result=new ReplacePieceBuilder(replaceString);for(let i=0,len=replaceString.length;i<len;i++){let chCode=replaceString.charCodeAt(i);if(92!==chCode){if(36===chCode){if(++i>=len)break;let nextChCode=replaceString.charCodeAt(i);if(36===nextChCode){result.emitUnchanged(i-1),result.emitStatic("$",i+1);continue}if(48===nextChCode||38===nextChCode){result.emitUnchanged(i-1),result.emitMatchIndex(0,i+1,caseOps),caseOps.length=0;continue}if(49<=nextChCode&&nextChCode<=57){let matchIndex=nextChCode-48;if(i+1<len){let nextNextChCode=replaceString.charCodeAt(i+1);if(48<=nextNextChCode&&nextNextChCode<=57){i++,matchIndex=10*matchIndex+(nextNextChCode-48),result.emitUnchanged(i-2),result.emitMatchIndex(matchIndex,i+1,caseOps),caseOps.length=0;continue}}result.emitUnchanged(i-1),result.emitMatchIndex(matchIndex,i+1,caseOps),caseOps.length=0;continue}}}else{if(++i>=len)break;let nextChCode=replaceString.charCodeAt(i);switch(nextChCode){case 92:result.emitUnchanged(i-1),result.emitStatic("\\",i+1);break;case 110:result.emitUnchanged(i-1),result.emitStatic("\n",i+1);break;case 116:result.emitUnchanged(i-1),result.emitStatic("\t",i+1);break;case 117:case 85:case 108:case 76:result.emitUnchanged(i-1),result.emitStatic("",i+1),caseOps.push(String.fromCharCode(nextChCode))}}}return result.finalize()}(this._state.replaceString):replacePattern_ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let replacePattern=this._getReplacePattern(),selection=this._editor.getSelection(),nextMatch=this._getNextMatch(selection.getStartPosition(),!0,!1);if(nextMatch)if(selection.equalsRange(nextMatch.range)){let replaceString=replacePattern.buildReplaceString(nextMatch.matches,this._state.preserveCase),command=new replaceCommand.a(selection,replaceString);this._executeEditorCommand("replace",command),this._decorations.setStartPosition(new core_position.a(selection.startLineNumber,selection.startColumn+replaceString.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(nextMatch.range)}_findMatches(findScopes,captureMatches,limitResultCount){const searchRanges=(findScopes||[null]).map(scope=>findModel_FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),scope));return this._editor.getModel().findMatches(this._state.searchString,searchRanges,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,captureMatches,limitResultCount)}replaceAll(){if(!this._hasMatches())return;const findScopes=this._decorations.getFindScopes();null===findScopes&&this._state.matchesCount>=MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(findScopes),this.research(!1)}_largeReplaceAll(){const searchData=new textModelSearch.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null).parseSearchRequest();if(!searchData)return;let searchRegex=searchData.regex;if(!searchRegex.multiline){let mod="mu";searchRegex.ignoreCase&&(mod+="i"),searchRegex.global&&(mod+="g"),searchRegex=new RegExp(searchRegex.source,mod)}const model=this._editor.getModel(),modelText=model.getValue(1),fullModelRange=model.getFullModelRange(),replacePattern=this._getReplacePattern();let resultText;const preserveCase=this._state.preserveCase;resultText=replacePattern.hasReplacementPatterns||preserveCase?modelText.replace(searchRegex,function(){return replacePattern.buildReplaceString(arguments,preserveCase)}):modelText.replace(searchRegex,replacePattern.buildReplaceString(null,preserveCase));let command=new replaceCommand.b(fullModelRange,resultText,this._editor.getSelection());this._executeEditorCommand("replaceAll",command)}_regularReplaceAll(findScopes){const replacePattern=this._getReplacePattern();let matches=this._findMatches(findScopes,replacePattern.hasReplacementPatterns||this._state.preserveCase,1073741824),replaceStrings=[];for(let i=0,len=matches.length;i<len;i++)replaceStrings[i]=replacePattern.buildReplaceString(matches[i].matches,this._state.preserveCase);let command=new replaceAllCommand_ReplaceAllCommand(this._editor.getSelection(),matches.map(m=>m.range),replaceStrings);this._executeEditorCommand("replaceAll",command)}selectAllMatches(){if(!this._hasMatches())return;let findScopes=this._decorations.getFindScopes(),selections=this._findMatches(findScopes,!1,1073741824).map(m=>new core_selection.a(m.range.startLineNumber,m.range.startColumn,m.range.endLineNumber,m.range.endColumn)),editorSelection=this._editor.getSelection();for(let i=0,len=selections.length;i<len;i++){if(selections[i].equalsRange(editorSelection)){selections=[editorSelection].concat(selections.slice(0,i)).concat(selections.slice(i+1));break}}this._editor.setSelections(selections)}_executeEditorCommand(source,command){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(source,command),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var dom=__webpack_require__(2298),ui_widget=(__webpack_require__(2528),__webpack_require__(2343)),color=__webpack_require__(2320),common_event=__webpack_require__(2296);const defaultOpts={inputActiveOptionBorder:color.a.fromHex("#007ACC00"),inputActiveOptionForeground:color.a.fromHex("#FFFFFF"),inputActiveOptionBackground:color.a.fromHex("#0E639C50")};class checkbox_Checkbox extends ui_widget.a{constructor(opts){super(),this._onChange=this._register(new common_event.a),this.onChange=this._onChange.event,this._onKeyDown=this._register(new common_event.a),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},defaultOpts),opts),this._checked=this._opts.isChecked;const classes=["monaco-custom-checkbox"];this._opts.icon?classes.push(this._opts.icon.classNames):classes.push("codicon"),this._opts.actionClassName&&classes.push(this._opts.actionClassName),classes.push(this._checked?"checked":"unchecked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.className=classes.join(" "),this.domNode.tabIndex=0,this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,ev=>{this.checked=!this._checked,this._onChange.fire(!1),ev.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,keyboardEvent=>{if(10===keyboardEvent.keyCode||3===keyboardEvent.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void keyboardEvent.preventDefault();this._onKeyDown.fire(keyboardEvent)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(newIsChecked){this._checked=newIsChecked,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()}width(){return 22}style(styles){styles.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=styles.inputActiveOptionBorder),styles.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=styles.inputActiveOptionForeground),styles.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=styles.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))}disable(){dom.T(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))}}var codicons=__webpack_require__(2316);const NLS_CASE_SENSITIVE_CHECKBOX_LABEL=nls.a("caseDescription","Match Case"),NLS_WHOLE_WORD_CHECKBOX_LABEL=nls.a("wordsDescription","Match Whole Word"),NLS_REGEX_CHECKBOX_LABEL=nls.a("regexDescription","Use Regular Expression");class findInputCheckboxes_CaseSensitiveCheckbox extends checkbox_Checkbox{constructor(opts){super({icon:codicons.a.caseSensitive,title:NLS_CASE_SENSITIVE_CHECKBOX_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionForeground:opts.inputActiveOptionForeground,inputActiveOptionBackground:opts.inputActiveOptionBackground})}}class findInputCheckboxes_WholeWordsCheckbox extends checkbox_Checkbox{constructor(opts){super({icon:codicons.a.wholeWord,title:NLS_WHOLE_WORD_CHECKBOX_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionForeground:opts.inputActiveOptionForeground,inputActiveOptionBackground:opts.inputActiveOptionBackground})}}class findInputCheckboxes_RegexCheckbox extends checkbox_Checkbox{constructor(opts){super({icon:codicons.a.regex,title:NLS_REGEX_CHECKBOX_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionForeground:opts.inputActiveOptionForeground,inputActiveOptionBackground:opts.inputActiveOptionBackground})}}class findOptionsWidget_FindOptionsWidget extends ui_widget.a{constructor(editor,state,keybindingService,themeService){super(),this._hideSoon=this._register(new common_async.d(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=editor,this._state=state,this._keybindingService=keybindingService,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const inputActiveOptionBorderColor=themeService.getColorTheme().getColor(colorRegistry.db),inputActiveOptionForegroundColor=themeService.getColorTheme().getColor(colorRegistry.eb),inputActiveOptionBackgroundColor=themeService.getColorTheme().getColor(colorRegistry.cb);this.caseSensitive=this._register(new findInputCheckboxes_CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionForeground:inputActiveOptionForegroundColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new findInputCheckboxes_WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionForeground:inputActiveOptionForegroundColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new findInputCheckboxes_RegexCheckbox({appendTitle:this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionForeground:inputActiveOptionForegroundColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(e=>{let somethingChanged=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,somethingChanged=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,somethingChanged=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,somethingChanged=!0),!this._state.isRevealed&&somethingChanged&&this._revealTemporarily()})),this._register(dom.j(this._domNode,e=>this._onMouseOut())),this._register(dom.i(this._domNode,"mouseover",e=>this._onMouseOver())),this._applyTheme(themeService.getColorTheme()),this._register(themeService.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(actionId){let kb=this._keybindingService.lookupKeybinding(actionId);return kb?` (${kb.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return findOptionsWidget_FindOptionsWidget.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(theme){let inputStyles={inputActiveOptionBorder:theme.getColor(colorRegistry.db),inputActiveOptionForeground:theme.getColor(colorRegistry.eb),inputActiveOptionBackground:theme.getColor(colorRegistry.cb)};this.caseSensitive.style(inputStyles),this.wholeWords.style(inputStyles),this.regex.style(inputStyles)}}function effectiveOptionValue(override,value){return 1===override||2!==override&&value}findOptionsWidget_FindOptionsWidget.ID="editor.contrib.findOptionsWidget",Object(common_themeService.g)((theme,collector)=>{const widgetBackground=theme.getColor(colorRegistry.U);widgetBackground&&collector.addRule(`.monaco-editor .findOptionsWidget { background-color: ${widgetBackground}; }`);const widgetForeground=theme.getColor(colorRegistry.W);widgetForeground&&collector.addRule(`.monaco-editor .findOptionsWidget { color: ${widgetForeground}; }`);const widgetShadowColor=theme.getColor(colorRegistry.uc);widgetShadowColor&&collector.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px ${widgetShadowColor}; }`);const hcBorder=theme.getColor(colorRegistry.h);hcBorder&&collector.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${hcBorder}; }`)});class findState_FindReplaceState extends lifecycle.a{constructor(){super(),this._onFindReplaceStateChange=this._register(new common_event.a),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return effectiveOptionValue(this._isRegexOverride,this._isRegex)}get wholeWord(){return effectiveOptionValue(this._wholeWordOverride,this._wholeWord)}get matchCase(){return effectiveOptionValue(this._matchCaseOverride,this._matchCase)}get preserveCase(){return effectiveOptionValue(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(matchesPosition,matchesCount,currentMatch){let changeEvent={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},somethingChanged=!1;0===matchesCount&&(matchesPosition=0),matchesPosition>matchesCount&&(matchesPosition=matchesCount),this._matchesPosition!==matchesPosition&&(this._matchesPosition=matchesPosition,changeEvent.matchesPosition=!0,somethingChanged=!0),this._matchesCount!==matchesCount&&(this._matchesCount=matchesCount,changeEvent.matchesCount=!0,somethingChanged=!0),void 0!==currentMatch&&(core_range.a.equalsRange(this._currentMatch,currentMatch)||(this._currentMatch=currentMatch,changeEvent.currentMatch=!0,somethingChanged=!0)),somethingChanged&&this._onFindReplaceStateChange.fire(changeEvent)}change(newState,moveCursor,updateHistory=!0){var _a;let changeEvent={moveCursor:moveCursor,updateHistory:updateHistory,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},somethingChanged=!1;const oldEffectiveIsRegex=this.isRegex,oldEffectiveWholeWords=this.wholeWord,oldEffectiveMatchCase=this.matchCase,oldEffectivePreserveCase=this.preserveCase;void 0!==newState.searchString&&this._searchString!==newState.searchString&&(this._searchString=newState.searchString,changeEvent.searchString=!0,somethingChanged=!0),void 0!==newState.replaceString&&this._replaceString!==newState.replaceString&&(this._replaceString=newState.replaceString,changeEvent.replaceString=!0,somethingChanged=!0),void 0!==newState.isRevealed&&this._isRevealed!==newState.isRevealed&&(this._isRevealed=newState.isRevealed,changeEvent.isRevealed=!0,somethingChanged=!0),void 0!==newState.isReplaceRevealed&&this._isReplaceRevealed!==newState.isReplaceRevealed&&(this._isReplaceRevealed=newState.isReplaceRevealed,changeEvent.isReplaceRevealed=!0,somethingChanged=!0),void 0!==newState.isRegex&&(this._isRegex=newState.isRegex),void 0!==newState.wholeWord&&(this._wholeWord=newState.wholeWord),void 0!==newState.matchCase&&(this._matchCase=newState.matchCase),void 0!==newState.preserveCase&&(this._preserveCase=newState.preserveCase),void 0!==newState.searchScope&&((null===(_a=newState.searchScope)||void 0===_a?void 0:_a.every(newSearchScope=>{var _a;return null===(_a=this._searchScope)||void 0===_a?void 0:_a.some(existingSearchScope=>!core_range.a.equalsRange(existingSearchScope,newSearchScope))}))||(this._searchScope=newState.searchScope,changeEvent.searchScope=!0,somethingChanged=!0)),void 0!==newState.loop&&this._loop!==newState.loop&&(this._loop=newState.loop,changeEvent.loop=!0,somethingChanged=!0),this._isRegexOverride=void 0!==newState.isRegexOverride?newState.isRegexOverride:0,this._wholeWordOverride=void 0!==newState.wholeWordOverride?newState.wholeWordOverride:0,this._matchCaseOverride=void 0!==newState.matchCaseOverride?newState.matchCaseOverride:0,this._preserveCaseOverride=void 0!==newState.preserveCaseOverride?newState.preserveCaseOverride:0,oldEffectiveIsRegex!==this.isRegex&&(somethingChanged=!0,changeEvent.isRegex=!0),oldEffectiveWholeWords!==this.wholeWord&&(somethingChanged=!0,changeEvent.wholeWord=!0),oldEffectiveMatchCase!==this.matchCase&&(somethingChanged=!0,changeEvent.matchCase=!0),oldEffectivePreserveCase!==this.preserveCase&&(somethingChanged=!0,changeEvent.preserveCase=!0),somethingChanged&&this._onFindReplaceStateChange.fire(changeEvent)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=MATCHES_LIMIT}}__webpack_require__(2530);var aria=__webpack_require__(2335),sash=__webpack_require__(2407),errors=__webpack_require__(2302),platform=__webpack_require__(2305),inputBox=(__webpack_require__(2475),__webpack_require__(2454));const NLS_DEFAULT_LABEL=nls.a("defaultLabel","input");class findInput_FindInput extends ui_widget.a{constructor(parent,contextViewProvider,_showOptionButtons,options){super(),this._showOptionButtons=_showOptionButtons,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new common_event.a),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new common_event.a),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new common_event.a),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new common_event.a),this._onKeyUp=this._register(new common_event.a),this._onCaseSensitiveKeyDown=this._register(new common_event.a),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new common_event.a),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=contextViewProvider,this.placeholder=options.placeholder||"",this.validation=options.validation,this.label=options.label||NLS_DEFAULT_LABEL,this.inputActiveOptionBorder=options.inputActiveOptionBorder,this.inputActiveOptionForeground=options.inputActiveOptionForeground,this.inputActiveOptionBackground=options.inputActiveOptionBackground,this.inputBackground=options.inputBackground,this.inputForeground=options.inputForeground,this.inputBorder=options.inputBorder,this.inputValidationInfoBorder=options.inputValidationInfoBorder,this.inputValidationInfoBackground=options.inputValidationInfoBackground,this.inputValidationInfoForeground=options.inputValidationInfoForeground,this.inputValidationWarningBorder=options.inputValidationWarningBorder,this.inputValidationWarningBackground=options.inputValidationWarningBackground,this.inputValidationWarningForeground=options.inputValidationWarningForeground,this.inputValidationErrorBorder=options.inputValidationErrorBorder,this.inputValidationErrorBackground=options.inputValidationErrorBackground,this.inputValidationErrorForeground=options.inputValidationErrorForeground;const appendCaseSensitiveLabel=options.appendCaseSensitiveLabel||"",appendWholeWordsLabel=options.appendWholeWordsLabel||"",appendRegexLabel=options.appendRegexLabel||"",history=options.history||[],flexibleHeight=!!options.flexibleHeight,flexibleWidth=!!options.flexibleWidth,flexibleMaxHeight=options.flexibleMaxHeight;this.domNode=document.createElement("div"),dom.e(this.domNode,"monaco-findInput"),this.inputBox=this._register(new inputBox.a(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:history,flexibleHeight:flexibleHeight,flexibleWidth:flexibleWidth,flexibleMaxHeight:flexibleMaxHeight})),this.regex=this._register(new findInputCheckboxes_RegexCheckbox({appendTitle:appendRegexLabel,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(viaKeyboard=>{this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(e=>{this._onRegexKeyDown.fire(e)})),this.wholeWords=this._register(new findInputCheckboxes_WholeWordsCheckbox({appendTitle:appendWholeWordsLabel,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(viaKeyboard=>{this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new findInputCheckboxes_CaseSensitiveCheckbox({appendTitle:appendCaseSensitiveLabel,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(viaKeyboard=>{this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(e=>{this._onCaseSensitiveKeyDown.fire(e)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let indexes=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,event=>{if(event.equals(15)||event.equals(17)||event.equals(9)){let index=indexes.indexOf(document.activeElement);if(index>=0){let newIndex=-1;event.equals(17)?newIndex=(index+1)%indexes.length:event.equals(15)&&(newIndex=0===index?indexes.length-1:index-1),event.equals(9)?indexes[index].blur():newIndex>=0&&indexes[newIndex].focus(),dom.b.stop(event,!0)}}});let controls=document.createElement("div");controls.className="controls",controls.style.display=this._showOptionButtons?"block":"none",controls.appendChild(this.caseSensitive.domNode),controls.appendChild(this.wholeWords.domNode),controls.appendChild(this.regex.domNode),this.domNode.appendChild(controls),parent&&parent.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,e=>this._onKeyDown.fire(e)),this.onkeyup(this.inputBox.inputElement,e=>this._onKeyUp.fire(e)),this.oninput(this.inputBox.inputElement,e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,e=>this._onMouseDown.fire(e))}enable(){dom.Q(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){dom.e(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(value){this.fixFocusOnOptionClickEnabled=value}setEnabled(enabled){enabled?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(value){this.inputBox.value!==value&&(this.inputBox.value=value)}style(styles){this.inputActiveOptionBorder=styles.inputActiveOptionBorder,this.inputActiveOptionForeground=styles.inputActiveOptionForeground,this.inputActiveOptionBackground=styles.inputActiveOptionBackground,this.inputBackground=styles.inputBackground,this.inputForeground=styles.inputForeground,this.inputBorder=styles.inputBorder,this.inputValidationInfoBackground=styles.inputValidationInfoBackground,this.inputValidationInfoForeground=styles.inputValidationInfoForeground,this.inputValidationInfoBorder=styles.inputValidationInfoBorder,this.inputValidationWarningBackground=styles.inputValidationWarningBackground,this.inputValidationWarningForeground=styles.inputValidationWarningForeground,this.inputValidationWarningBorder=styles.inputValidationWarningBorder,this.inputValidationErrorBackground=styles.inputValidationErrorBackground,this.inputValidationErrorForeground=styles.inputValidationErrorForeground,this.inputValidationErrorBorder=styles.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const checkBoxStyles={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(checkBoxStyles),this.wholeWords.style(checkBoxStyles),this.caseSensitive.style(checkBoxStyles);const inputBoxStyles={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(inputBoxStyles)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(value){this.caseSensitive.checked=value}getWholeWords(){return this.wholeWords.checked}setWholeWords(value){this.wholeWords.checked=value}getRegex(){return this.regex.checked}setRegex(value){this.regex.checked=value,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){dom.Q(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,dom.e(this.domNode,"highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}var keybindingsRegistry=__webpack_require__(2367);const replaceInput_NLS_DEFAULT_LABEL=nls.a("defaultLabel","input"),NLS_PRESERVE_CASE_LABEL=nls.a("label.preserveCaseCheckbox","Preserve Case");class replaceInput_PreserveCaseCheckbox extends checkbox_Checkbox{constructor(opts){super({icon:codicons.a.preserveCase,title:NLS_PRESERVE_CASE_LABEL+opts.appendTitle,isChecked:opts.isChecked,inputActiveOptionBorder:opts.inputActiveOptionBorder,inputActiveOptionForeground:opts.inputActiveOptionForeground,inputActiveOptionBackground:opts.inputActiveOptionBackground})}}class replaceInput_ReplaceInput extends ui_widget.a{constructor(parent,contextViewProvider,_showOptionButtons,options){super(),this._showOptionButtons=_showOptionButtons,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new common_event.a),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new common_event.a),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new common_event.a),this._onInput=this._register(new common_event.a),this._onKeyUp=this._register(new common_event.a),this._onPreserveCaseKeyDown=this._register(new common_event.a),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=contextViewProvider,this.placeholder=options.placeholder||"",this.validation=options.validation,this.label=options.label||replaceInput_NLS_DEFAULT_LABEL,this.inputActiveOptionBorder=options.inputActiveOptionBorder,this.inputActiveOptionForeground=options.inputActiveOptionForeground,this.inputActiveOptionBackground=options.inputActiveOptionBackground,this.inputBackground=options.inputBackground,this.inputForeground=options.inputForeground,this.inputBorder=options.inputBorder,this.inputValidationInfoBorder=options.inputValidationInfoBorder,this.inputValidationInfoBackground=options.inputValidationInfoBackground,this.inputValidationInfoForeground=options.inputValidationInfoForeground,this.inputValidationWarningBorder=options.inputValidationWarningBorder,this.inputValidationWarningBackground=options.inputValidationWarningBackground,this.inputValidationWarningForeground=options.inputValidationWarningForeground,this.inputValidationErrorBorder=options.inputValidationErrorBorder,this.inputValidationErrorBackground=options.inputValidationErrorBackground,this.inputValidationErrorForeground=options.inputValidationErrorForeground;const history=options.history||[],flexibleHeight=!!options.flexibleHeight,flexibleWidth=!!options.flexibleWidth,flexibleMaxHeight=options.flexibleMaxHeight;this.domNode=document.createElement("div"),dom.e(this.domNode,"monaco-findInput"),this.inputBox=this._register(new inputBox.a(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:history,flexibleHeight:flexibleHeight,flexibleWidth:flexibleWidth,flexibleMaxHeight:flexibleMaxHeight})),this.preserveCase=this._register(new replaceInput_PreserveCaseCheckbox({appendTitle:"",isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(viaKeyboard=>{this._onDidOptionChange.fire(viaKeyboard),!viaKeyboard&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(e=>{this._onPreserveCaseKeyDown.fire(e)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let indexes=[this.preserveCase.domNode];this.onkeydown(this.domNode,event=>{if(event.equals(15)||event.equals(17)||event.equals(9)){let index=indexes.indexOf(document.activeElement);if(index>=0){let newIndex=-1;event.equals(17)?newIndex=(index+1)%indexes.length:event.equals(15)&&(newIndex=0===index?indexes.length-1:index-1),event.equals(9)?indexes[index].blur():newIndex>=0&&indexes[newIndex].focus(),dom.b.stop(event,!0)}}});let controls=document.createElement("div");controls.className="controls",controls.style.display=this._showOptionButtons?"block":"none",controls.appendChild(this.preserveCase.domNode),this.domNode.appendChild(controls),parent&&parent.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,e=>this._onKeyDown.fire(e)),this.onkeyup(this.inputBox.inputElement,e=>this._onKeyUp.fire(e)),this.oninput(this.inputBox.inputElement,e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,e=>this._onMouseDown.fire(e))}enable(){dom.Q(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){dom.e(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(enabled){enabled?this.enable():this.disable()}style(styles){this.inputActiveOptionBorder=styles.inputActiveOptionBorder,this.inputActiveOptionForeground=styles.inputActiveOptionForeground,this.inputActiveOptionBackground=styles.inputActiveOptionBackground,this.inputBackground=styles.inputBackground,this.inputForeground=styles.inputForeground,this.inputBorder=styles.inputBorder,this.inputValidationInfoBackground=styles.inputValidationInfoBackground,this.inputValidationInfoForeground=styles.inputValidationInfoForeground,this.inputValidationInfoBorder=styles.inputValidationInfoBorder,this.inputValidationWarningBackground=styles.inputValidationWarningBackground,this.inputValidationWarningForeground=styles.inputValidationWarningForeground,this.inputValidationWarningBorder=styles.inputValidationWarningBorder,this.inputValidationErrorBackground=styles.inputValidationErrorBackground,this.inputValidationErrorForeground=styles.inputValidationErrorForeground,this.inputValidationErrorBorder=styles.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const checkBoxStyles={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(checkBoxStyles);const inputBoxStyles={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(inputBoxStyles)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(value){this.preserveCase.checked=value}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(newWidth){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=newWidth,this.domNode.style.width=newWidth+"px"}dispose(){super.dispose()}}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const HistoryNavigationWidgetContext="historyNavigationWidget",HistoryNavigationEnablementContext="historyNavigationEnabled";function getContextScopedWidget(contextKeyService,contextKey){return contextKeyService.getContext(document.activeElement).getValue(contextKey)}function createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService,widget){const scopedContextKeyService=function createWidgetScopedContextKeyService(contextKeyService,widget){return contextKeyService.createScoped(widget.target)}(contextKeyService,widget);return function bindContextScopedWidget(contextKeyService,widget,contextKey){new contextkey.c(contextKey,widget).bindTo(contextKeyService)}(scopedContextKeyService,widget,HistoryNavigationWidgetContext),{scopedContextKeyService:scopedContextKeyService,historyNavigationEnablement:new contextkey.c(HistoryNavigationEnablementContext,!0).bindTo(scopedContextKeyService)}}let contextScopedHistoryWidget_ContextScopedFindInput=class ContextScopedFindInput extends findInput_FindInput{constructor(container,contextViewProvider,options,contextKeyService,showFindOptions=!1){super(container,contextViewProvider,showFindOptions,options),this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};contextScopedHistoryWidget_ContextScopedFindInput=__decorate([__param(3,contextkey.b)],contextScopedHistoryWidget_ContextScopedFindInput);let contextScopedHistoryWidget_ContextScopedReplaceInput=class ContextScopedReplaceInput extends replaceInput_ReplaceInput{constructor(container,contextViewProvider,options,contextKeyService,showReplaceOptions=!1){super(container,contextViewProvider,showReplaceOptions,options),this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};contextScopedHistoryWidget_ContextScopedReplaceInput=__decorate([__param(3,contextkey.b)],contextScopedHistoryWidget_ContextScopedReplaceInput),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:contextkey.a.and(contextkey.a.has(HistoryNavigationWidgetContext),contextkey.a.equals(HistoryNavigationEnablementContext,!0)),primary:16,secondary:[528],handler:(accessor,arg2)=>{const widget=getContextScopedWidget(accessor.get(contextkey.b),HistoryNavigationWidgetContext);if(widget){widget.historyNavigator.showPreviousValue()}}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:contextkey.a.and(contextkey.a.has(HistoryNavigationWidgetContext),contextkey.a.equals(HistoryNavigationEnablementContext,!0)),primary:18,secondary:[530],handler:(accessor,arg2)=>{const widget=getContextScopedWidget(accessor.get(contextkey.b),HistoryNavigationWidgetContext);if(widget){widget.historyNavigator.showNextValue()}}});var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const findSelectionIcon=Object(codicons.e)("find-selection",codicons.a.selection),findCollapsedIcon=Object(codicons.e)("find-collapsed",codicons.a.chevronRight),findExpandedIcon=Object(codicons.e)("find-expanded",codicons.a.chevronDown),findCloseIcon=Object(codicons.e)("find-close",codicons.a.close),findReplaceIcon=Object(codicons.e)("find-replace",codicons.a.replace),findReplaceAllIcon=Object(codicons.e)("find-replace-all",codicons.a.replaceAll),findPreviousMatchIcon=Object(codicons.e)("find-previous-match",codicons.a.arrowUp),findNextMatchIcon=Object(codicons.e)("find-next-match",codicons.a.arrowDown),NLS_FIND_INPUT_LABEL=nls.a("label.find","Find"),NLS_FIND_INPUT_PLACEHOLDER=nls.a("placeholder.find","Find"),NLS_PREVIOUS_MATCH_BTN_LABEL=nls.a("label.previousMatchButton","Previous match"),NLS_NEXT_MATCH_BTN_LABEL=nls.a("label.nextMatchButton","Next match"),NLS_TOGGLE_SELECTION_FIND_TITLE=nls.a("label.toggleSelectionFind","Find in selection"),NLS_CLOSE_BTN_LABEL=nls.a("label.closeButton","Close"),NLS_REPLACE_INPUT_LABEL=nls.a("label.replace","Replace"),NLS_REPLACE_INPUT_PLACEHOLDER=nls.a("placeholder.replace","Replace"),NLS_REPLACE_BTN_LABEL=nls.a("label.replaceButton","Replace"),NLS_REPLACE_ALL_BTN_LABEL=nls.a("label.replaceAllButton","Replace All"),NLS_TOGGLE_REPLACE_MODE_BTN_LABEL=nls.a("label.toggleReplaceButton","Toggle Replace mode"),NLS_MATCHES_COUNT_LIMIT_TITLE=nls.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",MATCHES_LIMIT),NLS_MATCHES_LOCATION=nls.a("label.matchesLocation","{0} of {1}"),NLS_NO_RESULTS=nls.a("label.noResults","No results"),FIND_WIDGET_INITIAL_WIDTH=419,FIND_INPUT_AREA_WIDTH=221;let MAX_MATCHES_COUNT_WIDTH=69;const FIND_INPUT_AREA_HEIGHT=33,ctrlEnterReplaceAllWarningPromptedKey="ctrlEnterReplaceAll.windows.donotask",ctrlKeyMod=platform.f?256:2048;class FindWidgetViewZone{constructor(afterLineNumber){this.afterLineNumber=afterLineNumber,this.heightInPx=FIND_INPUT_AREA_HEIGHT,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function stopPropagationForMultiLineUpwards(event,value,textarea){const isMultiline=!!value.match(/\n/);textarea&&isMultiline&&textarea.selectionStart>0&&event.stopPropagation()}function stopPropagationForMultiLineDownwards(event,value,textarea){const isMultiline=!!value.match(/\n/);textarea&&isMultiline&&textarea.selectionEnd<textarea.value.length&&event.stopPropagation()}class findWidget_FindWidget extends ui_widget.a{constructor(codeEditor,controller,state,contextViewProvider,keybindingService,contextKeyService,themeService,storageService,notificationService,storageKeysSyncRegistryService){super(),this._cachedHeight=null,this._codeEditor=codeEditor,this._controller=controller,this._state=state,this._contextViewProvider=contextViewProvider,this._keybindingService=keybindingService,this._contextKeyService=contextKeyService,this._storageService=storageService,this._notificationService=notificationService,storageKeysSyncRegistryService.registerStorageKey({key:ctrlEnterReplaceAllWarningPromptedKey,version:1}),this._ctrlEnterReplaceAllWarningPrompted=!!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new common_async.a(500),this._register(Object(lifecycle.h)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(e=>{if(e.hasChanged(72)&&(this._codeEditor.getOption(72)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(117)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(29)){const addExtraSpaceOnTop=this._codeEditor.getOption(29).addExtraSpaceOnTop;addExtraSpaceOnTop&&!this._viewZone&&(this._viewZone=new FindWidgetViewZone(0),this._showViewZone()),!addExtraSpaceOnTop&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>__awaiter(this,void 0,void 0,function*(){if(this._isVisible){let globalBufferTerm=yield this._controller.getGlobalBufferTerm();globalBufferTerm&&globalBufferTerm!==this._state.searchString&&(this._state.change({searchString:globalBufferTerm},!0),this._findInput.select())}}))),this._findInputFocused=CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService),this._findFocusTracker=this._register(dom.bb(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService),this._replaceFocusTracker=this._register(dom.bb(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(29).addExtraSpaceOnTop&&(this._viewZone=new FindWidgetViewZone(0)),this._applyTheme(themeService.getColorTheme()),this._register(themeService.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return findWidget_FindWidget.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(72)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=dom.H(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let showRedOutline=this._state.searchString.length>0&&0===this._state.matchesCount;dom.ab(this._domNode,"no-results",showRedOutline),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let label;if(this._matchesCount.style.minWidth=MAX_MATCHES_COUNT_WIDTH+"px",this._state.matchesCount>=MATCHES_LIMIT?this._matchesCount.title=NLS_MATCHES_COUNT_LIMIT_TITLE:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let matchesCount=String(this._state.matchesCount);this._state.matchesCount>=MATCHES_LIMIT&&(matchesCount+="+");let matchesPosition=String(this._state.matchesPosition);"0"===matchesPosition&&(matchesPosition="?"),label=strings.x(NLS_MATCHES_LOCATION,matchesPosition,matchesCount)}else label=NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(label)),Object(aria.a)(this._getAriaLabel(label,this._state.currentMatch,this._state.searchString)),MAX_MATCHES_COUNT_WIDTH=Math.max(MAX_MATCHES_COUNT_WIDTH,this._matchesCount.clientWidth)}_getAriaLabel(label,currentMatch,searchString){if(label===NLS_NO_RESULTS)return""===searchString?nls.a("ariaSearchNoResultEmpty","{0} found",label):nls.a("ariaSearchNoResult","{0} found for '{1}'",label,searchString);if(currentMatch){const ariaLabel=nls.a("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",label,searchString,currentMatch.startLineNumber+":"+currentMatch.startColumn),model=this._codeEditor.getModel();if(model&&currentMatch.startLineNumber<=model.getLineCount()&&currentMatch.startLineNumber>=1){return`${model.getLineContent(currentMatch.startLineNumber)}, ${ariaLabel}`}return ariaLabel}return nls.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",label,searchString)}_updateToggleSelectionFindButton(){let selection=this._codeEditor.getSelection(),isSelection=!!selection&&(selection.startLineNumber!==selection.endLineNumber||selection.startColumn!==selection.endColumn),isChecked=this._toggleSelectionFind.checked;this._isVisible&&(isChecked||isSelection)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let findInputIsNonEmpty=this._state.searchString.length>0,matchesCount=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&findInputIsNonEmpty&&matchesCount&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&findInputIsNonEmpty&&matchesCount&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&findInputIsNonEmpty),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&findInputIsNonEmpty),dom.ab(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let canReplace=!this._codeEditor.getOption(72);this._toggleReplaceBtn.setEnabled(this._isVisible&&canReplace)}_reveal(){if(!this._isVisible){this._isVisible=!0;const selection=this._codeEditor.getSelection();switch(this._codeEditor.getOption(29).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const isSelectionMultipleLine=!!selection&&selection.startLineNumber!==selection.endLineNumber;this._toggleSelectionFind.checked=isSelectionMultipleLine}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout(()=>{dom.e(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","false")},0),setTimeout(()=>{this._findInput.validate()},200),this._codeEditor.layoutOverlayWidget(this);let adjustEditorScrollTop=!0;if(this._codeEditor.getOption(29).seedSearchStringFromSelection&&selection){const domNode=this._codeEditor.getDomNode();if(domNode){const editorCoords=dom.C(domNode),startCoords=this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition()),startLeft=editorCoords.left+(startCoords?startCoords.left:0),startTop=startCoords?startCoords.top:0;if(this._viewZone&&startTop<this._viewZone.heightInPx){selection.endLineNumber>selection.startLineNumber&&(adjustEditorScrollTop=!1);const leftOfFindWidget=dom.F(this._domNode).left;startLeft>leftOfFindWidget&&(adjustEditorScrollTop=!1);const endCoords=this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());editorCoords.left+(endCoords?endCoords.left:0)>leftOfFindWidget&&(adjustEditorScrollTop=!1)}}}this._showViewZone(adjustEditorScrollTop)}}_hide(focusTheEditor){this._isVisible&&(this._isVisible=!1,this._updateButtons(),dom.Q(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),focusTheEditor&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(){if(!this._codeEditor.getOption(29).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const viewZone=this._viewZone;void 0===this._viewZoneId&&viewZone&&this._codeEditor.changeViewZones(accessor=>{viewZone.heightInPx=this._getHeight(),this._viewZoneId=accessor.addZone(viewZone),this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+viewZone.heightInPx)})}_showViewZone(adjustScroll=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(29).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new FindWidgetViewZone(0));const viewZone=this._viewZone;this._codeEditor.changeViewZones(accessor=>{if(void 0!==this._viewZoneId){const newHeight=this._getHeight();if(newHeight===viewZone.heightInPx)return;let scrollAdjustment=newHeight-viewZone.heightInPx;return viewZone.heightInPx=newHeight,accessor.layoutZone(this._viewZoneId),void(adjustScroll&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+scrollAdjustment))}{let scrollAdjustment=this._getHeight();if((scrollAdjustment-=this._codeEditor.getOption(66).top)<=0)return;viewZone.heightInPx=scrollAdjustment,this._viewZoneId=accessor.addZone(viewZone),adjustScroll&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+scrollAdjustment)}})}_removeViewZone(){this._codeEditor.changeViewZones(accessor=>{void 0!==this._viewZoneId&&(accessor.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(theme){let inputStyles={inputActiveOptionBorder:theme.getColor(colorRegistry.db),inputActiveOptionBackground:theme.getColor(colorRegistry.cb),inputActiveOptionForeground:theme.getColor(colorRegistry.eb),inputBackground:theme.getColor(colorRegistry.fb),inputForeground:theme.getColor(colorRegistry.hb),inputBorder:theme.getColor(colorRegistry.gb),inputValidationInfoBackground:theme.getColor(colorRegistry.lb),inputValidationInfoForeground:theme.getColor(colorRegistry.nb),inputValidationInfoBorder:theme.getColor(colorRegistry.mb),inputValidationWarningBackground:theme.getColor(colorRegistry.ob),inputValidationWarningForeground:theme.getColor(colorRegistry.qb),inputValidationWarningBorder:theme.getColor(colorRegistry.pb),inputValidationErrorBackground:theme.getColor(colorRegistry.ib),inputValidationErrorForeground:theme.getColor(colorRegistry.kb),inputValidationErrorBorder:theme.getColor(colorRegistry.jb)};this._findInput.style(inputStyles),this._replaceInput.style(inputStyles),this._toggleSelectionFind.style(inputStyles)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!dom.N(this._domNode))return;const layoutInfo=this._codeEditor.getLayoutInfo();if(layoutInfo.contentWidth<=0)return void dom.e(this._domNode,"hiddenEditor");dom.I(this._domNode,"hiddenEditor")&&dom.Q(this._domNode,"hiddenEditor");const editorWidth=layoutInfo.width,minimapWidth=layoutInfo.minimap.minimapWidth;let collapsedFindWidget=!1,reducedFindWidget=!1,narrowFindWidget=!1;if(this._resized){if(dom.H(this._domNode)>FIND_WIDGET_INITIAL_WIDTH)return this._domNode.style.maxWidth=`${editorWidth-28-minimapWidth-15}px`,void(this._replaceInput.width=dom.H(this._findInput.domNode))}if(FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth>=editorWidth&&(reducedFindWidget=!0),FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth-MAX_MATCHES_COUNT_WIDTH>=editorWidth&&(narrowFindWidget=!0),FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth-MAX_MATCHES_COUNT_WIDTH>=editorWidth+50&&(collapsedFindWidget=!0),dom.ab(this._domNode,"collapsed-find-widget",collapsedFindWidget),dom.ab(this._domNode,"narrow-find-widget",narrowFindWidget),dom.ab(this._domNode,"reduced-find-widget",reducedFindWidget),narrowFindWidget||collapsedFindWidget||(this._domNode.style.maxWidth=`${editorWidth-28-minimapWidth-15}px`),this._resized){this._findInput.inputBox.layout();let findInputWidth=this._findInput.inputBox.element.clientWidth;findInputWidth>0&&(this._replaceInput.width=findInputWidth)}else this._isReplaceVisible&&(this._replaceInput.width=dom.H(this._findInput.domNode))}_getHeight(){let totalheight=0;return totalheight+=4,totalheight+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(totalheight+=4,totalheight+=this._replaceInput.inputBox.height+2),totalheight+=4}_tryUpdateHeight(){const totalHeight=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==totalHeight)&&(this._cachedHeight=totalHeight,this._domNode.style.height=`${totalHeight}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let selections=this._codeEditor.getSelections();selections.map(selection=>{1===selection.endColumn&&selection.endLineNumber>selection.startLineNumber&&(selection=selection.setEndPosition(selection.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber-1)));const currentMatch=this._state.currentMatch;return selection.startLineNumber===selection.endLineNumber||core_range.a.equalsRange(selection,currentMatch)?null:selection}).filter(element=>!!element),selections.length&&this._state.change({searchScope:selections},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|ctrlKeyMod)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?stopPropagationForMultiLineUpwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?stopPropagationForMultiLineDownwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|ctrlKeyMod)?(platform.i&&platform.g&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(nls.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ctrlEnterReplaceAllWarningPromptedKey,!0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?stopPropagationForMultiLineUpwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?stopPropagationForMultiLineDownwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(_sash){return 0}_keybindingLabelFor(actionId){let kb=this._keybindingService.lookupKeybinding(actionId);return kb?` (${kb.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new contextScopedHistoryWidget_ContextScopedFindInput(null,this._contextViewProvider,{width:FIND_INPUT_AREA_WIDTH,label:NLS_FIND_INPUT_LABEL,placeholder:NLS_FIND_INPUT_PLACEHOLDER,appendCaseSensitiveLabel:this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),validation:value=>{if(0===value.length||!this._findInput.getRegex())return null;try{return new RegExp(value,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(e=>this._onFindInputKeyDown(e))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(e=>{this._tryUpdateHeight()&&this._showViewZone()})),platform.d&&this._register(this._findInput.onMouseDown(e=>this._onFindInputMouseDown(e))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new findWidget_SimpleButton({label:NLS_PREVIOUS_MATCH_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),className:findPreviousMatchIcon.classNames,onTrigger:()=>{this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().then(void 0,errors.e)}})),this._nextBtn=this._register(new findWidget_SimpleButton({label:NLS_NEXT_MATCH_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),className:findNextMatchIcon.classNames,onTrigger:()=>{this._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().then(void 0,errors.e)}}));let findPart=document.createElement("div");findPart.className="find-part",findPart.appendChild(this._findInput.domNode);const actionsContainer=document.createElement("div");actionsContainer.className="find-actions",findPart.appendChild(actionsContainer),actionsContainer.appendChild(this._matchesCount),actionsContainer.appendChild(this._prevBtn.domNode),actionsContainer.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new checkbox_Checkbox({icon:findSelectionIcon,title:NLS_TOGGLE_SELECTION_FIND_TITLE+this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let selections=this._codeEditor.getSelections();selections.map(selection=>(1===selection.endColumn&&selection.endLineNumber>selection.startLineNumber&&(selection=selection.setEndPosition(selection.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber-1))),selection.isEmpty()?null:selection)).filter(element=>!!element),selections.length&&this._state.change({searchScope:selections},!0)}}else this._state.change({searchScope:null},!0)})),actionsContainer.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new findWidget_SimpleButton({label:NLS_CLOSE_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),className:findCloseIcon.classNames,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),actionsContainer.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new contextScopedHistoryWidget_ContextScopedReplaceInput(null,void 0,{label:NLS_REPLACE_INPUT_LABEL,placeholder:NLS_REPLACE_INPUT_PLACEHOLDER,history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(e=>this._onReplaceInputKeyDown(e))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())})),this._replaceBtn=this._register(new findWidget_SimpleButton({label:NLS_REPLACE_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),className:findReplaceIcon.classNames,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new findWidget_SimpleButton({label:NLS_REPLACE_ALL_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),className:findReplaceAllIcon.classNames,onTrigger:()=>{this._controller.replaceAll()}}));let replacePart=document.createElement("div");replacePart.className="replace-part",replacePart.appendChild(this._replaceInput.domNode);const replaceActionsContainer=document.createElement("div");replaceActionsContainer.className="replace-actions",replacePart.appendChild(replaceActionsContainer),replaceActionsContainer.appendChild(this._replaceBtn.domNode),replaceActionsContainer.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new findWidget_SimpleButton({label:NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=dom.H(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${FIND_WIDGET_INITIAL_WIDTH}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(findPart),this._domNode.appendChild(replacePart),this._resizeSash=new sash.a(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let originalWidth=FIND_WIDGET_INITIAL_WIDTH;this._register(this._resizeSash.onDidStart(()=>{originalWidth=dom.H(this._domNode)})),this._register(this._resizeSash.onDidChange(evt=>{this._resized=!0;let width=originalWidth+evt.startX-evt.currentX;if(width<FIND_WIDGET_INITIAL_WIDTH)return;width>(parseFloat(dom.z(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${width}px`,this._isReplaceVisible&&(this._replaceInput.width=dom.H(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const currentWidth=dom.H(this._domNode);if(currentWidth<FIND_WIDGET_INITIAL_WIDTH)return;let width=FIND_WIDGET_INITIAL_WIDTH;if(!this._resized||currentWidth===FIND_WIDGET_INITIAL_WIDTH){const layoutInfo=this._codeEditor.getLayoutInfo();width=layoutInfo.width-28-layoutInfo.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${width}px`,this._isReplaceVisible&&(this._replaceInput.width=dom.H(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const value=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==value)}}findWidget_FindWidget.ID="editor.contrib.findWidget";class findWidget_SimpleButton extends ui_widget.a{constructor(opts){super(),this._opts=opts,this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className="button "+this._opts.className,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,e=>{this._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(enabled){dom.ab(this._domNode,"disabled",!enabled),this._domNode.setAttribute("aria-disabled",String(!enabled)),this._domNode.tabIndex=enabled?0:-1}setExpanded(expanded){this._domNode.setAttribute("aria-expanded",String(!!expanded)),expanded?(dom.R(this._domNode,findCollapsedIcon.classNames),dom.f(this._domNode,findExpandedIcon.classNames)):(dom.R(this._domNode,findExpandedIcon.classNames),dom.f(this._domNode,findCollapsedIcon.classNames))}}Object(common_themeService.g)((theme,collector)=>{const addBackgroundColorRule=(selector,color)=>{color&&collector.addRule(`.monaco-editor ${selector} { background-color: ${color}; }`)};addBackgroundColorRule(".findMatch",theme.getColor(colorRegistry.x)),addBackgroundColorRule(".currentFindMatch",theme.getColor(colorRegistry.v)),addBackgroundColorRule(".findScope",theme.getColor(colorRegistry.z)),addBackgroundColorRule(".find-widget",theme.getColor(colorRegistry.U));const widgetShadowColor=theme.getColor(colorRegistry.uc);widgetShadowColor&&collector.addRule(`.monaco-editor .find-widget { box-shadow: 0 2px 8px ${widgetShadowColor}; }`);const findMatchHighlightBorder=theme.getColor(colorRegistry.y);findMatchHighlightBorder&&collector.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===theme.type?"dotted":"solid"} ${findMatchHighlightBorder}; box-sizing: border-box; }`);const findMatchBorder=theme.getColor(colorRegistry.w);findMatchBorder&&collector.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${findMatchBorder}; padding: 1px; box-sizing: border-box; }`);const findRangeHighlightBorder=theme.getColor(colorRegistry.A);findRangeHighlightBorder&&collector.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===theme.type?"dashed":"solid"} ${findRangeHighlightBorder}; }`);const hcBorder=theme.getColor(colorRegistry.h);hcBorder&&collector.addRule(`.monaco-editor .find-widget { border: 1px solid ${hcBorder}; }`);const foreground=theme.getColor(colorRegistry.W);foreground&&collector.addRule(`.monaco-editor .find-widget { color: ${foreground}; }`);const error=theme.getColor(colorRegistry.Y);error&&collector.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${error}; }`);const resizeBorderBackground=theme.getColor(colorRegistry.X);if(resizeBorderBackground)collector.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${resizeBorderBackground}; }`);else{const border=theme.getColor(colorRegistry.V);border&&collector.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${border}; }`)}const focusOutline=theme.getColor(colorRegistry.Z);focusOutline&&collector.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${focusOutline}; }`)});var actions=__webpack_require__(2323),common_clipboardService=__webpack_require__(2370),contextView=__webpack_require__(2355),keybinding=__webpack_require__(2325),storage=__webpack_require__(2362),notification=__webpack_require__(2322),storageKeys=__webpack_require__(2439);__webpack_require__.d(__webpack_exports__,"getSelectionSearchString",function(){return getSelectionSearchString}),__webpack_require__.d(__webpack_exports__,"CommonFindController",function(){return findController_CommonFindController}),__webpack_require__.d(__webpack_exports__,"FindController",function(){return findController_FindController}),__webpack_require__.d(__webpack_exports__,"StartFindAction",function(){return findController_StartFindAction}),__webpack_require__.d(__webpack_exports__,"StartFindWithSelectionAction",function(){return findController_StartFindWithSelectionAction}),__webpack_require__.d(__webpack_exports__,"MatchFindAction",function(){return findController_MatchFindAction}),__webpack_require__.d(__webpack_exports__,"NextMatchFindAction",function(){return findController_NextMatchFindAction}),__webpack_require__.d(__webpack_exports__,"NextMatchFindAction2",function(){return findController_NextMatchFindAction2}),__webpack_require__.d(__webpack_exports__,"PreviousMatchFindAction",function(){return findController_PreviousMatchFindAction}),__webpack_require__.d(__webpack_exports__,"PreviousMatchFindAction2",function(){return findController_PreviousMatchFindAction2}),__webpack_require__.d(__webpack_exports__,"SelectionMatchFindAction",function(){return findController_SelectionMatchFindAction}),__webpack_require__.d(__webpack_exports__,"NextSelectionMatchFindAction",function(){return findController_NextSelectionMatchFindAction}),__webpack_require__.d(__webpack_exports__,"PreviousSelectionMatchFindAction",function(){return findController_PreviousSelectionMatchFindAction}),__webpack_require__.d(__webpack_exports__,"StartFindReplaceAction",function(){return findController_StartFindReplaceAction}),__webpack_require__.d(__webpack_exports__,"EditorStartFindAction",function(){return EditorStartFindAction}),__webpack_require__.d(__webpack_exports__,"EditorStartFindReplaceAction",function(){return EditorStartFindReplaceAction});var findController_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},findController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},findController_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const SEARCH_STRING_MAX_LENGTH=524288;function getSelectionSearchString(editor){if(!editor.hasModel())return null;const selection=editor.getSelection();if(selection.startLineNumber===selection.endLineNumber)if(selection.isEmpty()){const wordAtPosition=editor.getConfiguredWordAtPosition(selection.getStartPosition());if(wordAtPosition)return wordAtPosition.word}else if(editor.getModel().getValueLengthInRange(selection)<SEARCH_STRING_MAX_LENGTH)return editor.getModel().getValueInRange(selection);return null}let findController_CommonFindController=class CommonFindController extends lifecycle.a{constructor(editor,contextKeyService,storageService,clipboardService){super(),this._editor=editor,this._findWidgetVisible=CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService),this._contextKeyService=contextKeyService,this._storageService=storageService,this._clipboardService=clipboardService,this._updateHistoryDelayer=new common_async.a(500),this._state=this._register(new findState_FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let shouldRestartFind=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),shouldRestartFind&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(29).loop})}))}static get(editor){return editor.getContribution(CommonFindController.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let selections=this._editor.getSelections();selections.map(selection=>(1===selection.endColumn&&selection.endLineNumber>selection.startLineNumber&&(selection=selection.setEndPosition(selection.endLineNumber-1,this._editor.getModel().getLineMaxColumn(selection.endLineNumber-1))),selection.isEmpty()?null:selection)).filter(element=>!!element),selections.length&&this._state.change({searchScope:selections},!0)}}setSearchString(searchString){this._state.isRegex&&(searchString=strings.v(searchString)),this._state.change({searchString:searchString},!1)}highlightFindOptions(){}_start(opts){return findController_awaiter(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let stateChanges={isRevealed:!0};if(opts.seedSearchStringFromSelection){let selectionSearchString=getSelectionSearchString(this._editor);selectionSearchString&&(this._state.isRegex?stateChanges.searchString=strings.v(selectionSearchString):stateChanges.searchString=selectionSearchString)}if(!stateChanges.searchString&&opts.seedSearchStringFromGlobalClipboard){let selectionSearchString=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;selectionSearchString&&(stateChanges.searchString=selectionSearchString)}if(opts.forceRevealReplace?stateChanges.isReplaceRevealed=!0:this._findWidgetVisible.get()||(stateChanges.isReplaceRevealed=!1),opts.updateSearchScope){let currentSelections=this._editor.getSelections();currentSelections.some(selection=>!selection.isEmpty())&&(stateChanges.searchScope=currentSelections)}stateChanges.loop=opts.loop,this._state.change(stateChanges,!1),this._model||(this._model=new findModel_FindModelBoundToEditorModel(this._editor,this._state))})}start(opts){return this._start(opts)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return findController_awaiter(this,void 0,void 0,function*(){return this._editor.getOption(29).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(text){this._editor.getOption(29).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(text)}};findController_CommonFindController.ID="editor.contrib.findController",findController_CommonFindController=findController_decorate([findController_param(1,contextkey.b),findController_param(2,storage.a),findController_param(3,common_clipboardService.a)],findController_CommonFindController);let findController_FindController=class FindController extends findController_CommonFindController{constructor(editor,_contextViewService,_contextKeyService,_keybindingService,_themeService,_notificationService,_storageService,_storageKeysSyncRegistryService,clipboardService){super(editor,_contextKeyService,_storageService,clipboardService),this._contextViewService=_contextViewService,this._keybindingService=_keybindingService,this._themeService=_themeService,this._notificationService=_notificationService,this._storageKeysSyncRegistryService=_storageKeysSyncRegistryService,this._widget=null,this._findOptionsWidget=null}_start(opts){const _super=Object.create(null,{_start:{get:()=>super._start}});return findController_awaiter(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const selection=this._editor.getSelection();let updateSearchScope=!1;switch(this._editor.getOption(29).autoFindInSelection){case"always":updateSearchScope=!0;break;case"never":updateSearchScope=!1;break;case"multiline":updateSearchScope=!!selection&&selection.startLineNumber!==selection.endLineNumber}opts.updateSearchScope=updateSearchScope,yield _super._start.call(this,opts),this._widget&&(2===opts.shouldFocus?this._widget.focusReplaceInput():1===opts.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new findWidget_FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._storageKeysSyncRegistryService)),this._findOptionsWidget=this._register(new findOptionsWidget_FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};findController_FindController=findController_decorate([findController_param(1,contextView.b),findController_param(2,contextkey.b),findController_param(3,keybinding.a),findController_param(4,common_themeService.c),findController_param(5,notification.a),findController_param(6,storage.a),findController_param(7,storageKeys.a),findController_param(8,common_clipboardService.a)],findController_FindController);class findController_StartFindAction extends editorExtensions.f{constructor(){super({id:FIND_IDS.StartFindAction,label:nls.a("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:actions.b.MenubarEditMenu,group:"3_find",title:nls.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})}run(accessor,editor){return findController_awaiter(this,void 0,void 0,function*(){let controller=findController_CommonFindController.get(editor);controller&&(yield controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:editor.getOption(29).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:editor.getOption(29).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:editor.getOption(29).loop}))})}}class findController_StartFindWithSelectionAction extends editorExtensions.b{constructor(){super({id:FIND_IDS.StartFindWithSelection,label:nls.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(accessor,editor){return findController_awaiter(this,void 0,void 0,function*(){let controller=findController_CommonFindController.get(editor);controller&&(yield controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:editor.getOption(29).loop}),controller.setGlobalBufferTerm(controller.getState().searchString))})}}class findController_MatchFindAction extends editorExtensions.b{run(accessor,editor){return findController_awaiter(this,void 0,void 0,function*(){let controller=findController_CommonFindController.get(editor);controller&&!this._run(controller)&&(yield controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===controller.getState().searchString.length&&editor.getOption(29).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:editor.getOption(29).loop}),this._run(controller))})}}class findController_NextMatchFindAction extends findController_MatchFindAction{constructor(){super({id:FIND_IDS.NextMatchFindAction,label:nls.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})}_run(controller){return controller.moveToNextMatch()}}class findController_NextMatchFindAction2 extends findController_MatchFindAction{constructor(){super({id:FIND_IDS.NextMatchFindAction,label:nls.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}})}_run(controller){return controller.moveToNextMatch()}}class findController_PreviousMatchFindAction extends findController_MatchFindAction{constructor(){super({id:FIND_IDS.PreviousMatchFindAction,label:nls.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})}_run(controller){return controller.moveToPrevMatch()}}class findController_PreviousMatchFindAction2 extends findController_MatchFindAction{constructor(){super({id:FIND_IDS.PreviousMatchFindAction,label:nls.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}})}_run(controller){return controller.moveToPrevMatch()}}class findController_SelectionMatchFindAction extends editorExtensions.b{run(accessor,editor){return findController_awaiter(this,void 0,void 0,function*(){let controller=findController_CommonFindController.get(editor);if(!controller)return;let selectionSearchString=getSelectionSearchString(editor);selectionSearchString&&controller.setSearchString(selectionSearchString),this._run(controller)||(yield controller.start({forceRevealReplace:!1,seedSearchStringFromSelection:editor.getOption(29).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:editor.getOption(29).loop}),this._run(controller))})}}class findController_NextSelectionMatchFindAction extends findController_SelectionMatchFindAction{constructor(){super({id:FIND_IDS.NextSelectionMatchFindAction,label:nls.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:2109,weight:100}})}_run(controller){return controller.moveToNextMatch()}}class findController_PreviousSelectionMatchFindAction extends findController_SelectionMatchFindAction{constructor(){super({id:FIND_IDS.PreviousSelectionMatchFindAction,label:nls.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:3133,weight:100}})}_run(controller){return controller.moveToPrevMatch()}}class findController_StartFindReplaceAction extends editorExtensions.f{constructor(){super({id:FIND_IDS.StartFindReplaceAction,label:nls.a("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:actions.b.MenubarEditMenu,group:"3_find",title:nls.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})}run(accessor,editor){return findController_awaiter(this,void 0,void 0,function*(){if(!editor.hasModel()||editor.getOption(72))return;let controller=findController_CommonFindController.get(editor),currentSelection=editor.getSelection(),findInputFocused=controller.isFindInputFocused(),seedSearchStringFromSelection=!currentSelection.isEmpty()&&currentSelection.startLineNumber===currentSelection.endLineNumber&&editor.getOption(29).seedSearchStringFromSelection&&!findInputFocused,shouldFocus=findInputFocused||seedSearchStringFromSelection?2:1;controller&&(yield controller.start({forceRevealReplace:!0,seedSearchStringFromSelection:seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:editor.getOption(29).seedSearchStringFromSelection,shouldFocus:shouldFocus,shouldAnimate:!0,updateSearchScope:!1,loop:editor.getOption(29).loop}))})}}Object(editorExtensions.m)(findController_CommonFindController.ID,findController_FindController);const EditorStartFindAction=new findController_StartFindAction;Object(editorExtensions.r)(EditorStartFindAction),Object(editorExtensions.k)(findController_StartFindWithSelectionAction),Object(editorExtensions.k)(findController_NextMatchFindAction),Object(editorExtensions.k)(findController_NextMatchFindAction2),Object(editorExtensions.k)(findController_PreviousMatchFindAction),Object(editorExtensions.k)(findController_PreviousMatchFindAction2),Object(editorExtensions.k)(findController_NextSelectionMatchFindAction),Object(editorExtensions.k)(findController_PreviousSelectionMatchFindAction);const EditorStartFindReplaceAction=new findController_StartFindReplaceAction;Object(editorExtensions.r)(EditorStartFindReplaceAction);const FindCommand=editorExtensions.c.bindToContribution(findController_CommonFindController.get);Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.CloseFindWidgetCommand,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:x=>x.closeFindWidget(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:x=>x.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:ToggleCaseSensitiveKeybinding.primary,mac:ToggleCaseSensitiveKeybinding.mac,win:ToggleCaseSensitiveKeybinding.win,linux:ToggleCaseSensitiveKeybinding.linux}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:x=>x.toggleWholeWords(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:ToggleWholeWordKeybinding.primary,mac:ToggleWholeWordKeybinding.mac,win:ToggleWholeWordKeybinding.win,linux:ToggleWholeWordKeybinding.linux}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:x=>x.toggleRegex(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:ToggleRegexKeybinding.primary,mac:ToggleRegexKeybinding.mac,win:ToggleRegexKeybinding.win,linux:ToggleRegexKeybinding.linux}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:x=>x.toggleSearchScope(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:ToggleSearchScopeKeybinding.primary,mac:ToggleSearchScopeKeybinding.mac,win:ToggleSearchScopeKeybinding.win,linux:ToggleSearchScopeKeybinding.linux}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ReplaceOneAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:x=>x.replace(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:3094}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ReplaceOneAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:x=>x.replace(),kbOpts:{weight:105,kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ReplaceAllAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:x=>x.replaceAll(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:2563}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.ReplaceAllAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:x=>x.replaceAll(),kbOpts:{weight:105,kbExpr:contextkey.a.and(editorContextKeys.a.focus,CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),Object(editorExtensions.l)(new FindCommand({id:FIND_IDS.SelectAllMatchesAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:x=>x.selectAllMatches(),kbOpts:{weight:105,kbExpr:editorContextKeys.a.focus,primary:515}}))},2498:function(module,__webpack_exports__,__webpack_require__){"use strict";class Lazy{constructor(executor){this.executor=executor,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(err){this._error=err}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var lifecycle=__webpack_require__(2294),strings=__webpack_require__(2299),editorExtensions=__webpack_require__(2301),services_bulkEditService=__webpack_require__(2401),editorContextKeys=__webpack_require__(2312),codeAction=__webpack_require__(2402),errors=__webpack_require__(2302),messageController=__webpack_require__(2404),instantiation=__webpack_require__(2300),dom=__webpack_require__(2298),common_actions=__webpack_require__(2337),core_position=__webpack_require__(2303),modes=__webpack_require__(2308),types=__webpack_require__(2403),contextView=__webpack_require__(2355),keybinding=__webpack_require__(2325),__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class codeActionMenu_CodeActionAction extends common_actions.a{constructor(action,callback){super(action.command?action.command.id:action.title,action.title,void 0,!action.disabled,callback),this.action=action}}let codeActionMenu_CodeActionMenu=class CodeActionMenu extends lifecycle.a{constructor(_editor,_delegate,_contextMenuService,keybindingService){super(),this._editor=_editor,this._delegate=_delegate,this._contextMenuService=_contextMenuService,this._visible=!1,this._showingActions=this._register(new lifecycle.d),this._keybindingResolver=new codeActionMenu_CodeActionKeybindingResolver({getKeybindings:()=>keybindingService.getKeybindings()})}get isVisible(){return this._visible}show(trigger,codeActions,at,options){return __awaiter(this,void 0,void 0,function*(){const actionsToShow=options.includeDisabledActions?codeActions.allActions:codeActions.validActions;if(!actionsToShow.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,Object(errors.a)();this._visible=!0,this._showingActions.value=codeActions;const menuActions=this.getMenuActions(trigger,actionsToShow,codeActions.documentation),anchor=core_position.a.isIPosition(at)?this._toCoords(at):at||{x:0,y:0},resolver=this._keybindingResolver.getResolver();this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>anchor,getActions:()=>menuActions,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:action=>action instanceof codeActionMenu_CodeActionAction?resolver(action.action):void 0})})}getMenuActions(trigger,actionsToShow,documentation){var _a,_b;const toCodeActionAction=action=>new codeActionMenu_CodeActionAction(action,()=>this._delegate.onSelectCodeAction(action)),result=actionsToShow.map(toCodeActionAction),allDocumentation=[...documentation],model=this._editor.getModel();if(model&&result.length)for(const provider of modes.a.all(model))provider._getAdditionalMenuItems&&allDocumentation.push(...provider._getAdditionalMenuItems({trigger:trigger.type,only:null===(_b=null===(_a=trigger.filter)||void 0===_a?void 0:_a.include)||void 0===_b?void 0:_b.value},actionsToShow));return allDocumentation.length&&result.push(new common_actions.c,...allDocumentation.map(command=>toCodeActionAction({title:command.title,command:command}))),result}_toCoords(position){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(position,1),this._editor.render();const cursorCoords=this._editor.getScrolledVisiblePosition(position),editorCoords=Object(dom.C)(this._editor.getDomNode());return{x:editorCoords.left+cursorCoords.left,y:editorCoords.top+cursorCoords.top+cursorCoords.height}}};codeActionMenu_CodeActionMenu=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([__param(2,contextView.a),__param(3,keybinding.a)],codeActionMenu_CodeActionMenu);class codeActionMenu_CodeActionKeybindingResolver{constructor(_keybindingProvider){this._keybindingProvider=_keybindingProvider}getResolver(){const allCodeActionBindings=new Lazy(()=>this._keybindingProvider.getKeybindings().filter(item=>codeActionMenu_CodeActionKeybindingResolver.codeActionCommands.indexOf(item.command)>=0).filter(item=>item.resolvedKeybinding).map(item=>{let commandArgs=item.commandArgs;return item.command===codeAction.d?commandArgs={kind:types.b.SourceOrganizeImports.value}:item.command===codeAction.b&&(commandArgs={kind:types.b.SourceFixAll.value}),Object.assign({resolvedKeybinding:item.resolvedKeybinding},types.a.fromUser(commandArgs,{kind:types.b.None,apply:"never"}))}));return action=>{if(action.kind){const binding=this.bestKeybindingForCodeAction(action,allCodeActionBindings.getValue());return null==binding?void 0:binding.resolvedKeybinding}}}bestKeybindingForCodeAction(action,candidates){if(!action.kind)return;const kind=new types.b(action.kind);return candidates.filter(candidate=>candidate.kind.contains(kind)).filter(candidate=>!candidate.preferred||action.isPreferred).reduceRight((currentBest,candidate)=>currentBest?currentBest.kind.contains(candidate.kind)?candidate:currentBest:candidate,void 0)}}codeActionMenu_CodeActionKeybindingResolver.codeActionCommands=[codeAction.e,codeAction.a,codeAction.f,codeAction.d,codeAction.b];var LightBulbState,globalMouseMoveMonitor=__webpack_require__(2378),common_event=__webpack_require__(2296),textModel=(__webpack_require__(2519),__webpack_require__(2321)),nls=__webpack_require__(2297),themeService=__webpack_require__(2304),colorRegistry=__webpack_require__(2310),touch=__webpack_require__(2348),codicons=__webpack_require__(2316),lightBulbWidget_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},lightBulbWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};!function(LightBulbState){LightBulbState.Hidden={type:0};LightBulbState.Showing=class Showing{constructor(actions,trigger,editorPosition,widgetPosition){this.actions=actions,this.trigger=trigger,this.editorPosition=editorPosition,this.widgetPosition=widgetPosition,this.type=1}}}(LightBulbState||(LightBulbState={}));let lightBulbWidget_LightBulbWidget=class LightBulbWidget extends lifecycle.a{constructor(_editor,_quickFixActionId,_preferredFixActionId,_keybindingService){super(),this._editor=_editor,this._quickFixActionId=_quickFixActionId,this._preferredFixActionId=_preferredFixActionId,this._keybindingService=_keybindingService,this._onClick=this._register(new common_event.a),this.onClick=this._onClick.event,this._state=LightBulbState.Hidden,this._domNode=document.createElement("div"),this._domNode.className=codicons.a.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(_=>{const editorModel=this._editor.getModel();(1!==this.state.type||!editorModel||this.state.editorPosition.lineNumber>=editorModel.getLineCount())&&this.hide()})),touch.b.ignoreTarget(this._domNode),this._register(dom.m(this._domNode,e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:top,height:height}=dom.C(this._domNode),lineHeight=this._editor.getOption(51);let pad=Math.floor(lineHeight/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(pad+=lineHeight),this._onClick.fire({x:e.posx,y:top+height+pad,actions:this.state.actions,trigger:this.state.trigger})})),this._register(dom.i(this._domNode,"mouseenter",e=>{if(1!=(1&e.buttons))return;this.hide();const monitor=new globalMouseMoveMonitor.a;monitor.startMonitoring(e.target,e.buttons,globalMouseMoveMonitor.b,()=>{},()=>{monitor.dispose()})})),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(49)&&!this._editor.getOption(49).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(actions,trigger,atPosition){if(actions.validActions.length<=0)return this.hide();const options=this._editor.getOptions();if(!options.get(49).enabled)return this.hide();const model=this._editor.getModel();if(!model)return this.hide();const{lineNumber:lineNumber,column:column}=model.validatePosition(atPosition),tabSize=model.getOptions().tabSize,fontInfo=options.get(36),lineContent=model.getLineContent(lineNumber),indent=textModel.b.computeIndentLevel(lineContent,tabSize),isFolded=lineNumber=>lineNumber>2&&this._editor.getTopForLineNumber(lineNumber)===this._editor.getTopForLineNumber(lineNumber-1);let effectiveLineNumber=lineNumber;if(!(fontInfo.spaceWidth*indent>22))if(lineNumber>1&&!isFolded(lineNumber-1))effectiveLineNumber-=1;else if(isFolded(lineNumber+1)){if(column*fontInfo.spaceWidth<22)return this.hide()}else effectiveLineNumber+=1;this.state=new LightBulbState.Showing(actions,trigger,atPosition,{position:{lineNumber:effectiveLineNumber,column:1},preference:LightBulbWidget._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=LightBulbState.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(value){this._state=value,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){dom.R(this._domNode,codicons.a.lightBulb.classNames),dom.f(this._domNode,codicons.a.lightbulbAutofix.classNames);const preferredKb=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(preferredKb)return void(this.title=nls.a("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",preferredKb.getLabel()))}dom.R(this._domNode,codicons.a.lightbulbAutofix.classNames),dom.f(this._domNode,codicons.a.lightBulb.classNames);const kb=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=kb?nls.a("quickFixWithKb","Show Fixes ({0})",kb.getLabel()):nls.a("quickFix","Show Fixes")}set title(value){this._domNode.title=value}};lightBulbWidget_LightBulbWidget._posPref=[0],lightBulbWidget_LightBulbWidget=lightBulbWidget_decorate([lightBulbWidget_param(3,keybinding.a)],lightBulbWidget_LightBulbWidget),Object(themeService.g)((theme,collector)=>{const editorLightBulbForegroundColor=theme.getColor(colorRegistry.N);editorLightBulbForegroundColor&&collector.addRule(`\n\t\t.monaco-editor .contentWidgets ${codicons.a.lightBulb.cssSelector} {\n\t\t\tcolor: ${editorLightBulbForegroundColor};\n\t\t}`);const editorLightBulbAutoFixForegroundColor=theme.getColor(colorRegistry.M);editorLightBulbAutoFixForegroundColor&&collector.addRule(`\n\t\t.monaco-editor .contentWidgets ${codicons.a.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${editorLightBulbAutoFixForegroundColor};\n\t\t}`)});var codeActionUi_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let codeActionUi_CodeActionUi=class CodeActionUi extends lifecycle.a{constructor(_editor,quickFixActionId,preferredFixActionId,delegate,instantiationService){super(),this._editor=_editor,this.delegate=delegate,this._activeCodeActions=this._register(new lifecycle.d),this._codeActionWidget=new Lazy(()=>this._register(instantiationService.createInstance(codeActionMenu_CodeActionMenu,this._editor,{onSelectCodeAction:action=>codeActionUi_awaiter(this,void 0,void 0,function*(){this.delegate.applyCodeAction(action,!0)})}))),this._lightBulbWidget=new Lazy(()=>{const widget=this._register(instantiationService.createInstance(lightBulbWidget_LightBulbWidget,this._editor,quickFixActionId,preferredFixActionId));return this._register(widget.onClick(e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1}))),widget})}update(newState){var _a,_b,_c;return codeActionUi_awaiter(this,void 0,void 0,function*(){if(1!==newState.type)return void(null===(_a=this._lightBulbWidget.rawValue)||void 0===_a||_a.hide());let actions;try{actions=yield newState.actions}catch(e){return void Object(errors.e)(e)}if(this._lightBulbWidget.getValue().update(actions,newState.trigger,newState.position),2===newState.trigger.type){if(null===(_b=newState.trigger.filter)||void 0===_b?void 0:_b.include){const validActionToApply=this.tryGetValidActionToApply(newState.trigger,actions);if(validActionToApply){try{yield this.delegate.applyCodeAction(validActionToApply,!1)}finally{actions.dispose()}return}if(newState.trigger.context){const invalidAction=this.getInvalidActionThatWouldHaveBeenApplied(newState.trigger,actions);if(invalidAction&&invalidAction.disabled)return messageController.a.get(this._editor).showMessage(invalidAction.disabled,newState.trigger.context.position),void actions.dispose()}}const includeDisabledActions=!!(null===(_c=newState.trigger.filter)||void 0===_c?void 0:_c.include);if(newState.trigger.context&&(!actions.allActions.length||!includeDisabledActions&&!actions.validActions.length))return messageController.a.get(this._editor).showMessage(newState.trigger.context.notAvailableMessage,newState.trigger.context.position),this._activeCodeActions.value=actions,void actions.dispose();this._activeCodeActions.value=actions,this._codeActionWidget.getValue().show(newState.trigger,actions,newState.position,{includeDisabledActions:includeDisabledActions})}else this._codeActionWidget.getValue().isVisible?actions.dispose():this._activeCodeActions.value=actions})}getInvalidActionThatWouldHaveBeenApplied(trigger,actions){if(actions.allActions.length)return"first"===trigger.autoApply&&0===actions.validActions.length||"ifSingle"===trigger.autoApply&&1===actions.allActions.length?actions.allActions.find(action=>action.disabled):void 0}tryGetValidActionToApply(trigger,actions){if(actions.validActions.length)return"first"===trigger.autoApply&&actions.validActions.length>0||"ifSingle"===trigger.autoApply&&1===actions.validActions.length?actions.validActions[0]:void 0}showCodeActionList(trigger,actions,at,options){return codeActionUi_awaiter(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(trigger,actions,at,options)})}};codeActionUi_CodeActionUi=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}(4,instantiation.a)],codeActionUi_CodeActionUi);var commands=__webpack_require__(2318),contextkey=__webpack_require__(2307),markers=__webpack_require__(2371),notification=__webpack_require__(2322),progress=__webpack_require__(2345),telemetry=__webpack_require__(2368),common_async=__webpack_require__(2306),range=__webpack_require__(2295),common_resources=__webpack_require__(2331);const SUPPORTED_CODE_ACTIONS=new contextkey.c("supportedCodeAction","");class codeActionModel_CodeActionOracle extends lifecycle.a{constructor(_editor,_markerService,_signalChange,_delay=250){super(),this._editor=_editor,this._markerService=_markerService,this._signalChange=_signalChange,this._delay=_delay,this._autoTriggerTimer=this._register(new common_async.e),this._register(this._markerService.onMarkerChanged(e=>this._onMarkerChanges(e))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(trigger){const selection=this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);return this._createEventAndSignalChange(trigger,selection)}_onMarkerChanges(resources){const model=this._editor.getModel();model&&resources.some(resource=>Object(common_resources.f)(resource,model.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:1})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:1})},this._delay)}_getRangeOfMarker(selection){const model=this._editor.getModel();if(model)for(const marker of this._markerService.read({resource:model.uri})){const markerRange=model.validateRange(marker);if(range.a.intersectRanges(markerRange,selection))return range.a.lift(markerRange)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(trigger){if(!this._editor.hasModel())return;const model=this._editor.getModel(),selection=this._editor.getSelection();if(selection.isEmpty()&&1===trigger.type){const{lineNumber:lineNumber,column:column}=selection.getPosition(),line=model.getLineContent(lineNumber);if(0===line.length)return;if(1===column){if(/\s/.test(line[0]))return}else if(column===model.getLineMaxColumn(lineNumber)){if(/\s/.test(line[line.length-1]))return}else if(/\s/.test(line[column-2])&&/\s/.test(line[column-1]))return}return selection}_createEventAndSignalChange(trigger,selection){const model=this._editor.getModel();if(!selection||!model)return void this._signalChange(void 0);const markerRange=this._getRangeOfMarker(selection),position=markerRange?markerRange.getStartPosition():selection.getStartPosition(),e={trigger:trigger,selection:selection,position:position};return this._signalChange(e),e}}var CodeActionsState;!function(CodeActionsState){CodeActionsState.Empty={type:0};CodeActionsState.Triggered=class Triggered{constructor(trigger,rangeOrSelection,position,actions){this.trigger=trigger,this.rangeOrSelection=rangeOrSelection,this.position=position,this.actions=actions,this.type=1}}}(CodeActionsState||(CodeActionsState={}));class codeActionModel_CodeActionModel extends lifecycle.a{constructor(_editor,_markerService,contextKeyService,_progressService){super(),this._editor=_editor,this._markerService=_markerService,this._progressService=_progressService,this._codeActionOracle=this._register(new lifecycle.d),this._state=CodeActionsState.Empty,this._onDidChangeState=this._register(new common_event.a),this.onDidChangeState=this._onDidChangeState.event,this._supportedCodeActions=SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(modes.a.onDidChange(()=>this._update())),this._update()}dispose(){super.dispose(),this.setState(CodeActionsState.Empty,!0)}_update(){this._codeActionOracle.value=void 0,this.setState(CodeActionsState.Empty);const model=this._editor.getModel();if(model&&modes.a.has(model)&&!this._editor.getOption(72)){const supportedActions=[];for(const provider of modes.a.all(model))Array.isArray(provider.providedCodeActionKinds)&&supportedActions.push(...provider.providedCodeActionKinds);this._supportedCodeActions.set(supportedActions.join(" ")),this._codeActionOracle.value=new codeActionModel_CodeActionOracle(this._editor,this._markerService,trigger=>{var _a;if(!trigger)return void this.setState(CodeActionsState.Empty);const actions=Object(common_async.f)(token=>Object(codeAction.c)(model,trigger.selection,trigger.trigger,progress.b.None,token));2===trigger.trigger.type&&(null===(_a=this._progressService)||void 0===_a||_a.showWhile(actions,250)),this.setState(new CodeActionsState.Triggered(trigger.trigger,trigger.selection,trigger.position,actions))},void 0),this._codeActionOracle.value.trigger({type:1})}else this._supportedCodeActions.reset()}trigger(trigger){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(trigger)}setState(newState,skipNotify){newState!==this._state&&(1===this._state.type&&this._state.actions.cancel(),this._state=newState,skipNotify||this._onDidChangeState.fire(newState))}}__webpack_require__.d(__webpack_exports__,"f",function(){return codeActionCommands_QuickFixController}),__webpack_require__.d(__webpack_exports__,"e",function(){return codeActionCommands_QuickFixAction}),__webpack_require__.d(__webpack_exports__,"b",function(){return codeActionCommands_CodeActionCommand}),__webpack_require__.d(__webpack_exports__,"g",function(){return codeActionCommands_RefactorAction}),__webpack_require__.d(__webpack_exports__,"h",function(){return codeActionCommands_SourceAction}),__webpack_require__.d(__webpack_exports__,"d",function(){return codeActionCommands_OrganizeImportsAction}),__webpack_require__.d(__webpack_exports__,"c",function(){return codeActionCommands_FixAllAction}),__webpack_require__.d(__webpack_exports__,"a",function(){return codeActionCommands_AutoFixAction});var codeActionCommands_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},codeActionCommands_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},codeActionCommands_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function contextKeyForSupportedActions(kind){return contextkey.a.regex(SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+Object(strings.v)(kind.value)+"\\b"))}const argsSchema={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:nls.a("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:nls.a("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[nls.a("args.schema.apply.first","Always apply the first returned code action."),nls.a("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),nls.a("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:nls.a("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let codeActionCommands_QuickFixController=class QuickFixController extends lifecycle.a{constructor(editor,markerService,contextKeyService,progressService,_instantiationService){super(),this._instantiationService=_instantiationService,this._editor=editor,this._model=this._register(new codeActionModel_CodeActionModel(this._editor,markerService,contextKeyService,progressService)),this._register(this._model.onDidChangeState(newState=>this.update(newState))),this._ui=new Lazy(()=>this._register(new codeActionUi_CodeActionUi(editor,codeActionCommands_QuickFixAction.Id,codeActionCommands_AutoFixAction.Id,{applyCodeAction:(action,retrigger)=>codeActionCommands_awaiter(this,void 0,void 0,function*(){try{yield this._applyCodeAction(action)}finally{retrigger&&this._trigger({type:1,filter:{}})}})},this._instantiationService)))}static get(editor){return editor.getContribution(QuickFixController.ID)}update(newState){this._ui.getValue().update(newState)}showCodeActions(trigger,actions,at){return this._ui.getValue().showCodeActionList(trigger,actions,at,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(notAvailableMessage,filter,autoApply){if(!this._editor.hasModel())return;messageController.a.get(this._editor).closeMessage();const triggerPosition=this._editor.getPosition();this._trigger({type:2,filter:filter,autoApply:autoApply,context:{notAvailableMessage:notAvailableMessage,position:triggerPosition}})}_trigger(trigger){return this._model.trigger(trigger)}_applyCodeAction(action){return this._instantiationService.invokeFunction(applyCodeAction,action,this._editor)}};function applyCodeAction(accessor,action,editor){return codeActionCommands_awaiter(this,void 0,void 0,function*(){const bulkEditService=accessor.get(services_bulkEditService.a),commandService=accessor.get(commands.b),telemetryService=accessor.get(telemetry.a),notificationService=accessor.get(notification.a);if(telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionTitle:action.title,codeActionKind:action.kind,codeActionIsPreferred:!!action.isPreferred}),action.edit&&(yield bulkEditService.apply(services_bulkEditService.b.convert(action.edit),{editor:editor,label:action.title})),action.command)try{yield commandService.executeCommand(action.command.id,...action.command.arguments||[])}catch(err){const message=function asMessage(err){return"string"==typeof err?err:err instanceof Error&&"string"==typeof err.message?err.message:void 0}(err);notificationService.error("string"==typeof message?message:nls.a("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function triggerCodeActionsForEditorSelection(editor,notAvailableMessage,filter,autoApply){if(editor.hasModel()){const controller=codeActionCommands_QuickFixController.get(editor);controller&&controller.manualTriggerAtCurrentPosition(notAvailableMessage,filter,autoApply)}}codeActionCommands_QuickFixController.ID="editor.contrib.quickFixController",codeActionCommands_QuickFixController=codeActionCommands_decorate([codeActionCommands_param(1,markers.b),codeActionCommands_param(2,contextkey.b),codeActionCommands_param(3,progress.a),codeActionCommands_param(4,instantiation.a)],codeActionCommands_QuickFixController);class codeActionCommands_QuickFixAction extends editorExtensions.b{constructor(){super({id:codeActionCommands_QuickFixAction.Id,label:nls.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2132,weight:100}})}run(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}codeActionCommands_QuickFixAction.Id="editor.action.quickFix";class codeActionCommands_CodeActionCommand extends editorExtensions.c{constructor(){super({id:codeAction.a,precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:argsSchema}]}})}runEditorCommand(_accessor,editor,userArgs){const args=types.a.fromUser(userArgs,{kind:types.b.Empty,apply:"ifSingle"});return triggerCodeActionsForEditorSelection(editor,"string"==typeof(null==userArgs?void 0:userArgs.kind)?args.preferred?nls.a("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",userArgs.kind):nls.a("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",userArgs.kind):args.preferred?nls.a("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):nls.a("editor.action.codeAction.noneMessage","No code actions available"),{include:args.kind,includeSourceActions:!0,onlyIncludePreferredActions:args.preferred},args.apply)}}class codeActionCommands_RefactorAction extends editorExtensions.b{constructor(){super({id:codeAction.e,label:nls.a("refactor.label","Refactor..."),alias:"Refactor...",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:argsSchema}]}})}run(_accessor,editor,userArgs){const args=types.a.fromUser(userArgs,{kind:types.b.Refactor,apply:"never"});return triggerCodeActionsForEditorSelection(editor,"string"==typeof(null==userArgs?void 0:userArgs.kind)?args.preferred?nls.a("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",userArgs.kind):nls.a("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",userArgs.kind):args.preferred?nls.a("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):nls.a("editor.action.refactor.noneMessage","No refactorings available"),{include:types.b.Refactor.contains(args.kind)?args.kind:types.b.None,onlyIncludePreferredActions:args.preferred},args.apply)}}class codeActionCommands_SourceAction extends editorExtensions.b{constructor(){super({id:codeAction.f,label:nls.a("source.label","Source Action..."),alias:"Source Action...",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.Source))},description:{description:"Source Action...",args:[{name:"args",schema:argsSchema}]}})}run(_accessor,editor,userArgs){const args=types.a.fromUser(userArgs,{kind:types.b.Source,apply:"never"});return triggerCodeActionsForEditorSelection(editor,"string"==typeof(null==userArgs?void 0:userArgs.kind)?args.preferred?nls.a("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",userArgs.kind):nls.a("editor.action.source.noneMessage.kind","No source actions for '{0}' available",userArgs.kind):args.preferred?nls.a("editor.action.source.noneMessage.preferred","No preferred source actions available"):nls.a("editor.action.source.noneMessage","No source actions available"),{include:types.b.Source.contains(args.kind)?args.kind:types.b.None,includeSourceActions:!0,onlyIncludePreferredActions:args.preferred},args.apply)}}class codeActionCommands_OrganizeImportsAction extends editorExtensions.b{constructor(){super({id:codeAction.d,label:nls.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.SourceOrganizeImports)),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1581,weight:100}})}run(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("editor.action.organize.noneMessage","No organize imports action available"),{include:types.b.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class codeActionCommands_FixAllAction extends editorExtensions.b{constructor(){super({id:codeAction.b,label:nls.a("fixAll.label","Fix All"),alias:"Fix All",precondition:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.SourceFixAll))})}run(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("fixAll.noneMessage","No fix all action available"),{include:types.b.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class codeActionCommands_AutoFixAction extends editorExtensions.b{constructor(){super({id:codeActionCommands_AutoFixAction.Id,label:nls.a("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:contextkey.a.and(editorContextKeys.a.writable,contextKeyForSupportedActions(types.b.QuickFix)),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(_accessor,editor){return triggerCodeActionsForEditorSelection(editor,nls.a("editor.action.autoFix.noneMessage","No auto fixes available"),{include:types.b.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}codeActionCommands_AutoFixAction.Id="editor.action.autoFix"},2499:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var severityIcon_SeverityIcon,nls=__webpack_require__(2297),lifecycle=__webpack_require__(2294),contextkey=__webpack_require__(2307),core_position=__webpack_require__(2303),core_range=__webpack_require__(2295),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),dom=(__webpack_require__(2542),__webpack_require__(2298)),markers=__webpack_require__(2371),colorRegistry=__webpack_require__(2310),themeService=__webpack_require__(2304),color=__webpack_require__(2320),scrollableElement=__webpack_require__(2356),labels=__webpack_require__(2440),arrays=__webpack_require__(2309),common_event=__webpack_require__(2296),peekView=__webpack_require__(2394),resources=__webpack_require__(2331),common_severity=__webpack_require__(2372),codicons=__webpack_require__(2316);!function(SeverityIcon){(severityIcon_SeverityIcon||(severityIcon_SeverityIcon={})).className=function className(severity){switch(severity){case common_severity.a.Ignore:return"severity-ignore "+codicons.a.info.classNames;case common_severity.a.Info:return codicons.a.info.classNames;case common_severity.a.Warning:return codicons.a.warning.classNames;case common_severity.a.Error:return codicons.a.error.classNames;default:return""}}}(),Object(themeService.g)((theme,collector)=>{const errorIconForeground=theme.getColor(colorRegistry.Zb);if(errorIconForeground){const errorCodiconSelector=codicons.a.error.cssSelector;collector.addRule(`\n\t\t\t.monaco-editor .zone-widget ${errorCodiconSelector},\n\t\t\t.markers-panel .marker-icon${errorCodiconSelector},\n\t\t\t.extensions-viewlet > .extensions ${errorCodiconSelector} {\n\t\t\t\tcolor: ${errorIconForeground};\n\t\t\t}\n\t\t`)}const warningIconForeground=theme.getColor(colorRegistry.bc);if(warningIconForeground){const warningCodiconSelector=codicons.a.warning.cssSelector;collector.addRule(`\n\t\t\t.monaco-editor .zone-widget ${warningCodiconSelector},\n\t\t\t.markers-panel .marker-icon${warningCodiconSelector},\n\t\t\t.extensions-viewlet > .extensions ${warningCodiconSelector},\n\t\t\t.extension-editor ${warningCodiconSelector} {\n\t\t\t\tcolor: ${warningIconForeground};\n\t\t\t}\n\t\t`)}const infoIconForeground=theme.getColor(colorRegistry.ac);if(infoIconForeground){const infoCodiconSelector=codicons.a.info.cssSelector;collector.addRule(`\n\t\t\t.monaco-editor .zone-widget ${infoCodiconSelector},\n\t\t\t.markers-panel .marker-icon${infoCodiconSelector},\n\t\t\t.extensions-viewlet > .extensions ${infoCodiconSelector},\n\t\t\t.extension-editor ${infoCodiconSelector} {\n\t\t\t\tcolor: ${infoIconForeground};\n\t\t\t}\n\t\t`)}});var common_opener=__webpack_require__(2344),common_actions=__webpack_require__(2323),menuEntryActionViewItem=__webpack_require__(2501),instantiation=__webpack_require__(2300),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};class gotoErrorWidget_MessageWidget{constructor(parent,editor,onRelatedInformation,_openerService){this._openerService=_openerService,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new lifecycle.b,this._editor=editor;const domNode=document.createElement("div");domNode.className="descriptioncontainer",this._messageBlock=document.createElement("div"),dom.e(this._messageBlock,"message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),domNode.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),domNode.appendChild(this._relatedBlock),this._disposables.add(dom.n(this._relatedBlock,"click",event=>{event.preventDefault();const related=this._relatedDiagnostics.get(event.target);related&&onRelatedInformation(related)})),this._scrollable=new scrollableElement.b(domNode,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),parent.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(e=>{domNode.style.left=`-${e.scrollLeft}px`,domNode.style.top=`-${e.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){Object(lifecycle.f)(this._disposables)}update(marker){const{source:source,message:message,relatedInformation:relatedInformation,code:code}=marker;let sourceAndCodeLength=((null==source?void 0:source.length)||0)+"()".length;code&&(sourceAndCodeLength+="string"==typeof code?code.length:code.value.length);const lines=message.split(/\r\n|\r|\n/g);this._lines=lines.length,this._longestLineLength=0;for(const line of lines)this._longestLineLength=Math.max(line.length+sourceAndCodeLength,this._longestLineLength);dom.s(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(marker)),this._editor.applyFontInfo(this._messageBlock);let lastLineElement=this._messageBlock;for(const line of lines)(lastLineElement=document.createElement("div")).innerText=line,""===line&&(lastLineElement.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(lastLineElement);if(source||code){const detailsElement=document.createElement("span");if(dom.e(detailsElement,"details"),lastLineElement.appendChild(detailsElement),source){const sourceElement=document.createElement("span");sourceElement.innerText=source,dom.e(sourceElement,"source"),detailsElement.appendChild(sourceElement)}if(code)if("string"==typeof code){const codeElement=document.createElement("span");codeElement.innerText=`(${code})`,dom.e(codeElement,"code"),detailsElement.appendChild(codeElement)}else{this._codeLink=dom.a("a.code-link"),this._codeLink.setAttribute("href",`${code.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(code.target),e.preventDefault(),e.stopPropagation()},dom.p(this._codeLink,dom.a("span")).innerText=code.value,detailsElement.appendChild(this._codeLink)}}if(dom.s(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(arrays.o)(relatedInformation)){const relatedInformationNode=this._relatedBlock.appendChild(document.createElement("div"));relatedInformationNode.style.paddingTop=`${Math.floor(.66*this._editor.getOption(51))}px`,this._lines+=1;for(const related of relatedInformation){let container=document.createElement("div"),relatedResource=document.createElement("a");dom.e(relatedResource,"filename"),relatedResource.innerText=`${Object(labels.a)(related.resource)}(${related.startLineNumber}, ${related.startColumn}): `,relatedResource.title=Object(labels.b)(related.resource,void 0),this._relatedDiagnostics.set(relatedResource,related);let relatedMessage=document.createElement("span");relatedMessage.innerText=related.message,container.appendChild(relatedResource),container.appendChild(relatedMessage),this._lines+=1,relatedInformationNode.appendChild(container)}}const fontInfo=this._editor.getOption(36),scrollWidth=Math.ceil(fontInfo.typicalFullwidthCharacterWidth*this._longestLineLength*.75),scrollHeight=fontInfo.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:scrollWidth,scrollHeight:scrollHeight})}layout(height,width){this._scrollable.getDomNode().style.height=`${height}px`,this._scrollable.getDomNode().style.width=`${width}px`,this._scrollable.setScrollDimensions({width:width,height:height})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(marker){let severityLabel="";switch(marker.severity){case markers.c.Error:severityLabel=nls.a("Error","Error");break;case markers.c.Warning:severityLabel=nls.a("Warning","Warning");break;case markers.c.Info:severityLabel=nls.a("Info","Info");break;case markers.c.Hint:severityLabel=nls.a("Hint","Hint")}let ariaLabel=nls.a("marker aria","{0} at {1}. ",severityLabel,marker.startLineNumber+":"+marker.startColumn);const model=this._editor.getModel();if(model&&marker.startLineNumber<=model.getLineCount()&&marker.startLineNumber>=1){ariaLabel=`${model.getLineContent(marker.startLineNumber)}, ${ariaLabel}`}return ariaLabel}}let gotoErrorWidget_MarkerNavigationWidget=class MarkerNavigationWidget extends peekView.c{constructor(editor,_themeService,_openerService,_menuService,instantiationService,_contextKeyService){super(editor,{showArrow:!0,showFrame:!0,isAccessible:!0},instantiationService),this._themeService=_themeService,this._openerService=_openerService,this._menuService=_menuService,this._contextKeyService=_contextKeyService,this._callOnDispose=new lifecycle.b,this._onDidSelectRelatedInformation=new common_event.a,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=markers.c.Warning,this._backgroundColor=color.a.white,this._applyTheme(_themeService.getColorTheme()),this._callOnDispose.add(_themeService.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(theme){this._backgroundColor=theme.getColor(editorMarkerNavigationBackground);let colorId=editorMarkerNavigationError;this._severity===markers.c.Warning?colorId=editorMarkerNavigationWarning:this._severity===markers.c.Info&&(colorId=editorMarkerNavigationInfo);const frameColor=theme.getColor(colorId);this.style({arrowColor:frameColor,frameColor:frameColor,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:theme.getColor(peekView.q),secondaryHeadingColor:theme.getColor(peekView.r)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(container){super._fillHead(container),this._disposables.add(this._actionbarWidget.actionRunner.onDidBeforeRun(e=>this.editor.focus()));const actions=[],menu=this._menuService.createMenu(MarkerNavigationWidget.TitleMenu,this._contextKeyService);Object(menuEntryActionViewItem.c)(menu,void 0,actions),this._actionbarWidget.push(actions,{label:!1,icon:!0,index:0}),menu.dispose()}_fillTitleIcon(container){this._icon=dom.p(container,dom.a(""))}_getActionBarOptions(){return Object.assign(Object.assign({},super._getActionBarOptions()),{orientation:0})}_fillBody(container){this._parentContainer=container,dom.e(container,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),container.appendChild(this._container),this._message=new gotoErrorWidget_MessageWidget(this._container,this.editor,related=>this._onDidSelectRelatedInformation.fire(related),this._openerService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(marker,markerIdx,markerCount){this._container.classList.remove("stale"),this._message.update(marker),this._severity=marker.severity,this._applyTheme(this._themeService.getColorTheme());let range=core_range.a.lift(marker);const editorPosition=this.editor.getPosition();let position=editorPosition&&range.containsPosition(editorPosition)?editorPosition:range.getStartPosition();super.show(position,this.computeRequiredHeight());const model=this.editor.getModel();if(model){const detail=markerCount>1?nls.a("problems","{0} of {1} problems",markerIdx,markerCount):nls.a("change","{0} of {1} problem",markerIdx,markerCount);this.setTitle(Object(resources.b)(model.uri),detail)}this._icon.className=`codicon ${severityIcon_SeverityIcon.className(markers.c.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(position,0),this.editor.focus()}updateMarker(marker){this._container.classList.remove("stale"),this._message.update(marker)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(heightInPixel,widthInPixel){super._doLayoutBody(heightInPixel,widthInPixel),this._heightInPixel=heightInPixel,this._message.layout(heightInPixel,widthInPixel),this._container.style.height=`${heightInPixel}px`}_onWidth(widthInPixel){this._message.layout(this._heightInPixel,widthInPixel)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};gotoErrorWidget_MarkerNavigationWidget.TitleMenu=new common_actions.b("gotoErrorTitleMenu"),gotoErrorWidget_MarkerNavigationWidget=__decorate([__param(1,themeService.c),__param(2,common_opener.a),__param(3,common_actions.a),__param(4,instantiation.a),__param(5,contextkey.b)],gotoErrorWidget_MarkerNavigationWidget);let errorDefault=Object(colorRegistry.Ub)(colorRegistry.u,colorRegistry.t),warningDefault=Object(colorRegistry.Ub)(colorRegistry.T,colorRegistry.S),infoDefault=Object(colorRegistry.Ub)(colorRegistry.L,colorRegistry.K);const editorMarkerNavigationError=Object(colorRegistry.gc)("editorMarkerNavigationError.background",{dark:errorDefault,light:errorDefault,hc:errorDefault},nls.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),editorMarkerNavigationWarning=Object(colorRegistry.gc)("editorMarkerNavigationWarning.background",{dark:warningDefault,light:warningDefault,hc:warningDefault},nls.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),editorMarkerNavigationInfo=Object(colorRegistry.gc)("editorMarkerNavigationInfo.background",{dark:infoDefault,light:infoDefault,hc:infoDefault},nls.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),editorMarkerNavigationBackground=Object(colorRegistry.gc)("editorMarkerNavigation.background",{dark:"#2D2D30",light:color.a.white,hc:"#0C141F"},nls.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(themeService.g)((theme,collector)=>{const linkFg=theme.getColor(colorRegistry.rc);linkFg&&(collector.addRule(`.monaco-editor .marker-widget a { color: ${linkFg}; }`),collector.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${linkFg}; }`))});var codeEditorService=__webpack_require__(2317),common_uri=__webpack_require__(2313),strings=__webpack_require__(2299),extensions=__webpack_require__(2361),linkedList=__webpack_require__(2359),markerNavigationService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},markerNavigationService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};class MarkerCoordinate{constructor(marker,index,total){this.marker=marker,this.index=index,this.total=total}}let markerNavigationService_MarkerList=class MarkerList{constructor(resourceFilter,_markerService){this._markerService=_markerService,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._dispoables=new lifecycle.b,this._markers=[],this._nextIdx=-1,common_uri.a.isUri(resourceFilter)?this._resourceFilter=uri=>uri.toString()===resourceFilter.toString():resourceFilter&&(this._resourceFilter=resourceFilter);const updateMarker=()=>{this._markers=this._markerService.read({resource:common_uri.a.isUri(resourceFilter)?resourceFilter:void 0,severities:markers.c.Error|markers.c.Warning|markers.c.Info}),"function"==typeof resourceFilter&&(this._markers=this._markers.filter(m=>this._resourceFilter(m.resource))),this._markers.sort(MarkerList._compareMarker)};updateMarker(),this._dispoables.add(_markerService.onMarkerChanged(uris=>{this._resourceFilter&&!uris.some(uri=>this._resourceFilter(uri))||(updateMarker(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(uri){return!this._resourceFilter&&!uri||!(!this._resourceFilter||!uri)&&this._resourceFilter(uri)}get selected(){const marker=this._markers[this._nextIdx];return marker&&new MarkerCoordinate(marker,this._nextIdx+1,this._markers.length)}_initIdx(model,position,fwd){let found=!1,idx=this._markers.findIndex(marker=>marker.resource.toString()===model.uri.toString());idx<0&&(idx=Object(arrays.c)(this._markers,{resource:model.uri},(a,b)=>Object(strings.f)(a.resource.toString(),b.resource.toString())))<0&&(idx=~idx);for(let i=idx;i<this._markers.length;i++){let range=core_range.a.lift(this._markers[i]);if(range.isEmpty()){const word=model.getWordAtPosition(range.getStartPosition());word&&(range=new core_range.a(range.startLineNumber,word.startColumn,range.startLineNumber,word.endColumn))}if(position&&(range.containsPosition(position)||position.isBeforeOrEqual(range.getStartPosition()))){this._nextIdx=i,found=!0;break}if(this._markers[i].resource.toString()!==model.uri.toString())break}found||(this._nextIdx=fwd?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(fwd,model,position){if(0===this._markers.length)return!1;let oldIdx=this._nextIdx;return-1===this._nextIdx?this._initIdx(model,position,fwd):fwd?this._nextIdx=(this._nextIdx+1)%this._markers.length:fwd||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),oldIdx!==this._nextIdx}find(uri,position){let idx=this._markers.findIndex(marker=>marker.resource.toString()===uri.toString());if(!(idx<0))for(;idx<this._markers.length;idx++)if(core_range.a.containsPosition(this._markers[idx],position))return new MarkerCoordinate(this._markers[idx],idx+1,this._markers.length)}static _compareMarker(a,b){let res=Object(strings.f)(a.resource.toString(),b.resource.toString());return 0===res&&(res=markers.c.compare(a.severity,b.severity)),0===res&&(res=core_range.a.compareRangesUsingStarts(a,b)),res}};markerNavigationService_MarkerList=markerNavigationService_decorate([markerNavigationService_param(1,markers.b)],markerNavigationService_MarkerList);const IMarkerNavigationService=Object(instantiation.c)("IMarkerNavigationService");let markerNavigationService_MarkerNavigationService=class MarkerNavigationService{constructor(_markerService){this._markerService=_markerService,this._provider=new linkedList.a}getMarkerList(resource){for(let provider of this._provider){const result=provider.getMarkerList(resource);if(result)return result}return new markerNavigationService_MarkerList(resource,this._markerService)}};markerNavigationService_MarkerNavigationService=markerNavigationService_decorate([markerNavigationService_param(0,markers.b)],markerNavigationService_MarkerNavigationService),Object(extensions.b)(IMarkerNavigationService,markerNavigationService_MarkerNavigationService,!0),__webpack_require__.d(__webpack_exports__,"MarkerController",function(){return gotoError_MarkerController}),__webpack_require__.d(__webpack_exports__,"NextMarkerAction",function(){return gotoError_NextMarkerAction});var gotoError_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},gotoError_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let gotoError_MarkerController=class MarkerController{constructor(editor,_markerNavigationService,_contextKeyService,_editorService,_instantiationService){this._markerNavigationService=_markerNavigationService,this._contextKeyService=_contextKeyService,this._editorService=_editorService,this._instantiationService=_instantiationService,this._sessionDispoables=new lifecycle.b,this._editor=editor,this._widgetVisible=CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService)}static get(editor){return editor.getContribution(MarkerController.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(uri){if(this._model&&this._model.matches(uri))return this._model;let reusePosition=!1;return this._model&&(reusePosition=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(uri),reusePosition&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(gotoErrorWidget_MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e=>{var _a,_b,_c;(null===(_a=this._model)||void 0===_a?void 0:_a.selected)&&core_range.a.containsPosition(null===(_b=this._model)||void 0===_b?void 0:_b.selected.marker,e.position)||null===(_c=this._model)||void 0===_c||_c.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const info=this._model.find(this._editor.getModel().uri,this._widget.position);info?this._widget.updateMarker(info.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(related=>{this._editorService.openCodeEditor({resource:related.resource,options:{pinned:!0,revealIfOpened:!0,selection:core_range.a.lift(related).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(focusEditor=!0){this._cleanUp(),focusEditor&&this._editor.focus()}showAtMarker(marker){if(this._editor.hasModel()){const model=this._getOrCreateModel(this._editor.getModel().uri);model.resetIndex(),model.move(!0,this._editor.getModel(),new core_position.a(marker.startLineNumber,marker.startColumn)),model.selected&&this._widget.showAtMarker(model.selected.marker,model.selected.index,model.selected.total)}}nagivate(next,multiFile){return __awaiter(this,void 0,void 0,function*(){if(this._editor.hasModel()){const model=this._getOrCreateModel(multiFile?void 0:this._editor.getModel().uri);if(model.move(next,this._editor.getModel(),this._editor.getPosition()),!model.selected)return;if(model.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const otherEditor=yield this._editorService.openCodeEditor({resource:model.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:model.selected.marker}},this._editor);otherEditor&&(MarkerController.get(otherEditor).close(),MarkerController.get(otherEditor).nagivate(next,multiFile))}else this._widget.showAtMarker(model.selected.marker,model.selected.index,model.selected.total)}})}};gotoError_MarkerController.ID="editor.contrib.markerController",gotoError_MarkerController=gotoError_decorate([gotoError_param(1,IMarkerNavigationService),gotoError_param(2,contextkey.b),gotoError_param(3,codeEditorService.a),gotoError_param(4,instantiation.a)],gotoError_MarkerController);class gotoError_MarkerNavigationAction extends editorExtensions.b{constructor(_next,_multiFile,opts){super(opts),this._next=_next,this._multiFile=_multiFile}run(_accessor,editor){return __awaiter(this,void 0,void 0,function*(){editor.hasModel()&&gotoError_MarkerController.get(editor).nagivate(this._next,this._multiFile)})}}class gotoError_NextMarkerAction extends gotoError_MarkerNavigationAction{constructor(){super(!0,!1,{id:gotoError_NextMarkerAction.ID,label:gotoError_NextMarkerAction.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:578,weight:100},menuOpts:{menuId:gotoErrorWidget_MarkerNavigationWidget.TitleMenu,title:gotoError_NextMarkerAction.LABEL,icon:Object(codicons.e)("marker-navigation-next",codicons.a.chevronDown),group:"navigation",order:1}})}}gotoError_NextMarkerAction.ID="editor.action.marker.next",gotoError_NextMarkerAction.LABEL=nls.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class gotoError_PrevMarkerAction extends gotoError_MarkerNavigationAction{constructor(){super(!1,!1,{id:gotoError_PrevMarkerAction.ID,label:gotoError_PrevMarkerAction.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:1602,weight:100},menuOpts:{menuId:gotoErrorWidget_MarkerNavigationWidget.TitleMenu,title:gotoError_NextMarkerAction.LABEL,icon:Object(codicons.e)("marker-navigation-previous",codicons.a.chevronUp),group:"navigation",order:2}})}}gotoError_PrevMarkerAction.ID="editor.action.marker.prev",gotoError_PrevMarkerAction.LABEL=nls.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");Object(editorExtensions.m)(gotoError_MarkerController.ID,gotoError_MarkerController),Object(editorExtensions.k)(gotoError_NextMarkerAction),Object(editorExtensions.k)(gotoError_PrevMarkerAction),Object(editorExtensions.k)(class gotoError_NextMarkerInFilesAction extends gotoError_MarkerNavigationAction{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:nls.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:66,weight:100},menuOpts:{menuId:common_actions.b.MenubarGoMenu,title:nls.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),Object(editorExtensions.k)(class gotoError_PrevMarkerInFilesAction extends gotoError_MarkerNavigationAction{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:nls.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:1090,weight:100},menuOpts:{menuId:common_actions.b.MenubarGoMenu,title:nls.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const CONTEXT_MARKERS_NAVIGATION_VISIBLE=new contextkey.c("markersNavigationVisible",!1),MarkerCommand=editorExtensions.c.bindToContribution(gotoError_MarkerController.get);Object(editorExtensions.l)(new MarkerCommand({id:"closeMarkersNavigation",precondition:CONTEXT_MARKERS_NAVIGATION_VISIBLE,handler:x=>x.close(),kbOpts:{weight:150,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}}))},2500:function(module,__webpack_exports__,__webpack_require__){"use strict";var nls=__webpack_require__(2297),errors=__webpack_require__(2302),lifecycle=__webpack_require__(2294),codeEditorService=__webpack_require__(2317),instantiation=__webpack_require__(2300),contextkey=__webpack_require__(2307),configuration=__webpack_require__(2332),storage=__webpack_require__(2362),referencesModel=__webpack_require__(2411),dom=(__webpack_require__(2583),__webpack_require__(2298)),color=__webpack_require__(2320),common_event=__webpack_require__(2296),network=__webpack_require__(2330),resources=__webpack_require__(2331),embeddedCodeEditorWidget=__webpack_require__(2441),core_range=__webpack_require__(2295),textModel=__webpack_require__(2321),resolverService=__webpack_require__(2385),iconLabel=__webpack_require__(2443),countBadge=__webpack_require__(2483),label=__webpack_require__(2413),common_themeService=__webpack_require__(2304),styler=__webpack_require__(2392),labels=__webpack_require__(2440),keybinding=__webpack_require__(2325),filters=__webpack_require__(2354),highlightedLabel=__webpack_require__(2444),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let referencesTree_DataSource=class DataSource{constructor(_resolverService){this._resolverService=_resolverService}hasChildren(element){return element instanceof referencesModel.c||element instanceof referencesModel.a}getChildren(element){if(element instanceof referencesModel.c)return element.groups;if(element instanceof referencesModel.a)return element.resolve(this._resolverService).then(val=>val.children);throw new Error("bad tree")}};referencesTree_DataSource=__decorate([__param(0,resolverService.a)],referencesTree_DataSource);class referencesTree_Delegate{getHeight(){return 23}getTemplateId(element){return element instanceof referencesModel.a?referencesTree_FileReferencesRenderer.id:OneReferenceRenderer.id}}let referencesTree_StringRepresentationProvider=class StringRepresentationProvider{constructor(_keybindingService){this._keybindingService=_keybindingService}getKeyboardNavigationLabel(element){var _a;if(element instanceof referencesModel.b){const parts=null===(_a=element.parent.getPreview(element))||void 0===_a?void 0:_a.preview(element.range);if(parts)return parts.value}return Object(resources.b)(element.uri)}};referencesTree_StringRepresentationProvider=__decorate([__param(0,keybinding.a)],referencesTree_StringRepresentationProvider);class referencesTree_IdentityProvider{getId(element){return element instanceof referencesModel.b?element.id:element.uri}}let referencesTree_FileReferencesTemplate=class FileReferencesTemplate extends lifecycle.a{constructor(container,_uriLabel,themeService){super(),this._uriLabel=_uriLabel;const parent=document.createElement("div");parent.classList.add("reference-file"),this.file=this._register(new iconLabel.a(parent,{supportHighlights:!0})),this.badge=new countBadge.a(dom.p(parent,dom.a(".count"))),this._register(Object(styler.a)(this.badge,themeService)),container.appendChild(parent)}set(element,matches){let parent=Object(resources.d)(element.uri);this.file.setLabel(Object(labels.a)(element.uri),this._uriLabel.getUriLabel(parent,{relative:!0}),{title:this._uriLabel.getUriLabel(element.uri),matches:matches});const len=element.children.length;this.badge.setCount(len),len>1?this.badge.setTitleFormat(Object(nls.a)("referencesCount","{0} references",len)):this.badge.setTitleFormat(Object(nls.a)("referenceCount","{0} reference",len))}};referencesTree_FileReferencesTemplate=__decorate([__param(1,label.a),__param(2,common_themeService.c)],referencesTree_FileReferencesTemplate);let referencesTree_FileReferencesRenderer=class FileReferencesRenderer{constructor(_instantiationService){this._instantiationService=_instantiationService,this.templateId=FileReferencesRenderer.id}renderTemplate(container){return this._instantiationService.createInstance(referencesTree_FileReferencesTemplate,container)}renderElement(node,index,template){template.set(node.element,Object(filters.c)(node.filterData))}disposeTemplate(templateData){templateData.dispose()}};referencesTree_FileReferencesRenderer.id="FileReferencesRenderer",referencesTree_FileReferencesRenderer=__decorate([__param(0,instantiation.a)],referencesTree_FileReferencesRenderer);class referencesTree_OneReferenceTemplate{constructor(container){this.label=new highlightedLabel.a(container,!1)}set(element,score){var _a;const preview=null===(_a=element.parent.getPreview(element))||void 0===_a?void 0:_a.preview(element.range);if(preview&&preview.value){const{value:value,highlight:highlight}=preview;score&&!filters.a.isDefault(score)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(value,Object(filters.c)(score))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(value,[highlight]))}else this.label.set(`${Object(resources.b)(element.uri)}:${element.range.startLineNumber+1}:${element.range.startColumn+1}`)}}class OneReferenceRenderer{constructor(){this.templateId=OneReferenceRenderer.id}renderTemplate(container){return new referencesTree_OneReferenceTemplate(container)}renderElement(node,index,templateData){templateData.set(node.element,node.filterData)}disposeTemplate(){}}OneReferenceRenderer.id="OneReferenceRenderer";class referencesTree_AccessibilityProvider{getWidgetAriaLabel(){return Object(nls.a)("treeAriaLabel","References")}getAriaLabel(element){return element.ariaMessage}}var browser_listService=__webpack_require__(2424),colorRegistry=__webpack_require__(2310),peekView=__webpack_require__(2394),types=(__webpack_require__(2592),__webpack_require__(2314)),numbers=__webpack_require__(2414),arrays=__webpack_require__(2309),sash_sash=__webpack_require__(2407),browser_event=__webpack_require__(2347);const defaultStyles={separatorBorder:color.a.transparent};class splitview_ViewItem{constructor(container,view,size,disposable){this.container=container,this.view=view,this.disposable=disposable,this._cachedVisibleSize=void 0,"number"==typeof size?(this._size=size,this._cachedVisibleSize=void 0,dom.e(container,"visible")):(this._size=0,this._cachedVisibleSize=size.cachedVisibleSize)}set size(size){this._size=size}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(visible,size){visible!==this.visible&&(visible?(this.size=Object(numbers.b)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof size?size:this.size,this.size=0),dom.ab(this.container,"visible",visible),this.view.setVisible&&this.view.setVisible(visible))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(enabled){this.container.style.pointerEvents=enabled?"":"none"}layout(offset,layoutContext){this.layoutContainer(offset),this.view.layout(this.size,offset,layoutContext)}dispose(){return this.disposable.dispose(),this.view}}class VerticalViewItem extends splitview_ViewItem{layoutContainer(offset){this.container.style.top=`${offset}px`,this.container.style.height=`${this.size}px`}}class HorizontalViewItem extends splitview_ViewItem{layoutContainer(offset){this.container.style.left=`${offset}px`,this.container.style.width=`${this.size}px`}}var State,Sizing;!function(State){State[State.Idle=0]="Idle",State[State.Busy=1]="Busy"}(State||(State={})),function(Sizing){Sizing.Distribute={type:"distribute"},Sizing.Split=function Split(index){return{type:"split",index:index}},Sizing.Invisible=function Invisible(cachedVisibleSize){return{type:"invisible",cachedVisibleSize:cachedVisibleSize}}}(Sizing||(Sizing={}));class splitview_SplitView extends lifecycle.a{constructor(container,options={}){super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=State.Idle,this._onDidSashChange=this._register(new common_event.a),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new common_event.a),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=types.k(options.orientation)?0:options.orientation,this.inverseAltBehavior=!!options.inverseAltBehavior,this.proportionalLayout=!!types.k(options.proportionalLayout)||!!options.proportionalLayout,this.el=document.createElement("div"),dom.e(this.el,"monaco-split-view2"),dom.e(this.el,0===this.orientation?"vertical":"horizontal"),container.appendChild(this.el),this.sashContainer=dom.p(this.el,dom.a(".sash-container")),this.viewContainer=dom.p(this.el,dom.a(".split-view-container")),this.style(options.styles||defaultStyles),options.descriptor&&(this.size=options.descriptor.size,options.descriptor.views.forEach((viewDescriptor,index)=>{const sizing=types.k(viewDescriptor.visible)||viewDescriptor.visible?viewDescriptor.size:{type:"invisible",cachedVisibleSize:viewDescriptor.size},view=viewDescriptor.view;this.doAddView(view,sizing,index,!0)}),this.contentSize=this.viewItems.reduce((r,i)=>r+i.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(sash){for(const sashItem of this.sashItems)sashItem.sash.orthogonalStartSash=sash;this._orthogonalStartSash=sash}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(sash){for(const sashItem of this.sashItems)sashItem.sash.orthogonalEndSash=sash;this._orthogonalEndSash=sash}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(startSnappingEnabled){this._startSnappingEnabled!==startSnappingEnabled&&(this._startSnappingEnabled=startSnappingEnabled,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(endSnappingEnabled){this._endSnappingEnabled!==endSnappingEnabled&&(this._endSnappingEnabled=endSnappingEnabled,this.updateSashEnablement())}style(styles){styles.separatorBorder.isTransparent()?(dom.Q(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(dom.e(this.el,"separator-border"),this.el.style.setProperty("--separator-border",styles.separatorBorder.toString()))}addView(view,size,index=this.viewItems.length,skipLayout){this.doAddView(view,size,index,skipLayout)}layout(size,layoutContext){const previousSize=Math.max(this.size,this.contentSize);if(this.size=size,this.layoutContext=layoutContext,this.proportions)for(let i=0;i<this.viewItems.length;i++){const item=this.viewItems[i];item.size=Object(numbers.b)(Math.round(this.proportions[i]*size),item.minimumSize,item.maximumSize)}else{const indexes=Object(arrays.s)(this.viewItems.length),lowPriorityIndexes=indexes.filter(i=>1===this.viewItems[i].priority),highPriorityIndexes=indexes.filter(i=>2===this.viewItems[i].priority);this.resize(this.viewItems.length-1,size-previousSize,void 0,lowPriorityIndexes,highPriorityIndexes)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(i=>i.size/this.contentSize))}onSashStart({sash:sash,start:start,alt:alt}){for(const item of this.viewItems)item.enabled=!1;const index=Object(arrays.j)(this.sashItems,item=>item.sash===sash),disposable=Object(lifecycle.e)(Object(browser_event.a)(document.body,"keydown")(e=>resetSashDragState(this.sashDragState.current,e.altKey)),Object(browser_event.a)(document.body,"keyup")(()=>resetSashDragState(this.sashDragState.current,!1))),resetSashDragState=(start,alt)=>{const sizes=this.viewItems.map(i=>i.size);let snapBefore,snapAfter,minDelta=Number.NEGATIVE_INFINITY,maxDelta=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(alt=!alt),alt){if(index===this.sashItems.length-1){const viewItem=this.viewItems[index];minDelta=(viewItem.minimumSize-viewItem.size)/2,maxDelta=(viewItem.maximumSize-viewItem.size)/2}else{const viewItem=this.viewItems[index+1];minDelta=(viewItem.size-viewItem.maximumSize)/2,maxDelta=(viewItem.size-viewItem.minimumSize)/2}}if(!alt){const upIndexes=Object(arrays.s)(index,-1),downIndexes=Object(arrays.s)(index+1,this.viewItems.length),minDeltaUp=upIndexes.reduce((r,i)=>r+(this.viewItems[i].minimumSize-sizes[i]),0),maxDeltaUp=upIndexes.reduce((r,i)=>r+(this.viewItems[i].viewMaximumSize-sizes[i]),0),maxDeltaDown=0===downIndexes.length?Number.POSITIVE_INFINITY:downIndexes.reduce((r,i)=>r+(sizes[i]-this.viewItems[i].minimumSize),0),minDeltaDown=0===downIndexes.length?Number.NEGATIVE_INFINITY:downIndexes.reduce((r,i)=>r+(sizes[i]-this.viewItems[i].viewMaximumSize),0),minDelta=Math.max(minDeltaUp,minDeltaDown),maxDelta=Math.min(maxDeltaDown,maxDeltaUp),snapBeforeIndex=this.findFirstSnapIndex(upIndexes),snapAfterIndex=this.findFirstSnapIndex(downIndexes);if("number"==typeof snapBeforeIndex){const viewItem=this.viewItems[snapBeforeIndex],halfSize=Math.floor(viewItem.viewMinimumSize/2);snapBefore={index:snapBeforeIndex,limitDelta:viewItem.visible?minDelta-halfSize:minDelta+halfSize,size:viewItem.size}}if("number"==typeof snapAfterIndex){const viewItem=this.viewItems[snapAfterIndex],halfSize=Math.floor(viewItem.viewMinimumSize/2);snapAfter={index:snapAfterIndex,limitDelta:viewItem.visible?maxDelta+halfSize:maxDelta-halfSize,size:viewItem.size}}}this.sashDragState={start:start,current:start,index:index,sizes:sizes,minDelta:minDelta,maxDelta:maxDelta,alt:alt,snapBefore:snapBefore,snapAfter:snapAfter,disposable:disposable}};resetSashDragState(start,alt)}onSashChange({current:current}){const{index:index,start:start,sizes:sizes,alt:alt,minDelta:minDelta,maxDelta:maxDelta,snapBefore:snapBefore,snapAfter:snapAfter}=this.sashDragState;this.sashDragState.current=current;const delta=current-start,newDelta=this.resize(index,delta,sizes,void 0,void 0,minDelta,maxDelta,snapBefore,snapAfter);if(alt){const isLastSash=index===this.sashItems.length-1,newSizes=this.viewItems.map(i=>i.size),viewItemIndex=isLastSash?index:index+1,viewItem=this.viewItems[viewItemIndex],newMinDelta=viewItem.size-viewItem.maximumSize,newMaxDelta=viewItem.size-viewItem.minimumSize,resizeIndex=isLastSash?index-1:index+1;this.resize(resizeIndex,-newDelta,newSizes,void 0,void 0,newMinDelta,newMaxDelta)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(index){this._onDidSashChange.fire(index),this.sashDragState.disposable.dispose(),this.saveProportions();for(const item of this.viewItems)item.enabled=!0}onViewChange(item,size){const index=this.viewItems.indexOf(item);index<0||index>=this.viewItems.length||(size="number"==typeof size?size:item.size,size=Object(numbers.b)(size,item.minimumSize,item.maximumSize),this.inverseAltBehavior&&index>0?(this.resize(index-1,Math.floor((item.size-size)/2)),this.distributeEmptySpace(),this.layoutViews()):(item.size=size,this.relayout([index],void 0)))}resizeView(index,size){if(this.state!==State.Idle)throw new Error("Cant modify splitview");if(this.state=State.Busy,index<0||index>=this.viewItems.length)return;const indexes=Object(arrays.s)(this.viewItems.length).filter(i=>i!==index),lowPriorityIndexes=[...indexes.filter(i=>1===this.viewItems[i].priority),index],highPriorityIndexes=indexes.filter(i=>2===this.viewItems[i].priority),item=this.viewItems[index];size=Math.round(size),size=Object(numbers.b)(size,item.minimumSize,Math.min(item.maximumSize,this.size)),item.size=size,this.relayout(lowPriorityIndexes,highPriorityIndexes),this.state=State.Idle}distributeViewSizes(){const flexibleViewItems=[];let flexibleSize=0;for(const item of this.viewItems)item.maximumSize-item.minimumSize>0&&(flexibleViewItems.push(item),flexibleSize+=item.size);const size=Math.floor(flexibleSize/flexibleViewItems.length);for(const item of flexibleViewItems)item.size=Object(numbers.b)(size,item.minimumSize,item.maximumSize);const indexes=Object(arrays.s)(this.viewItems.length),lowPriorityIndexes=indexes.filter(i=>1===this.viewItems[i].priority),highPriorityIndexes=indexes.filter(i=>2===this.viewItems[i].priority);this.relayout(lowPriorityIndexes,highPriorityIndexes)}getViewSize(index){return index<0||index>=this.viewItems.length?-1:this.viewItems[index].size}doAddView(view,size,index=this.viewItems.length,skipLayout){if(this.state!==State.Idle)throw new Error("Cant modify splitview");this.state=State.Busy;const container=dom.a(".split-view-view");index===this.viewItems.length?this.viewContainer.appendChild(container):this.viewContainer.insertBefore(container,this.viewContainer.children.item(index));const onChangeDisposable=view.onDidChange(size=>this.onViewChange(item,size)),containerDisposable=Object(lifecycle.h)(()=>this.viewContainer.removeChild(container)),disposable=Object(lifecycle.e)(onChangeDisposable,containerDisposable);let viewSize;viewSize="number"==typeof size?size:"split"===size.type?this.getViewSize(size.index)/2:"invisible"===size.type?{cachedVisibleSize:size.cachedVisibleSize}:view.minimumSize;const item=0===this.orientation?new VerticalViewItem(container,view,viewSize,disposable):new HorizontalViewItem(container,view,viewSize,disposable);if(this.viewItems.splice(index,0,item),this.viewItems.length>1){const sash=0===this.orientation?new sash_sash.a(this.sashContainer,{getHorizontalSashTop:sash=>this.getSashPosition(sash)},{orientation:1,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}):new sash_sash.a(this.sashContainer,{getVerticalSashLeft:sash=>this.getSashPosition(sash)},{orientation:0,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),sashEventMapper=0===this.orientation?e=>({sash:sash,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:sash,start:e.startX,current:e.currentX,alt:e.altKey}),onStartDisposable=common_event.b.map(sash.onDidStart,sashEventMapper)(this.onSashStart,this),onChangeDisposable=common_event.b.map(sash.onDidChange,sashEventMapper)(this.onSashChange,this),onEndDisposable=common_event.b.map(sash.onDidEnd,()=>Object(arrays.j)(this.sashItems,item=>item.sash===sash))(this.onSashEnd,this),onDidResetDisposable=sash.onDidReset(()=>{const index=Object(arrays.j)(this.sashItems,item=>item.sash===sash),upIndexes=Object(arrays.s)(index,-1),downIndexes=Object(arrays.s)(index+1,this.viewItems.length),snapBeforeIndex=this.findFirstSnapIndex(upIndexes),snapAfterIndex=this.findFirstSnapIndex(downIndexes);("number"!=typeof snapBeforeIndex||this.viewItems[snapBeforeIndex].visible)&&("number"!=typeof snapAfterIndex||this.viewItems[snapAfterIndex].visible)&&this._onDidSashReset.fire(index)}),disposable=Object(lifecycle.e)(onStartDisposable,onChangeDisposable,onEndDisposable,onDidResetDisposable,sash),sashItem={sash:sash,disposable:disposable};this.sashItems.splice(index-1,0,sashItem)}let highPriorityIndexes;container.appendChild(view.element),"number"!=typeof size&&"split"===size.type&&(highPriorityIndexes=[size.index]),skipLayout||this.relayout([index],highPriorityIndexes),this.state=State.Idle,skipLayout||"number"==typeof size||"distribute"!==size.type||this.distributeViewSizes()}relayout(lowPriorityIndexes,highPriorityIndexes){const contentSize=this.viewItems.reduce((r,i)=>r+i.size,0);this.resize(this.viewItems.length-1,this.size-contentSize,void 0,lowPriorityIndexes,highPriorityIndexes),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(index,delta,sizes=this.viewItems.map(i=>i.size),lowPriorityIndexes,highPriorityIndexes,overloadMinDelta=Number.NEGATIVE_INFINITY,overloadMaxDelta=Number.POSITIVE_INFINITY,snapBefore,snapAfter){if(index<0||index>=this.viewItems.length)return 0;const upIndexes=Object(arrays.s)(index,-1),downIndexes=Object(arrays.s)(index+1,this.viewItems.length);if(highPriorityIndexes)for(const index of highPriorityIndexes)Object(arrays.r)(upIndexes,index),Object(arrays.r)(downIndexes,index);if(lowPriorityIndexes)for(const index of lowPriorityIndexes)Object(arrays.q)(upIndexes,index),Object(arrays.q)(downIndexes,index);const upItems=upIndexes.map(i=>this.viewItems[i]),upSizes=upIndexes.map(i=>sizes[i]),downItems=downIndexes.map(i=>this.viewItems[i]),downSizes=downIndexes.map(i=>sizes[i]),minDeltaUp=upIndexes.reduce((r,i)=>r+(this.viewItems[i].minimumSize-sizes[i]),0),maxDeltaUp=upIndexes.reduce((r,i)=>r+(this.viewItems[i].maximumSize-sizes[i]),0),maxDeltaDown=0===downIndexes.length?Number.POSITIVE_INFINITY:downIndexes.reduce((r,i)=>r+(sizes[i]-this.viewItems[i].minimumSize),0),minDeltaDown=0===downIndexes.length?Number.NEGATIVE_INFINITY:downIndexes.reduce((r,i)=>r+(sizes[i]-this.viewItems[i].maximumSize),0),minDelta=Math.max(minDeltaUp,minDeltaDown,overloadMinDelta),maxDelta=Math.min(maxDeltaDown,maxDeltaUp,overloadMaxDelta);let snapped=!1;if(snapBefore){const snapView=this.viewItems[snapBefore.index],visible=delta>=snapBefore.limitDelta;snapped=visible!==snapView.visible,snapView.setVisible(visible,snapBefore.size)}if(!snapped&&snapAfter){const snapView=this.viewItems[snapAfter.index],visible=delta<snapAfter.limitDelta;snapped=visible!==snapView.visible,snapView.setVisible(visible,snapAfter.size)}if(snapped)return this.resize(index,delta,sizes,lowPriorityIndexes,highPriorityIndexes,overloadMinDelta,overloadMaxDelta);for(let i=0,deltaUp=delta=Object(numbers.b)(delta,minDelta,maxDelta);i<upItems.length;i++){const item=upItems[i],size=Object(numbers.b)(upSizes[i]+deltaUp,item.minimumSize,item.maximumSize);deltaUp-=size-upSizes[i],item.size=size}for(let i=0,deltaDown=delta;i<downItems.length;i++){const item=downItems[i],size=Object(numbers.b)(downSizes[i]-deltaDown,item.minimumSize,item.maximumSize);deltaDown+=size-downSizes[i],item.size=size}return delta}distributeEmptySpace(lowPriorityIndex){const contentSize=this.viewItems.reduce((r,i)=>r+i.size,0);let emptyDelta=this.size-contentSize;const indexes=Object(arrays.s)(this.viewItems.length-1,-1),lowPriorityIndexes=indexes.filter(i=>1===this.viewItems[i].priority),highPriorityIndexes=indexes.filter(i=>2===this.viewItems[i].priority);for(const index of highPriorityIndexes)Object(arrays.r)(indexes,index);for(const index of lowPriorityIndexes)Object(arrays.q)(indexes,index);"number"==typeof lowPriorityIndex&&Object(arrays.q)(indexes,lowPriorityIndex);for(let i=0;0!==emptyDelta&&i<indexes.length;i++){const item=this.viewItems[indexes[i]],size=Object(numbers.b)(item.size+emptyDelta,item.minimumSize,item.maximumSize);emptyDelta-=size-item.size,item.size=size}}layoutViews(){this.contentSize=this.viewItems.reduce((r,i)=>r+i.size,0);let offset=0;for(const viewItem of this.viewItems)viewItem.layout(offset,this.layoutContext),offset+=viewItem.size;this.sashItems.forEach(item=>item.sash.layout()),this.updateSashEnablement()}updateSashEnablement(){let previous=!1;const collapsesDown=this.viewItems.map(i=>previous=i.size-i.minimumSize>0||previous);previous=!1;const expandsDown=this.viewItems.map(i=>previous=i.maximumSize-i.size>0||previous),reverseViews=[...this.viewItems].reverse();previous=!1;const collapsesUp=reverseViews.map(i=>previous=i.size-i.minimumSize>0||previous).reverse();previous=!1;const expandsUp=reverseViews.map(i=>previous=i.maximumSize-i.size>0||previous).reverse();let position=0;for(let index=0;index<this.sashItems.length;index++){const{sash:sash}=this.sashItems[index];position+=this.viewItems[index].size;const min=!(collapsesDown[index]&&expandsUp[index+1]),max=!(expandsDown[index]&&collapsesUp[index+1]);if(min&&max){const upIndexes=Object(arrays.s)(index,-1),downIndexes=Object(arrays.s)(index+1,this.viewItems.length),snapBeforeIndex=this.findFirstSnapIndex(upIndexes),snapAfterIndex=this.findFirstSnapIndex(downIndexes),snappedBefore="number"==typeof snapBeforeIndex&&!this.viewItems[snapBeforeIndex].visible,snappedAfter="number"==typeof snapAfterIndex&&!this.viewItems[snapAfterIndex].visible;snappedBefore&&collapsesUp[index]&&(position>0||this.startSnappingEnabled)?sash.state=1:snappedAfter&&collapsesDown[index]&&(position<this.contentSize||this.endSnappingEnabled)?sash.state=2:sash.state=0}else sash.state=min&&!max?1:!min&&max?2:3}}getSashPosition(sash){let position=0;for(let i=0;i<this.sashItems.length;i++)if(position+=this.viewItems[i].size,this.sashItems[i].sash===sash)return position;return 0}findFirstSnapIndex(indexes){for(const index of indexes){const viewItem=this.viewItems[index];if(viewItem.visible&&viewItem.snap)return index}for(const index of indexes){const viewItem=this.viewItems[index];if(viewItem.visible&&viewItem.maximumSize-viewItem.minimumSize>0)return;if(!viewItem.visible&&viewItem.snap)return index}}dispose(){super.dispose(),this.viewItems.forEach(i=>i.dispose()),this.viewItems=[],this.sashItems.forEach(i=>i.disposable.dispose()),this.sashItems=[]}}var undoRedo=__webpack_require__(2415),referencesWidget_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},referencesWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class referencesWidget_DecorationsManager{constructor(_editor,_model){this._editor=_editor,this._model=_model,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new lifecycle.b,this._callOnModelChange=new lifecycle.b,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const model=this._editor.getModel();if(model)for(let ref of this._model.references)if(ref.uri.toString()===model.uri.toString())return void this._addDecorations(ref.parent)}_addDecorations(reference){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const newDecorations=[],newDecorationsActualIndex=[];for(let i=0,len=reference.children.length;i<len;i++){let oneReference=reference.children[i];this._decorationIgnoreSet.has(oneReference.id)||oneReference.uri.toString()===this._editor.getModel().uri.toString()&&(newDecorations.push({range:oneReference.range,options:referencesWidget_DecorationsManager.DecorationOptions}),newDecorationsActualIndex.push(i))}const decorations=this._editor.deltaDecorations([],newDecorations);for(let i=0;i<decorations.length;i++)this._decorations.set(decorations[i],reference.children[newDecorationsActualIndex[i]])}_onDecorationChanged(){const toRemove=[],model=this._editor.getModel();if(model){for(let[decorationId,reference]of this._decorations){const newRange=model.getDecorationRange(decorationId);if(!newRange)continue;let ignore=!1;if(!core_range.a.equalsRange(newRange,reference.range)){if(core_range.a.spansMultipleLines(newRange))ignore=!0;else{reference.range.endColumn-reference.range.startColumn!==newRange.endColumn-newRange.startColumn&&(ignore=!0)}ignore?(this._decorationIgnoreSet.add(reference.id),toRemove.push(decorationId)):reference.range=newRange}}for(let i=0,len=toRemove.length;i<len;i++)this._decorations.delete(toRemove[i]);this._editor.deltaDecorations(toRemove,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}referencesWidget_DecorationsManager.DecorationOptions=textModel.a.register({stickiness:1,className:"reference-decoration"});class referencesWidget_ReferencesTree extends browser_listService.c{}let referencesWidget_ReferenceWidget=class ReferenceWidget extends peekView.c{constructor(editor,_defaultTreeKeyboardSupport,layoutData,themeService,_textModelResolverService,_instantiationService,_peekViewService,_uriLabel,_undoRedoService,_keybindingService){super(editor,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},_instantiationService),this._defaultTreeKeyboardSupport=_defaultTreeKeyboardSupport,this.layoutData=layoutData,this._textModelResolverService=_textModelResolverService,this._instantiationService=_instantiationService,this._peekViewService=_peekViewService,this._uriLabel=_uriLabel,this._undoRedoService=_undoRedoService,this._keybindingService=_keybindingService,this._disposeOnNewModel=new lifecycle.b,this._callOnDispose=new lifecycle.b,this._onDidSelectReference=new common_event.a,this.onDidSelectReference=this._onDidSelectReference.event,this._dim={height:0,width:0},this._applyTheme(themeService.getColorTheme()),this._callOnDispose.add(themeService.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(editor,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(lifecycle.f)(this._preview),Object(lifecycle.f)(this._previewNotAvailableMessage),Object(lifecycle.f)(this._tree),Object(lifecycle.f)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(theme){const borderColor=theme.getColor(peekView.e)||color.a.transparent;this.style({arrowColor:borderColor,frameColor:borderColor,headerBackgroundColor:theme.getColor(peekView.p)||color.a.transparent,primaryHeadingColor:theme.getColor(peekView.q),secondaryHeadingColor:theme.getColor(peekView.r)})}show(where){this.editor.revealRangeInCenterIfOutsideViewport(where,0),super.show(where,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(containerElement){this.setCssClass("reference-zone-widget"),this._messageContainer=dom.p(containerElement,dom.a("div.messages")),dom.K(this._messageContainer),this._splitView=new splitview_SplitView(containerElement,{orientation:1}),this._previewContainer=dom.p(containerElement,dom.a("div.preview.inline"));this._preview=this._instantiationService.createInstance(embeddedCodeEditorWidget.a,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),dom.K(this._previewContainer),this._previewNotAvailableMessage=new textModel.b(nls.a("missingPreviewMessage","no preview available"),textModel.b.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=dom.p(containerElement,dom.a("div.ref-tree.inline"));const treeOptions={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new referencesTree_AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(referencesTree_StringRepresentationProvider),identityProvider:new referencesTree_IdentityProvider,openOnSingleClick:!0,openOnFocus:!0,overrideStyles:{listBackground:peekView.j}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(dom.n(this._treeContainer,"keydown",e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(referencesWidget_ReferencesTree,"ReferencesWidget",this._treeContainer,new referencesTree_Delegate,[this._instantiationService.createInstance(referencesTree_FileReferencesRenderer),this._instantiationService.createInstance(OneReferenceRenderer)],this._instantiationService.createInstance(referencesTree_DataSource),treeOptions),this._splitView.addView({onDidChange:common_event.b.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:width=>{this._preview.layout({height:this._dim.height,width:width})}},Sizing.Distribute),this._splitView.addView({onDidChange:common_event.b.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:width=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${width}px`,this._tree.layout(this._dim.height,width)}},Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let onEvent=(element,kind)=>{element instanceof referencesModel.b&&("show"===kind&&this._revealReference(element,!1),this._onDidSelectReference.fire({element:element,kind:kind,source:"tree"}))};this._tree.onDidOpen(e=>{e.sideBySide?onEvent(e.element,"side"):e.editorOptions.pinned?onEvent(e.element,"goto"):onEvent(e.element,"show")}),dom.K(this._treeContainer)}_onWidth(width){this._dim&&this._doLayoutBody(this._dim.height,width)}_doLayoutBody(heightInPixel,widthInPixel){super._doLayoutBody(heightInPixel,widthInPixel),this._dim={height:heightInPixel,width:widthInPixel},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(widthInPixel),this._splitView.resizeView(0,widthInPixel*this.layoutData.ratio)}setSelection(selection){return this._revealReference(selection,!0).then(()=>{this._model&&(this._tree.setSelection([selection]),this._tree.setFocus([selection]))})}setModel(newModel){return this._disposeOnNewModel.clear(),this._model=newModel,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=nls.a("noResults","No results"),dom.Z(this._messageContainer),Promise.resolve(void 0)):(dom.K(this._messageContainer),this._decorationsManager=new referencesWidget_DecorationsManager(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(reference=>this._tree.rerender(reference))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:event,target:target}=e;if(2!==event.detail)return;const element=this._getFocusedReference();element&&this._onDidSelectReference.fire({element:{uri:element.uri,range:target.range},kind:event.ctrlKey||event.metaKey||event.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),dom.Z(this._treeContainer),dom.Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[element]=this._tree.getFocus();return element instanceof referencesModel.b?element:element instanceof referencesModel.a&&element.children.length>0?element.children[0]:void 0}revealReference(reference){return __awaiter(this,void 0,void 0,function*(){yield this._revealReference(reference,!1),this._onDidSelectReference.fire({element:reference,kind:"goto",source:"tree"})})}_revealReference(reference,revealParent){return __awaiter(this,void 0,void 0,function*(){if(this._revealedReference===reference)return;this._revealedReference=reference,reference.uri.scheme!==network.b.inMemory?this.setTitle(Object(resources.c)(reference.uri),this._uriLabel.getUriLabel(Object(resources.d)(reference.uri))):this.setTitle(nls.a("peekView.alternateTitle","References"));const promise=this._textModelResolverService.createModelReference(reference.uri);this._tree.getInput()===reference.parent?this._tree.reveal(reference):(revealParent&&this._tree.reveal(reference.parent),yield this._tree.expand(reference.parent),this._tree.reveal(reference));const ref=yield promise;if(!this._model)return void ref.dispose();Object(lifecycle.f)(this._previewModelReference);const model=ref.object;if(model){const scrollType=this._preview.getModel()===model.textEditorModel?0:1,sel=core_range.a.lift(reference.range).collapseToStart();this._previewModelReference=ref,this._preview.setModel(model.textEditorModel),this._preview.setSelection(sel),this._preview.revealRangeInCenter(sel,scrollType)}else this._preview.setModel(this._previewNotAvailableMessage),ref.dispose()})}};referencesWidget_ReferenceWidget=referencesWidget_decorate([referencesWidget_param(3,common_themeService.c),referencesWidget_param(4,resolverService.a),referencesWidget_param(5,instantiation.a),referencesWidget_param(6,peekView.a),referencesWidget_param(7,label.a),referencesWidget_param(8,undoRedo.a),referencesWidget_param(9,keybinding.a)],referencesWidget_ReferenceWidget),Object(common_themeService.g)((theme,collector)=>{const findMatchHighlightColor=theme.getColor(peekView.m);findMatchHighlightColor&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${findMatchHighlightColor}; }`);const referenceHighlightColor=theme.getColor(peekView.h);referenceHighlightColor&&collector.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${referenceHighlightColor}; }`);const referenceHighlightBorder=theme.getColor(peekView.i);referenceHighlightBorder&&collector.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${referenceHighlightBorder}; box-sizing: border-box; }`);const hcOutline=theme.getColor(colorRegistry.b);hcOutline&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${hcOutline}; box-sizing: border-box; }`);const resultsBackground=theme.getColor(peekView.j);resultsBackground&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${resultsBackground}; }`);const resultsMatchForeground=theme.getColor(peekView.l);resultsMatchForeground&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${resultsMatchForeground}; }`);const resultsFileForeground=theme.getColor(peekView.k);resultsFileForeground&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${resultsFileForeground}; }`);const resultsSelectedBackground=theme.getColor(peekView.n);resultsSelectedBackground&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${resultsSelectedBackground}; }`);const resultsSelectedForeground=theme.getColor(peekView.o);resultsSelectedForeground&&collector.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${resultsSelectedForeground} !important; }`);const editorBackground=theme.getColor(peekView.f);editorBackground&&collector.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+`\tbackground-color: ${editorBackground};`+"}");const editorGutterBackground=theme.getColor(peekView.g);editorGutterBackground&&collector.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+`\tbackground-color: ${editorGutterBackground};`+"}")});var core_position=__webpack_require__(2303),notification=__webpack_require__(2322),common_async=__webpack_require__(2306),keybindingsRegistry=__webpack_require__(2367),keyCodes=__webpack_require__(2329),commands=__webpack_require__(2318);__webpack_require__.d(__webpack_exports__,"a",function(){return referencesController_ReferencesController});var referencesController_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},referencesController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},referencesController_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const ctxReferenceSearchVisible=new contextkey.c("referenceSearchVisible",!1);let referencesController_ReferencesController=class ReferencesController{constructor(_defaultTreeKeyboardSupport,_editor,contextKeyService,_editorService,_notificationService,_instantiationService,_storageService,_configurationService){this._defaultTreeKeyboardSupport=_defaultTreeKeyboardSupport,this._editor=_editor,this._editorService=_editorService,this._notificationService=_notificationService,this._instantiationService=_instantiationService,this._storageService=_storageService,this._configurationService=_configurationService,this._disposables=new lifecycle.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ctxReferenceSearchVisible.bindTo(contextKeyService)}static get(editor){return editor.getContribution(ReferencesController.ID)}dispose(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Object(lifecycle.f)(this._widget),Object(lifecycle.f)(this._model),this._widget=void 0,this._model=void 0}toggleWidget(range,modelPromise,peekMode){let widgetPosition;if(this._widget&&(widgetPosition=this._widget.position),this.closeWidget(),widgetPosition&&range.containsPosition(widgetPosition))return;this._peekMode=peekMode,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const data=class LayoutData{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(raw){let ratio,heightInLines;try{const data=JSON.parse(raw);ratio=data.ratio,heightInLines=data.heightInLines}catch(_a){}return{ratio:ratio||.7,heightInLines:heightInLines||18}}}.fromJSON(this._storageService.get("peekViewLayout",0,"{}"));this._widget=this._instantiationService.createInstance(referencesWidget_ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,data),this._widget.setTitle(nls.a("labelLoading","Loading...")),this._widget.show(range),this._disposables.add(this._widget.onDidClose(()=>{modelPromise.cancel(),this._widget&&(this._storageService.store("peekViewLayout",JSON.stringify(this._widget.layoutData),0),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(event=>{let{element:element,kind:kind}=event;if(element)switch(kind){case"open":"editor"===event.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(element,!1);break;case"side":this.openReference(element,!0);break;case"goto":peekMode?this._gotoReference(element):this.openReference(element,!1)}}));const requestId=++this._requestIdPool;modelPromise.then(model=>{if(requestId===this._requestIdPool&&this._widget)return this._model&&this._model.dispose(),this._model=model,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(nls.a("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let uri=this._editor.getModel().uri,pos=new core_position.a(range.startLineNumber,range.startColumn),selection=this._model.nearestReference(uri,pos);if(selection)return this._widget.setSelection(selection).then(()=>{this._widget&&"editor"===this._editor.getOption(68)&&this._widget.focusOnPreviewEditor()})}})},error=>{this._notificationService.error(error)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(fwd){return referencesController_awaiter(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const currentPosition=this._widget.position;if(!currentPosition)return;const source=this._model.nearestReference(this._editor.getModel().uri,currentPosition);if(!source)return;const target=this._model.nextOrPreviousReference(source,fwd),editorFocus=this._editor.hasTextFocus(),previewEditorFocus=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(target),yield this._gotoReference(target),editorFocus?this._editor.focus():this._widget&&previewEditorFocus&&this._widget.focusOnPreviewEditor()})}revealReference(reference){return referencesController_awaiter(this,void 0,void 0,function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(reference))})}closeWidget(focusEditor=!0){Object(lifecycle.f)(this._widget),Object(lifecycle.f)(this._model),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,focusEditor&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(ref){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const range=core_range.a.lift(ref.range).collapseToStart();return this._editorService.openCodeEditor({resource:ref.uri,options:{selection:range}},this._editor).then(openedEditor=>{var _a;if(this._ignoreModelChangeEvent=!1,openedEditor&&this._widget)if(this._editor===openedEditor)this._widget.show(range),this._widget.focusOnReferenceTree();else{const other=ReferencesController.get(openedEditor),model=this._model.clone();this.closeWidget(),openedEditor.focus(),other.toggleWidget(range,Object(common_async.f)(_=>Promise.resolve(model)),null!==(_a=this._peekMode)&&void 0!==_a&&_a)}else this.closeWidget()},err=>{this._ignoreModelChangeEvent=!1,Object(errors.e)(err)})}openReference(ref,sideBySide){sideBySide||this.closeWidget();const{uri:uri,range:range}=ref;this._editorService.openCodeEditor({resource:uri,options:{selection:range}},this._editor,sideBySide)}};function withController(accessor,fn){const outerEditor=Object(peekView.d)(accessor);if(!outerEditor)return;let controller=referencesController_ReferencesController.get(outerEditor);controller&&fn(controller)}referencesController_ReferencesController.ID="editor.contrib.referencesController",referencesController_ReferencesController=referencesController_decorate([referencesController_param(2,contextkey.b),referencesController_param(3,codeEditorService.a),referencesController_param(4,notification.a),referencesController_param(5,instantiation.a),referencesController_param(6,storage.a),referencesController_param(7,configuration.a)],referencesController_ReferencesController),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(keyCodes.a)(2089,60),when:contextkey.a.or(ctxReferenceSearchVisible,peekView.b.inPeekEditor),handler(accessor){withController(accessor,controller=>{controller.changeFocusBetweenPreviewAndReferences()})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:contextkey.a.or(ctxReferenceSearchVisible,peekView.b.inPeekEditor),handler(accessor){withController(accessor,controller=>{controller.goToNextOrPreviousReference(!0)})}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:contextkey.a.or(ctxReferenceSearchVisible,peekView.b.inPeekEditor),handler(accessor){withController(accessor,controller=>{controller.goToNextOrPreviousReference(!1)})}}),commands.a.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),commands.a.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),commands.a.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),commands.a.registerCommand("closeReferenceSearch",accessor=>withController(accessor,controller=>controller.closeWidget())),keybindingsRegistry.a.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:contextkey.a.and(peekView.b.inPeekEditor,contextkey.a.not("config.editor.stablePeek"))}),keybindingsRegistry.a.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:contextkey.a.and(ctxReferenceSearchVisible,contextkey.a.not("config.editor.stablePeek"))}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:contextkey.a.and(ctxReferenceSearchVisible,browser_listService.e),handler(accessor){var _a;const focus=null===(_a=accessor.get(browser_listService.a).lastFocusedList)||void 0===_a?void 0:_a.getFocus();Array.isArray(focus)&&focus[0]instanceof referencesModel.b&&withController(accessor,controller=>controller.revealReference(focus[0]))}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:contextkey.a.and(ctxReferenceSearchVisible,browser_listService.e),handler(accessor){var _a;const focus=null===(_a=accessor.get(browser_listService.a).lastFocusedList)||void 0===_a?void 0:_a.getFocus();Array.isArray(focus)&&focus[0]instanceof referencesModel.b&&withController(accessor,controller=>controller.openReference(focus[0],!0))}}),commands.a.registerCommand("openReference",accessor=>{var _a;const focus=null===(_a=accessor.get(browser_listService.a).lastFocusedList)||void 0===_a?void 0:_a.getFocus();Array.isArray(focus)&&focus[0]instanceof referencesModel.b&&withController(accessor,controller=>controller.openReference(focus[0],!1))})},2501:function(module,__webpack_exports__,__webpack_require__){"use strict";var dom=__webpack_require__(2298),browser_event=__webpack_require__(2347),common_actions=__webpack_require__(2337),common_event=__webpack_require__(2296),idGenerator=__webpack_require__(2391),lifecycle=__webpack_require__(2294),platform=__webpack_require__(2305),nls=__webpack_require__(2297),actions_common_actions=__webpack_require__(2323),contextView=__webpack_require__(2355),common_keybinding=__webpack_require__(2325),notification=__webpack_require__(2322),themeService=__webpack_require__(2304),actionViewItems=__webpack_require__(2380),touch=(__webpack_require__(2481),__webpack_require__(2348)),keyboardEvent=__webpack_require__(2342);class dropdown_BaseDropdown extends common_actions.b{constructor(container,options){super(),this._onDidChangeVisibility=new common_event.a,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Object(dom.p)(container,Object(dom.a)(".monaco-dropdown")),this._label=Object(dom.p)(this._element,Object(dom.a)(".dropdown-label"));let labelRenderer=options.labelRenderer;labelRenderer||(labelRenderer=container=>(container.textContent=options.label||"",null));for(const event of[dom.c.CLICK,dom.c.MOUSE_DOWN,touch.a.Tap])this._register(Object(dom.i)(this.element,event,e=>dom.b.stop(e,!0)));for(const event of[dom.c.MOUSE_DOWN,touch.a.Tap])this._register(Object(dom.i)(this._label,event,e=>{e instanceof MouseEvent&&e.detail>1||(this.visible?this.hide():this.show())}));this._register(Object(dom.i)(this._label,dom.c.KEY_UP,e=>{const event=new keyboardEvent.a(e);(event.equals(3)||event.equals(10))&&(dom.b.stop(e,!0),this.visible?this.hide():this.show())}));const cleanupFn=labelRenderer(this._label);cleanupFn&&this._register(cleanupFn),this._register(touch.b.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class dropdown_DropdownMenu extends dropdown_BaseDropdown{constructor(container,options){super(container,options),this._actions=[],this._contextMenuProvider=options.contextMenuProvider,this.actions=options.actions||[],this.actionProvider=options.actionProvider,this.menuClassName=options.menuClassName||"",this.menuAsChild=!!options.menuAsChild}set menuOptions(options){this._menuOptions=options}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(actions){this._actions=actions}show(){super.show(),Object(dom.e)(this.element,"active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:action=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(action):void 0,getKeyBinding:action=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(action):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),Object(dom.Q)(this.element,"active")}}var arrays=__webpack_require__(2309);class dropdownActionViewItem_DropdownMenuActionViewItem extends actionViewItems.b{constructor(action,menuActionsOrProvider,contextMenuProvider,options={}){super(null,action,options),this.options=options,this._onDidChangeVisibility=this._register(new common_event.a),this.menuActionsOrProvider=menuActionsOrProvider,this.contextMenuProvider=contextMenuProvider,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(container){const options={contextMenuProvider:this.contextMenuProvider,labelRenderer:el=>{this.element=Object(dom.p)(el,Object(dom.a)("a.action-label"));const classNames=this.options.classNames?Object(arrays.b)(this.options.classNames):[];return classNames.find(c=>"icon"===c)||classNames.push("codicon"),Object(dom.f)(this.element,...classNames),this.element.tabIndex=0,this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild};if(Array.isArray(this.menuActionsOrProvider)?options.actions=this.menuActionsOrProvider:options.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=this._register(new dropdown_DropdownMenu(container,options)),this._register(this.dropdownMenu.onDidChangeVisibility(visible=>{var _a;null===(_a=this.element)||void 0===_a||_a.setAttribute("aria-expanded",`${visible}`),this._onDidChangeVisibility.fire(visible)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const that=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return that.options.anchorAlignmentProvider()}})}}setActionContext(newContext){super.setActionContext(newContext),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=newContext:this.dropdownMenu.menuOptions={context:newContext})}}__webpack_require__.d(__webpack_exports__,"c",function(){return createAndFillInActionBarActions}),__webpack_require__.d(__webpack_exports__,"a",function(){return menuEntryActionViewItem_MenuEntryActionViewItem}),__webpack_require__.d(__webpack_exports__,"b",function(){return menuEntryActionViewItem_SubmenuEntryActionViewItem});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};class menuEntryActionViewItem_AlternativeKeyEmitter extends common_event.a{constructor(contextMenuService){super(),this._subscriptions=new lifecycle.b,this._isPressed=!1,this._suppressAltKeyUp=!1,this._subscriptions.add(Object(browser_event.a)(document.body,"keydown")(e=>{this.isPressed=e.altKey||(platform.i||platform.d)&&e.shiftKey})),this._subscriptions.add(Object(browser_event.a)(document.body,"keyup")(e=>{this.isPressed&&this._suppressAltKeyUp&&e.preventDefault(),this._suppressAltKeyUp=!1,this.isPressed=!1})),this._subscriptions.add(Object(browser_event.a)(document.body,"mouseleave")(e=>this.isPressed=!1)),this._subscriptions.add(Object(browser_event.a)(document.body,"blur")(e=>this.isPressed=!1)),this._subscriptions.add(contextMenuService.onDidContextMenu(()=>this.isPressed=!1))}get isPressed(){return this._isPressed}set isPressed(value){this._isPressed=value,this.fire(this._isPressed)}suppressAltKeyUp(){this._suppressAltKeyUp=!0}static getInstance(contextMenuService){return menuEntryActionViewItem_AlternativeKeyEmitter.instance||(menuEntryActionViewItem_AlternativeKeyEmitter.instance=new menuEntryActionViewItem_AlternativeKeyEmitter(contextMenuService)),menuEntryActionViewItem_AlternativeKeyEmitter.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function createAndFillInActionBarActions(menu,options,target,isPrimaryGroup){const groups=menu.getActions(options);return function fillInActions(groups,target,useAlternativeActions,isPrimaryGroup=(group=>"navigation"===group)){for(let tuple of groups){let[group,actions]=tuple;if(useAlternativeActions&&(actions=actions.map(a=>a instanceof actions_common_actions.c&&a.alt?a.alt:a)),isPrimaryGroup(group)){const to=Array.isArray(target)?target:target.primary;to.unshift(...actions)}else{const to=Array.isArray(target)?target:target.secondary;to.length>0&&to.push(new common_actions.c),to.push(...actions)}}}(groups,target,!1,isPrimaryGroup),function asDisposable(groups){const disposables=new lifecycle.b;for(const[,actions]of groups)for(const action of actions)disposables.add(action);return disposables}(groups)}const ids=new idGenerator.a("menu-item-action-item-icon-"),ICON_PATH_TO_CSS_RULES=new Map;let menuEntryActionViewItem_MenuEntryActionViewItem=class MenuEntryActionViewItem extends actionViewItems.a{constructor(_action,_keybindingService,_notificationService,_contextMenuService){super(void 0,_action,{icon:!(!_action.class&&!_action.item.icon),label:!_action.class&&!_action.item.icon}),this._action=_action,this._keybindingService=_keybindingService,this._notificationService=_notificationService,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new lifecycle.d),this._altKey=menuEntryActionViewItem_AlternativeKeyEmitter.getInstance(_contextMenuService)}get _commandAction(){return this._wantsAltCommand&&this._action.alt||this._action}onClick(event){event.preventDefault(),event.stopPropagation(),this._altKey.isPressed&&this._altKey.suppressAltKeyUp(),this.actionRunner.run(this._commandAction,this._context).then(void 0,err=>this._notificationService.error(err))}render(container){super.render(container),this._updateItemClass(this._action.item);let mouseOver=!1,alternativeKeyDown=this._altKey.isPressed;const updateAltState=()=>{const wantsAltCommand=mouseOver&&alternativeKeyDown;wantsAltCommand!==this._wantsAltCommand&&(this._wantsAltCommand=wantsAltCommand,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._action.alt&&this._register(this._altKey.event(value=>{alternativeKeyDown=value,updateAltState()})),this._register(Object(browser_event.a)(container,"mouseleave")(_=>{mouseOver=!1,updateAltState()})),this._register(Object(browser_event.a)(container,"mouseenter")(e=>{mouseOver=!0,updateAltState()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const keybinding=this._keybindingService.lookupKeybinding(this._commandAction.id),keybindingLabel=keybinding&&keybinding.getLabel(),tooltip=this._commandAction.tooltip||this._commandAction.label;this.label.title=keybindingLabel?Object(nls.a)("titleAndKb","{0} ({1})",tooltip,keybindingLabel):tooltip}}updateClass(){this.options.icon&&(this._commandAction!==this._action?this._action.alt&&this._updateItemClass(this._action.alt.item):this._action.alt&&this._updateItemClass(this._action.item))}_updateItemClass(item){var _a,_b;this._itemClassDispose.value=void 0;const icon=this._commandAction.checked&&(null===(_a=item.toggled)||void 0===_a?void 0:_a.icon)?item.toggled.icon:item.icon;if(themeService.e.isThemeIcon(icon)){const iconClass=themeService.e.asClassName(icon);this.label&&iconClass&&(Object(dom.f)(this.label,iconClass),this._itemClassDispose.value=Object(lifecycle.h)(()=>{this.label&&Object(dom.R)(this.label,iconClass)}))}else if(icon){let iconClass;if(null===(_b=icon.dark)||void 0===_b?void 0:_b.scheme){const iconPathMapKey=icon.dark.toString();ICON_PATH_TO_CSS_RULES.has(iconPathMapKey)?iconClass=ICON_PATH_TO_CSS_RULES.get(iconPathMapKey):(iconClass=ids.nextId(),Object(dom.u)(`.icon.${iconClass}`,`background-image: ${Object(dom.q)(icon.light||icon.dark)}`),Object(dom.u)(`.vs-dark .icon.${iconClass}, .hc-black .icon.${iconClass}`,`background-image: ${Object(dom.q)(icon.dark)}`),ICON_PATH_TO_CSS_RULES.set(iconPathMapKey,iconClass)),this.label&&(Object(dom.f)(this.label,"icon",iconClass),this._itemClassDispose.value=Object(lifecycle.h)(()=>{this.label&&Object(dom.R)(this.label,"icon",iconClass)}))}}}};menuEntryActionViewItem_MenuEntryActionViewItem=__decorate([__param(1,common_keybinding.a),__param(2,notification.a),__param(3,contextView.a)],menuEntryActionViewItem_MenuEntryActionViewItem);let menuEntryActionViewItem_SubmenuEntryActionViewItem=class SubmenuEntryActionViewItem extends dropdownActionViewItem_DropdownMenuActionViewItem{constructor(action,_notificationService,_contextMenuService){var _a;const classNames=[];if(action.item.icon)if(themeService.e.isThemeIcon(action.item.icon))classNames.push(themeService.e.asClassName(action.item.icon));else if(null===(_a=action.item.icon.dark)||void 0===_a?void 0:_a.scheme){const iconPathMapKey=action.item.icon.dark.toString();if(ICON_PATH_TO_CSS_RULES.has(iconPathMapKey))classNames.push("icon",ICON_PATH_TO_CSS_RULES.get(iconPathMapKey));else{const className=ids.nextId();classNames.push("icon",className),Object(dom.u)(`.icon.${className}`,`background-image: ${Object(dom.q)(action.item.icon.light||action.item.icon.dark)}`),Object(dom.u)(`.vs-dark .icon.${className}, .hc-black .icon.${className}`,`background-image: ${Object(dom.q)(action.item.icon.dark)}`),ICON_PATH_TO_CSS_RULES.set(iconPathMapKey,className)}}super(action,action.actions,_contextMenuService,{classNames:classNames})}};menuEntryActionViewItem_SubmenuEntryActionViewItem=__decorate([__param(1,notification.a),__param(2,contextView.a)],menuEntryActionViewItem_SubmenuEntryActionViewItem)},2502:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var aria=__webpack_require__(2335),common_async=__webpack_require__(2306),keyCodes=__webpack_require__(2329),platform=__webpack_require__(2305),editorBrowser=__webpack_require__(2389),editorExtensions=__webpack_require__(2301),services_codeEditorService=__webpack_require__(2317),core_position=__webpack_require__(2303),core_range=__webpack_require__(2295),editorContextKeys=__webpack_require__(2312),modes=__webpack_require__(2308),messageController=__webpack_require__(2404),peekView=__webpack_require__(2394),referencesController=__webpack_require__(2500),referencesModel=__webpack_require__(2411),nls=__webpack_require__(2297),actions=__webpack_require__(2323),contextkey=__webpack_require__(2307),notification=__webpack_require__(2322),progress=__webpack_require__(2345),goToSymbol=__webpack_require__(2485),commands=__webpack_require__(2318),core_editorState=__webpack_require__(2357),instantiation=__webpack_require__(2300),extensions=__webpack_require__(2361),keybindingsRegistry=__webpack_require__(2367),lifecycle=__webpack_require__(2294),common_event=__webpack_require__(2296),keybinding=__webpack_require__(2325),resources=__webpack_require__(2331),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const ctxHasSymbols=new contextkey.c("hasSymbols",!1),ISymbolNavigationService=Object(instantiation.c)("ISymbolNavigationService");let symbolNavigation_SymbolNavigationService=class SymbolNavigationService{constructor(contextKeyService,_editorService,_notificationService,_keybindingService){this._editorService=_editorService,this._notificationService=_notificationService,this._keybindingService=_keybindingService,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=ctxHasSymbols.bindTo(contextKeyService)}reset(){this._ctxHasSymbols.reset(),Object(lifecycle.f)(this._currentState),Object(lifecycle.f)(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1}put(anchor){const refModel=anchor.parent.parent;if(refModel.references.length<=1)return void this.reset();this._currentModel=refModel,this._currentIdx=refModel.references.indexOf(anchor),this._ctxHasSymbols.set(!0),this._showMessage();const editorState=new symbolNavigation_EditorState(this._editorService),listener=editorState.onDidChange(_=>{if(this._ignoreEditorChange)return;const editor=this._editorService.getActiveCodeEditor();if(!editor)return;const model=editor.getModel(),position=editor.getPosition();if(!model||!position)return;let seenUri=!1,seenPosition=!1;for(const reference of refModel.references)if(Object(resources.f)(reference.uri,model.uri))seenUri=!0,seenPosition=seenPosition||core_range.a.containsPosition(reference.range,position);else if(seenUri)break;seenUri&&seenPosition||this.reset()});this._currentState=Object(lifecycle.e)(editorState,listener)}revealNext(source){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const reference=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:reference.uri,options:{selection:core_range.a.collapseToStart(reference.range),selectionRevealType:3}},source).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){Object(lifecycle.f)(this._currentMessage);const kb=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),message=kb?Object(nls.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,kb.getLabel()):Object(nls.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(message)}};symbolNavigation_SymbolNavigationService=__decorate([__param(0,contextkey.b),__param(1,services_codeEditorService.a),__param(2,notification.a),__param(3,keybinding.a)],symbolNavigation_SymbolNavigationService),Object(extensions.b)(ISymbolNavigationService,symbolNavigation_SymbolNavigationService,!0),Object(editorExtensions.l)(new class extends editorExtensions.c{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(accessor,editor){return accessor.get(ISymbolNavigationService).revealNext(editor)}}),keybindingsRegistry.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:ctxHasSymbols,primary:9,handler(accessor){accessor.get(ISymbolNavigationService).reset()}});let symbolNavigation_EditorState=class EditorState{constructor(editorService){this._listener=new Map,this._disposables=new lifecycle.b,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor,this)),editorService.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),Object(lifecycle.f)(this._listener.values())}_onDidAddEditor(editor){this._listener.set(editor,Object(lifecycle.e)(editor.onDidChangeCursorPosition(_=>this._onDidChange.fire({editor:editor})),editor.onDidChangeModelContent(_=>this._onDidChange.fire({editor:editor}))))}_onDidRemoveEditor(editor){Object(lifecycle.f)(this._listener.get(editor)),this._listener.delete(editor)}};symbolNavigation_EditorState=__decorate([__param(0,services_codeEditorService.a)],symbolNavigation_EditorState);var browser=__webpack_require__(2326),uri=__webpack_require__(2313),types=__webpack_require__(2314),embeddedCodeEditorWidget=__webpack_require__(2441);__webpack_require__.d(__webpack_exports__,"DefinitionAction",function(){return goToCommands_DefinitionAction});var _a,_b,_c,_d,_e,_f,_g,_h,__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};actions.d.appendMenuItem(actions.b.EditorContext,{submenu:actions.b.EditorContextPeek,title:nls.a("peek.submenu","Peek"),group:"navigation",order:100});class goToCommands_SymbolNavigationAction extends editorExtensions.b{constructor(configuration,opts){super(opts),this._configuration=configuration}run(accessor,editor){if(!editor.hasModel())return Promise.resolve(void 0);const notificationService=accessor.get(notification.a),editorService=accessor.get(services_codeEditorService.a),progressService=accessor.get(progress.a),symbolNavService=accessor.get(ISymbolNavigationService),model=editor.getModel(),pos=editor.getPosition(),cts=new core_editorState.b(editor,5),promise=Object(common_async.j)(this._getLocationModel(model,pos,cts.token),cts.token).then(references=>__awaiter(this,void 0,void 0,function*(){if(!references||cts.token.isCancellationRequested)return;let altAction;if(Object(aria.a)(references.ariaMessage),references.referenceAt(model.uri,pos)){const altActionId=this._getAlternativeCommand(editor);altActionId!==this.id&&(altAction=editor.getAction(altActionId))}const referenceCount=references.references.length;if(0===referenceCount){if(!this._configuration.muteMessage){const info=model.getWordAtPosition(pos);messageController.a.get(editor).showMessage(this._getNoResultFoundMessage(info),pos)}}else{if(1!==referenceCount||!altAction)return this._onResult(editorService,symbolNavService,editor,references);altAction.run()}}),err=>{notificationService.error(err)}).finally(()=>{cts.dispose()});return progressService.showWhile(promise,250),promise}_onResult(editorService,symbolNavService,editor,model){return __awaiter(this,void 0,void 0,function*(){const gotoLocation=this._getGoToPreference(editor);if(editor instanceof embeddedCodeEditorWidget.a||!(this._configuration.openInPeek||"peek"===gotoLocation&&model.references.length>1)){const next=model.firstReference(),peek=model.references.length>1&&"gotoAndPeek"===gotoLocation,targetEditor=yield this._openReference(editor,editorService,next,this._configuration.openToSide,!peek);peek&&targetEditor?this._openInPeek(targetEditor,model):model.dispose(),"goto"===gotoLocation&&symbolNavService.put(next)}else this._openInPeek(editor,model)})}_openReference(editor,editorService,reference,sideBySide,highlight){return __awaiter(this,void 0,void 0,function*(){let range=void 0;Object(modes.G)(reference)&&(range=reference.targetSelectionRange),range||(range=reference.range);const targetEditor=yield editorService.openCodeEditor({resource:reference.uri,options:{selection:core_range.a.collapseToStart(range),selectionRevealType:3}},editor,sideBySide);if(targetEditor){if(highlight){const modelNow=targetEditor.getModel(),ids=targetEditor.deltaDecorations([],[{range:range,options:{className:"symbolHighlight"}}]);setTimeout(()=>{targetEditor.getModel()===modelNow&&targetEditor.deltaDecorations(ids,[])},350)}return targetEditor}})}_openInPeek(target,model){let controller=referencesController.a.get(target);controller&&target.hasModel()?controller.toggleWidget(target.getSelection(),Object(common_async.f)(_=>Promise.resolve(model)),this._configuration.openInPeek):model.dispose()}}class goToCommands_DefinitionAction extends goToCommands_SymbolNavigationAction{_getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(yield Object(goToSymbol.b)(model,position,token),nls.a("def.title","Definitions"))})}_getNoResultFoundMessage(info){return info&&info.word?nls.a("noResultWord","No definition found for '{0}'",info.word):nls.a("generic.noResults","No definition found")}_getAlternativeCommand(editor){return editor.getOption(43).alternativeDefinitionCommand}_getGoToPreference(editor){return editor.getOption(43).multipleDefinitions}}const goToDefinitionKb=platform.h&&!browser.k?2118:70;Object(editorExtensions.k)(((_a=class GoToDefinitionAction extends goToCommands_DefinitionAction{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToDefinitionAction.id,label:nls.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:contextkey.a.and(editorContextKeys.a.hasDefinitionProvider,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:goToDefinitionKb,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:actions.b.MenubarGoMenu,group:"4_symbol_nav",order:2,title:nls.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),commands.a.registerCommandAlias("editor.action.goToDeclaration",GoToDefinitionAction.id)}}).id="editor.action.revealDefinition",_a)),Object(editorExtensions.k)(((_b=class OpenDefinitionToSideAction extends goToCommands_DefinitionAction{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:OpenDefinitionToSideAction.id,label:nls.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:contextkey.a.and(editorContextKeys.a.hasDefinitionProvider,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,goToDefinitionKb),weight:100}}),commands.a.registerCommandAlias("editor.action.openDeclarationToTheSide",OpenDefinitionToSideAction.id)}}).id="editor.action.revealDefinitionAside",_b)),Object(editorExtensions.k)(((_c=class PeekDefinitionAction extends goToCommands_DefinitionAction{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekDefinitionAction.id,label:nls.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:contextkey.a.and(editorContextKeys.a.hasDefinitionProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:actions.b.EditorContextPeek,group:"peek",order:2}}),commands.a.registerCommandAlias("editor.action.previewDeclaration",PeekDefinitionAction.id)}}).id="editor.action.peekDefinition",_c));class goToCommands_DeclarationAction extends goToCommands_SymbolNavigationAction{_getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(yield Object(goToSymbol.a)(model,position,token),nls.a("decl.title","Declarations"))})}_getNoResultFoundMessage(info){return info&&info.word?nls.a("decl.noResultWord","No declaration found for '{0}'",info.word):nls.a("decl.generic.noResults","No declaration found")}_getAlternativeCommand(editor){return editor.getOption(43).alternativeDeclarationCommand}_getGoToPreference(editor){return editor.getOption(43).multipleDeclarations}}Object(editorExtensions.k)(((_d=class GoToDeclarationAction extends goToCommands_DeclarationAction{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToDeclarationAction.id,label:nls.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:contextkey.a.and(editorContextKeys.a.hasDeclarationProvider,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:actions.b.MenubarGoMenu,group:"4_symbol_nav",order:3,title:nls.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}_getNoResultFoundMessage(info){return info&&info.word?nls.a("decl.noResultWord","No declaration found for '{0}'",info.word):nls.a("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",_d)),Object(editorExtensions.k)(class PeekDeclarationAction extends goToCommands_DeclarationAction{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:nls.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:contextkey.a.and(editorContextKeys.a.hasDeclarationProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:actions.b.EditorContextPeek,group:"peek",order:3}})}});class goToCommands_TypeDefinitionAction extends goToCommands_SymbolNavigationAction{_getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(yield Object(goToSymbol.e)(model,position,token),nls.a("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(info){return info&&info.word?nls.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",info.word):nls.a("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(editor){return editor.getOption(43).alternativeTypeDefinitionCommand}_getGoToPreference(editor){return editor.getOption(43).multipleTypeDefinitions}}Object(editorExtensions.k)(((_e=class GoToTypeDefinitionAction extends goToCommands_TypeDefinitionAction{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToTypeDefinitionAction.ID,label:nls.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:contextkey.a.and(editorContextKeys.a.hasTypeDefinitionProvider,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:actions.b.MenubarGoMenu,group:"4_symbol_nav",order:3,title:nls.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}}).ID="editor.action.goToTypeDefinition",_e)),Object(editorExtensions.k)(((_f=class PeekTypeDefinitionAction extends goToCommands_TypeDefinitionAction{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekTypeDefinitionAction.ID,label:nls.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:contextkey.a.and(editorContextKeys.a.hasTypeDefinitionProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:actions.b.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",_f));class goToCommands_ImplementationAction extends goToCommands_SymbolNavigationAction{_getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(yield Object(goToSymbol.c)(model,position,token),nls.a("impl.title","Implementations"))})}_getNoResultFoundMessage(info){return info&&info.word?nls.a("goToImplementation.noResultWord","No implementation found for '{0}'",info.word):nls.a("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(editor){return editor.getOption(43).alternativeImplementationCommand}_getGoToPreference(editor){return editor.getOption(43).multipleImplementations}}Object(editorExtensions.k)(((_g=class GoToImplementationAction extends goToCommands_ImplementationAction{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:GoToImplementationAction.ID,label:nls.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:contextkey.a.and(editorContextKeys.a.hasImplementationProvider,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:actions.b.MenubarGoMenu,group:"4_symbol_nav",order:4,title:nls.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",_g)),Object(editorExtensions.k)(((_h=class PeekImplementationAction extends goToCommands_ImplementationAction{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PeekImplementationAction.ID,label:nls.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:contextkey.a.and(editorContextKeys.a.hasImplementationProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:actions.b.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",_h));class goToCommands_ReferencesAction extends goToCommands_SymbolNavigationAction{_getNoResultFoundMessage(info){return info?nls.a("references.no","No references found for '{0}'",info.word):nls.a("references.noGeneric","No references found")}_getAlternativeCommand(editor){return editor.getOption(43).alternativeReferenceCommand}_getGoToPreference(editor){return editor.getOption(43).multipleReferences}}Object(editorExtensions.k)(class GoToReferencesAction extends goToCommands_ReferencesAction{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:nls.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:contextkey.a.and(editorContextKeys.a.hasReferenceProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:actions.b.MenubarGoMenu,group:"4_symbol_nav",order:5,title:nls.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}_getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(yield Object(goToSymbol.d)(model,position,!0,token),nls.a("ref.title","References"))})}}),Object(editorExtensions.k)(class PeekReferencesAction extends goToCommands_ReferencesAction{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:nls.a("references.action.label","Peek References"),alias:"Peek References",precondition:contextkey.a.and(editorContextKeys.a.hasReferenceProvider,peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:actions.b.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(yield Object(goToSymbol.d)(model,position,!1,token),nls.a("ref.title","References"))})}});class goToCommands_GenericGoToLocationAction extends goToCommands_SymbolNavigationAction{constructor(config,_references,_gotoMultipleBehaviour){super(config,{id:"editor.action.goToLocation",label:nls.a("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:contextkey.a.and(peekView.b.notInPeekEditor,editorContextKeys.a.isInWalkThroughSnippet.toNegated())}),this._references=_references,this._gotoMultipleBehaviour=_gotoMultipleBehaviour}_getLocationModel(_model,_position,_token){return __awaiter(this,void 0,void 0,function*(){return new referencesModel.c(this._references,nls.a("generic.title","Locations"))})}_getNoResultFoundMessage(info){return info&&nls.a("generic.noResult","No results for '{0}'",info.word)||""}_getGoToPreference(editor){var _a;return null!==(_a=this._gotoMultipleBehaviour)&&void 0!==_a?_a:editor.getOption(43).multipleReferences}_getAlternativeCommand(){return""}}commands.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:uri.a},{name:"position",description:"The position at which to start",constraint:core_position.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(accessor,resource,position,references,multiple,noResultsMessage,openInPeek)=>__awaiter(void 0,void 0,void 0,function*(){Object(types.b)(uri.a.isUri(resource)),Object(types.b)(core_position.a.isIPosition(position)),Object(types.b)(Array.isArray(references)),Object(types.b)(void 0===multiple||"string"==typeof multiple),Object(types.b)(void 0===openInPeek||"boolean"==typeof openInPeek);const editorService=accessor.get(services_codeEditorService.a),editor=yield editorService.openCodeEditor({resource:resource},editorService.getFocusedCodeEditor());if(Object(editorBrowser.b)(editor))return editor.setPosition(position),editor.revealPositionInCenterIfOutsideViewport(position,0),editor.invokeWithinContext(accessor=>{const command=new class extends goToCommands_GenericGoToLocationAction{_getNoResultFoundMessage(info){return noResultsMessage||super._getNoResultFoundMessage(info)}}({muteMessage:!Boolean(noResultsMessage),openInPeek:Boolean(openInPeek),openToSide:!1},references,multiple);accessor.get(instantiation.a).invokeFunction(command.run.bind(command),editor)})})}),commands.a.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:uri.a},{name:"position",description:"The position at which to start",constraint:core_position.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(accessor,resource,position,references,multiple)=>__awaiter(void 0,void 0,void 0,function*(){accessor.get(commands.b).executeCommand("editor.action.goToLocations",resource,position,references,multiple,void 0,!0)})}),commands.a.registerCommand({id:"editor.action.findReferences",handler:(accessor,resource,position)=>{Object(types.b)(uri.a.isUri(resource)),Object(types.b)(core_position.a.isIPosition(position));const codeEditorService=accessor.get(services_codeEditorService.a);return codeEditorService.openCodeEditor({resource:resource},codeEditorService.getFocusedCodeEditor()).then(control=>{if(!Object(editorBrowser.b)(control)||!control.hasModel())return;const controller=referencesController.a.get(control);if(!controller)return;const references=Object(common_async.f)(token=>Object(goToSymbol.d)(control.getModel(),core_position.a.lift(position),!1,token).then(references=>new referencesModel.c(references,nls.a("ref.title","References")))),range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column);return Promise.resolve(controller.toggleWidget(range,references,!1))})}}),commands.a.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},2503:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(2504);var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2298),_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2319),_base_browser_formattedTextRenderer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2427),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2335),_base_browser_ui_widget_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2343),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2294),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2305),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2299),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2313),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2301),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2312),_contrib_toggleTabFocusMode_toggleTabFocusMode_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2459),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2307),_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2300),_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2325),_platform_opener_common_opener_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2344),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2304),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2353),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.c("accessibilityHelpWidgetVisible",!1);let AccessibilityHelpController=class AccessibilityHelpController extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.a{constructor(editor,instantiationService){super(),this._editor=editor,this._widget=this._register(instantiationService.createInstance(AccessibilityHelpWidget,this._editor))}static get(editor){return editor.getContribution(AccessibilityHelpController.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};AccessibilityHelpController.ID="editor.contrib.accessibilityHelpController",AccessibilityHelpController=__decorate([__param(1,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_14__.a)],AccessibilityHelpController);let AccessibilityHelpWidget=class AccessibilityHelpWidget extends _base_browser_ui_widget_js__WEBPACK_IMPORTED_MODULE_5__.a{constructor(editor,_contextKeyService,_keybindingService,_openerService){super(),this._contextKeyService=_contextKeyService,this._keybindingService=_keybindingService,this._openerService=_openerService,this._editor=editor,this._isVisibleKey=CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(this._contextKeyService),this._domNode=Object(_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_2__.b)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=Object(_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_2__.b)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.n(this._contentDomNode.domNode,"keydown",e=>{if(this._isVisible&&(e.equals(2083)&&(Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.s(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_4__.a)(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.openingDocs);let url=this._editor.getRawOptions().accessibilityHelpUrl;void 0===url&&(url="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_9__.a.parse(url)),e.preventDefault(),e.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return AccessibilityHelpWidget.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(commandId,msg,noKbMsg){let kb=this._keybindingService.lookupKeybinding(commandId);return kb?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__.x(msg,kb.getAriaLabel()):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__.x(noKbMsg,commandId)}_buildContent(){const options=this._editor.getOptions(),selections=this._editor.getSelections();let charactersSelected=0;if(selections){const model=this._editor.getModel();model&&selections.forEach(selection=>{charactersSelected+=model.getValueLengthInRange(selection)})}let text=function getSelectionLabel(selections,charactersSelected){return selections&&0!==selections.length?1===selections.length?charactersSelected?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__.x(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.singleSelectionRange,selections[0].positionLineNumber,selections[0].positionColumn,charactersSelected):_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__.x(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.singleSelection,selections[0].positionLineNumber,selections[0].positionColumn):charactersSelected?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__.x(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.multiSelectionRange,selections.length,charactersSelected):selections.length>0?_base_common_strings_js__WEBPACK_IMPORTED_MODULE_8__.x(_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.multiSelection,selections.length):"":_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.noSelection}(selections,charactersSelected);options.get(47)?options.get(72)?text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.readonlyDiffEditor:text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.editableDiffEditor:options.get(72)?text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.readonlyEditor:text+=_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.editableEditor;const turnOnMessage=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_7__.f?_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.changeConfigToOnMac:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.changeConfigToOnWinLinux;switch(options.get(2)){case 0:text+="\n\n - "+turnOnMessage;break;case 2:text+="\n\n - "+_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.auto_on;break;case 1:text+="\n\n - "+_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.auto_off,text+=" "+turnOnMessage}options.get(116)?text+="\n\n - "+this._descriptionForCommand(_contrib_toggleTabFocusMode_toggleTabFocusMode_js__WEBPACK_IMPORTED_MODULE_12__.ToggleTabFocusModeAction.ID,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.tabFocusModeOnMsg,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.tabFocusModeOnMsgNoKb):text+="\n\n - "+this._descriptionForCommand(_contrib_toggleTabFocusMode_toggleTabFocusMode_js__WEBPACK_IMPORTED_MODULE_12__.ToggleTabFocusModeAction.ID,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.tabFocusModeOffMsg,_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.tabFocusModeOffMsgNoKb),text+="\n\n - "+(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_7__.f?_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.openDocMac:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.openDocWinLinux),text+="\n\n"+_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.outroMsg,this._contentDomNode.domNode.appendChild(Object(_base_browser_formattedTextRenderer_js__WEBPACK_IMPORTED_MODULE_3__.b)(text)),this._contentDomNode.domNode.setAttribute("aria-label",text)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.s(this._contentDomNode.domNode),this._editor.focus())}_layout(){let editorLayout=this._editor.getLayoutInfo(),w=Math.max(5,Math.min(AccessibilityHelpWidget.WIDTH,editorLayout.width-40)),h=Math.max(5,Math.min(AccessibilityHelpWidget.HEIGHT,editorLayout.height-40));this._domNode.setWidth(w),this._domNode.setHeight(h);let top=Math.round((editorLayout.height-h)/2);this._domNode.setTop(top);let left=Math.round((editorLayout.width-w)/2);this._domNode.setLeft(left)}};AccessibilityHelpWidget.ID="editor.contrib.accessibilityHelpWidget",AccessibilityHelpWidget.WIDTH=500,AccessibilityHelpWidget.HEIGHT=300,AccessibilityHelpWidget=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_13__.b),__param(2,_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_15__.a),__param(3,_platform_opener_common_opener_js__WEBPACK_IMPORTED_MODULE_16__.a)],AccessibilityHelpWidget);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_10__.m)(AccessibilityHelpController.ID,AccessibilityHelpController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_10__.k)(class ShowAccessibilityHelpAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_10__.b{constructor(){super({id:"editor.action.showAccessibilityHelp",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_19__.a.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__.a.focus,primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(accessor,editor){let controller=AccessibilityHelpController.get(editor);controller&&controller.show()}});const AccessibilityHelpCommand=_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_10__.c.bindToContribution(AccessibilityHelpController.get);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_10__.l)(new AccessibilityHelpCommand({id:"closeAccessibilityHelp",precondition:CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,handler:x=>x.hide(),kbOpts:{weight:200,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__.a.focus,primary:9,secondary:[1033]}})),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_18__.g)((theme,collector)=>{const widgetBackground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__.U);widgetBackground&&collector.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${widgetBackground}; }`);const widgetForeground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__.W);widgetForeground&&collector.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${widgetForeground}; }`);const widgetShadowColor=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__.uc);widgetShadowColor&&collector.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${widgetShadowColor}; }`);const hcBorder=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__.h);hcBorder&&collector.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${hcBorder}; }`)})},2504:function(module,exports,__webpack_require__){var content=__webpack_require__(2505);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2505:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}",""])},2506:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",function(){return cwd}),__webpack_require__.d(__webpack_exports__,"b",function(){return env}),__webpack_require__.d(__webpack_exports__,"c",function(){return platform});var _platform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2305);const safeProcess=void 0===process?{cwd:()=>"/",env:Object.create(null),get platform(){return _platform_js__WEBPACK_IMPORTED_MODULE_0__.i?"win32":_platform_js__WEBPACK_IMPORTED_MODULE_0__.f?"darwin":"linux"},nextTick:callback=>Object(_platform_js__WEBPACK_IMPORTED_MODULE_0__.j)(callback)}:process,cwd=safeProcess.cwd,env=safeProcess.env,platform=safeProcess.platform}).call(this,__webpack_require__(301))},2507:function(module,exports,__webpack_require__){var content=__webpack_require__(2508);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2508:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""])},2509:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SelectionAnchorSet",function(){return SelectionAnchorSet});__webpack_require__(2510);var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2301),_nls_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2297),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2312),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2311),_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2329),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2307),_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2369),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2335),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const SelectionAnchorSet=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.c("selectionAnchorSet",!1);let SelectionAnchorController=class SelectionAnchorController{constructor(editor,contextKeyService){this.editor=editor,this.selectionAnchorSetContextKey=SelectionAnchorSet.bindTo(contextKeyService),this.modelChangeListener=editor.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(editor){return editor.getContribution(SelectionAnchorController.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const position=this.editor.getPosition(),previousDecorations=this.decorationId?[this.decorationId]:[],newDecorationId=this.editor.deltaDecorations(previousDecorations,[{range:_common_core_selection_js__WEBPACK_IMPORTED_MODULE_4__.a.fromPositions(position,position),options:{stickiness:1,hoverMessage:(new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_7__.a).appendText(Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=newDecorationId[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_8__.a)(Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("anchorSet","Anchor set at {0}:{1}",position.lineNumber,position.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const anchorPosition=this.editor.getModel().getDecorationRange(this.decorationId);anchorPosition&&this.editor.setPosition(anchorPosition.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const start=this.editor.getModel().getDecorationRange(this.decorationId);if(start){const end=this.editor.getPosition();this.editor.setSelection(_common_core_selection_js__WEBPACK_IMPORTED_MODULE_4__.a.fromPositions(start.getStartPosition(),end)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};SelectionAnchorController.ID="editor.contrib.selectionAnchorController",SelectionAnchorController=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_6__.b)],SelectionAnchorController);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.m)(SelectionAnchorController.ID,SelectionAnchorController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class SetSelectionAnchor extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.setSelectionAnchor",label:Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.editorTextFocus,primary:Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_5__.a)(2089,2080),weight:100}})}run(_accessor,editor){return __awaiter(this,void 0,void 0,function*(){SelectionAnchorController.get(editor).setSelectionAnchor()})}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class GoToSelectionAnchor extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.goToSelectionAnchor",label:Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:SelectionAnchorSet})}run(_accessor,editor){return __awaiter(this,void 0,void 0,function*(){SelectionAnchorController.get(editor).goToSelectionAnchor()})}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class SelectFromAnchorToCursor extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:SelectionAnchorSet,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.editorTextFocus,primary:Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_5__.a)(2089,2089),weight:100}})}run(_accessor,editor){return __awaiter(this,void 0,void 0,function*(){SelectionAnchorController.get(editor).selectFromAnchorToCursor()})}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class CancelSelectionAnchor extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:Object(_nls_js__WEBPACK_IMPORTED_MODULE_2__.a)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:SelectionAnchorSet,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.editorTextFocus,primary:9,weight:100}})}run(_accessor,editor){return __awaiter(this,void 0,void 0,function*(){SelectionAnchorController.get(editor).cancelSelectionAnchor()})}})},2510:function(module,exports,__webpack_require__){var content=__webpack_require__(2511);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2511:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""])},2512:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BracketMatchingController",function(){return BracketMatchingController});__webpack_require__(2513);var _nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2297),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2306),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2301),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2303),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2311),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2312),_common_model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2340),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2321),_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2338),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2304),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2323);const overviewRulerBracketMatchForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_12__.gc)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class BracketsData{constructor(position,brackets,options){this.position=position,this.brackets=brackets,this.options=options}}class BracketMatchingController extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor){super(),this._editor=editor,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.d(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(55),this._updateBracketsSoon.schedule(),this._register(editor.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(editor.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(editor.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(editor.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(editor.onDidChangeConfiguration(e=>{e.hasChanged(55)&&(this._matchBrackets=this._editor.getOption(55),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(editor){return editor.getContribution(BracketMatchingController.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const model=this._editor.getModel(),newSelections=this._editor.getSelections().map(selection=>{const position=selection.getStartPosition(),brackets=model.matchBracket(position);let newCursorPosition=null;if(brackets)brackets[0].containsPosition(position)?newCursorPosition=brackets[1].getStartPosition():brackets[1].containsPosition(position)&&(newCursorPosition=brackets[0].getStartPosition());else{const enclosingBrackets=model.findEnclosingBrackets(position);if(enclosingBrackets)newCursorPosition=enclosingBrackets[0].getStartPosition();else{const nextBracket=model.findNextBracket(position);nextBracket&&nextBracket.range&&(newCursorPosition=nextBracket.range.getStartPosition())}}return newCursorPosition?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(newCursorPosition.lineNumber,newCursorPosition.column,newCursorPosition.lineNumber,newCursorPosition.column):new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(position.lineNumber,position.column,position.lineNumber,position.column)});this._editor.setSelections(newSelections),this._editor.revealRange(newSelections[0])}selectToBracket(selectBrackets){if(!this._editor.hasModel())return;const model=this._editor.getModel(),newSelections=[];this._editor.getSelections().forEach(selection=>{const position=selection.getStartPosition();let brackets=model.matchBracket(position);if(!brackets&&!(brackets=model.findEnclosingBrackets(position))){const nextBracket=model.findNextBracket(position);nextBracket&&nextBracket.range&&(brackets=model.matchBracket(nextBracket.range.getStartPosition()))}let selectFrom=null,selectTo=null;if(brackets){brackets.sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts);const[open,close]=brackets;selectFrom=selectBrackets?open.getStartPosition():open.getEndPosition(),selectTo=selectBrackets?close.getEndPosition():close.getStartPosition()}selectFrom&&selectTo&&newSelections.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(selectFrom.lineNumber,selectFrom.column,selectTo.lineNumber,selectTo.column))}),newSelections.length>0&&(this._editor.setSelections(newSelections),this._editor.revealRange(newSelections[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let newDecorations=[],newDecorationsLen=0;for(const bracketData of this._lastBracketsData){let brackets=bracketData.brackets;brackets&&(newDecorations[newDecorationsLen++]={range:brackets[0],options:bracketData.options},newDecorations[newDecorationsLen++]={range:brackets[1],options:bracketData.options})}this._decorations=this._editor.deltaDecorations(this._decorations,newDecorations)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const selections=this._editor.getSelections();if(selections.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const model=this._editor.getModel(),versionId=model.getVersionId();let previousData=[];this._lastVersionId===versionId&&(previousData=this._lastBracketsData);let positions=[],positionsLen=0;for(let i=0,len=selections.length;i<len;i++){let selection=selections[i];selection.isEmpty()&&(positions[positionsLen++]=selection.getStartPosition())}positions.length>1&&positions.sort(_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a.compare);let newData=[],newDataLen=0,previousIndex=0,previousLen=previousData.length;for(let i=0,len=positions.length;i<len;i++){let position=positions[i];for(;previousIndex<previousLen&&previousData[previousIndex].position.isBefore(position);)previousIndex++;if(previousIndex<previousLen&&previousData[previousIndex].position.equals(position))newData[newDataLen++]=previousData[previousIndex];else{let brackets=model.matchBracket(position),options=BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;brackets||"always"!==this._matchBrackets||(brackets=model.findEnclosingBrackets(position,20),options=BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),newData[newDataLen++]=new BracketsData(position,brackets,options)}}this._lastBracketsData=newData,this._lastVersionId=versionId}}BracketMatchingController.ID="editor.contrib.bracketMatchingController",BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"bracket-match",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__.h)(overviewRulerBracketMatchForeground),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"bracket-match"}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.m)(BracketMatchingController.ID,BracketMatchingController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class SelectToBracketAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.selectToBracket",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(accessor,editor,args){const controller=BracketMatchingController.get(editor);if(!controller)return;let selectBrackets=!0;args&&!1===args.selectBrackets&&(selectBrackets=!1),controller.selectToBracket(selectBrackets)}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class JumpToBracketAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.jumpToBracket",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:3160,weight:100}})}run(accessor,editor){let controller=BracketMatchingController.get(editor);controller&&controller.jumpToBracket()}}),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__.g)((theme,collector)=>{const bracketMatchBackground=theme.getColor(_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_11__.c);bracketMatchBackground&&collector.addRule(`.monaco-editor .bracket-match { background-color: ${bracketMatchBackground}; }`);const bracketMatchBorder=theme.getColor(_common_view_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_11__.d);bracketMatchBorder&&collector.addRule(`.monaco-editor .bracket-match { border: 1px solid ${bracketMatchBorder}; }`)}),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__.d.appendMenuItem(_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_14__.b.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},2513:function(module,exports,__webpack_require__){var content=__webpack_require__(2514);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2514:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n",""])},2515:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CutAction",function(){return CutAction}),__webpack_require__.d(__webpack_exports__,"CopyAction",function(){return CopyAction}),__webpack_require__.d(__webpack_exports__,"PasteAction",function(){return PasteAction});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2326),_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2305),_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2467),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2301),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2317),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2312),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2323),_platform_clipboard_common_clipboardService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2370),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const supportsCut=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.g||document.queryCommandSupported("cut"),supportsCopy=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.g||document.queryCommandSupported("copy"),supportsCopyWithSyntaxHighlighting=supportsCopy&&!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.f,supportsPaste=!_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.h||document.queryCommandSupported("paste");function registerCommand(command){return command.register(),command}const CutAction=supportsCut?registerCommand(new _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.e({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.g?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.MenubarEditMenu,group:"2_ccp",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.EditorContext,group:"9_cutcopypaste",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.cutLabel","Cut"),when:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_6__.a.writable,order:1},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.CommandPalette,group:"",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.cutLabel","Cut"),order:1}]})):void 0,CopyAction=supportsCopy?registerCommand(new _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.e({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.g?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.MenubarEditMenu,group:"2_ccp",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.EditorContext,group:"9_cutcopypaste",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.copyLabel","Copy"),order:2},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.CommandPalette,group:"",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.copyLabel","Copy"),order:1}]})):void 0,PasteAction=supportsPaste?registerCommand(new _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.e({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.g?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.MenubarEditMenu,group:"2_ccp",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.EditorContext,group:"9_cutcopypaste",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.pasteLabel","Paste"),when:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_6__.a.writable,order:3},{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_7__.b.CommandPalette,group:"",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.pasteLabel","Paste"),order:1}]})):void 0;class ExecCommandCopyWithSyntaxHighlightingAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_6__.a.textInputFocus,primary:0,weight:100}})}run(accessor,editor){if(!editor.hasModel())return;!editor.getOption(26)&&editor.getSelection().isEmpty()||(_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_3__.a.forceCopyWithSyntaxHighlighting=!0,editor.focus(),document.execCommand("copy"),_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_3__.a.forceCopyWithSyntaxHighlighting=!1)}}function registerExecCommandImpl(target,browserCommand){target&&(target.addImplementation(1e4,(accessor,args)=>{const focusedEditor=accessor.get(_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_5__.a).getFocusedCodeEditor();if(focusedEditor&&focusedEditor.hasTextFocus()){const emptySelectionClipboard=focusedEditor.getOption(26),selection=focusedEditor.getSelection();return!(!selection||!selection.isEmpty()||emptySelectionClipboard)||(document.execCommand(browserCommand),!0)}return!1}),target.addImplementation(0,(accessor,args)=>(document.execCommand(browserCommand),!0)))}registerExecCommandImpl(CutAction,"cut"),registerExecCommandImpl(CopyAction,"copy"),PasteAction&&(PasteAction.addImplementation(1e4,(accessor,args)=>{const codeEditorService=accessor.get(_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_5__.a),clipboardService=accessor.get(_platform_clipboard_common_clipboardService_js__WEBPACK_IMPORTED_MODULE_8__.a),focusedEditor=codeEditorService.getFocusedCodeEditor();if(focusedEditor&&focusedEditor.hasTextFocus()){return!(!document.execCommand("paste")&&_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.h)||((()=>__awaiter(void 0,void 0,void 0,function*(){const clipboardText=yield clipboardService.readText();if(""!==clipboardText){const metadata=_browser_controller_textAreaInput_js__WEBPACK_IMPORTED_MODULE_3__.b.INSTANCE.get(clipboardText);let pasteOnNewLine=!1,multicursorText=null,mode=null;metadata&&(pasteOnNewLine=focusedEditor.getOption(26)&&!!metadata.isFromEmptySelection,multicursorText=void 0!==metadata.multicursorText?metadata.multicursorText:null,mode=metadata.mode),focusedEditor.trigger("keyboard","paste",{text:clipboardText,pasteOnNewLine:pasteOnNewLine,multicursorText:multicursorText,mode:mode})}}))(),!0)}return!1}),PasteAction.addImplementation(0,(accessor,args)=>(document.execCommand("paste"),!0))),supportsCopyWithSyntaxHighlighting&&Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(ExecCommandCopyWithSyntaxHighlightingAction)},2516:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2301),_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2498);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.m)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.f.ID,_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.f),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.e),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.g),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.h),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.d),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.a),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(_codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.c),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new _codeActionCommands_js__WEBPACK_IMPORTED_MODULE_1__.b)},2517:function(module,exports,__webpack_require__){var content=__webpack_require__(2518);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2518:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n@-webkit-keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\t-webkit-animation: fadeIn 150ms ease-out;\n\t        animation: fadeIn 150ms ease-out;\n}\n\n@-webkit-keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\t-webkit-animation: fadeOut 100ms ease-out;\n\t        animation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n",""])},2519:function(module,exports,__webpack_require__){var content=__webpack_require__(2520);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2520:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lightbulb-glyph,\n.monaco-editor .codicon-lightbulb {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 16px;\n\twidth: 20px;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .lightbulb-glyph:hover,\n.monaco-editor .codicon-lightbulb:hover {\n\tcursor: pointer;\n\t/* transform: scale(1.3, 1.3); */\n}\n",""])},2521:function(module,exports,__webpack_require__){var content=__webpack_require__(2522);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2522:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .codelens-decoration > span,\n.monaco-editor .codelens-decoration > a {\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration > a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration > a:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@-webkit-keyframes fadein {\n\t0% { opacity: 0; visibility: visible;}\n\t100% { opacity: 1; }\n}\n\n@keyframes fadein {\n\t0% { opacity: 0; visibility: visible;}\n\t100% { opacity: 1; }\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\t-webkit-animation: fadein 0.1s linear;\n\t        animation: fadein 0.1s linear;\n}\n",""])},2523:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ContextMenuController",function(){return ContextMenuController});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2298),_base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2337),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2301),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2312),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2323),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2307),_platform_contextview_browser_contextView_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2355),_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2325),_base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2380),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let ContextMenuController=class ContextMenuController{constructor(editor,_contextMenuService,_contextViewService,_contextKeyService,_keybindingService,_menuService){this._contextMenuService=_contextMenuService,this._contextViewService=_contextViewService,this._contextKeyService=_contextKeyService,this._keybindingService=_keybindingService,this._menuService=_menuService,this._toDispose=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b,this._contextMenuIsBeingShownCount=0,this._editor=editor,this._toDispose.add(this._editor.onContextMenu(e=>this._onContextMenu(e))),this._toDispose.add(this._editor.onMouseWheel(e=>{if(this._contextMenuIsBeingShownCount>0){const view=this._contextViewService.getContextViewElement(),target=e.srcElement;target.shadowRoot&&_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.E(view)===target.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())}))}static get(editor){return editor.getContribution(ContextMenuController.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(15))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let hasSelectionAtPosition=!1;for(const selection of this._editor.getSelections())if(selection.containsPosition(e.target.position)){hasSelectionAtPosition=!0;break}hasSelectionAtPosition||this._editor.setPosition(e.target.position)}let anchor=null;1!==e.target.type&&(anchor={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(anchor)}showContextMenu(anchor){if(!this._editor.getOption(15))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const menuActions=this._getMenuActions(this._editor.getModel(),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_6__.b.EditorContext);menuActions.length>0&&this._doShowContextMenu(menuActions,anchor)}_getMenuActions(model,menuId){const result=[],menu=this._menuService.createMenu(menuId,this._contextKeyService),groups=menu.getActions({arg:model.uri});menu.dispose();for(let group of groups){const[,actions]=group;let addedItems=0;for(const action of actions)if(action instanceof _platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_6__.e){const subActions=this._getMenuActions(model,action.item.submenu);subActions.length>0&&(result.push(new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.d(action.id,action.label,subActions)),addedItems++)}else result.push(action),addedItems++;addedItems&&result.push(new _base_common_actions_js__WEBPACK_IMPORTED_MODULE_2__.c)}return result.length&&result.pop(),result}_doShowContextMenu(actions,anchor=null){if(!this._editor.hasModel())return;const oldHoverSetting=this._editor.getOption(46);if(this._editor.updateOptions({hover:{enabled:!1}}),!anchor){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const cursorCoords=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),editorCoords=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.C(this._editor.getDomNode()),posx=editorCoords.left+cursorCoords.left,posy=editorCoords.top+cursorCoords.top+cursorCoords.height;anchor={x:posx,y:posy}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>anchor,getActions:()=>actions,getActionViewItem:action=>{const keybinding=this._keybindingFor(action);if(keybinding)return new _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_10__.a(action,action,{label:!0,keybinding:keybinding.getLabel(),isMenu:!0});const customActionViewItem=action;return"function"==typeof customActionViewItem.getActionViewItem?customActionViewItem.getActionViewItem():new _base_browser_ui_actionbar_actionViewItems_js__WEBPACK_IMPORTED_MODULE_10__.a(action,action,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:action=>this._keybindingFor(action),onHide:wasCancelled=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:oldHoverSetting})}})}_keybindingFor(action){return this._keybindingService.lookupKeybinding(action.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};ContextMenuController.ID="editor.contrib.contextmenu",ContextMenuController=__decorate([__param(1,_platform_contextview_browser_contextView_js__WEBPACK_IMPORTED_MODULE_8__.a),__param(2,_platform_contextview_browser_contextView_js__WEBPACK_IMPORTED_MODULE_8__.b),__param(3,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_7__.b),__param(4,_platform_keybinding_common_keybinding_js__WEBPACK_IMPORTED_MODULE_9__.a),__param(5,_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_6__.a)],ContextMenuController);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.m)(ContextMenuController.ID,ContextMenuController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class ShowContextMenu extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.showContextMenu",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_5__.a.textInputFocus,primary:1092,weight:100}})}run(accessor,editor){ContextMenuController.get(editor).showContextMenu()}})},2524:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\ttext-align: right;\n\twhite-space: nowrap;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar.animated.vertical .action-item.active {\n\ttransform: translate(5px, 0);\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n",""])},2525:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CursorUndoRedoController",function(){return CursorUndoRedoController}),__webpack_require__.d(__webpack_exports__,"CursorUndo",function(){return CursorUndo}),__webpack_require__.d(__webpack_exports__,"CursorRedo",function(){return CursorRedo});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2301),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2312);class CursorState{constructor(selections){this.selections=selections}equals(other){const thisLen=this.selections.length;if(thisLen!==other.selections.length)return!1;for(let i=0;i<thisLen;i++)if(!this.selections[i].equalsSelection(other.selections[i]))return!1;return!0}}class StackElement{constructor(cursorState,scrollTop,scrollLeft){this.cursorState=cursorState,this.scrollTop=scrollTop,this.scrollLeft=scrollLeft}}class CursorUndoRedoController extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(editor){super(),this._editor=editor,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(editor.onDidChangeModel(e=>{this._undoStack=[],this._redoStack=[]})),this._register(editor.onDidChangeModelContent(e=>{this._undoStack=[],this._redoStack=[]})),this._register(editor.onDidChangeCursorSelection(e=>{if(this._isCursorUndoRedo)return;if(!e.oldSelections)return;if(e.oldModelVersionId!==e.modelVersionId)return;const prevState=new CursorState(e.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(prevState)||(this._undoStack.push(new StackElement(prevState,editor.getScrollTop(),editor.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(editor){return editor.getContribution(CursorUndoRedoController.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new StackElement(new CursorState(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new StackElement(new CursorState(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(stackElement){this._isCursorUndoRedo=!0,this._editor.setSelections(stackElement.cursorState.selections),this._editor.setScrollPosition({scrollTop:stackElement.scrollTop,scrollLeft:stackElement.scrollLeft}),this._isCursorUndoRedo=!1}}CursorUndoRedoController.ID="editor.contrib.cursorUndoRedoController";class CursorUndo extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b{constructor(){super({id:"cursorUndo",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:2099,weight:100}})}run(accessor,editor,args){CursorUndoRedoController.get(editor).cursorUndo()}}class CursorRedo extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b{constructor(){super({id:"cursorRedo",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(accessor,editor,args){CursorUndoRedoController.get(editor).cursorRedo()}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.m)(CursorUndoRedoController.ID,CursorUndoRedoController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.k)(CursorUndo),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.k)(CursorRedo)},2526:function(module,exports,__webpack_require__){var content=__webpack_require__(2527);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2527:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}",""])},2528:function(module,exports,__webpack_require__){var content=__webpack_require__(2529);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2529:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-checkbox {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\topacity: 0.7;\n\twidth: 20px;\n\theight: 20px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-checkbox:hover,\n.monaco-custom-checkbox.checked {\n\topacity: 1;\n}\n\n.hc-black .monaco-custom-checkbox {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tbackground: none;\n}\n\n.monaco-custom-checkbox.monaco-simple-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n.monaco-custom-checkbox.monaco-simple-checkbox.unchecked:not(.checked)::before {\n\tvisibility: hidden;;\n}\n",""])},2530:function(module,exports,__webpack_require__){var content=__webpack_require__(2531);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2531:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 50;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .wrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .wrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .wrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1 1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\topacity: 0.3;\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\t-webkit-animation-duration: 0;\n\t        animation-duration: 0;\n\t-webkit-animation-name: inherit !important;\n\t        animation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n",""])},2532:function(module,exports,__webpack_require__){var content=__webpack_require__(2533);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2533:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled).orthogonal-start::before,\n.monaco-sash.debug:not(.disabled).orthogonal-end::after {\n\tbackground: red;\n}\n",""])},2534:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls {\n\t-webkit-animation: monaco-findInput-highlight-0 100ms linear 0s;\n\t        animation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n.monaco-findInput.highlight-1 .controls {\n\t-webkit-animation: monaco-findInput-highlight-1 100ms linear 0s;\n\t        animation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\t-webkit-animation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n\t        animation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\t-webkit-animation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n\t        animation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@-webkit-keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@-webkit-keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@-webkit-keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@-webkit-keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}",""])},2535:function(module,exports,__webpack_require__){var content=__webpack_require__(2536);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2536:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .wrapper > .input,\n.monaco-inputbox > .wrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .wrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .wrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .wrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .wrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .wrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .wrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .wrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmin-height: 34px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""])},2537:function(module,exports,__webpack_require__){var content=__webpack_require__(2538);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2538:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n.vs .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n.hc-black .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n.hc-black .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n.hc-black .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n.vs-dark .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n.vs-dark .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n.vs-dark .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n.hc-black .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n",""])},2539:function(module,exports,__webpack_require__){var content=__webpack_require__(2540);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2540:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n',""])},2541:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2301),_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2396);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class EditorFontZoomIn extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.fontZoomIn",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.setZoomLevel(_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.getZoomLevel()+1)}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class EditorFontZoomOut extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.fontZoomOut",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.setZoomLevel(_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.getZoomLevel()-1)}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class EditorFontZoomReset extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.fontZoomReset",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_2__.a.setZoomLevel(0)}})},2542:function(module,exports,__webpack_require__){var content=__webpack_require__(2543);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2543:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\t-moz-user-select: text;\n\t     user-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n",""])},2544:function(module,exports,__webpack_require__){var content=__webpack_require__(2545);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2545:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tcursor: pointer;\n\tmin-width: 0;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-item {\n\tmargin-left: 4px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-label {\n\twidth: 16px;\n\theight: 100%;\n\tmargin: 0;\n\tline-height: inherit;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar .action-label.codicon {\n\tmargin: 0;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n",""])},2546:function(module,exports,__webpack_require__){var content=__webpack_require__(2547);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2547:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n",""])},2548:function(module,exports,__webpack_require__){var content=__webpack_require__(2549);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2549:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n",""])},2550:function(module,exports,__webpack_require__){var content=__webpack_require__(2551);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2551:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n",""])},2552:function(module,exports,__webpack_require__){var content=__webpack_require__(2553);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2553:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n\n/* The following selector looks a bit funny, but that is needed to cover all the workbench and the editor!! */\n.vs-dark .mac .monaco-mouse-cursor-text, .hc-black .mac .monaco-mouse-cursor-text,\n.vs-dark.mac .monaco-mouse-cursor-text, .hc-black.mac .monaco-mouse-cursor-text {\n\tcursor: -webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x, url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8, text;\n}\n",""])},2554:function(module,exports,__webpack_require__){var content=__webpack_require__(2555);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2555:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""])},2556:function(module,exports,__webpack_require__){var content=__webpack_require__(2557);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2557:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}",""])},2558:function(module,exports,__webpack_require__){var content=__webpack_require__(2559);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2559:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n",""])},2560:function(module,exports,__webpack_require__){var content=__webpack_require__(2561);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2561:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcigr = core ident guides rendering (div)\n*/\n.monaco-editor .lines-content .cigr {\n\tposition: absolute;\n}\n.monaco-editor .lines-content .cigra {\n\tposition: absolute;\n}\n",""])},2562:function(module,exports,__webpack_require__){var content=__webpack_require__(2563);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2563:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""])},2564:function(module,exports,__webpack_require__){var content=__webpack_require__(2565);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2565:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""])},2566:function(module,exports,__webpack_require__){var content=__webpack_require__(2567);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2567:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""])},2568:function(module,exports,__webpack_require__){var content=__webpack_require__(2569);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2569:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n",""])},2570:function(module,exports,__webpack_require__){var content=__webpack_require__(2571);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2571:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""])},2572:function(module,exports,__webpack_require__){var content=__webpack_require__(2573);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2573:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}",""])},2574:function(module,exports,__webpack_require__){var content=__webpack_require__(2575);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2575:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}",""])},2576:function(module,exports,__webpack_require__){var content=__webpack_require__(2577);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2577:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""])},2578:function(module,exports,__webpack_require__){var content=__webpack_require__(2579);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2579:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n@-webkit-keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@-webkit-keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@-webkit-keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\t-webkit-animation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n\t        animation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\t-webkit-animation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n\t        animation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\t-webkit-animation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n\t        animation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""])},2580:function(module,exports,__webpack_require__){var content=__webpack_require__(2581);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2581:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""])},2582:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n}\n",""])},2583:function(module,exports,__webpack_require__){var content=__webpack_require__(2584);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2584:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n",""])},2585:function(module,exports,__webpack_require__){var content=__webpack_require__(2586);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2586:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/Microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tpadding: 0 16px 0 5px;\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""])},2587:function(module,exports,__webpack_require__){var content=__webpack_require__(2588);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2588:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""])},2589:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing:\tborder-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused, .monaco-list.selection-single, .monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n.monaco-list:focus .monaco-list-row.selected .codicon {\n\tcolor: inherit;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n}\n\n/* Type filter */\n\n.monaco-list-type-filter {\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tborder-radius: 2px;\n\tpadding: 0px 3px;\n\tmax-width: calc(100% - 10px);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: right;\n\tbox-sizing: border-box;\n\tcursor: all-scroll;\n\tfont-size: 13px;\n\tline-height: 18px;\n\theight: 20px;\n\tz-index: 1;\n\ttop: 4px;\n}\n\n.monaco-list-type-filter.dragging {\n\ttransition: top 0.2s, left 0.2s;\n}\n\n.monaco-list-type-filter.ne {\n\tright: 4px;\n}\n\n.monaco-list-type-filter.nw {\n\tleft: 4px;\n}\n\n.monaco-list-type-filter > .controls {\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\ttransition: width 0.2s;\n\twidth: 0;\n}\n\n.monaco-list-type-filter.dragging > .controls,\n.monaco-list-type-filter:hover > .controls {\n\twidth: 36px;\n}\n\n.monaco-list-type-filter > .controls > * {\n\tborder: none;\n\tbox-sizing: border-box;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tbackground: none;\n\twidth: 16px;\n\theight: 16px;\n\tflex-shrink: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.monaco-list-type-filter > .controls > .filter {\n\tmargin-left: 4px;\n}\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n\n/* Electron */\n\n.monaco-list-type-filter {\n\tcursor: -webkit-grab;\n\tcursor: grab;\n}\n\n.monaco-list-type-filter.dragging {\n\tcursor: -webkit-grabbing;\n\tcursor: grabbing;\n}\n",""])},2590:function(module,exports,__webpack_require__){var content=__webpack_require__(2591);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2591:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcolor: inherit !important;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\t-webkit-animation: codicon-spin 1.25s steps(30) infinite;\n\t        animation: codicon-spin 1.25s steps(30) infinite;\n}\n",""])},2592:function(module,exports,__webpack_require__){var content=__webpack_require__(2593);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2593:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""])},2594:function(module,exports,__webpack_require__){var content=__webpack_require__(2595);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2595:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}",""])},2596:function(module,exports,__webpack_require__){var content=__webpack_require__(2597);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2597:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .colorpicker-hover:focus {\n\toutline: none;\n}\n\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\t-ms-interpolation-mode: nearest-neighbor;\n\t    image-rendering: -moz-crisp-edges;\n\t    image-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\ttext-align: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1 1;\n\ttext-align: center;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: -webkit-grab;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: -webkit-grab;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\t-ms-interpolation-mode: nearest-neighbor;\n\t    image-rendering: -moz-crisp-edges;\n\t    image-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: -webkit-grabbing;\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n',""])},2598:function(module,exports,__webpack_require__){var content=__webpack_require__(2599);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2599:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\t-moz-user-select: text;\n\t     user-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\t-webkit-animation: fadein 100ms linear;\n\t        animation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover .hover-contents {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\t/* This is a strange rule but it avoids https://github.com/microsoft/vscode/issues/96795, just 100vw on its own caused the actual hover width to increase */\n\tmin-width: calc(100% + 100vw);\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -10px;\n\tmargin-right: -10px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n\tword-break: break-all;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n",""])},2600:function(module,exports,__webpack_require__){module.exports=function(){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(it=o[Symbol.iterator]()).next.bind(it)}var defaults=function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}(function(module){function getDefaults(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}module.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:getDefaults,changeDefaults:function changeDefaults(newDefaults){module.exports.defaults=newDefaults}}}),escapeTest=(defaults.defaults,defaults.getDefaults,defaults.changeDefaults,/[&<>"']/),escapeReplace=/[&<>"']/g,escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g,escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=function getEscapeReplacement(ch){return escapeReplacements[ch]},unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape(html){return html.replace(unescapeTest,function(_,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""})}var caret=/(^|[^\[])\^/g,nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(base,href){baseUrls[" "+base]||(justDomain.test(base)?baseUrls[" "+base]=base+"/":baseUrls[" "+base]=rtrim(base,"/",!0));var relativeBase=-1===(base=baseUrls[" "+base]).indexOf(":");return"//"===href.substring(0,2)?relativeBase?href:base.replace(protocol,"$1")+href:"/"===href.charAt(0)?relativeBase?href:base.replace(domain,"$1")+href:base+href}function rtrim(str,c,invert){var l=str.length;if(0===l)return"";for(var suffLen=0;suffLen<l;){var currChar=str.charAt(l-suffLen-1);if(currChar!==c||invert){if(currChar===c||!invert)break;suffLen++}else suffLen++}return str.substr(0,l-suffLen)}var helpers={escape:function escape(html,encode){if(encode){if(escapeTest.test(html))return html.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(html))return html.replace(escapeReplaceNoEncode,getEscapeReplacement);return html},unescape:unescape,edit:function edit(regex,opt){regex=regex.source||regex,opt=opt||"";var obj={replace:function replace(name,val){return val=(val=val.source||val).replace(caret,"$1"),regex=regex.replace(name,val),obj},getRegex:function getRegex(){return new RegExp(regex,opt)}};return obj},cleanUrl:function cleanUrl(sanitize,base,href){if(sanitize){var prot;try{prot=decodeURIComponent(unescape(href)).replace(nonWordAndColonTest,"").toLowerCase()}catch(e){return null}if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:")||0===prot.indexOf("data:"))return null}base&&!originIndependentUrl.test(href)&&(href=resolveUrl(base,href));try{href=encodeURI(href).replace(/%25/g,"%")}catch(e){return null}return href},resolveUrl:resolveUrl,noopTest:{exec:function noopTest(){}},merge:function merge(obj){for(var target,key,i=1;i<arguments.length;i++)for(key in target=arguments[i])Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key]);return obj},splitCells:function splitCells(tableRow,count){var cells=tableRow.replace(/\|/g,function(match,offset,str){for(var escaped=!1,curr=offset;--curr>=0&&"\\"===str[curr];)escaped=!escaped;return escaped?"|":" |"}).split(/ \|/),i=0;if(cells.length>count)cells.splice(count);else for(;cells.length<count;)cells.push("");for(;i<cells.length;i++)cells[i]=cells[i].trim().replace(/\\\|/g,"|");return cells},rtrim:rtrim,findClosingBracket:function findClosingBracket(str,b){if(-1===str.indexOf(b[1]))return-1;for(var l=str.length,level=0,i=0;i<l;i++)if("\\"===str[i])i++;else if(str[i]===b[0])level++;else if(str[i]===b[1]&&--level<0)return i;return-1},checkSanitizeDeprecation:function checkSanitizeDeprecation(opt){opt&&opt.sanitize&&opt.silent}},defaults$1=defaults.defaults,rtrim$1=helpers.rtrim,splitCells$1=helpers.splitCells,_escape=helpers.escape,findClosingBracket$1=helpers.findClosingBracket;function outputLink(cap,link,raw){var href=link.href,title=link.title?_escape(link.title):null,text=cap[1].replace(/\\([\[\]])/g,"$1");return"!"!==cap[0].charAt(0)?{type:"link",raw:raw,href:href,title:title,text:text}:{type:"image",raw:raw,href:href,title:title,text:_escape(text)}}var Tokenizer_1=function(){function Tokenizer(options){this.options=options||defaults$1}var _proto=Tokenizer.prototype;return _proto.space=function space(src){var cap=this.rules.block.newline.exec(src);if(cap)return cap[0].length>1?{type:"space",raw:cap[0]}:{raw:"\n"}},_proto.code=function code(src,tokens){var cap=this.rules.block.code.exec(src);if(cap){var lastToken=tokens[tokens.length-1];if(lastToken&&"paragraph"===lastToken.type)return{raw:cap[0],text:cap[0].trimRight()};var text=cap[0].replace(/^ {4}/gm,"");return{type:"code",raw:cap[0],codeBlockStyle:"indented",text:this.options.pedantic?text:rtrim$1(text,"\n")}}},_proto.fences=function fences(src){var cap=this.rules.block.fences.exec(src);if(cap){var raw=cap[0],text=function indentCodeCompensation(raw,text){var matchIndentToCode=raw.match(/^(\s+)(?:```)/);if(null===matchIndentToCode)return text;var indentToCode=matchIndentToCode[1];return text.split("\n").map(function(node){var matchIndentInNode=node.match(/^\s+/);if(null===matchIndentInNode)return node;var indentInNode=matchIndentInNode[0];return indentInNode.length>=indentToCode.length?node.slice(indentToCode.length):node}).join("\n")}(raw,cap[3]||"");return{type:"code",raw:raw,lang:cap[2]?cap[2].trim():cap[2],text:text}}},_proto.heading=function heading(src){var cap=this.rules.block.heading.exec(src);if(cap)return{type:"heading",raw:cap[0],depth:cap[1].length,text:cap[2]}},_proto.nptable=function nptable(src){var cap=this.rules.block.nptable.exec(src);if(cap){var item={type:"table",header:splitCells$1(cap[1].replace(/^ *| *\| *$/g,"")),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3]?cap[3].replace(/\n$/,"").split("\n"):[],raw:cap[0]};if(item.header.length===item.align.length){var i,l=item.align.length;for(i=0;i<l;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(l=item.cells.length,i=0;i<l;i++)item.cells[i]=splitCells$1(item.cells[i],item.header.length);return item}}},_proto.hr=function hr(src){var cap=this.rules.block.hr.exec(src);if(cap)return{type:"hr",raw:cap[0]}},_proto.blockquote=function blockquote(src){var cap=this.rules.block.blockquote.exec(src);if(cap){var text=cap[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:cap[0],text:text}}},_proto.list=function list(src){var cap=this.rules.block.list.exec(src);if(cap){for(var item,space,b,addBack,loose,istask,ischecked,raw=cap[0],bull=cap[2],isordered=bull.length>1,isparen=")"===bull[bull.length-1],list={type:"list",raw:raw,ordered:isordered,start:isordered?+bull.slice(0,-1):"",loose:!1,items:[]},itemMatch=cap[0].match(this.rules.block.item),next=!1,l=itemMatch.length,i=0;i<l;i++)item=itemMatch[i],raw=item,space=item.length,~(item=item.replace(/^ *([*+-]|\d+[.)]) */,"")).indexOf("\n ")&&(space-=item.length,item=this.options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),i!==l-1&&(b=this.rules.block.bullet.exec(itemMatch[i+1])[0],(isordered?1===b.length||!isparen&&")"===b[b.length-1]:b.length>1||this.options.smartLists&&b!==bull)&&(addBack=itemMatch.slice(i+1).join("\n"),list.raw=list.raw.substring(0,list.raw.length-addBack.length),i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"===item.charAt(item.length-1),loose||(loose=next)),loose&&(list.loose=!0),istask=/^\[[ xX]\] /.test(item),ischecked=void 0,istask&&(ischecked=" "!==item[1],item=item.replace(/^\[[ xX]\] +/,"")),list.items.push({type:"list_item",raw:raw,task:istask,checked:ischecked,loose:loose,text:item});return list}},_proto.html=function html(src){var cap=this.rules.block.html.exec(src);if(cap)return{type:this.options.sanitize?"paragraph":"html",raw:cap[0],pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):_escape(cap[0]):cap[0]}},_proto.def=function def(src){var cap=this.rules.block.def.exec(src);if(cap){cap[3]&&(cap[3]=cap[3].substring(1,cap[3].length-1));var tag=cap[1].toLowerCase().replace(/\s+/g," ");return{tag:tag,raw:cap[0],href:cap[2],title:cap[3]}}},_proto.table=function table(src){var cap=this.rules.block.table.exec(src);if(cap){var item={type:"table",header:splitCells$1(cap[1].replace(/^ *| *\| *$/g,"")),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3]?cap[3].replace(/\n$/,"").split("\n"):[]};if(item.header.length===item.align.length){item.raw=cap[0];var i,l=item.align.length;for(i=0;i<l;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(l=item.cells.length,i=0;i<l;i++)item.cells[i]=splitCells$1(item.cells[i].replace(/^ *\| *| *\| *$/g,""),item.header.length);return item}}},_proto.lheading=function lheading(src){var cap=this.rules.block.lheading.exec(src);if(cap)return{type:"heading",raw:cap[0],depth:"="===cap[2].charAt(0)?1:2,text:cap[1]}},_proto.paragraph=function paragraph(src){var cap=this.rules.block.paragraph.exec(src);if(cap)return{type:"paragraph",raw:cap[0],text:"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]}},_proto.text=function text(src,tokens){var cap=this.rules.block.text.exec(src);if(cap){var lastToken=tokens[tokens.length-1];return lastToken&&"text"===lastToken.type?{raw:cap[0],text:cap[0]}:{type:"text",raw:cap[0],text:cap[0]}}},_proto.escape=function escape(src){var cap=this.rules.inline.escape.exec(src);if(cap)return{type:"escape",raw:cap[0],text:_escape(cap[1])}},_proto.tag=function tag(src,inLink,inRawBlock){var cap=this.rules.inline.tag.exec(src);if(cap)return!inLink&&/^<a /i.test(cap[0])?inLink=!0:inLink&&/^<\/a>/i.test(cap[0])&&(inLink=!1),!inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])?inRawBlock=!0:inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])&&(inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:cap[0],inLink:inLink,inRawBlock:inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):_escape(cap[0]):cap[0]}},_proto.link=function link(src){var cap=this.rules.inline.link.exec(src);if(cap){var lastParenIndex=findClosingBracket$1(cap[2],"()");if(lastParenIndex>-1){var start=0===cap[0].indexOf("!")?5:4,linkLen=start+cap[1].length+lastParenIndex;cap[2]=cap[2].substring(0,lastParenIndex),cap[0]=cap[0].substring(0,linkLen).trim(),cap[3]=""}var href=cap[2],title="";if(this.options.pedantic){var link=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);link?(href=link[1],title=link[3]):title=""}else title=cap[3]?cap[3].slice(1,-1):"";href=href.trim().replace(/^<([\s\S]*)>$/,"$1");var token=outputLink(cap,{href:href?href.replace(this.rules.inline._escapes,"$1"):href,title:title?title.replace(this.rules.inline._escapes,"$1"):title},cap[0]);return token}},_proto.reflink=function reflink(src,links){var cap;if((cap=this.rules.inline.reflink.exec(src))||(cap=this.rules.inline.nolink.exec(src))){var link=(cap[2]||cap[1]).replace(/\s+/g," ");if(!(link=links[link.toLowerCase()])||!link.href){var text=cap[0].charAt(0);return{type:"text",raw:text,text:text}}var token=outputLink(cap,link,cap[0]);return token}},_proto.strong=function strong(src,maskedSrc,prevChar){void 0===prevChar&&(prevChar="");var match=this.rules.inline.strong.start.exec(src);if(match&&(!match[1]||match[1]&&(""===prevChar||this.rules.inline.punctuation.exec(prevChar)))){maskedSrc=maskedSrc.slice(-1*src.length);var cap,endReg="**"===match[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(endReg.lastIndex=0;null!=(match=endReg.exec(maskedSrc));)if(cap=this.rules.inline.strong.middle.exec(maskedSrc.slice(0,match.index+3)))return{type:"strong",raw:src.slice(0,cap[0].length),text:src.slice(2,cap[0].length-2)}}},_proto.em=function em(src,maskedSrc,prevChar){void 0===prevChar&&(prevChar="");var match=this.rules.inline.em.start.exec(src);if(match&&(!match[1]||match[1]&&(""===prevChar||this.rules.inline.punctuation.exec(prevChar)))){maskedSrc=maskedSrc.slice(-1*src.length);var cap,endReg="*"===match[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(endReg.lastIndex=0;null!=(match=endReg.exec(maskedSrc));)if(cap=this.rules.inline.em.middle.exec(maskedSrc.slice(0,match.index+2)))return{type:"em",raw:src.slice(0,cap[0].length),text:src.slice(1,cap[0].length-1)}}},_proto.codespan=function codespan(src){var cap=this.rules.inline.code.exec(src);if(cap){var text=cap[2].replace(/\n/g," "),hasNonSpaceChars=/[^ ]/.test(text),hasSpaceCharsOnBothEnds=text.startsWith(" ")&&text.endsWith(" ");return hasNonSpaceChars&&hasSpaceCharsOnBothEnds&&(text=text.substring(1,text.length-1)),text=_escape(text,!0),{type:"codespan",raw:cap[0],text:text}}},_proto.br=function br(src){var cap=this.rules.inline.br.exec(src);if(cap)return{type:"br",raw:cap[0]}},_proto.del=function del(src){var cap=this.rules.inline.del.exec(src);if(cap)return{type:"del",raw:cap[0],text:cap[1]}},_proto.autolink=function autolink(src,mangle){var text,href,cap=this.rules.inline.autolink.exec(src);if(cap)return"@"===cap[2]?(text=_escape(this.options.mangle?mangle(cap[1]):cap[1]),href="mailto:"+text):(text=_escape(cap[1]),href=text),{type:"link",raw:cap[0],text:text,href:href,tokens:[{type:"text",raw:text,text:text}]}},_proto.url=function url(src,mangle){var cap;if(cap=this.rules.inline.url.exec(src)){var text,href;if("@"===cap[2])text=_escape(this.options.mangle?mangle(cap[0]):cap[0]),href="mailto:"+text;else{var prevCapZero;do{prevCapZero=cap[0],cap[0]=this.rules.inline._backpedal.exec(cap[0])[0]}while(prevCapZero!==cap[0]);text=_escape(cap[0]),href="www."===cap[1]?"http://"+text:text}return{type:"link",raw:cap[0],text:text,href:href,tokens:[{type:"text",raw:text,text:text}]}}},_proto.inlineText=function inlineText(src,inRawBlock,smartypants){var text,cap=this.rules.inline.text.exec(src);if(cap)return text=inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):_escape(cap[0]):cap[0]:_escape(this.options.smartypants?smartypants(cap[0]):cap[0]),{type:"text",raw:cap[0],text:text}},Tokenizer}(),noopTest$1=helpers.noopTest,edit$1=helpers.edit,merge$1=helpers.merge,block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:noopTest$1,table:noopTest$1,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};block.def=edit$1(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}[.)])/,block.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,block.item=edit$1(block.item,"gm").replace(/bull/g,block.bullet).getRegex(),block.list=edit$1(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,block.html=edit$1(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.paragraph=edit$1(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.blockquote=edit$1(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal=merge$1({},block),block.gfm=merge$1({},block.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),block.gfm.nptable=edit$1(block.gfm.nptable).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.gfm.table=edit$1(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.pedantic=merge$1({},block.normal,{html:edit$1("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:noopTest$1,paragraph:edit$1(block.normal._paragraph).replace("hr",block.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest$1,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest$1,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};inline.punctuation=edit$1(inline.punctuation).replace(/punctuation/g,inline._punctuation).getRegex(),inline._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",inline._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",inline._comment=edit$1(block._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),inline.em.start=edit$1(inline.em.start).replace(/punctuation/g,inline._punctuation).getRegex(),inline.em.middle=edit$1(inline.em.middle).replace(/punctuation/g,inline._punctuation).replace(/overlapSkip/g,inline._overlapSkip).getRegex(),inline.em.endAst=edit$1(inline.em.endAst,"g").replace(/punctuation/g,inline._punctuation).getRegex(),inline.em.endUnd=edit$1(inline.em.endUnd,"g").replace(/punctuation/g,inline._punctuation).getRegex(),inline.strong.start=edit$1(inline.strong.start).replace(/punctuation/g,inline._punctuation).getRegex(),inline.strong.middle=edit$1(inline.strong.middle).replace(/punctuation/g,inline._punctuation).replace(/blockSkip/g,inline._blockSkip).getRegex(),inline.strong.endAst=edit$1(inline.strong.endAst,"g").replace(/punctuation/g,inline._punctuation).getRegex(),inline.strong.endUnd=edit$1(inline.strong.endUnd,"g").replace(/punctuation/g,inline._punctuation).getRegex(),inline.blockSkip=edit$1(inline._blockSkip,"g").getRegex(),inline.overlapSkip=edit$1(inline._overlapSkip,"g").getRegex(),inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit$1(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit$1(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,inline._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit$1(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit$1(inline.reflink).replace("label",inline._label).getRegex(),inline.reflinkSearch=edit$1(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex(),inline.normal=merge$1({},inline),inline.pedantic=merge$1({},inline.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit$1(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()}),inline.gfm=merge$1({},inline.normal,{escape:edit$1(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),inline.gfm.url=edit$1(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks=merge$1({},inline.gfm,{br:edit$1(inline.br).replace("{2,}","*").getRegex(),text:edit$1(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var rules={block:block,inline:inline},defaults$2=defaults.defaults,block$1=rules.block,inline$1=rules.inline;function smartypants(text){return text.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function mangle(text){var i,ch,out="",l=text.length;for(i=0;i<l;i++)ch=text.charCodeAt(i),Math.random()>.5&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out}var Lexer_1=function(){function Lexer(options){this.tokens=[],this.tokens.links=Object.create(null),this.options=options||defaults$2,this.options.tokenizer=this.options.tokenizer||new Tokenizer_1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var rules={block:block$1.normal,inline:inline$1.normal};this.options.pedantic?(rules.block=block$1.pedantic,rules.inline=inline$1.pedantic):this.options.gfm&&(rules.block=block$1.gfm,this.options.breaks?rules.inline=inline$1.breaks:rules.inline=inline$1.gfm),this.tokenizer.rules=rules}Lexer.lex=function lex(src,options){var lexer=new Lexer(options);return lexer.lex(src)};var _proto=Lexer.prototype;return _proto.lex=function lex(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(src,this.tokens,!0),this.inline(this.tokens),this.tokens},_proto.blockTokens=function blockTokens(src,tokens,top){var token,i,l,lastToken;for(void 0===tokens&&(tokens=[]),void 0===top&&(top=!0),src=src.replace(/^ +$/gm,"");src;)if(token=this.tokenizer.space(src))src=src.substring(token.raw.length),token.type&&tokens.push(token);else if(token=this.tokenizer.code(src,tokens))src=src.substring(token.raw.length),token.type?tokens.push(token):((lastToken=tokens[tokens.length-1]).raw+="\n"+token.raw,lastToken.text+="\n"+token.text);else if(token=this.tokenizer.fences(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.heading(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.nptable(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.hr(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.blockquote(src))src=src.substring(token.raw.length),token.tokens=this.blockTokens(token.text,[],top),tokens.push(token);else if(token=this.tokenizer.list(src)){for(src=src.substring(token.raw.length),l=token.items.length,i=0;i<l;i++)token.items[i].tokens=this.blockTokens(token.items[i].text,[],!1);tokens.push(token)}else if(token=this.tokenizer.html(src))src=src.substring(token.raw.length),tokens.push(token);else if(top&&(token=this.tokenizer.def(src)))src=src.substring(token.raw.length),this.tokens.links[token.tag]||(this.tokens.links[token.tag]={href:token.href,title:token.title});else if(token=this.tokenizer.table(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.lheading(src))src=src.substring(token.raw.length),tokens.push(token);else if(top&&(token=this.tokenizer.paragraph(src)))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.text(src,tokens))src=src.substring(token.raw.length),token.type?tokens.push(token):((lastToken=tokens[tokens.length-1]).raw+="\n"+token.raw,lastToken.text+="\n"+token.text);else if(src){var errMsg="Infinite loop on byte: "+src.charCodeAt(0);if(this.options.silent){console.error(errMsg);break}throw new Error(errMsg)}return tokens},_proto.inline=function inline(tokens){var i,j,k,l2,row,token,l=tokens.length;for(i=0;i<l;i++)switch((token=tokens[i]).type){case"paragraph":case"text":case"heading":token.tokens=[],this.inlineTokens(token.text,token.tokens);break;case"table":for(token.tokens={header:[],cells:[]},l2=token.header.length,j=0;j<l2;j++)token.tokens.header[j]=[],this.inlineTokens(token.header[j],token.tokens.header[j]);for(l2=token.cells.length,j=0;j<l2;j++)for(row=token.cells[j],token.tokens.cells[j]=[],k=0;k<row.length;k++)token.tokens.cells[j][k]=[],this.inlineTokens(row[k],token.tokens.cells[j][k]);break;case"blockquote":this.inline(token.tokens);break;case"list":for(l2=token.items.length,j=0;j<l2;j++)this.inline(token.items[j].tokens)}return tokens},_proto.inlineTokens=function inlineTokens(src,tokens,inLink,inRawBlock,prevChar){var token;void 0===tokens&&(tokens=[]),void 0===inLink&&(inLink=!1),void 0===inRawBlock&&(inRawBlock=!1),void 0===prevChar&&(prevChar="");var match,maskedSrc=src;if(this.tokens.links){var links=Object.keys(this.tokens.links);if(links.length>0)for(;null!=(match=this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc));)links.includes(match[0].slice(match[0].lastIndexOf("[")+1,-1))&&(maskedSrc=maskedSrc.slice(0,match.index)+"["+"a".repeat(match[0].length-2)+"]"+maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(match=this.tokenizer.rules.inline.blockSkip.exec(maskedSrc));)maskedSrc=maskedSrc.slice(0,match.index)+"["+"a".repeat(match[0].length-2)+"]"+maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;src;)if(token=this.tokenizer.escape(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.tag(src,inLink,inRawBlock))src=src.substring(token.raw.length),inLink=token.inLink,inRawBlock=token.inRawBlock,tokens.push(token);else if(token=this.tokenizer.link(src))src=src.substring(token.raw.length),"link"===token.type&&(token.tokens=this.inlineTokens(token.text,[],!0,inRawBlock)),tokens.push(token);else if(token=this.tokenizer.reflink(src,this.tokens.links))src=src.substring(token.raw.length),"link"===token.type&&(token.tokens=this.inlineTokens(token.text,[],!0,inRawBlock)),tokens.push(token);else if(token=this.tokenizer.strong(src,maskedSrc,prevChar))src=src.substring(token.raw.length),token.tokens=this.inlineTokens(token.text,[],inLink,inRawBlock),tokens.push(token);else if(token=this.tokenizer.em(src,maskedSrc,prevChar))src=src.substring(token.raw.length),token.tokens=this.inlineTokens(token.text,[],inLink,inRawBlock),tokens.push(token);else if(token=this.tokenizer.codespan(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.br(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.del(src))src=src.substring(token.raw.length),token.tokens=this.inlineTokens(token.text,[],inLink,inRawBlock),tokens.push(token);else if(token=this.tokenizer.autolink(src,mangle))src=src.substring(token.raw.length),tokens.push(token);else if(inLink||!(token=this.tokenizer.url(src,mangle))){if(token=this.tokenizer.inlineText(src,inRawBlock,smartypants))src=src.substring(token.raw.length),prevChar=token.raw.slice(-1),tokens.push(token);else if(src){var errMsg="Infinite loop on byte: "+src.charCodeAt(0);if(this.options.silent){console.error(errMsg);break}throw new Error(errMsg)}}else src=src.substring(token.raw.length),tokens.push(token);return tokens},function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Lexer,null,[{key:"rules",get:function get(){return{block:block$1,inline:inline$1}}}]),Lexer}(),defaults$3=defaults.defaults,cleanUrl$1=helpers.cleanUrl,escape$1=helpers.escape,Renderer_1=function(){function Renderer(options){this.options=options||defaults$3}var _proto=Renderer.prototype;return _proto.code=function code(_code,infostring,escaped){var lang=(infostring||"").match(/\S*/)[0];if(this.options.highlight){var out=this.options.highlight(_code,lang);null!=out&&out!==_code&&(escaped=!0,_code=out)}return lang?'<pre><code class="'+this.options.langPrefix+escape$1(lang,!0)+'">'+(escaped?_code:escape$1(_code,!0))+"</code></pre>\n":"<pre><code>"+(escaped?_code:escape$1(_code,!0))+"</code></pre>\n"},_proto.blockquote=function blockquote(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},_proto.html=function html(_html){return _html},_proto.heading=function heading(text,level,raw,slugger){return this.options.headerIds?"<h"+level+' id="'+this.options.headerPrefix+slugger.slug(raw)+'">'+text+"</h"+level+">\n":"<h"+level+">"+text+"</h"+level+">\n"},_proto.hr=function hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},_proto.list=function list(body,ordered,start){var type=ordered?"ol":"ul",startatt=ordered&&1!==start?' start="'+start+'"':"";return"<"+type+startatt+">\n"+body+"</"+type+">\n"},_proto.listitem=function listitem(text){return"<li>"+text+"</li>\n"},_proto.checkbox=function checkbox(checked){return"<input "+(checked?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_proto.paragraph=function paragraph(text){return"<p>"+text+"</p>\n"},_proto.table=function table(header,body){return body&&(body="<tbody>"+body+"</tbody>"),"<table>\n<thead>\n"+header+"</thead>\n"+body+"</table>\n"},_proto.tablerow=function tablerow(content){return"<tr>\n"+content+"</tr>\n"},_proto.tablecell=function tablecell(content,flags){var type=flags.header?"th":"td",tag=flags.align?"<"+type+' align="'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"},_proto.strong=function strong(text){return"<strong>"+text+"</strong>"},_proto.em=function em(text){return"<em>"+text+"</em>"},_proto.codespan=function codespan(text){return"<code>"+text+"</code>"},_proto.br=function br(){return this.options.xhtml?"<br/>":"<br>"},_proto.del=function del(text){return"<del>"+text+"</del>"},_proto.link=function link(href,title,text){if(null===(href=cleanUrl$1(this.options.sanitize,this.options.baseUrl,href)))return text;var out='<a href="'+escape$1(href)+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>"},_proto.image=function image(href,title,text){if(null===(href=cleanUrl$1(this.options.sanitize,this.options.baseUrl,href)))return text;var out='<img src="'+href+'" alt="'+text+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">"},_proto.text=function text(_text){return _text},Renderer}(),TextRenderer_1=function(){function TextRenderer(){}var _proto=TextRenderer.prototype;return _proto.strong=function strong(text){return text},_proto.em=function em(text){return text},_proto.codespan=function codespan(text){return text},_proto.del=function del(text){return text},_proto.html=function html(text){return text},_proto.text=function text(_text){return _text},_proto.link=function link(href,title,text){return""+text},_proto.image=function image(href,title,text){return""+text},_proto.br=function br(){return""},TextRenderer}(),Slugger_1=function(){function Slugger(){this.seen={}}var _proto=Slugger.prototype;return _proto.serialize=function serialize(value){return value.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_proto.getNextSafeSlug=function getNextSafeSlug(originalSlug,isDryRun){var slug=originalSlug,occurenceAccumulator=0;if(this.seen.hasOwnProperty(slug)){occurenceAccumulator=this.seen[originalSlug];do{slug=originalSlug+"-"+ ++occurenceAccumulator}while(this.seen.hasOwnProperty(slug))}return isDryRun||(this.seen[originalSlug]=occurenceAccumulator,this.seen[slug]=0),slug},_proto.slug=function slug(value,options){void 0===options&&(options={});var slug=this.serialize(value);return this.getNextSafeSlug(slug,options.dryrun)},Slugger}(),defaults$4=defaults.defaults,unescape$1=helpers.unescape,Parser_1=function(){function Parser(options){this.options=options||defaults$4,this.options.renderer=this.options.renderer||new Renderer_1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer_1,this.slugger=new Slugger_1}Parser.parse=function parse(tokens,options){var parser=new Parser(options);return parser.parse(tokens)};var _proto=Parser.prototype;return _proto.parse=function parse(tokens,top){void 0===top&&(top=!0);var i,j,k,l2,l3,row,cell,header,body,token,ordered,start,loose,itemBody,item,checked,task,checkbox,out="",l=tokens.length;for(i=0;i<l;i++)switch((token=tokens[i]).type){case"space":continue;case"hr":out+=this.renderer.hr();continue;case"heading":out+=this.renderer.heading(this.parseInline(token.tokens),token.depth,unescape$1(this.parseInline(token.tokens,this.textRenderer)),this.slugger);continue;case"code":out+=this.renderer.code(token.text,token.lang,token.escaped);continue;case"table":for(header="",cell="",l2=token.header.length,j=0;j<l2;j++)cell+=this.renderer.tablecell(this.parseInline(token.tokens.header[j]),{header:!0,align:token.align[j]});for(header+=this.renderer.tablerow(cell),body="",l2=token.cells.length,j=0;j<l2;j++){for(row=token.tokens.cells[j],cell="",l3=row.length,k=0;k<l3;k++)cell+=this.renderer.tablecell(this.parseInline(row[k]),{header:!1,align:token.align[k]});body+=this.renderer.tablerow(cell)}out+=this.renderer.table(header,body);continue;case"blockquote":body=this.parse(token.tokens),out+=this.renderer.blockquote(body);continue;case"list":for(ordered=token.ordered,start=token.start,loose=token.loose,l2=token.items.length,body="",j=0;j<l2;j++)item=token.items[j],checked=item.checked,task=item.task,itemBody="",item.task&&(checkbox=this.renderer.checkbox(checked),loose?item.tokens.length>0&&"text"===item.tokens[0].type?(item.tokens[0].text=checkbox+" "+item.tokens[0].text,item.tokens[0].tokens&&item.tokens[0].tokens.length>0&&"text"===item.tokens[0].tokens[0].type&&(item.tokens[0].tokens[0].text=checkbox+" "+item.tokens[0].tokens[0].text)):item.tokens.unshift({type:"text",text:checkbox}):itemBody+=checkbox),itemBody+=this.parse(item.tokens,loose),body+=this.renderer.listitem(itemBody,task,checked);out+=this.renderer.list(body,ordered,start);continue;case"html":out+=this.renderer.html(token.text);continue;case"paragraph":out+=this.renderer.paragraph(this.parseInline(token.tokens));continue;case"text":for(body=token.tokens?this.parseInline(token.tokens):token.text;i+1<l&&"text"===tokens[i+1].type;)token=tokens[++i],body+="\n"+(token.tokens?this.parseInline(token.tokens):token.text);out+=top?this.renderer.paragraph(body):body;continue;default:var errMsg='Token with "'+token.type+'" type was not found.';if(this.options.silent)return void console.error(errMsg);throw new Error(errMsg)}return out},_proto.parseInline=function parseInline(tokens,renderer){renderer=renderer||this.renderer;var i,token,out="",l=tokens.length;for(i=0;i<l;i++)switch((token=tokens[i]).type){case"escape":out+=renderer.text(token.text);break;case"html":out+=renderer.html(token.text);break;case"link":out+=renderer.link(token.href,token.title,this.parseInline(token.tokens,renderer));break;case"image":out+=renderer.image(token.href,token.title,token.text);break;case"strong":out+=renderer.strong(this.parseInline(token.tokens,renderer));break;case"em":out+=renderer.em(this.parseInline(token.tokens,renderer));break;case"codespan":out+=renderer.codespan(token.text);break;case"br":out+=renderer.br();break;case"del":out+=renderer.del(this.parseInline(token.tokens,renderer));break;case"text":out+=renderer.text(token.text);break;default:var errMsg='Token with "'+token.type+'" type was not found.';if(this.options.silent)return void console.error(errMsg);throw new Error(errMsg)}return out},Parser}(),merge$2=helpers.merge,checkSanitizeDeprecation$1=helpers.checkSanitizeDeprecation,escape$2=helpers.escape,getDefaults=defaults.getDefaults,changeDefaults=defaults.changeDefaults,defaults$5=defaults.defaults;function marked(src,opt,callback){if(null==src)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof src)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected");if("function"==typeof opt&&(callback=opt,opt=null),opt=merge$2({},marked.defaults,opt||{}),checkSanitizeDeprecation$1(opt),callback){var tokens,highlight=opt.highlight;try{tokens=Lexer_1.lex(src,opt)}catch(e){return callback(e)}var done=function done(err){var out;if(!err)try{out=Parser_1.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!tokens.length)return done();var pending=0;return marked.walkTokens(tokens,function(token){"code"===token.type&&(pending++,setTimeout(function(){highlight(token.text,token.lang,function(err,code){if(err)return done(err);null!=code&&code!==token.text&&(token.text=code,token.escaped=!0),0==--pending&&done()})},0))}),void(0===pending&&done())}try{var _tokens=Lexer_1.lex(src,opt);return opt.walkTokens&&marked.walkTokens(_tokens,opt.walkTokens),Parser_1.parse(_tokens,opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",opt.silent)return"<p>An error occurred:</p><pre>"+escape$2(e.message+"",!0)+"</pre>";throw e}}return marked.options=marked.setOptions=function(opt){return merge$2(marked.defaults,opt),changeDefaults(marked.defaults),marked},marked.getDefaults=getDefaults,marked.defaults=defaults$5,marked.use=function(extension){var opts=merge$2({},extension);if(extension.renderer&&function(){var renderer=marked.defaults.renderer||new Renderer_1,_loop=function _loop(prop){var prevRenderer=renderer[prop];renderer[prop]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var ret=extension.renderer[prop].apply(renderer,args);return!1===ret&&(ret=prevRenderer.apply(renderer,args)),ret}};for(var prop in extension.renderer)_loop(prop);opts.renderer=renderer}(),extension.tokenizer&&function(){var tokenizer=marked.defaults.tokenizer||new Tokenizer_1,_loop2=function _loop2(prop){var prevTokenizer=tokenizer[prop];tokenizer[prop]=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var ret=extension.tokenizer[prop].apply(tokenizer,args);return!1===ret&&(ret=prevTokenizer.apply(tokenizer,args)),ret}};for(var prop in extension.tokenizer)_loop2(prop);opts.tokenizer=tokenizer}(),extension.walkTokens){var walkTokens=marked.defaults.walkTokens;opts.walkTokens=function(token){extension.walkTokens(token),walkTokens&&walkTokens(token)}}marked.setOptions(opts)},marked.walkTokens=function(tokens,callback){for(var _step,_iterator=_createForOfIteratorHelperLoose(tokens);!(_step=_iterator()).done;){var token=_step.value;switch(callback(token),token.type){case"table":for(var _step2,_iterator2=_createForOfIteratorHelperLoose(token.tokens.header);!(_step2=_iterator2()).done;){var cell=_step2.value;marked.walkTokens(cell,callback)}for(var _step3,_iterator3=_createForOfIteratorHelperLoose(token.tokens.cells);!(_step3=_iterator3()).done;)for(var _step4,_iterator4=_createForOfIteratorHelperLoose(_step3.value);!(_step4=_iterator4()).done;){var _cell=_step4.value;marked.walkTokens(_cell,callback)}break;case"list":marked.walkTokens(token.items,callback);break;default:token.tokens&&marked.walkTokens(token.tokens,callback)}}},marked.Parser=Parser_1,marked.parser=Parser_1.parse,marked.Renderer=Renderer_1,marked.TextRenderer=TextRenderer_1,marked.Lexer=Lexer_1,marked.lexer=Lexer_1.lex,marked.Tokenizer=Tokenizer_1,marked.Slugger=Slugger_1,marked.parse=marked,marked}()},2601:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"IPadShowKeyboard",function(){return IPadShowKeyboard});__webpack_require__(2602);var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2326),_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2298),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2301);class IPadShowKeyboard extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor){super(),this.editor=editor,this.widget=null,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_1__.i&&(this._register(editor.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const shouldHaveWidget=!this.editor.getOption(72);!this.widget&&shouldHaveWidget?this.widget=new ShowKeyboardWidget(this.editor):this.widget&&!shouldHaveWidget&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}IPadShowKeyboard.ID="editor.contrib.iPadShowKeyboard";class ShowKeyboardWidget extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor){super(),this.editor=editor,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.i(this._domNode,"touchstart",e=>{this.editor.focus()})),this._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_2__.i(this._domNode,"focus",e=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return ShowKeyboardWidget.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}ShowKeyboardWidget.ID="editor.contrib.ShowKeyboardWidget",Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.m)(IPadShowKeyboard.ID,IPadShowKeyboard)},2602:function(module,exports,__webpack_require__){var content=__webpack_require__(2603);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2603:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}',""])},2604:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getReindentEditOperations",function(){return getReindentEditOperations}),__webpack_require__.d(__webpack_exports__,"IndentationToSpacesAction",function(){return IndentationToSpacesAction}),__webpack_require__.d(__webpack_exports__,"IndentationToTabsAction",function(){return IndentationToTabsAction}),__webpack_require__.d(__webpack_exports__,"ChangeIndentationSizeAction",function(){return ChangeIndentationSizeAction}),__webpack_require__.d(__webpack_exports__,"IndentUsingTabs",function(){return IndentUsingTabs}),__webpack_require__.d(__webpack_exports__,"IndentUsingSpaces",function(){return IndentUsingSpaces}),__webpack_require__.d(__webpack_exports__,"DetectIndentation",function(){return DetectIndentation}),__webpack_require__.d(__webpack_exports__,"ReindentLinesAction",function(){return ReindentLinesAction}),__webpack_require__.d(__webpack_exports__,"ReindentSelectedLinesAction",function(){return ReindentSelectedLinesAction}),__webpack_require__.d(__webpack_exports__,"AutoIndentOnPasteCommand",function(){return AutoIndentOnPasteCommand}),__webpack_require__.d(__webpack_exports__,"AutoIndentOnPaste",function(){return AutoIndentOnPaste}),__webpack_require__.d(__webpack_exports__,"IndentationToSpacesCommand",function(){return IndentationToSpacesCommand}),__webpack_require__.d(__webpack_exports__,"IndentationToTabsCommand",function(){return IndentationToTabsCommand});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2299),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2301),_common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2437),_common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2350),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2311),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2312),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2321),_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2334),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2336),_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2490),_platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2363);function getReindentEditOperations(model,startLineNumber,endLineNumber,inheritedIndent){if(1===model.getLineCount()&&1===model.getLineMaxColumn(1))return[];let indentationRules=_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_10__.a.getIndentationRules(model.getLanguageIdentifier().id);if(!indentationRules)return[];for(endLineNumber=Math.min(endLineNumber,model.getLineCount());startLineNumber<=endLineNumber&&indentationRules.unIndentedLinePattern;){let text=model.getLineContent(startLineNumber);if(!indentationRules.unIndentedLinePattern.test(text))break;startLineNumber++}if(startLineNumber>endLineNumber-1)return[];const{tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces}=model.getOptions(),shiftIndent=(indentation,count)=>(count=count||1,_common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_4__.a.shiftIndent(indentation,indentation.length+count,tabSize,indentSize,insertSpaces)),unshiftIndent=(indentation,count)=>(count=count||1,_common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_4__.a.unshiftIndent(indentation,indentation.length+count,tabSize,indentSize,insertSpaces));let globalIndent,indentEdits=[],currentLineText=model.getLineContent(startLineNumber),adjustedLineContent=currentLineText;if(null!=inheritedIndent){globalIndent=inheritedIndent;let oldIndentation=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.z(currentLineText);adjustedLineContent=globalIndent+currentLineText.substring(oldIndentation.length),indentationRules.decreaseIndentPattern&&indentationRules.decreaseIndentPattern.test(adjustedLineContent)&&(adjustedLineContent=(globalIndent=unshiftIndent(globalIndent))+currentLineText.substring(oldIndentation.length)),currentLineText!==adjustedLineContent&&indentEdits.push(_common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_5__.a.replace(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(startLineNumber,1,startLineNumber,oldIndentation.length+1),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_9__.b.normalizeIndentation(globalIndent,indentSize,insertSpaces)))}else globalIndent=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.z(currentLineText);let idealIndentForNextLine=globalIndent;indentationRules.increaseIndentPattern&&indentationRules.increaseIndentPattern.test(adjustedLineContent)?(idealIndentForNextLine=shiftIndent(idealIndentForNextLine),globalIndent=shiftIndent(globalIndent)):indentationRules.indentNextLinePattern&&indentationRules.indentNextLinePattern.test(adjustedLineContent)&&(idealIndentForNextLine=shiftIndent(idealIndentForNextLine));for(let lineNumber=++startLineNumber;lineNumber<=endLineNumber;lineNumber++){let text=model.getLineContent(lineNumber),oldIndentation=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.z(text),adjustedLineContent=idealIndentForNextLine+text.substring(oldIndentation.length);indentationRules.decreaseIndentPattern&&indentationRules.decreaseIndentPattern.test(adjustedLineContent)&&(idealIndentForNextLine=unshiftIndent(idealIndentForNextLine),globalIndent=unshiftIndent(globalIndent)),oldIndentation!==idealIndentForNextLine&&indentEdits.push(_common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_5__.a.replace(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(lineNumber,1,lineNumber,oldIndentation.length+1),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_9__.b.normalizeIndentation(idealIndentForNextLine,indentSize,insertSpaces))),indentationRules.unIndentedLinePattern&&indentationRules.unIndentedLinePattern.test(text)||(idealIndentForNextLine=indentationRules.increaseIndentPattern&&indentationRules.increaseIndentPattern.test(adjustedLineContent)?globalIndent=shiftIndent(globalIndent):indentationRules.indentNextLinePattern&&indentationRules.indentNextLinePattern.test(adjustedLineContent)?shiftIndent(idealIndentForNextLine):globalIndent)}return indentEdits}class IndentationToSpacesAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.b{constructor(){super({id:IndentationToSpacesAction.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}run(accessor,editor){let model=editor.getModel();if(!model)return;let modelOpts=model.getOptions(),selection=editor.getSelection();if(!selection)return;const command=new IndentationToSpacesCommand(selection,modelOpts.tabSize);editor.pushUndoStop(),editor.executeCommands(this.id,[command]),editor.pushUndoStop(),model.updateOptions({insertSpaces:!0})}}IndentationToSpacesAction.ID="editor.action.indentationToSpaces";class IndentationToTabsAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.b{constructor(){super({id:IndentationToTabsAction.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}run(accessor,editor){let model=editor.getModel();if(!model)return;let modelOpts=model.getOptions(),selection=editor.getSelection();if(!selection)return;const command=new IndentationToTabsCommand(selection,modelOpts.tabSize);editor.pushUndoStop(),editor.executeCommands(this.id,[command]),editor.pushUndoStop(),model.updateOptions({insertSpaces:!1})}}IndentationToTabsAction.ID="editor.action.indentationToTabs";class ChangeIndentationSizeAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.b{constructor(insertSpaces,opts){super(opts),this.insertSpaces=insertSpaces}run(accessor,editor){const quickInputService=accessor.get(_platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_13__.a),modelService=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_11__.a);let model=editor.getModel();if(!model)return;let creationOpts=modelService.getCreationOptions(model.getLanguageIdentifier().language,model.uri,model.isForSimpleWidget);const picks=[1,2,3,4,5,6,7,8].map(n=>({id:n.toString(),label:n.toString(),description:n===creationOpts.tabSize?_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("configuredTabSize","Configured Tab Size"):void 0})),autoFocusIndex=Math.min(model.getOptions().tabSize-1,7);setTimeout(()=>{quickInputService.pick(picks,{placeHolder:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:picks[autoFocusIndex]}).then(pick=>{pick&&model&&!model.isDisposed()&&model.updateOptions({tabSize:parseInt(pick.label,10),insertSpaces:this.insertSpaces})})},50)}}class IndentUsingTabs extends ChangeIndentationSizeAction{constructor(){super(!1,{id:IndentUsingTabs.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}IndentUsingTabs.ID="editor.action.indentUsingTabs";class IndentUsingSpaces extends ChangeIndentationSizeAction{constructor(){super(!0,{id:IndentUsingSpaces.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}IndentUsingSpaces.ID="editor.action.indentUsingSpaces";class DetectIndentation extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.b{constructor(){super({id:DetectIndentation.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(accessor,editor){const modelService=accessor.get(_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_11__.a);let model=editor.getModel();if(!model)return;let creationOpts=modelService.getCreationOptions(model.getLanguageIdentifier().language,model.uri,model.isForSimpleWidget);model.detectIndentation(creationOpts.insertSpaces,creationOpts.tabSize)}}DetectIndentation.ID="editor.action.detectIndentation";class ReindentLinesAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.b{constructor(){super({id:"editor.action.reindentlines",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}run(accessor,editor){let model=editor.getModel();if(!model)return;let edits=getReindentEditOperations(model,1,model.getLineCount());edits.length>0&&(editor.pushUndoStop(),editor.executeEdits(this.id,edits),editor.pushUndoStop())}}class ReindentSelectedLinesAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.b{constructor(){super({id:"editor.action.reindentselectedlines",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable})}run(accessor,editor){let model=editor.getModel();if(!model)return;let selections=editor.getSelections();if(null===selections)return;let edits=[];for(let selection of selections){let startLineNumber=selection.startLineNumber,endLineNumber=selection.endLineNumber;if(startLineNumber!==endLineNumber&&1===selection.endColumn&&endLineNumber--,1===startLineNumber){if(startLineNumber===endLineNumber)continue}else startLineNumber--;let editOperations=getReindentEditOperations(model,startLineNumber,endLineNumber);edits.push(...editOperations)}edits.length>0&&(editor.pushUndoStop(),editor.executeEdits(this.id,edits),editor.pushUndoStop())}}class AutoIndentOnPasteCommand{constructor(edits,initialSelection){this._initialSelection=initialSelection,this._edits=[],this._selectionId=null;for(let edit of edits)edit.range&&"string"==typeof edit.text&&this._edits.push(edit)}getEditOperations(model,builder){for(let edit of this._edits)builder.addEditOperation(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.lift(edit.range),edit.text);let selectionIsSet=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(selectionIsSet=!0,this._selectionId=builder.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(selectionIsSet=!0,this._selectionId=builder.trackSelection(this._initialSelection,!1))),selectionIsSet||(this._selectionId=builder.trackSelection(this._initialSelection))}computeCursorState(model,helper){return helper.getTrackedSelection(this._selectionId)}}class AutoIndentOnPaste{constructor(editor){this.callOnDispose=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b,this.callOnModel=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.b,this.editor=editor,this.callOnDispose.add(editor.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(editor.onDidChangeModel(()=>this.update())),this.callOnDispose.add(editor.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(8)<4||this.editor.getOption(40)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:range})=>{this.trigger(range)}))}trigger(range){let selections=this.editor.getSelections();if(null===selections||selections.length>1)return;const model=this.editor.getModel();if(!model)return;if(!model.isCheapToTokenize(range.getStartPosition().lineNumber))return;const autoIndent=this.editor.getOption(8),{tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces}=model.getOptions();this.editor.pushUndoStop();let textEdits=[],indentConverter={shiftIndent:indentation=>_common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_4__.a.shiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces),unshiftIndent:indentation=>_common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_4__.a.unshiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces)},startLineNumber=range.startLineNumber;for(;startLineNumber<=range.endLineNumber&&this.shouldIgnoreLine(model,startLineNumber);)startLineNumber++;if(startLineNumber>range.endLineNumber)return;let firstLineText=model.getLineContent(startLineNumber);if(!/\S/.test(firstLineText.substring(0,range.startColumn-1))){let indentOfFirstLine=_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_10__.a.getGoodIndentForLine(autoIndent,model,model.getLanguageIdentifier().id,startLineNumber,indentConverter);if(null!==indentOfFirstLine){let oldIndentation=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.z(firstLineText),newSpaceCnt=_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.b(indentOfFirstLine,tabSize);if(newSpaceCnt!==_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.b(oldIndentation,tabSize)){let newIndent=_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.a(newSpaceCnt,tabSize,insertSpaces);textEdits.push({range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(startLineNumber,1,startLineNumber,oldIndentation.length+1),text:newIndent}),firstLineText=newIndent+firstLineText.substr(oldIndentation.length)}else{let indentMetadata=_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_10__.a.getIndentMetadata(model,startLineNumber);if(0===indentMetadata||8===indentMetadata)return}}}const firstLineNumber=startLineNumber;for(;startLineNumber<range.endLineNumber&&!/\S/.test(model.getLineContent(startLineNumber+1));)startLineNumber++;if(startLineNumber!==range.endLineNumber){let virtualModel={getLineTokens:lineNumber=>model.getLineTokens(lineNumber),getLanguageIdentifier:()=>model.getLanguageIdentifier(),getLanguageIdAtPosition:(lineNumber,column)=>model.getLanguageIdAtPosition(lineNumber,column),getLineContent:lineNumber=>lineNumber===firstLineNumber?firstLineText:model.getLineContent(lineNumber)},indentOfSecondLine=_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_10__.a.getGoodIndentForLine(autoIndent,virtualModel,model.getLanguageIdentifier().id,startLineNumber+1,indentConverter);if(null!==indentOfSecondLine){let newSpaceCntOfSecondLine=_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.b(indentOfSecondLine,tabSize),oldSpaceCntOfSecondLine=_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.b(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.z(model.getLineContent(startLineNumber+1)),tabSize);if(newSpaceCntOfSecondLine!==oldSpaceCntOfSecondLine){let spaceCntOffset=newSpaceCntOfSecondLine-oldSpaceCntOfSecondLine;for(let i=startLineNumber+1;i<=range.endLineNumber;i++){let lineContent=model.getLineContent(i),originalIndent=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__.z(lineContent),newSpacesCnt=_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.b(originalIndent,tabSize)+spaceCntOffset,newIndent=_indentUtils_js__WEBPACK_IMPORTED_MODULE_12__.a(newSpacesCnt,tabSize,insertSpaces);newIndent!==originalIndent&&textEdits.push({range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(i,1,i,originalIndent.length+1),text:newIndent})}}}}let cmd=new AutoIndentOnPasteCommand(textEdits,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",cmd),this.editor.pushUndoStop()}shouldIgnoreLine(model,lineNumber){model.forceTokenization(lineNumber);let nonWhitespaceColumn=model.getLineFirstNonWhitespaceColumn(lineNumber);if(0===nonWhitespaceColumn)return!0;let tokens=model.getLineTokens(lineNumber);if(tokens.getCount()>0){let firstNonWhitespaceTokenIndex=tokens.findTokenIndexAtOffset(nonWhitespaceColumn);if(firstNonWhitespaceTokenIndex>=0&&1===tokens.getStandardTokenType(firstNonWhitespaceTokenIndex))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function getIndentationEditOperations(model,builder,tabSize,tabsToSpaces){if(1===model.getLineCount()&&1===model.getLineMaxColumn(1))return;let spaces="";for(let i=0;i<tabSize;i++)spaces+=" ";let spacesRegExp=new RegExp(spaces,"gi");for(let lineNumber=1,lineCount=model.getLineCount();lineNumber<=lineCount;lineNumber++){let lastIndentationColumn=model.getLineFirstNonWhitespaceColumn(lineNumber);if(0===lastIndentationColumn&&(lastIndentationColumn=model.getLineMaxColumn(lineNumber)),1===lastIndentationColumn)continue;const originalIndentationRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a(lineNumber,1,lineNumber,lastIndentationColumn),originalIndentation=model.getValueInRange(originalIndentationRange),newIndentation=tabsToSpaces?originalIndentation.replace(/\t/gi,spaces):originalIndentation.replace(spacesRegExp,"\t");builder.addEditOperation(originalIndentationRange,newIndentation)}}AutoIndentOnPaste.ID="editor.contrib.autoIndentOnPaste";class IndentationToSpacesCommand{constructor(selection,tabSize){this.selection=selection,this.tabSize=tabSize,this.selectionId=null}getEditOperations(model,builder){this.selectionId=builder.trackSelection(this.selection),getIndentationEditOperations(model,builder,this.tabSize,!0)}computeCursorState(model,helper){return helper.getTrackedSelection(this.selectionId)}}class IndentationToTabsCommand{constructor(selection,tabSize){this.selection=selection,this.tabSize=tabSize,this.selectionId=null}getEditOperations(model,builder){this.selectionId=builder.trackSelection(this.selection),getIndentationEditOperations(model,builder,this.tabSize,!1)}computeCursorState(model,helper){return helper.getTrackedSelection(this.selectionId)}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.m)(AutoIndentOnPaste.ID,AutoIndentOnPaste),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(IndentationToSpacesAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(IndentationToTabsAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(IndentUsingTabs),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(IndentUsingSpaces),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(DetectIndentation),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(ReindentLinesAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__.k)(ReindentSelectedLinesAction)},2605:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(2606);var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2298),_base_common_color_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2320),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2301),_common_modes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2308),_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2360),_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2366),_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2393),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2304),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2353),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let InspectTokensController=class InspectTokensController extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor,standaloneColorService,modeService){super(),this._editor=editor,this._modeService=modeService,this._widget=null,this._register(this._editor.onDidChangeModel(e=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(e=>this.stop())),this._register(_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.C.onDidChange(e=>this.stop())),this._register(this._editor.onKeyUp(e=>9===e.keyCode&&this.stop()))}static get(editor){return editor.getContribution(InspectTokensController.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new InspectTokensWidget(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};InspectTokensController.ID="editor.contrib.inspectTokens",InspectTokensController=__decorate([__param(1,_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_8__.a),__param(2,_common_services_modeService_js__WEBPACK_IMPORTED_MODULE_7__.a)],InspectTokensController);class InspectTokensWidget extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor,modeService){super(),this.allowEditorOverflow=!0,this._editor=editor,this._modeService=modeService,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function getSafeTokenizationSupport(languageIdentifier){let tokenizationSupport=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.C.get(languageIdentifier.language);return tokenizationSupport||{getInitialState:()=>_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__.c,tokenize:(line,state,deltaOffset)=>Object(_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__.d)(languageIdentifier.language,line,state,deltaOffset),tokenize2:(line,state,deltaOffset)=>Object(_common_modes_nullMode_js__WEBPACK_IMPORTED_MODULE_6__.e)(languageIdentifier.id,line,state,deltaOffset)}}(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(e=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return InspectTokensWidget._ID}_compute(position){let data=this._getTokensAtLine(position.lineNumber),token1Index=0;for(let i=data.tokens1.length-1;i>=0;i--){let t=data.tokens1[i];if(position.column-1>=t.offset){token1Index=i;break}}let token2Index=0;for(let i=data.tokens2.length>>>1;i>=0;i--)if(position.column-1>=data.tokens2[i<<1]){token2Index=i;break}let lineContent=this._model.getLineContent(position.lineNumber),tokenText="";if(token1Index<data.tokens1.length){let tokenStartIndex=data.tokens1[token1Index].offset,tokenEndIndex=token1Index+1<data.tokens1.length?data.tokens1[token1Index+1].offset:lineContent.length;tokenText=lineContent.substring(tokenStartIndex,tokenEndIndex)}Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.U)(this._domNode,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("h2.tm-token",void 0,function renderTokenText(tokenText){let result="";for(let charIndex=0,len=tokenText.length;charIndex<len;charIndex++){let charCode=tokenText.charCodeAt(charIndex);switch(charCode){case 9:result+="";break;case 32:result+="";break;default:result+=String.fromCharCode(charCode)}}return result}(tokenText),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("span.tm-token-length",void 0,`${tokenText.length} ${1===tokenText.length?"char":"chars"}`))),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.p)(this._domNode,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("hr.tokens-inspect-separator",{style:"clear:both"}));const metadata=1+(token2Index<<1)<data.tokens2.length?this._decodeMetadata(data.tokens2[1+(token2Index<<1)]):null;Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.p)(this._domNode,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("table.tm-metadata-table",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("tbody",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("tr",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-key",void 0,"language"),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-value",void 0,`${metadata?metadata.languageIdentifier.language:"-?-"}`)),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("tr",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-key",void 0,"token type"),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-value",void 0,`${metadata?this._tokenTypeToString(metadata.tokenType):"-?-"}`)),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("tr",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-key",void 0,"font style"),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-value",void 0,`${metadata?this._fontStyleToString(metadata.fontStyle):"-?-"}`)),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("tr",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-key",void 0,"foreground"),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-value",void 0,`${metadata?_base_common_color_js__WEBPACK_IMPORTED_MODULE_2__.a.Format.CSS.formatHex(metadata.foreground):"-?-"}`)),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("tr",void 0,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-key",void 0,"background"),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("td.tm-metadata-value",void 0,`${metadata?_base_common_color_js__WEBPACK_IMPORTED_MODULE_2__.a.Format.CSS.formatHex(metadata.background):"-?-"}`))))),Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.p)(this._domNode,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("hr.tokens-inspect-separator")),token1Index<data.tokens1.length&&Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.p)(this._domNode,Object(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.a)("span.tm-token-type",void 0,data.tokens1[token1Index].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(metadata){let colorMap=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.C.getColorMap(),languageId=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.B.getLanguageId(metadata),tokenType=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.B.getTokenType(metadata),fontStyle=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.B.getFontStyle(metadata),foreground=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.B.getForeground(metadata),background=_common_modes_js__WEBPACK_IMPORTED_MODULE_5__.B.getBackground(metadata);return{languageIdentifier:this._modeService.getLanguageIdentifier(languageId),tokenType:tokenType,fontStyle:fontStyle,foreground:colorMap[foreground],background:colorMap[background]}}_tokenTypeToString(tokenType){switch(tokenType){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(fontStyle){let r="";return 1&fontStyle&&(r+="italic "),2&fontStyle&&(r+="bold "),4&fontStyle&&(r+="underline "),0===r.length&&(r="---"),r}_getTokensAtLine(lineNumber){let stateBeforeLine=this._getStateBeforeLine(lineNumber),tokenizationResult1=this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber),stateBeforeLine,0),tokenizationResult2=this._tokenizationSupport.tokenize2(this._model.getLineContent(lineNumber),stateBeforeLine,0);return{startState:stateBeforeLine,tokens1:tokenizationResult1.tokens,tokens2:tokenizationResult2.tokens,endState:tokenizationResult1.endState}}_getStateBeforeLine(lineNumber){let state=this._tokenizationSupport.getInitialState();for(let i=1;i<lineNumber;i++){state=this._tokenizationSupport.tokenize(this._model.getLineContent(i),state,0).endState}return state}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}InspectTokensWidget._ID="editor.contrib.inspectTokensWidget",Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.m)(InspectTokensController.ID,InspectTokensController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class InspectTokens extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.inspectTokens",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_11__.c.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(accessor,editor){let controller=InspectTokensController.get(editor);controller&&controller.launch()}}),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_10__.g)((theme,collector)=>{const border=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.F);if(border){let borderWidth=theme.type===_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_10__.b?2:1;collector.addRule(`.monaco-editor .tokens-inspect-widget { border: ${borderWidth}px solid ${border}; }`),collector.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${border}; }`)}const background=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.E);background&&collector.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${background}; }`);const foreground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_9__.G);foreground&&collector.addRule(`.monaco-editor .tokens-inspect-widget { color: ${foreground}; }`)})},2606:function(module,exports,__webpack_require__){var content=__webpack_require__(2607);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2607:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\t-moz-user-select: text;\n\t     user-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""])},2608:function(module,exports,__webpack_require__){var content=__webpack_require__(2609);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2609:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n",""])},2610:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InsertCursorAbove",function(){return InsertCursorAbove}),__webpack_require__.d(__webpack_exports__,"InsertCursorBelow",function(){return InsertCursorBelow}),__webpack_require__.d(__webpack_exports__,"MultiCursorSessionResult",function(){return MultiCursorSessionResult}),__webpack_require__.d(__webpack_exports__,"MultiCursorSession",function(){return MultiCursorSession}),__webpack_require__.d(__webpack_exports__,"MultiCursorSelectionController",function(){return MultiCursorSelectionController}),__webpack_require__.d(__webpack_exports__,"MultiCursorSelectionControllerAction",function(){return MultiCursorSelectionControllerAction}),__webpack_require__.d(__webpack_exports__,"AddSelectionToNextFindMatchAction",function(){return AddSelectionToNextFindMatchAction}),__webpack_require__.d(__webpack_exports__,"AddSelectionToPreviousFindMatchAction",function(){return AddSelectionToPreviousFindMatchAction}),__webpack_require__.d(__webpack_exports__,"MoveSelectionToNextFindMatchAction",function(){return MoveSelectionToNextFindMatchAction}),__webpack_require__.d(__webpack_exports__,"MoveSelectionToPreviousFindMatchAction",function(){return MoveSelectionToPreviousFindMatchAction}),__webpack_require__.d(__webpack_exports__,"SelectHighlightsAction",function(){return SelectHighlightsAction}),__webpack_require__.d(__webpack_exports__,"CompatChangeAll",function(){return CompatChangeAll}),__webpack_require__.d(__webpack_exports__,"SelectionHighlighter",function(){return SelectionHighlighter});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_async_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2306),_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2329),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2301),_common_controller_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2474),_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2295),_common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2311),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2312),_common_model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2340),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2321),_common_modes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2308),_find_findController_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2497),_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2323),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2304),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2307);class InsertCursorAbove extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.insertCursorAbove",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__.b.MenubarSelectionMenu,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(accessor,editor,args){if(!editor.hasModel())return;const useLogicalLine=args&&!0===args.logicalLine,viewModel=editor._getViewModel();viewModel.cursorConfig.readOnly||(viewModel.pushStackElement(),viewModel.setCursorStates(args.source,3,_common_controller_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_5__.b.addCursorUp(viewModel,viewModel.getCursorStates(),useLogicalLine)),viewModel.revealTopMostCursor(args.source))}}class InsertCursorBelow extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.insertCursorBelow",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__.b.MenubarSelectionMenu,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(accessor,editor,args){if(!editor.hasModel())return;const useLogicalLine=args&&!0===args.logicalLine,viewModel=editor._getViewModel();viewModel.cursorConfig.readOnly||(viewModel.pushStackElement(),viewModel.setCursorStates(args.source,3,_common_controller_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_5__.b.addCursorDown(viewModel,viewModel.getCursorStates(),useLogicalLine)),viewModel.revealBottomMostCursor(args.source))}}class MultiCursorSessionResult{constructor(selections,revealRange,revealScrollType){this.selections=selections,this.revealRange=revealRange,this.revealScrollType=revealScrollType}}class MultiCursorSession{constructor(_editor,findController,isDisconnectedFromFindController,searchText,wholeWord,matchCase,currentMatch){this._editor=_editor,this.findController=findController,this.isDisconnectedFromFindController=isDisconnectedFromFindController,this.searchText=searchText,this.wholeWord=wholeWord,this.matchCase=matchCase,this.currentMatch=currentMatch}static create(editor,findController){if(!editor.hasModel())return null;const findState=findController.getState();if(!editor.hasTextFocus()&&findState.isRevealed&&findState.searchString.length>0)return new MultiCursorSession(editor,findController,!1,findState.searchString,findState.wholeWord,findState.matchCase,null);let wholeWord,matchCase,isDisconnectedFromFindController=!1;const selections=editor.getSelections();1===selections.length&&selections[0].isEmpty()?(isDisconnectedFromFindController=!0,wholeWord=!0,matchCase=!0):(wholeWord=findState.wholeWord,matchCase=findState.matchCase);const s=editor.getSelection();let searchText,currentMatch=null;if(s.isEmpty()){const word=editor.getConfiguredWordAtPosition(s.getStartPosition());if(!word)return null;searchText=word.word,currentMatch=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(s.startLineNumber,word.startColumn,s.startLineNumber,word.endColumn)}else searchText=editor.getModel().getValueInRange(s).replace(/\r\n/g,"\n");return new MultiCursorSession(editor,findController,isDisconnectedFromFindController,searchText,wholeWord,matchCase,currentMatch)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const nextMatch=this._getNextMatch();if(!nextMatch)return null;const allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.concat(nextMatch),nextMatch,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const nextMatch=this._getNextMatch();if(!nextMatch)return null;const allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.slice(0,allSelections.length-1).concat(nextMatch),nextMatch,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const result=this.currentMatch;return this.currentMatch=null,result}this.findController.highlightFindOptions();const allSelections=this._editor.getSelections(),lastAddedSelection=allSelections[allSelections.length-1],nextMatch=this._editor.getModel().findNextMatch(this.searchText,lastAddedSelection.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(105):null,!1);return nextMatch?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(nextMatch.range.startLineNumber,nextMatch.range.startColumn,nextMatch.range.endLineNumber,nextMatch.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const previousMatch=this._getPreviousMatch();if(!previousMatch)return null;const allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.concat(previousMatch),previousMatch,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const previousMatch=this._getPreviousMatch();if(!previousMatch)return null;const allSelections=this._editor.getSelections();return new MultiCursorSessionResult(allSelections.slice(0,allSelections.length-1).concat(previousMatch),previousMatch,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const result=this.currentMatch;return this.currentMatch=null,result}this.findController.highlightFindOptions();const allSelections=this._editor.getSelections(),lastAddedSelection=allSelections[allSelections.length-1],previousMatch=this._editor.getModel().findPreviousMatch(this.searchText,lastAddedSelection.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(105):null,!1);return previousMatch?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(previousMatch.range.startLineNumber,previousMatch.range.startColumn,previousMatch.range.endLineNumber,previousMatch.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(105):null,!1,1073741824)):[]}}class MultiCursorSelectionController extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor){super(),this._sessionDispose=this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.b),this._editor=editor,this._ignoreSelectionChange=!1,this._session=null}static get(editor){return editor.getContribution(MultiCursorSelectionController.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(findController){if(!this._session){const session=MultiCursorSession.create(this._editor,findController);if(!session)return;this._session=session;const newState={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(newState.wholeWordOverride=1,newState.matchCaseOverride=1,newState.isRegexOverride=2),findController.getState().change(newState,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(findController.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const newState={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(newState,!1)}this._session=null}_setSelections(selections){this._ignoreSelectionChange=!0,this._editor.setSelections(selections),this._ignoreSelectionChange=!1}_expandEmptyToWord(model,selection){if(!selection.isEmpty())return selection;const word=this._editor.getConfiguredWordAtPosition(selection.getStartPosition());return word?new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(selection.startLineNumber,word.startColumn,selection.startLineNumber,word.endColumn):selection}_applySessionResult(result){result&&(this._setSelections(result.selections),result.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange,result.revealScrollType))}getSession(findController){return this._session}addSelectionToNextFindMatch(findController){if(this._editor.hasModel()){if(!this._session){const allSelections=this._editor.getSelections();if(allSelections.length>1){const matchCase=findController.getState().matchCase;if(!modelRangesContainSameText(this._editor.getModel(),allSelections,matchCase)){const model=this._editor.getModel();let resultingSelections=[];for(let i=0,len=allSelections.length;i<len;i++)resultingSelections[i]=this._expandEmptyToWord(model,allSelections[i]);return void this._editor.setSelections(resultingSelections)}}}this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(findController){this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(findController){this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(findController){this._beginSessionIfNeeded(findController),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(findController){if(!this._editor.hasModel())return;let matches=null;const findState=findController.getState();if(findState.isRevealed&&findState.searchString.length>0&&findState.isRegex)matches=this._editor.getModel().findMatches(findState.searchString,!0,findState.isRegex,findState.matchCase,findState.wholeWord?this._editor.getOption(105):null,!1,1073741824);else{if(this._beginSessionIfNeeded(findController),!this._session)return;matches=this._session.selectAll()}if(findState.searchScope){const states=findState.searchScope;let inSelection=[];matches.forEach(match=>{states.forEach(state=>{match.range.endLineNumber<=state.endLineNumber&&match.range.startLineNumber>=state.startLineNumber&&inSelection.push(match)})}),matches=inSelection}if(matches.length>0){const editorSelection=this._editor.getSelection();for(let i=0,len=matches.length;i<len;i++){const match=matches[i];if(match.range.intersectRanges(editorSelection)){matches[i]=matches[0],matches[0]=match;break}}this._setSelections(matches.map(m=>new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(m.range.startLineNumber,m.range.startColumn,m.range.endLineNumber,m.range.endColumn)))}}}MultiCursorSelectionController.ID="editor.contrib.multiCursorController";class MultiCursorSelectionControllerAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{run(accessor,editor){const multiCursorController=MultiCursorSelectionController.get(editor);if(!multiCursorController)return;const findController=_find_findController_js__WEBPACK_IMPORTED_MODULE_12__.CommonFindController.get(editor);findController&&this._run(multiCursorController,findController)}}class AddSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.focus,primary:2082,weight:100},menuOpts:{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__.b.MenubarSelectionMenu,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(multiCursorController,findController){multiCursorController.addSelectionToNextFindMatch(findController)}}class AddSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__.b.MenubarSelectionMenu,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(multiCursorController,findController){multiCursorController.addSelectionToPreviousFindMatch(findController)}}class MoveSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.focus,primary:Object(_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_2__.a)(2089,2082),weight:100}})}_run(multiCursorController,findController){multiCursorController.moveSelectionToNextFindMatch(findController)}}class MoveSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(multiCursorController,findController){multiCursorController.moveSelectionToPreviousFindMatch(findController)}}class SelectHighlightsAction extends MultiCursorSelectionControllerAction{constructor(){super({id:"editor.action.selectHighlights",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.focus,primary:3114,weight:100},menuOpts:{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__.b.MenubarSelectionMenu,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(multiCursorController,findController){multiCursorController.selectAll(findController)}}class CompatChangeAll extends MultiCursorSelectionControllerAction{constructor(){super({id:"editor.action.changeAll",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_16__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.writable,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(multiCursorController,findController){multiCursorController.selectAll(findController)}}class SelectionHighlighterState{constructor(searchText,matchCase,wordSeparators,modelVersionId){this.searchText=searchText,this.matchCase=matchCase,this.wordSeparators=wordSeparators,this.modelVersionId=modelVersionId}static softEquals(a,b){return!a&&!b||!(!a||!b)&&(a.searchText===b.searchText&&a.matchCase===b.matchCase&&a.wordSeparators===b.wordSeparators&&a.modelVersionId===b.modelVersionId)}}class SelectionHighlighter extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(editor){super(),this.editor=editor,this._isEnabled=editor.getOption(89),this.decorations=[],this.updateSoon=this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__.d(()=>this._update(),300)),this.state=null,this._register(editor.onDidChangeConfiguration(e=>{this._isEnabled=editor.getOption(89)})),this._register(editor.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(editor.onDidChangeModel(e=>{this._setState(null)})),this._register(editor.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(_find_findController_js__WEBPACK_IMPORTED_MODULE_12__.CommonFindController.get(editor).getState().onFindReplaceStateChange(e=>{this._update()}))}_update(){this._setState(SelectionHighlighter._createState(this._isEnabled,this.editor))}static _createState(isEnabled,editor){if(!isEnabled)return null;if(!editor.hasModel())return null;const s=editor.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;const multiCursorController=MultiCursorSelectionController.get(editor);if(!multiCursorController)return null;const findController=_find_findController_js__WEBPACK_IMPORTED_MODULE_12__.CommonFindController.get(editor);if(!findController)return null;let r=multiCursorController.getSession(findController);if(!r){const allSelections=editor.getSelections();if(allSelections.length>1){const matchCase=findController.getState().matchCase;if(!modelRangesContainSameText(editor.getModel(),allSelections,matchCase))return null}r=MultiCursorSession.create(editor,findController)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;const findState=findController.getState(),caseSensitive=findState.matchCase;if(findState.isRevealed){let findStateSearchString=findState.searchString;caseSensitive||(findStateSearchString=findStateSearchString.toLowerCase());let mySearchString=r.searchText;if(caseSensitive||(mySearchString=mySearchString.toLowerCase()),findStateSearchString===mySearchString&&r.matchCase===findState.matchCase&&r.wholeWord===findState.wholeWord&&!findState.isRegex)return null}return new SelectionHighlighterState(r.searchText,r.matchCase,r.wholeWord?editor.getOption(105):null,editor.getModel().getVersionId())}_setState(state){if(SelectionHighlighterState.softEquals(this.state,state))return void(this.state=state);if(this.state=state,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const model=this.editor.getModel();if(model.isTooLargeForTokenization())return;const hasFindOccurrences=_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.i.has(model)&&this.editor.getOption(63);let allMatches=model.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(m=>m.range);allMatches.sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts);let selections=this.editor.getSelections();selections.sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts);let matches=[];for(let i=0,j=0,len=allMatches.length,lenJ=selections.length;i<len;){const match=allMatches[i];if(j>=lenJ)matches.push(match),i++;else{const cmp=_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.compareRangesUsingStarts(match,selections[j]);cmp<0?(!selections[j].isEmpty()&&_common_core_range_js__WEBPACK_IMPORTED_MODULE_6__.a.areIntersecting(match,selections[j])||matches.push(match),i++):cmp>0?j++:(i++,j++)}}const decorations=matches.map(r=>({range:r,options:hasFindOccurrences?SelectionHighlighter._SELECTION_HIGHLIGHT:SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,decorations)}dispose(){this._setState(null),super.dispose()}}function modelRangesContainSameText(model,ranges,matchCase){const selectedText=getValueInRange(model,ranges[0],!matchCase);for(let i=1,len=ranges.length;i<len;i++){const range=ranges[i];if(range.isEmpty())return!1;if(selectedText!==getValueInRange(model,range,!matchCase))return!1}return!0}function getValueInRange(model,range,toLowerCase){const text=model.getValueInRange(range);return toLowerCase?text.toLowerCase():text}SelectionHighlighter.ID="editor.contrib.selectionHighlighter",SelectionHighlighter._SELECTION_HIGHLIGHT_OVERVIEW=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_15__.h)(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_14__.Wb),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),SelectionHighlighter._SELECTION_HIGHLIGHT=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"selectionHighlight"}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.m)(MultiCursorSelectionController.ID,MultiCursorSelectionController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.m)(SelectionHighlighter.ID,SelectionHighlighter),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(InsertCursorAbove),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(InsertCursorBelow),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class InsertCursorAtEndOfEachLineSelected extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:_platform_actions_common_actions_js__WEBPACK_IMPORTED_MODULE_13__.b.MenubarSelectionMenu,group:"3_multi",title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(selection,model,result){if(!selection.isEmpty()){for(let i=selection.startLineNumber;i<selection.endLineNumber;i++){let currentLineMaxColumn=model.getLineMaxColumn(i);result.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(i,currentLineMaxColumn,i,currentLineMaxColumn))}selection.endColumn>1&&result.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(selection.endLineNumber,selection.endColumn,selection.endLineNumber,selection.endColumn))}}run(accessor,editor){if(!editor.hasModel())return;const model=editor.getModel(),selections=editor.getSelections();let newSelections=[];selections.forEach(sel=>this.getCursorsForSelection(sel,model,newSelections)),newSelections.length>0&&editor.setSelections(newSelections)}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(AddSelectionToNextFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(AddSelectionToPreviousFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(MoveSelectionToNextFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(MoveSelectionToPreviousFindMatchAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(SelectHighlightsAction),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(CompatChangeAll),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class InsertCursorAtEndOfLineSelected extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.addCursorsToBottom",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(accessor,editor){if(!editor.hasModel())return;const selections=editor.getSelections(),lineCount=editor.getModel().getLineCount();let newSelections=[];for(let i=selections[0].startLineNumber;i<=lineCount;i++)newSelections.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(i,selections[0].startColumn,i,selections[0].endColumn));newSelections.length>0&&editor.setSelections(newSelections)}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.k)(class InsertCursorAtTopOfLineSelected extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__.b{constructor(){super({id:"editor.action.addCursorsToTop",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(accessor,editor){if(!editor.hasModel())return;const selections=editor.getSelections();let newSelections=[];for(let i=selections[0].startLineNumber;i>=1;i--)newSelections.push(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_7__.a(i,selections[0].startColumn,i,selections[0].endColumn));newSelections.length>0&&editor.setSelections(newSelections)}})},2611:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE",function(){return CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE}),__webpack_require__.d(__webpack_exports__,"OnTypeRenameContribution",function(){return OnTypeRenameContribution}),__webpack_require__.d(__webpack_exports__,"OnTypeRenameAction",function(){return OnTypeRenameAction}),__webpack_require__.d(__webpack_exports__,"getOnTypeRenameRanges",function(){return getOnTypeRenameRanges}),__webpack_require__.d(__webpack_exports__,"editorOnTypeRenameBackground",function(){return editorOnTypeRenameBackground});__webpack_require__(2612);var _nls_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2297),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2301),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2309),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2294),_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2303),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2315),_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2295),_common_modes_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2308),_base_common_async_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2306),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2321),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2307),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2312),_base_common_uri_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2313),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2317),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2302),_base_common_strings_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2299),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2304),_base_common_color_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2320),_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2334),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.c("onTypeRenameInputVisible",!1);let OnTypeRenameContribution=class OnTypeRenameContribution extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.a{constructor(editor,contextKeyService){super(),this._debounceDuration=200,this._localToDispose=this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.b),this._editor=editor,this._enabled=!1,this._visibleContextKey=CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(contextKeyService),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__.b),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(73)&&this.reinitialize()})),this._register(_common_modes_js__WEBPACK_IMPORTED_MODULE_8__.u.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(editor){return editor.getContribution(OnTypeRenameContribution.ID)}reinitialize(){const model=this._editor.getModel(),isEnabled=null!==model&&this._editor.getOption(73)&&_common_modes_js__WEBPACK_IMPORTED_MODULE_8__.u.has(model);if(isEnabled===this._enabled)return;if(this._enabled=isEnabled,this.clearRanges(),this._localToDispose.clear(),!isEnabled||null===model)return;this._languageWordPattern=_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_20__.a.getWordDefinition(model.getLanguageIdentifier().id),this._localToDispose.add(model.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=_common_modes_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_20__.a.getWordDefinition(model.getLanguageIdentifier().id)}));const rangeUpdateScheduler=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_9__.a(this._debounceDuration),triggerRangeUpdate=()=>{this._rangeUpdateTriggerPromise=rangeUpdateScheduler.trigger(()=>this.updateRanges(),this._debounceDuration)},rangeSyncScheduler=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_9__.a(0),triggerRangeSync=decorations=>{this._rangeSyncTriggerPromise=rangeSyncScheduler.trigger(()=>this._syncRanges(decorations))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{triggerRangeUpdate()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const referenceRange=model.getDecorationRange(this._currentDecorations[0]);if(referenceRange&&e.changes.every(c=>referenceRange.intersectRanges(c.range)))return void triggerRangeSync(this._currentDecorations)}triggerRangeUpdate()})),this._localToDispose.add({dispose:()=>{rangeUpdateScheduler.cancel(),rangeSyncScheduler.cancel()}}),this.updateRanges()}_syncRanges(decorations){if(!this._editor.hasModel()||decorations!==this._currentDecorations||0===decorations.length)return;const model=this._editor.getModel(),referenceRange=model.getDecorationRange(decorations[0]);if(!referenceRange||referenceRange.startLineNumber!==referenceRange.endLineNumber)return this.clearRanges();const referenceValue=model.getValueInRange(referenceRange);if(this._currentWordPattern){const match=referenceValue.match(this._currentWordPattern);if((match?match[0].length:0)!==referenceValue.length)return this.clearRanges()}let edits=[];for(let i=1,len=decorations.length;i<len;i++){const mirrorRange=model.getDecorationRange(decorations[i]);if(mirrorRange)if(mirrorRange.startLineNumber!==mirrorRange.endLineNumber)edits.push({range:mirrorRange,text:referenceValue});else{let oldValue=model.getValueInRange(mirrorRange),newValue=referenceValue,rangeStartColumn=mirrorRange.startColumn,rangeEndColumn=mirrorRange.endColumn;const commonPrefixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_16__.d(oldValue,newValue);rangeStartColumn+=commonPrefixLength,oldValue=oldValue.substr(commonPrefixLength),newValue=newValue.substr(commonPrefixLength);const commonSuffixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_16__.e(oldValue,newValue);rangeEndColumn-=commonSuffixLength,oldValue=oldValue.substr(0,oldValue.length-commonSuffixLength),newValue=newValue.substr(0,newValue.length-commonSuffixLength),rangeStartColumn===rangeEndColumn&&0===newValue.length||edits.push({range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a(mirrorRange.startLineNumber,rangeStartColumn,mirrorRange.endLineNumber,rangeEndColumn),text:newValue})}}if(0!==edits.length)try{this._ignoreChangeEvent=!0;const prevEditOperationType=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("onTypeRename",edits),this._editor._getViewModel().setPrevEditOperationType(prevEditOperationType)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(force=!1){return __awaiter(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const position=this._editor.getPosition();if(!this._enabled&&!force||this._editor.getSelections().length>1)return void this.clearRanges();const model=this._editor.getModel(),modelVersionId=model.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===modelVersionId){if(position.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const range=model.getDecorationRange(this._currentDecorations[0]);if(range&&range.containsPosition(position))return}}this._currentRequestPosition=position,this._currentRequestModelVersion=modelVersionId;const request=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_9__.f)(token=>__awaiter(this,void 0,void 0,function*(){try{const response=yield getOnTypeRenameRanges(model,position,token);if(request!==this._currentRequest)return;if(this._currentRequest=null,modelVersionId!==model.getVersionId())return;let ranges=[];(null==response?void 0:response.ranges)&&(ranges=response.ranges),this._currentWordPattern=(null==response?void 0:response.wordPattern)||this._languageWordPattern;let foundReferenceRange=!1;for(let i=0,len=ranges.length;i<len;i++)if(_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a.containsPosition(ranges[i],position)){if(foundReferenceRange=!0,0!==i){const referenceRange=ranges[i];ranges.splice(i,1),ranges.unshift(referenceRange)}break}if(!foundReferenceRange)return void this.clearRanges();const decorations=ranges.map(range=>({range:range,options:OnTypeRenameContribution.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,decorations)}catch(err){Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_15__.d)(err)||Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_15__.e)(err),this._currentRequest!==request&&this._currentRequest||this.clearRanges()}}));return this._currentRequest=request,request})}};OnTypeRenameContribution.ID="editor.contrib.onTypeRename",OnTypeRenameContribution.DECORATION=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:0,className:"on-type-rename-decoration"}),OnTypeRenameContribution=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.b)],OnTypeRenameContribution);class OnTypeRenameAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.b{constructor(){super({id:"editor.action.onTypeRename",label:_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("onTypeRename.label","On Type Rename Symbol"),alias:"On Type Rename Symbol",precondition:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__.a.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__.a.writable,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__.a.hasRenameProvider),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__.a.editorTextFocus,primary:3132,weight:100}})}runCommand(accessor,args){const editorService=accessor.get(_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_14__.a),[uri,pos]=Array.isArray(args)&&args||[void 0,void 0];return _base_common_uri_js__WEBPACK_IMPORTED_MODULE_13__.a.isUri(uri)&&_common_core_position_js__WEBPACK_IMPORTED_MODULE_5__.a.isIPosition(pos)?editorService.openCodeEditor({resource:uri},editorService.getActiveCodeEditor()).then(editor=>{editor&&(editor.setPosition(pos),editor.invokeWithinContext(accessor=>(this.reportTelemetry(accessor,editor),this.run(accessor,editor))))},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_15__.e):super.runCommand(accessor,args)}run(_accessor,editor){const controller=OnTypeRenameContribution.get(editor);return controller?Promise.resolve(controller.updateRanges(!0)):Promise.resolve()}}const OnTypeRenameCommand=_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.c.bindToContribution(OnTypeRenameContribution.get);function getOnTypeRenameRanges(model,position,token){const orderedByScore=_common_modes_js__WEBPACK_IMPORTED_MODULE_8__.u.ordered(model);return Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_9__.h)(orderedByScore.map(provider=>()=>Promise.resolve(provider.provideOnTypeRenameRanges(model,position,token)).then(res=>{if(res)return{ranges:res.ranges,wordPattern:res.wordPattern||provider.wordPattern}},err=>{Object(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_15__.f)(err)})),result=>!!result&&_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_3__.o(null==result?void 0:result.ranges))}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.l)(new OnTypeRenameCommand({id:"cancelOnTypeRenameInput",precondition:CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:x=>x.clearRanges(),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_12__.a.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const editorOnTypeRenameBackground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_17__.gc)("editor.onTypeRenameBackground",{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_19__.a.fromHex("#f00").transparent(.3),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_19__.a.fromHex("#f00").transparent(.3),hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_19__.a.fromHex("#f00").transparent(.3)},_nls_js__WEBPACK_IMPORTED_MODULE_1__.a("editorOnTypeRenameBackground","Background color when the editor auto renames on type."));Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_18__.g)((theme,collector)=>{const editorOnTypeRenameBackgroundColor=theme.getColor(editorOnTypeRenameBackground);editorOnTypeRenameBackgroundColor&&collector.addRule(`.monaco-editor .on-type-rename-decoration { background: ${editorOnTypeRenameBackgroundColor}; border-left-color: ${editorOnTypeRenameBackgroundColor}; }`)}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.p)("_executeRenameOnTypeProvider",(model,position)=>getOnTypeRenameRanges(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_6__.a.None)),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.m)(OnTypeRenameContribution.ID,OnTypeRenameContribution),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.k)(OnTypeRenameAction)},2612:function(module,exports,__webpack_require__){var content=__webpack_require__(2613);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2613:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .on-type-rename-decoration {\n\tborder-left: 1px solid transparent;\n\t/* So border can be transparent */\n\tbackground-clip: padding-box;\n}\n",""])},2614:function(module,exports,__webpack_require__){var content=__webpack_require__(2615);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2615:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\tz-index: 10;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n}\n\n.monaco-editor .parameter-hints-widget > .wrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\topacity: 0.5;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n\ttext-decoration: underline;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n",""])},2616:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StandaloneReferencesController",function(){return StandaloneReferencesController});var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2301),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2317),_contrib_gotoSymbol_peek_referencesController_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2500),_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2332),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2307),_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2300),_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2322),_platform_storage_common_storage_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2362),__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let StandaloneReferencesController=class StandaloneReferencesController extends _contrib_gotoSymbol_peek_referencesController_js__WEBPACK_IMPORTED_MODULE_2__.a{constructor(editor,contextKeyService,editorService,notificationService,instantiationService,storageService,configurationService){super(!0,editor,contextKeyService,editorService,notificationService,instantiationService,storageService,configurationService)}};StandaloneReferencesController=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_4__.b),__param(2,_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_1__.a),__param(3,_platform_notification_common_notification_js__WEBPACK_IMPORTED_MODULE_6__.a),__param(4,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_5__.a),__param(5,_platform_storage_common_storage_js__WEBPACK_IMPORTED_MODULE_7__.a),__param(6,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_3__.a)],StandaloneReferencesController),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.m)(_contrib_gotoSymbol_peek_referencesController_js__WEBPACK_IMPORTED_MODULE_2__.a.ID,StandaloneReferencesController)},2617:function(module,exports,__webpack_require__){var content=__webpack_require__(2618);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2618:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""])},2619:function(module,exports,__webpack_require__){var content=__webpack_require__(2620);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2620:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n}\n",""])},2621:function(module,exports,__webpack_require__){var content=__webpack_require__(2622);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2622:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n.monaco-editor .suggest-widget {\n\tz-index: 40;\n}\n\n/** Initial widths **/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n}\n\n.monaco-editor .suggest-widget > .message,\n.monaco-editor .suggest-widget > .tree,\n.monaco-editor .suggest-widget > .details {\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor.hc-black .suggest-widget > .message,\n.monaco-editor.hc-black .suggest-widget > .tree,\n.monaco-editor.hc-black .suggest-widget > .details {\n\tborder-width: 2px;\n}\n\n/** Adjust width when docs are expanded to the side **/\n.monaco-editor .suggest-widget.docs-side {\n\twidth: 660px;\n}\n\n.monaco-editor .suggest-widget.docs-side > .tree,\n.monaco-editor .suggest-widget.docs-side > .details {\n\twidth: 50%;\n\tfloat: left;\n}\n\n.monaco-editor .suggest-widget.docs-side.list-right > .tree,\n.monaco-editor .suggest-widget.docs-side.list-right > .details  {\n\tfloat: right;\n}\n\n/* MarkupContent Layout */\n.monaco-editor .suggest-widget > .details ul {\n\tpadding-left: 20px;\n}\n.monaco-editor .suggest-widget > .details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-widget > .details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n.monaco-editor .suggest-widget > .message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n.monaco-editor .suggest-widget > .tree {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents {\n\tflex: 1 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n/** Status Bar **/\n\n.monaco-editor .suggest-widget > .suggest-status-bar {\n\tvisibility: hidden;\n\n\tposition: absolute;\n\tleft: 0;\n\n\tbox-sizing: border-box;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\n\twidth: 100%;\n\n\tfont-size: 80%;\n\n\tborder-left-width: 1px;\n\tborder-left-style: solid;\n\tborder-right-width: 1px;\n\tborder-right-style: solid;\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\n\tpadding: 0 8px 0 4px;\n}\n\n.monaco-editor .suggest-widget.list-right.docs-side > .suggest-status-bar {\n\tleft: auto;\n\tright: 0;\n}\n.monaco-editor .suggest-widget.docs-side > .suggest-status-bar {\n\twidth: 50%;\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close {\n\tposition: absolute;\n\ttop: 2px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .signature-label,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .qualifier-label {\n\tmargin-left: 4px;\n\topacity: 0.4;\n\tfont-size: 90%;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tline-height: 17px;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label {\n\tmargin-left: 0.8em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label > .monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused > .contents > .main > .right > .details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label) > .contents > .main > .right > .details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label) > .contents > .main > .right > .details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .left > .monaco-icon-label {\n\tflex-shrink: 0;\n}\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label) > .contents > .main > .left > .monaco-icon-label {\n\tmax-width: 100%;\n}\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label > .contents > .main > .left > .monaco-icon-label {\n\tflex-shrink: 1;\n}\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right {\n\toverflow: hidden;\n\tmargin-left: 16px;\n\tflex-shrink: 0;\n\tmax-width: 45%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label > .contents > .main > .right > .readMore {\n\tdisplay: none;\n}\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label > .contents > .main > .right > .readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row > .contents > .main > .right > .readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover > .contents > .main > .right > .readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated > .monaco-icon-label-container > .monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n.monaco-editor .suggest-widget .details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n}\n\n.monaco-editor .suggest-widget .details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.docs-below .details {\n\tborder-top-width: 0;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element {\n\tflex: 1 1;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .header > .type {\n\tflex: 2 1;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\tword-break: break-all;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div,\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs > div > p:last-child\t {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > .docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-widget .details > .monaco-scrollable-element > .body > p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n\n/* replace/insert decorations */\n\n.monaco-editor .suggest-insert-unexpected {\n\tfont-style: italic;\n}\n\n",""])},2623:function(module,exports,__webpack_require__){var content=__webpack_require__(2624);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2624:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tvisibility: visible;\n}\n.monaco-editor .suggest-widget.with-status-bar > .tree {\n\tmargin-bottom: 18px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tmin-height: 18px;\n\topacity: 0.5;\n\tcolor: inherit;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row > .contents > .main > .right > .readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label > .contents > .main > .right > .readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover > .contents > .main > .right.can-expand-details > .details-label {\n\twidth: 100%;\n}\n",""])},2625:function(module,exports,__webpack_require__){var content=__webpack_require__(2626);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2626:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(542)(!1);var ___CSS_LOADER_URL___0___=__webpack_require__(2627)(__webpack_require__(2628));exports.push([module.i,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tsrc: url('+___CSS_LOADER_URL___0___+") format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created in codiconStyles */\n",""])},2627:function(module,exports,__webpack_require__){"use strict";module.exports=function escape(url,needQuotes){return"string"!=typeof url?url:(/^['"].*['"]$/.test(url)&&(url=url.slice(1,-1)),/["'() \t\n]/.test(url)||needQuotes?'"'+url.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':url)}},2628:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/codicon.22349029.ttf"},2629:function(module,exports,__webpack_require__){var content=__webpack_require__(2630);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2630:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n",""])},2631:function(module,exports,__webpack_require__){var content=__webpack_require__(2632);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2632:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@-webkit-keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-animation-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\t-webkit-animation: codicon-spin 1.5s steps(30) infinite;\n\t        animation: codicon-spin 1.5s steps(30) infinite;\n}\n",""])},2633:function(module,exports,__webpack_require__){var content=__webpack_require__(2634);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2634:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list .monaco-list-row.focused.selected .outline-element .monaco-highlighted-label,\n.monaco-list .monaco-list-row.focused.selected .outline-element-decoration {\n\t/* make sure selection color wins when a label is being selected */\n\tcolor: inherit !important;\n}\n\n.monaco-list .outline-element {\n\tdisplay: flex;\n\tflex: 1 1;\n\tflex-flow: row nowrap;\n\talign-items: center;\n}\n\n.monaco-list .outline-element .monaco-highlighted-label {\n\tcolor: var(--outline-element-color);\n}\n\n.monaco-list .outline-element .outline-element-decoration {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tpadding: 0 12px 0 5px;\n\tmargin-left: auto;\n\ttext-align: center;\n\tcolor: var(--outline-element-color);\n}\n\n.monaco-list .outline-element .outline-element-decoration.bubble {\n\tfont-family: codicon;\n\tfont-size: 14px;\n\topacity: 0.4;\n}\n\n.monaco-list .outline-element .outline-element-icon {\n\tmargin-right: 4px;\n}\n",""])},2635:function(module,exports,__webpack_require__){var content=__webpack_require__(2636);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2636:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n",""])},2637:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2301),_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2393),_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2353);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.k)(class ToggleHighContrast extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.b{constructor(){super({id:"editor.action.toggleHighContrast",label:_common_standaloneStrings_js__WEBPACK_IMPORTED_MODULE_2__.i.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(accessor,editor){const standaloneThemeService=accessor.get(_common_standaloneThemeService_js__WEBPACK_IMPORTED_MODULE_1__.a);this._originalThemeName?(standaloneThemeService.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=standaloneThemeService.getColorTheme().themeName,standaloneThemeService.setTheme("hc-black"))}})},2638:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2301),_common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2381),_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2295),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2312),_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2436);Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.k)(class TransposeLettersAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_1__.b{constructor(){super({id:"editor.action.transposeLetters",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(accessor,editor){if(!editor.hasModel())return;let model=editor.getModel(),commands=[],selections=editor.getSelections();for(let selection of selections){if(!selection.isEmpty())continue;let lineNumber=selection.startLineNumber,column=selection.startColumn,lastColumn=model.getLineMaxColumn(lineNumber);if(1===lineNumber&&(1===column||2===column&&2===lastColumn))continue;let endPosition=column===lastColumn?selection.getPosition():_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__.a.rightPosition(model,selection.getPosition().lineNumber,selection.getPosition().column),middlePosition=_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__.a.leftPosition(model,endPosition.lineNumber,endPosition.column),beginPosition=_common_controller_cursorMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__.a.leftPosition(model,middlePosition.lineNumber,middlePosition.column),leftChar=model.getValueInRange(_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__.a.fromPositions(beginPosition,middlePosition)),rightChar=model.getValueInRange(_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__.a.fromPositions(middlePosition,endPosition)),replaceRange=_common_core_range_js__WEBPACK_IMPORTED_MODULE_3__.a.fromPositions(beginPosition,endPosition);commands.push(new _common_commands_replaceCommand_js__WEBPACK_IMPORTED_MODULE_2__.a(replaceRange,rightChar+leftChar))}commands.length>0&&(editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop())}})},2639:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2301),_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2317),_platform_dialogs_common_dialogs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2447),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const ignoreUnusualLineTerminators="ignoreUnusualLineTerminators";let UnusualLineTerminatorsDetector=class UnusualLineTerminatorsDetector extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(_editor,_dialogService,_codeEditorService){super(),this._editor=_editor,this._dialogService=_dialogService,this._codeEditorService=_codeEditorService,this._config=this._editor.getOption(103),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(103)&&(this._config=this._editor.getOption(103),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(e=>{e.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return __awaiter(this,void 0,void 0,function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const model=this._editor.getModel();model.mightContainUnusualLineTerminators()&&!0!==function readIgnoreState(codeEditorService,model){return codeEditorService.getModelProperty(model.uri,ignoreUnusualLineTerminators)}(this._codeEditorService,model)&&(this._editor.getOption(72)||("auto"!==this._config?(yield this._dialogService.confirm({title:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.title","Unusual Line Terminators"),message:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.message","Detected unusual line terminators"),detail:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.detail","This file contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`."),primaryButton:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.fix","Fix this file"),secondaryButton:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("unusualLineTerminators.ignore","Ignore problem for this file")})).confirmed?model.removeUnusualLineTerminators(this._editor.getSelections()):function writeIgnoreState(codeEditorService,model,state){codeEditorService.setModelProperty(model.uri,ignoreUnusualLineTerminators,state)}(this._codeEditorService,model,!0):model.removeUnusualLineTerminators(this._editor.getSelections())))})}};UnusualLineTerminatorsDetector.ID="editor.contrib.unusualLineTerminatorsDetector",UnusualLineTerminatorsDetector=__decorate([__param(1,_platform_dialogs_common_dialogs_js__WEBPACK_IMPORTED_MODULE_4__.a),__param(2,_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__.a)],UnusualLineTerminatorsDetector),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.m)(UnusualLineTerminatorsDetector.ID,UnusualLineTerminatorsDetector)},2640:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2306),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2301),_common_modes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2308),_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2336),_common_services_semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2492),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2304),_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2332),_common_services_modelServiceImpl_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2493),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let ViewportSemanticTokensContribution=class ViewportSemanticTokensContribution extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(editor,_modelService,_themeService,_configurationService){super(),this._modelService=_modelService,this._themeService=_themeService,this._configurationService=_configurationService,this._editor=editor,this._tokenizeViewport=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.d(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(e=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.k.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(_common_services_modelServiceImpl_js__WEBPACK_IMPORTED_MODULE_8__.b)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}static _getSemanticColoringProvider(model){const result=_common_modes_js__WEBPACK_IMPORTED_MODULE_3__.k.ordered(model);return result.length>0?result[0]:null}_cancelAll(){for(const request of this._outstandingRequests)request.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(req){for(let i=0,len=this._outstandingRequests.length;i<len;i++)if(this._outstandingRequests[i]===req)return void this._outstandingRequests.splice(i,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const model=this._editor.getModel();if(model.hasSemanticTokens())return;if(!Object(_common_services_modelServiceImpl_js__WEBPACK_IMPORTED_MODULE_8__.c)(model,this._themeService,this._configurationService))return;const provider=ViewportSemanticTokensContribution._getSemanticColoringProvider(model);if(!provider)return;const styling=this._modelService.getSemanticTokensProviderStyling(provider),visibleRanges=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(visibleRanges.map(range=>this._requestRange(model,range,provider,styling)))}_requestRange(model,range,provider,styling){const requestVersionId=model.getVersionId(),request=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_0__.f)(token=>Promise.resolve(provider.provideDocumentRangeSemanticTokens(model,range,token)));return request.then(r=>{r&&!model.isDisposed()&&model.getVersionId()===requestVersionId&&model.setPartialSemanticTokens(range,Object(_common_services_semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_5__.b)(r,styling,model.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(request),()=>this._removeOutstandingRequest(request)),request}};ViewportSemanticTokensContribution.ID="editor.contrib.viewportSemanticTokens",ViewportSemanticTokensContribution=__decorate([__param(1,_common_services_modelService_js__WEBPACK_IMPORTED_MODULE_4__.a),__param(2,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_6__.c),__param(3,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_7__.a)],ViewportSemanticTokensContribution),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__.m)(ViewportSemanticTokensContribution.ID,ViewportSemanticTokensContribution)},2641:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getOccurrencesAtPosition",function(){return getOccurrencesAtPosition});var _nls_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2297),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2309),_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2306),_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2315),_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2302),_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2294),_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2301),_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2295),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2312),_common_model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2340),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2321),_common_modes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2308),_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2307),_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2310),_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2304),_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2335),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const editorWordHighlight=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.gc)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),editorWordHighlightStrong=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.gc)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),editorWordHighlightBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.gc)("editor.wordHighlightBorder",{light:null,dark:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),editorWordHighlightStrongBorder=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.gc)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.b},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),overviewRulerWordHighlightForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.gc)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),overviewRulerWordHighlightStrongForeground=Object(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.gc)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ctxHasWordHighlights=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__.c("hasWordHighlights",!1);function getOccurrencesAtPosition(model,position,token){const orderedByScore=_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.i.ordered(model);return Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.h)(orderedByScore.map(provider=>()=>Promise.resolve(provider.provideDocumentHighlights(model,position,token)).then(void 0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__.f)),_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.o)}class OccurenceAtPositionRequest{constructor(model,selection,wordSeparators){this._wordRange=this._getCurrentWordRange(model,selection),this.result=Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.f)(token=>this._compute(model,selection,wordSeparators,token))}_getCurrentWordRange(model,selection){const word=model.getWordAtPosition(selection.getPosition());return word?new _common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a(selection.startLineNumber,word.startColumn,selection.startLineNumber,word.endColumn):null}isValid(model,selection,decorationIds){const lineNumber=selection.startLineNumber,startColumn=selection.startColumn,endColumn=selection.endColumn,currentWordRange=this._getCurrentWordRange(model,selection);let requestIsValid=Boolean(this._wordRange&&this._wordRange.equalsRange(currentWordRange));for(let i=0,len=decorationIds.length;!requestIsValid&&i<len;i++){let range=model.getDecorationRange(decorationIds[i]);range&&range.startLineNumber===lineNumber&&range.startColumn<=startColumn&&range.endColumn>=endColumn&&(requestIsValid=!0)}return requestIsValid}cancel(){this.result.cancel()}}class SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest{_compute(model,selection,wordSeparators,token){return getOccurrencesAtPosition(model,selection.getPosition(),token).then(value=>value||[])}}class TextualOccurenceAtPositionRequest extends OccurenceAtPositionRequest{constructor(model,selection,wordSeparators){super(model,selection,wordSeparators),this._selectionIsEmpty=selection.isEmpty()}_compute(model,selection,wordSeparators,token){return Object(_base_common_async_js__WEBPACK_IMPORTED_MODULE_2__.l)(250,token).then(()=>{if(!selection.isEmpty())return[];const word=model.getWordAtPosition(selection.getPosition());return!word||word.word.length>1e3?[]:model.findMatches(word.word,!0,!1,!0,wordSeparators,!1).map(m=>({range:m.range,kind:_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.h.Text}))})}isValid(model,selection,decorationIds){const currentSelectionIsEmpty=selection.isEmpty();return this._selectionIsEmpty===currentSelectionIsEmpty&&super.isValid(model,selection,decorationIds)}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.p)("_executeDocumentHighlights",(model,position)=>getOccurrencesAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_3__.a.None));class WordHighlighter{constructor(editor,contextKeyService){this.toUnhook=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.b,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=editor,this._hasWordHighlights=ctxHasWordHighlights.bindTo(contextKeyService),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(63),this.model=this.editor.getModel(),this.toUnhook.add(editor.onDidChangeCursorPosition(e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)})),this.toUnhook.add(editor.onDidChangeModelContent(e=>{this._stopAll()})),this.toUnhook.add(editor.onDidChangeConfiguration(e=>{let newValue=this.editor.getOption(63);this.occurrencesHighlight!==newValue&&(this.occurrencesHighlight=newValue,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.d(this._decorationIds.map(id=>this.model.getDecorationRange(id)).sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_7__.a.compareRangesUsingStarts))}moveNext(){let highlights=this._getSortedHighlights(),newIndex=(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.j(highlights,range=>range.containsPosition(this.editor.getPosition()))+1)%highlights.length,dest=highlights[newIndex];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(dest.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(dest);const word=this._getWord();if(word){const lineContent=this.editor.getModel().getLineContent(dest.startLineNumber);Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_15__.a)(`${lineContent}, ${newIndex+1} of ${highlights.length} for '${word.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let highlights=this._getSortedHighlights(),newIndex=(_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__.j(highlights,range=>range.containsPosition(this.editor.getPosition()))-1+highlights.length)%highlights.length,dest=highlights[newIndex];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(dest.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(dest);const word=this._getWord();if(word){const lineContent=this.editor.getModel().getLineContent(dest.startLineNumber);Object(_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_15__.a)(`${lineContent}, ${newIndex+1} of ${highlights.length} for '${word.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let editorSelection=this.editor.getSelection(),lineNumber=editorSelection.startLineNumber,startColumn=editorSelection.startColumn;return this.model.getWordAtPosition({lineNumber:lineNumber,column:startColumn})}_run(){let editorSelection=this.editor.getSelection();if(editorSelection.startLineNumber!==editorSelection.endLineNumber)return void this._stopAll();let startColumn=editorSelection.startColumn,endColumn=editorSelection.endColumn;const word=this._getWord();if(!word||word.startColumn>startColumn||word.endColumn<endColumn)return void this._stopAll();const workerRequestIsValid=this.workerRequest&&this.workerRequest.isValid(this.model,editorSelection,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),workerRequestIsValid)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let myRequestId=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function computeOccurencesAtPosition(model,selection,wordSeparators){return _common_modes_js__WEBPACK_IMPORTED_MODULE_11__.i.has(model)?new SemanticOccurenceAtPositionRequest(model,selection,wordSeparators):new TextualOccurenceAtPositionRequest(model,selection,wordSeparators)}(this.model,this.editor.getSelection(),this.editor.getOption(105)),this.workerRequest.result.then(data=>{myRequestId===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=data||[],this._beginRenderDecorations())},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__.e)}}_beginRenderDecorations(){let currentTime=(new Date).getTime(),minimumRenderTime=this.lastCursorPositionChangeTime+250;currentTime>=minimumRenderTime?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},minimumRenderTime-currentTime)}renderDecorations(){this.renderDecorationsTimer=-1;let decorations=[];for(const info of this.workerRequestValue)info.range&&decorations.push({range:info.range,options:WordHighlighter._getDecorationOptions(info.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,decorations),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(kind){return kind===_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.h.Write?this._WRITE_OPTIONS:kind===_common_modes_js__WEBPACK_IMPORTED_MODULE_11__.h.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}WordHighlighter._WRITE_OPTIONS=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.h)(overviewRulerWordHighlightStrongForeground),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),WordHighlighter._TEXT_OPTIONS=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.h)(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Wb),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}}),WordHighlighter._REGULAR_OPTIONS=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_10__.a.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.h)(overviewRulerWordHighlightForeground),position:_common_model_js__WEBPACK_IMPORTED_MODULE_9__.d.Center}});let WordHighlighterContribution=class WordHighlighterContribution extends _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__.a{constructor(editor,contextKeyService){super(),this.wordHighlighter=null;const createWordHighlighterIfPossible=()=>{editor.hasModel()&&(this.wordHighlighter=new WordHighlighter(editor,contextKeyService))};this._register(editor.onDidChangeModel(e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),createWordHighlighterIfPossible()})),createWordHighlighterIfPossible()}static get(editor){return editor.getContribution(WordHighlighterContribution.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(state){this.wordHighlighter&&state&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};WordHighlighterContribution.ID="editor.contrib.wordHighlighter",WordHighlighterContribution=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__.b)],WordHighlighterContribution);class WordHighlightNavigationAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.b{constructor(next,opts){super(opts),this._isNext=next}run(accessor,editor){const controller=WordHighlighterContribution.get(editor);controller&&(this._isNext?controller.moveNext():controller.moveBack())}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.m)(WordHighlighterContribution.ID,WordHighlighterContribution),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.k)(class NextWordHighlightAction extends WordHighlightNavigationAction{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:ctxHasWordHighlights,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:65,weight:100}})}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.k)(class PrevWordHighlightAction extends WordHighlightNavigationAction{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:ctxHasWordHighlights,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:1089,weight:100}})}}),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.k)(class TriggerWordHighlightAction extends _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_6__.b{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_nls_js__WEBPACK_IMPORTED_MODULE_0__.a("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:ctxHasWordHighlights.toNegated(),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_8__.a.editorTextFocus,primary:0,weight:100}})}run(accessor,editor,args){const controller=WordHighlighterContribution.get(editor);controller&&controller.restoreViewState(!0)}}),Object(_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__.g)((theme,collector)=>{const selectionHighlight=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.Q);selectionHighlight&&(collector.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${selectionHighlight}; }`),collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(.5)}; }`));const wordHighlight=theme.getColor(editorWordHighlight);wordHighlight&&collector.addRule(`.monaco-editor .wordHighlight { background-color: ${wordHighlight}; }`);const wordHighlightStrong=theme.getColor(editorWordHighlightStrong);wordHighlightStrong&&collector.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${wordHighlightStrong}; }`);const selectionHighlightBorder=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_13__.R);selectionHighlightBorder&&collector.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===theme.type?"dotted":"solid"} ${selectionHighlightBorder}; box-sizing: border-box; }`);const wordHighlightBorder=theme.getColor(editorWordHighlightBorder);wordHighlightBorder&&collector.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===theme.type?"dashed":"solid"} ${wordHighlightBorder}; box-sizing: border-box; }`);const wordHighlightStrongBorder=theme.getColor(editorWordHighlightStrongBorder);wordHighlightStrongBorder&&collector.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===theme.type?"dashed":"solid"} ${wordHighlightStrongBorder}; box-sizing: border-box; }`)})},2642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DeleteWordPartLeft",function(){return DeleteWordPartLeft}),__webpack_require__.d(__webpack_exports__,"DeleteWordPartRight",function(){return DeleteWordPartRight}),__webpack_require__.d(__webpack_exports__,"WordPartLeftCommand",function(){return WordPartLeftCommand}),__webpack_require__.d(__webpack_exports__,"CursorWordPartLeft",function(){return CursorWordPartLeft}),__webpack_require__.d(__webpack_exports__,"CursorWordPartLeftSelect",function(){return CursorWordPartLeftSelect}),__webpack_require__.d(__webpack_exports__,"WordPartRightCommand",function(){return WordPartRightCommand}),__webpack_require__.d(__webpack_exports__,"CursorWordPartRight",function(){return CursorWordPartRight}),__webpack_require__.d(__webpack_exports__,"CursorWordPartRightSelect",function(){return CursorWordPartRightSelect});var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2301),_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2406),_common_core_range_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2295),_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2312),_wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2494),_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2318);class DeleteWordPartLeft extends _wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){let r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.deleteWordPartLeft(wordSeparators,model,selection,whitespaceHeuristics);return r||new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(1,1,1,1)}}class DeleteWordPartRight extends _wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.writable,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(wordSeparators,model,selection,whitespaceHeuristics,wordNavigationType){let r=_common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.deleteWordPartRight(wordSeparators,model,selection,whitespaceHeuristics);if(r)return r;const lineCount=model.getLineCount(),maxColumn=model.getLineMaxColumn(lineCount);return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_2__.a(lineCount,maxColumn,lineCount,maxColumn)}}class WordPartLeftCommand extends _wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.MoveWordCommand{_move(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.moveWordPartLeft(wordSeparators,model,position)}}class CursorWordPartLeft extends WordPartLeftCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class CursorWordPartLeftSelect extends WordPartLeftCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class WordPartRightCommand extends _wordOperations_wordOperations_js__WEBPACK_IMPORTED_MODULE_4__.MoveWordCommand{_move(wordSeparators,model,position,wordNavigationType){return _common_controller_cursorWordOperations_js__WEBPACK_IMPORTED_MODULE_1__.b.moveWordPartRight(wordSeparators,model,position)}}class CursorWordPartRight extends WordPartRightCommand{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class CursorWordPartRightSelect extends WordPartRightCommand{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_3__.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordPartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new DeleteWordPartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordPartLeft),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordPartLeftSelect),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordPartRight),Object(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__.l)(new CursorWordPartRightSelect)},2643:function(module,exports,__webpack_require__){var content=__webpack_require__(2644);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2644:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* The hc-black theme is already high contrast optimized */\n.monaco-editor.hc-black {\n\t-ms-high-contrast-adjust: none;\n}\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n',""])},2645:function(module,exports,__webpack_require__){var content=__webpack_require__(2646);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2646:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n",""])},2647:function(module,exports,__webpack_require__){var content=__webpack_require__(2648);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2648:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\t-moz-user-select: none;\n\t     user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n",""])},2649:function(module,exports,__webpack_require__){var content=__webpack_require__(2650);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2650:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view .monaco-menu {\n\tmin-width: 130px;\n}\n\n",""])},2651:function(module,exports,__webpack_require__){var content=__webpack_require__(2652);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2652:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n\tz-index: 2500;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tz-index: 2500;\n\tcolor: inherit;\n}\n",""])},2653:function(module,exports,__webpack_require__){var content=__webpack_require__(2654);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2654:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n",""])},2655:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2000;\n\tpadding-bottom: 6px;\n\tleft: 50%;\n\tmargin-left: -300px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1 1;\n}\n\n.quick-input-left-action-bar.monaco-action-bar .actions-container {\n\tjustify-content: flex-start;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1 1;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tmargin: 0;\n\twidth: 19px;\n\theight: 100%;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px 5px 2px 5px;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row:first-child .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: sub;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0 1;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin: 0;\n\theight: 100%;\n\tpadding: 0 2px;\n\tvertical-align: middle;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px; /* separate actions */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n",""])},2656:function(module,exports,__webpack_require__){var content=__webpack_require__(2657);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2657:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tborder-radius: 3px;\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tvertical-align: middle;\n\tcolor: #555;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key,\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tcolor: #ccc;\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}",""])},2658:function(module,exports,__webpack_require__){var content=__webpack_require__(2659);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2659:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\t-webkit-animation-name: progress;\n\t        animation-name: progress;\n\t-webkit-animation-duration: 4s;\n\t        animation-duration: 4s;\n\t-webkit-animation-iteration-count: infinite;\n\t        animation-iteration-count: infinite;\n\t-webkit-animation-timing-function: linear;\n\t        animation-timing-function: linear;\n\ttransform: translate3d(0px, 0px, 0px);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n *  50%: 50 * 50 = 2500%\n * 100%: 50 * 100 - 50 (do not overflow): 4950%\n */\n@-webkit-keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4950%) scaleX(1) } }\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4950%) scaleX(1) } }\n",""])},2660:function(module,exports,__webpack_require__){var content=__webpack_require__(2661);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(543)(content,options);content.locals&&(module.exports=content.locals)},2661:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(542)(!1)).push([module.i,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\toutline-offset: 2px !important;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled {\n\topacity: 0.4;\n\tcursor: default;\n}\n\n.monaco-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n",""])},2662:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2495);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return __webpack_require__.e(8).then(__webpack_require__.bind(null,2687))}})},2663:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _contribution_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2495);Object(_contribution_js__WEBPACK_IMPORTED_MODULE_0__.a)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return __webpack_require__.e(11).then(__webpack_require__.bind(null,2450))}})},2664:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"jsonDefaults",function(){return jsonDefaults});__webpack_require__(2346);var _fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2422),jsonDefaults=new(function(){function LanguageServiceDefaultsImpl(languageId,diagnosticsOptions,modeConfiguration){this._onDidChange=new _fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_1__.Emitter,this._languageId=languageId,this.setDiagnosticsOptions(diagnosticsOptions),this.setModeConfiguration(modeConfiguration)}return Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),LanguageServiceDefaultsImpl.prototype.setDiagnosticsOptions=function(options){this._diagnosticsOptions=options||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl.prototype.setModeConfiguration=function(modeConfiguration){this._modeConfiguration=modeConfiguration||Object.create(null),this._onDidChange.fire(this)},LanguageServiceDefaultsImpl}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_1__.languages.json={jsonDefaults:jsonDefaults},_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_1__.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),_fillers_monaco_editor_core_js__WEBPACK_IMPORTED_MODULE_1__.languages.onLanguage("json",function(){(function getMode(){return __webpack_require__.e(9).then(__webpack_require__.bind(null,2690))})().then(function(mode){return mode.setupMode(jsonDefaults)})})},2689:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var AccessibilitySupport,CompletionItemInsertTextRule,CompletionItemKind,CompletionItemTag,CompletionTriggerKind,ContentWidgetPositionPreference,CursorChangeReason,DefaultEndOfLine,DocumentHighlightKind,EditorAutoIndentStrategy,EditorOption,EndOfLinePreference,EndOfLineSequence,IndentAction,KeyCode,MarkerSeverity,MarkerTag,MinimapPosition,MouseTargetType,OverlayWidgetPositionPreference,OverviewRulerLane,RenderLineNumbersType,RenderMinimap,ScrollType,ScrollbarVisibility,SelectionDirection,SignatureHelpTriggerKind,SymbolKind,SymbolTag,TextEditorCursorBlinkingStyle,TextEditorCursorStyle,TrackedRangeStickiness,WrappingIndent,editorOptions=__webpack_require__(2328),cancellation=__webpack_require__(2315),common_event=__webpack_require__(2296),keyCodes=__webpack_require__(2329),common_uri=__webpack_require__(2313),core_position=__webpack_require__(2303),core_range=__webpack_require__(2295),core_selection=__webpack_require__(2311),core_token=__webpack_require__(2400);!function(AccessibilitySupport){AccessibilitySupport[AccessibilitySupport.Unknown=0]="Unknown",AccessibilitySupport[AccessibilitySupport.Disabled=1]="Disabled",AccessibilitySupport[AccessibilitySupport.Enabled=2]="Enabled"}(AccessibilitySupport||(AccessibilitySupport={})),function(CompletionItemInsertTextRule){CompletionItemInsertTextRule[CompletionItemInsertTextRule.KeepWhitespace=1]="KeepWhitespace",CompletionItemInsertTextRule[CompletionItemInsertTextRule.InsertAsSnippet=4]="InsertAsSnippet"}(CompletionItemInsertTextRule||(CompletionItemInsertTextRule={})),function(CompletionItemKind){CompletionItemKind[CompletionItemKind.Method=0]="Method",CompletionItemKind[CompletionItemKind.Function=1]="Function",CompletionItemKind[CompletionItemKind.Constructor=2]="Constructor",CompletionItemKind[CompletionItemKind.Field=3]="Field",CompletionItemKind[CompletionItemKind.Variable=4]="Variable",CompletionItemKind[CompletionItemKind.Class=5]="Class",CompletionItemKind[CompletionItemKind.Struct=6]="Struct",CompletionItemKind[CompletionItemKind.Interface=7]="Interface",CompletionItemKind[CompletionItemKind.Module=8]="Module",CompletionItemKind[CompletionItemKind.Property=9]="Property",CompletionItemKind[CompletionItemKind.Event=10]="Event",CompletionItemKind[CompletionItemKind.Operator=11]="Operator",CompletionItemKind[CompletionItemKind.Unit=12]="Unit",CompletionItemKind[CompletionItemKind.Value=13]="Value",CompletionItemKind[CompletionItemKind.Constant=14]="Constant",CompletionItemKind[CompletionItemKind.Enum=15]="Enum",CompletionItemKind[CompletionItemKind.EnumMember=16]="EnumMember",CompletionItemKind[CompletionItemKind.Keyword=17]="Keyword",CompletionItemKind[CompletionItemKind.Text=18]="Text",CompletionItemKind[CompletionItemKind.Color=19]="Color",CompletionItemKind[CompletionItemKind.File=20]="File",CompletionItemKind[CompletionItemKind.Reference=21]="Reference",CompletionItemKind[CompletionItemKind.Customcolor=22]="Customcolor",CompletionItemKind[CompletionItemKind.Folder=23]="Folder",CompletionItemKind[CompletionItemKind.TypeParameter=24]="TypeParameter",CompletionItemKind[CompletionItemKind.User=25]="User",CompletionItemKind[CompletionItemKind.Issue=26]="Issue",CompletionItemKind[CompletionItemKind.Snippet=27]="Snippet"}(CompletionItemKind||(CompletionItemKind={})),function(CompletionItemTag){CompletionItemTag[CompletionItemTag.Deprecated=1]="Deprecated"}(CompletionItemTag||(CompletionItemTag={})),function(CompletionTriggerKind){CompletionTriggerKind[CompletionTriggerKind.Invoke=0]="Invoke",CompletionTriggerKind[CompletionTriggerKind.TriggerCharacter=1]="TriggerCharacter",CompletionTriggerKind[CompletionTriggerKind.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(CompletionTriggerKind||(CompletionTriggerKind={})),function(ContentWidgetPositionPreference){ContentWidgetPositionPreference[ContentWidgetPositionPreference.EXACT=0]="EXACT",ContentWidgetPositionPreference[ContentWidgetPositionPreference.ABOVE=1]="ABOVE",ContentWidgetPositionPreference[ContentWidgetPositionPreference.BELOW=2]="BELOW"}(ContentWidgetPositionPreference||(ContentWidgetPositionPreference={})),function(CursorChangeReason){CursorChangeReason[CursorChangeReason.NotSet=0]="NotSet",CursorChangeReason[CursorChangeReason.ContentFlush=1]="ContentFlush",CursorChangeReason[CursorChangeReason.RecoverFromMarkers=2]="RecoverFromMarkers",CursorChangeReason[CursorChangeReason.Explicit=3]="Explicit",CursorChangeReason[CursorChangeReason.Paste=4]="Paste",CursorChangeReason[CursorChangeReason.Undo=5]="Undo",CursorChangeReason[CursorChangeReason.Redo=6]="Redo"}(CursorChangeReason||(CursorChangeReason={})),function(DefaultEndOfLine){DefaultEndOfLine[DefaultEndOfLine.LF=1]="LF",DefaultEndOfLine[DefaultEndOfLine.CRLF=2]="CRLF"}(DefaultEndOfLine||(DefaultEndOfLine={})),function(DocumentHighlightKind){DocumentHighlightKind[DocumentHighlightKind.Text=0]="Text",DocumentHighlightKind[DocumentHighlightKind.Read=1]="Read",DocumentHighlightKind[DocumentHighlightKind.Write=2]="Write"}(DocumentHighlightKind||(DocumentHighlightKind={})),function(EditorAutoIndentStrategy){EditorAutoIndentStrategy[EditorAutoIndentStrategy.None=0]="None",EditorAutoIndentStrategy[EditorAutoIndentStrategy.Keep=1]="Keep",EditorAutoIndentStrategy[EditorAutoIndentStrategy.Brackets=2]="Brackets",EditorAutoIndentStrategy[EditorAutoIndentStrategy.Advanced=3]="Advanced",EditorAutoIndentStrategy[EditorAutoIndentStrategy.Full=4]="Full"}(EditorAutoIndentStrategy||(EditorAutoIndentStrategy={})),function(EditorOption){EditorOption[EditorOption.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",EditorOption[EditorOption.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",EditorOption[EditorOption.accessibilitySupport=2]="accessibilitySupport",EditorOption[EditorOption.accessibilityPageSize=3]="accessibilityPageSize",EditorOption[EditorOption.ariaLabel=4]="ariaLabel",EditorOption[EditorOption.autoClosingBrackets=5]="autoClosingBrackets",EditorOption[EditorOption.autoClosingOvertype=6]="autoClosingOvertype",EditorOption[EditorOption.autoClosingQuotes=7]="autoClosingQuotes",EditorOption[EditorOption.autoIndent=8]="autoIndent",EditorOption[EditorOption.automaticLayout=9]="automaticLayout",EditorOption[EditorOption.autoSurround=10]="autoSurround",EditorOption[EditorOption.codeLens=11]="codeLens",EditorOption[EditorOption.colorDecorators=12]="colorDecorators",EditorOption[EditorOption.columnSelection=13]="columnSelection",EditorOption[EditorOption.comments=14]="comments",EditorOption[EditorOption.contextmenu=15]="contextmenu",EditorOption[EditorOption.copyWithSyntaxHighlighting=16]="copyWithSyntaxHighlighting",EditorOption[EditorOption.cursorBlinking=17]="cursorBlinking",EditorOption[EditorOption.cursorSmoothCaretAnimation=18]="cursorSmoothCaretAnimation",EditorOption[EditorOption.cursorStyle=19]="cursorStyle",EditorOption[EditorOption.cursorSurroundingLines=20]="cursorSurroundingLines",EditorOption[EditorOption.cursorSurroundingLinesStyle=21]="cursorSurroundingLinesStyle",EditorOption[EditorOption.cursorWidth=22]="cursorWidth",EditorOption[EditorOption.disableLayerHinting=23]="disableLayerHinting",EditorOption[EditorOption.disableMonospaceOptimizations=24]="disableMonospaceOptimizations",EditorOption[EditorOption.dragAndDrop=25]="dragAndDrop",EditorOption[EditorOption.emptySelectionClipboard=26]="emptySelectionClipboard",EditorOption[EditorOption.extraEditorClassName=27]="extraEditorClassName",EditorOption[EditorOption.fastScrollSensitivity=28]="fastScrollSensitivity",EditorOption[EditorOption.find=29]="find",EditorOption[EditorOption.fixedOverflowWidgets=30]="fixedOverflowWidgets",EditorOption[EditorOption.folding=31]="folding",EditorOption[EditorOption.foldingStrategy=32]="foldingStrategy",EditorOption[EditorOption.foldingHighlight=33]="foldingHighlight",EditorOption[EditorOption.unfoldOnClickAfterEndOfLine=34]="unfoldOnClickAfterEndOfLine",EditorOption[EditorOption.fontFamily=35]="fontFamily",EditorOption[EditorOption.fontInfo=36]="fontInfo",EditorOption[EditorOption.fontLigatures=37]="fontLigatures",EditorOption[EditorOption.fontSize=38]="fontSize",EditorOption[EditorOption.fontWeight=39]="fontWeight",EditorOption[EditorOption.formatOnPaste=40]="formatOnPaste",EditorOption[EditorOption.formatOnType=41]="formatOnType",EditorOption[EditorOption.glyphMargin=42]="glyphMargin",EditorOption[EditorOption.gotoLocation=43]="gotoLocation",EditorOption[EditorOption.hideCursorInOverviewRuler=44]="hideCursorInOverviewRuler",EditorOption[EditorOption.highlightActiveIndentGuide=45]="highlightActiveIndentGuide",EditorOption[EditorOption.hover=46]="hover",EditorOption[EditorOption.inDiffEditor=47]="inDiffEditor",EditorOption[EditorOption.letterSpacing=48]="letterSpacing",EditorOption[EditorOption.lightbulb=49]="lightbulb",EditorOption[EditorOption.lineDecorationsWidth=50]="lineDecorationsWidth",EditorOption[EditorOption.lineHeight=51]="lineHeight",EditorOption[EditorOption.lineNumbers=52]="lineNumbers",EditorOption[EditorOption.lineNumbersMinChars=53]="lineNumbersMinChars",EditorOption[EditorOption.links=54]="links",EditorOption[EditorOption.matchBrackets=55]="matchBrackets",EditorOption[EditorOption.minimap=56]="minimap",EditorOption[EditorOption.mouseStyle=57]="mouseStyle",EditorOption[EditorOption.mouseWheelScrollSensitivity=58]="mouseWheelScrollSensitivity",EditorOption[EditorOption.mouseWheelZoom=59]="mouseWheelZoom",EditorOption[EditorOption.multiCursorMergeOverlapping=60]="multiCursorMergeOverlapping",EditorOption[EditorOption.multiCursorModifier=61]="multiCursorModifier",EditorOption[EditorOption.multiCursorPaste=62]="multiCursorPaste",EditorOption[EditorOption.occurrencesHighlight=63]="occurrencesHighlight",EditorOption[EditorOption.overviewRulerBorder=64]="overviewRulerBorder",EditorOption[EditorOption.overviewRulerLanes=65]="overviewRulerLanes",EditorOption[EditorOption.padding=66]="padding",EditorOption[EditorOption.parameterHints=67]="parameterHints",EditorOption[EditorOption.peekWidgetDefaultFocus=68]="peekWidgetDefaultFocus",EditorOption[EditorOption.definitionLinkOpensInPeek=69]="definitionLinkOpensInPeek",EditorOption[EditorOption.quickSuggestions=70]="quickSuggestions",EditorOption[EditorOption.quickSuggestionsDelay=71]="quickSuggestionsDelay",EditorOption[EditorOption.readOnly=72]="readOnly",EditorOption[EditorOption.renameOnType=73]="renameOnType",EditorOption[EditorOption.renderControlCharacters=74]="renderControlCharacters",EditorOption[EditorOption.renderIndentGuides=75]="renderIndentGuides",EditorOption[EditorOption.renderFinalNewline=76]="renderFinalNewline",EditorOption[EditorOption.renderLineHighlight=77]="renderLineHighlight",EditorOption[EditorOption.renderLineHighlightOnlyWhenFocus=78]="renderLineHighlightOnlyWhenFocus",EditorOption[EditorOption.renderValidationDecorations=79]="renderValidationDecorations",EditorOption[EditorOption.renderWhitespace=80]="renderWhitespace",EditorOption[EditorOption.revealHorizontalRightPadding=81]="revealHorizontalRightPadding",EditorOption[EditorOption.roundedSelection=82]="roundedSelection",EditorOption[EditorOption.rulers=83]="rulers",EditorOption[EditorOption.scrollbar=84]="scrollbar",EditorOption[EditorOption.scrollBeyondLastColumn=85]="scrollBeyondLastColumn",EditorOption[EditorOption.scrollBeyondLastLine=86]="scrollBeyondLastLine",EditorOption[EditorOption.scrollPredominantAxis=87]="scrollPredominantAxis",EditorOption[EditorOption.selectionClipboard=88]="selectionClipboard",EditorOption[EditorOption.selectionHighlight=89]="selectionHighlight",EditorOption[EditorOption.selectOnLineNumbers=90]="selectOnLineNumbers",EditorOption[EditorOption.showFoldingControls=91]="showFoldingControls",EditorOption[EditorOption.showUnused=92]="showUnused",EditorOption[EditorOption.snippetSuggestions=93]="snippetSuggestions",EditorOption[EditorOption.smoothScrolling=94]="smoothScrolling",EditorOption[EditorOption.stopRenderingLineAfter=95]="stopRenderingLineAfter",EditorOption[EditorOption.suggest=96]="suggest",EditorOption[EditorOption.suggestFontSize=97]="suggestFontSize",EditorOption[EditorOption.suggestLineHeight=98]="suggestLineHeight",EditorOption[EditorOption.suggestOnTriggerCharacters=99]="suggestOnTriggerCharacters",EditorOption[EditorOption.suggestSelection=100]="suggestSelection",EditorOption[EditorOption.tabCompletion=101]="tabCompletion",EditorOption[EditorOption.tabIndex=102]="tabIndex",EditorOption[EditorOption.unusualLineTerminators=103]="unusualLineTerminators",EditorOption[EditorOption.useTabStops=104]="useTabStops",EditorOption[EditorOption.wordSeparators=105]="wordSeparators",EditorOption[EditorOption.wordWrap=106]="wordWrap",EditorOption[EditorOption.wordWrapBreakAfterCharacters=107]="wordWrapBreakAfterCharacters",EditorOption[EditorOption.wordWrapBreakBeforeCharacters=108]="wordWrapBreakBeforeCharacters",EditorOption[EditorOption.wordWrapColumn=109]="wordWrapColumn",EditorOption[EditorOption.wordWrapMinified=110]="wordWrapMinified",EditorOption[EditorOption.wrappingIndent=111]="wrappingIndent",EditorOption[EditorOption.wrappingStrategy=112]="wrappingStrategy",EditorOption[EditorOption.showDeprecated=113]="showDeprecated",EditorOption[EditorOption.editorClassName=114]="editorClassName",EditorOption[EditorOption.pixelRatio=115]="pixelRatio",EditorOption[EditorOption.tabFocusMode=116]="tabFocusMode",EditorOption[EditorOption.layoutInfo=117]="layoutInfo",EditorOption[EditorOption.wrappingInfo=118]="wrappingInfo"}(EditorOption||(EditorOption={})),function(EndOfLinePreference){EndOfLinePreference[EndOfLinePreference.TextDefined=0]="TextDefined",EndOfLinePreference[EndOfLinePreference.LF=1]="LF",EndOfLinePreference[EndOfLinePreference.CRLF=2]="CRLF"}(EndOfLinePreference||(EndOfLinePreference={})),function(EndOfLineSequence){EndOfLineSequence[EndOfLineSequence.LF=0]="LF",EndOfLineSequence[EndOfLineSequence.CRLF=1]="CRLF"}(EndOfLineSequence||(EndOfLineSequence={})),function(IndentAction){IndentAction[IndentAction.None=0]="None",IndentAction[IndentAction.Indent=1]="Indent",IndentAction[IndentAction.IndentOutdent=2]="IndentOutdent",IndentAction[IndentAction.Outdent=3]="Outdent"}(IndentAction||(IndentAction={})),function(KeyCode){KeyCode[KeyCode.Unknown=0]="Unknown",KeyCode[KeyCode.Backspace=1]="Backspace",KeyCode[KeyCode.Tab=2]="Tab",KeyCode[KeyCode.Enter=3]="Enter",KeyCode[KeyCode.Shift=4]="Shift",KeyCode[KeyCode.Ctrl=5]="Ctrl",KeyCode[KeyCode.Alt=6]="Alt",KeyCode[KeyCode.PauseBreak=7]="PauseBreak",KeyCode[KeyCode.CapsLock=8]="CapsLock",KeyCode[KeyCode.Escape=9]="Escape",KeyCode[KeyCode.Space=10]="Space",KeyCode[KeyCode.PageUp=11]="PageUp",KeyCode[KeyCode.PageDown=12]="PageDown",KeyCode[KeyCode.End=13]="End",KeyCode[KeyCode.Home=14]="Home",KeyCode[KeyCode.LeftArrow=15]="LeftArrow",KeyCode[KeyCode.UpArrow=16]="UpArrow",KeyCode[KeyCode.RightArrow=17]="RightArrow",KeyCode[KeyCode.DownArrow=18]="DownArrow",KeyCode[KeyCode.Insert=19]="Insert",KeyCode[KeyCode.Delete=20]="Delete",KeyCode[KeyCode.KEY_0=21]="KEY_0",KeyCode[KeyCode.KEY_1=22]="KEY_1",KeyCode[KeyCode.KEY_2=23]="KEY_2",KeyCode[KeyCode.KEY_3=24]="KEY_3",KeyCode[KeyCode.KEY_4=25]="KEY_4",KeyCode[KeyCode.KEY_5=26]="KEY_5",KeyCode[KeyCode.KEY_6=27]="KEY_6",KeyCode[KeyCode.KEY_7=28]="KEY_7",KeyCode[KeyCode.KEY_8=29]="KEY_8",KeyCode[KeyCode.KEY_9=30]="KEY_9",KeyCode[KeyCode.KEY_A=31]="KEY_A",KeyCode[KeyCode.KEY_B=32]="KEY_B",KeyCode[KeyCode.KEY_C=33]="KEY_C",KeyCode[KeyCode.KEY_D=34]="KEY_D",KeyCode[KeyCode.KEY_E=35]="KEY_E",KeyCode[KeyCode.KEY_F=36]="KEY_F",KeyCode[KeyCode.KEY_G=37]="KEY_G",KeyCode[KeyCode.KEY_H=38]="KEY_H",KeyCode[KeyCode.KEY_I=39]="KEY_I",KeyCode[KeyCode.KEY_J=40]="KEY_J",KeyCode[KeyCode.KEY_K=41]="KEY_K",KeyCode[KeyCode.KEY_L=42]="KEY_L",KeyCode[KeyCode.KEY_M=43]="KEY_M",KeyCode[KeyCode.KEY_N=44]="KEY_N",KeyCode[KeyCode.KEY_O=45]="KEY_O",KeyCode[KeyCode.KEY_P=46]="KEY_P",KeyCode[KeyCode.KEY_Q=47]="KEY_Q",KeyCode[KeyCode.KEY_R=48]="KEY_R",KeyCode[KeyCode.KEY_S=49]="KEY_S",KeyCode[KeyCode.KEY_T=50]="KEY_T",KeyCode[KeyCode.KEY_U=51]="KEY_U",KeyCode[KeyCode.KEY_V=52]="KEY_V",KeyCode[KeyCode.KEY_W=53]="KEY_W",KeyCode[KeyCode.KEY_X=54]="KEY_X",KeyCode[KeyCode.KEY_Y=55]="KEY_Y",KeyCode[KeyCode.KEY_Z=56]="KEY_Z",KeyCode[KeyCode.Meta=57]="Meta",KeyCode[KeyCode.ContextMenu=58]="ContextMenu",KeyCode[KeyCode.F1=59]="F1",KeyCode[KeyCode.F2=60]="F2",KeyCode[KeyCode.F3=61]="F3",KeyCode[KeyCode.F4=62]="F4",KeyCode[KeyCode.F5=63]="F5",KeyCode[KeyCode.F6=64]="F6",KeyCode[KeyCode.F7=65]="F7",KeyCode[KeyCode.F8=66]="F8",KeyCode[KeyCode.F9=67]="F9",KeyCode[KeyCode.F10=68]="F10",KeyCode[KeyCode.F11=69]="F11",KeyCode[KeyCode.F12=70]="F12",KeyCode[KeyCode.F13=71]="F13",KeyCode[KeyCode.F14=72]="F14",KeyCode[KeyCode.F15=73]="F15",KeyCode[KeyCode.F16=74]="F16",KeyCode[KeyCode.F17=75]="F17",KeyCode[KeyCode.F18=76]="F18",KeyCode[KeyCode.F19=77]="F19",KeyCode[KeyCode.NumLock=78]="NumLock",KeyCode[KeyCode.ScrollLock=79]="ScrollLock",KeyCode[KeyCode.US_SEMICOLON=80]="US_SEMICOLON",KeyCode[KeyCode.US_EQUAL=81]="US_EQUAL",KeyCode[KeyCode.US_COMMA=82]="US_COMMA",KeyCode[KeyCode.US_MINUS=83]="US_MINUS",KeyCode[KeyCode.US_DOT=84]="US_DOT",KeyCode[KeyCode.US_SLASH=85]="US_SLASH",KeyCode[KeyCode.US_BACKTICK=86]="US_BACKTICK",KeyCode[KeyCode.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",KeyCode[KeyCode.US_BACKSLASH=88]="US_BACKSLASH",KeyCode[KeyCode.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",KeyCode[KeyCode.US_QUOTE=90]="US_QUOTE",KeyCode[KeyCode.OEM_8=91]="OEM_8",KeyCode[KeyCode.OEM_102=92]="OEM_102",KeyCode[KeyCode.NUMPAD_0=93]="NUMPAD_0",KeyCode[KeyCode.NUMPAD_1=94]="NUMPAD_1",KeyCode[KeyCode.NUMPAD_2=95]="NUMPAD_2",KeyCode[KeyCode.NUMPAD_3=96]="NUMPAD_3",KeyCode[KeyCode.NUMPAD_4=97]="NUMPAD_4",KeyCode[KeyCode.NUMPAD_5=98]="NUMPAD_5",KeyCode[KeyCode.NUMPAD_6=99]="NUMPAD_6",KeyCode[KeyCode.NUMPAD_7=100]="NUMPAD_7",KeyCode[KeyCode.NUMPAD_8=101]="NUMPAD_8",KeyCode[KeyCode.NUMPAD_9=102]="NUMPAD_9",KeyCode[KeyCode.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",KeyCode[KeyCode.NUMPAD_ADD=104]="NUMPAD_ADD",KeyCode[KeyCode.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",KeyCode[KeyCode.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",KeyCode[KeyCode.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",KeyCode[KeyCode.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",KeyCode[KeyCode.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",KeyCode[KeyCode.ABNT_C1=110]="ABNT_C1",KeyCode[KeyCode.ABNT_C2=111]="ABNT_C2",KeyCode[KeyCode.MAX_VALUE=112]="MAX_VALUE"}(KeyCode||(KeyCode={})),function(MarkerSeverity){MarkerSeverity[MarkerSeverity.Hint=1]="Hint",MarkerSeverity[MarkerSeverity.Info=2]="Info",MarkerSeverity[MarkerSeverity.Warning=4]="Warning",MarkerSeverity[MarkerSeverity.Error=8]="Error"}(MarkerSeverity||(MarkerSeverity={})),function(MarkerTag){MarkerTag[MarkerTag.Unnecessary=1]="Unnecessary",MarkerTag[MarkerTag.Deprecated=2]="Deprecated"}(MarkerTag||(MarkerTag={})),function(MinimapPosition){MinimapPosition[MinimapPosition.Inline=1]="Inline",MinimapPosition[MinimapPosition.Gutter=2]="Gutter"}(MinimapPosition||(MinimapPosition={})),function(MouseTargetType){MouseTargetType[MouseTargetType.UNKNOWN=0]="UNKNOWN",MouseTargetType[MouseTargetType.TEXTAREA=1]="TEXTAREA",MouseTargetType[MouseTargetType.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",MouseTargetType[MouseTargetType.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",MouseTargetType[MouseTargetType.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",MouseTargetType[MouseTargetType.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",MouseTargetType[MouseTargetType.CONTENT_TEXT=6]="CONTENT_TEXT",MouseTargetType[MouseTargetType.CONTENT_EMPTY=7]="CONTENT_EMPTY",MouseTargetType[MouseTargetType.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",MouseTargetType[MouseTargetType.CONTENT_WIDGET=9]="CONTENT_WIDGET",MouseTargetType[MouseTargetType.OVERVIEW_RULER=10]="OVERVIEW_RULER",MouseTargetType[MouseTargetType.SCROLLBAR=11]="SCROLLBAR",MouseTargetType[MouseTargetType.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",MouseTargetType[MouseTargetType.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(MouseTargetType||(MouseTargetType={})),function(OverlayWidgetPositionPreference){OverlayWidgetPositionPreference[OverlayWidgetPositionPreference.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",OverlayWidgetPositionPreference[OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",OverlayWidgetPositionPreference[OverlayWidgetPositionPreference.TOP_CENTER=2]="TOP_CENTER"}(OverlayWidgetPositionPreference||(OverlayWidgetPositionPreference={})),function(OverviewRulerLane){OverviewRulerLane[OverviewRulerLane.Left=1]="Left",OverviewRulerLane[OverviewRulerLane.Center=2]="Center",OverviewRulerLane[OverviewRulerLane.Right=4]="Right",OverviewRulerLane[OverviewRulerLane.Full=7]="Full"}(OverviewRulerLane||(OverviewRulerLane={})),function(RenderLineNumbersType){RenderLineNumbersType[RenderLineNumbersType.Off=0]="Off",RenderLineNumbersType[RenderLineNumbersType.On=1]="On",RenderLineNumbersType[RenderLineNumbersType.Relative=2]="Relative",RenderLineNumbersType[RenderLineNumbersType.Interval=3]="Interval",RenderLineNumbersType[RenderLineNumbersType.Custom=4]="Custom"}(RenderLineNumbersType||(RenderLineNumbersType={})),function(RenderMinimap){RenderMinimap[RenderMinimap.None=0]="None",RenderMinimap[RenderMinimap.Text=1]="Text",RenderMinimap[RenderMinimap.Blocks=2]="Blocks"}(RenderMinimap||(RenderMinimap={})),function(ScrollType){ScrollType[ScrollType.Smooth=0]="Smooth",ScrollType[ScrollType.Immediate=1]="Immediate"}(ScrollType||(ScrollType={})),function(ScrollbarVisibility){ScrollbarVisibility[ScrollbarVisibility.Auto=1]="Auto",ScrollbarVisibility[ScrollbarVisibility.Hidden=2]="Hidden",ScrollbarVisibility[ScrollbarVisibility.Visible=3]="Visible"}(ScrollbarVisibility||(ScrollbarVisibility={})),function(SelectionDirection){SelectionDirection[SelectionDirection.LTR=0]="LTR",SelectionDirection[SelectionDirection.RTL=1]="RTL"}(SelectionDirection||(SelectionDirection={})),function(SignatureHelpTriggerKind){SignatureHelpTriggerKind[SignatureHelpTriggerKind.Invoke=1]="Invoke",SignatureHelpTriggerKind[SignatureHelpTriggerKind.TriggerCharacter=2]="TriggerCharacter",SignatureHelpTriggerKind[SignatureHelpTriggerKind.ContentChange=3]="ContentChange"}(SignatureHelpTriggerKind||(SignatureHelpTriggerKind={})),function(SymbolKind){SymbolKind[SymbolKind.File=0]="File",SymbolKind[SymbolKind.Module=1]="Module",SymbolKind[SymbolKind.Namespace=2]="Namespace",SymbolKind[SymbolKind.Package=3]="Package",SymbolKind[SymbolKind.Class=4]="Class",SymbolKind[SymbolKind.Method=5]="Method",SymbolKind[SymbolKind.Property=6]="Property",SymbolKind[SymbolKind.Field=7]="Field",SymbolKind[SymbolKind.Constructor=8]="Constructor",SymbolKind[SymbolKind.Enum=9]="Enum",SymbolKind[SymbolKind.Interface=10]="Interface",SymbolKind[SymbolKind.Function=11]="Function",SymbolKind[SymbolKind.Variable=12]="Variable",SymbolKind[SymbolKind.Constant=13]="Constant",SymbolKind[SymbolKind.String=14]="String",SymbolKind[SymbolKind.Number=15]="Number",SymbolKind[SymbolKind.Boolean=16]="Boolean",SymbolKind[SymbolKind.Array=17]="Array",SymbolKind[SymbolKind.Object=18]="Object",SymbolKind[SymbolKind.Key=19]="Key",SymbolKind[SymbolKind.Null=20]="Null",SymbolKind[SymbolKind.EnumMember=21]="EnumMember",SymbolKind[SymbolKind.Struct=22]="Struct",SymbolKind[SymbolKind.Event=23]="Event",SymbolKind[SymbolKind.Operator=24]="Operator",SymbolKind[SymbolKind.TypeParameter=25]="TypeParameter"}(SymbolKind||(SymbolKind={})),function(SymbolTag){SymbolTag[SymbolTag.Deprecated=1]="Deprecated"}(SymbolTag||(SymbolTag={})),function(TextEditorCursorBlinkingStyle){TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle.Hidden=0]="Hidden",TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle.Blink=1]="Blink",TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle.Smooth=2]="Smooth",TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle.Phase=3]="Phase",TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle.Expand=4]="Expand",TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle.Solid=5]="Solid"}(TextEditorCursorBlinkingStyle||(TextEditorCursorBlinkingStyle={})),function(TextEditorCursorStyle){TextEditorCursorStyle[TextEditorCursorStyle.Line=1]="Line",TextEditorCursorStyle[TextEditorCursorStyle.Block=2]="Block",TextEditorCursorStyle[TextEditorCursorStyle.Underline=3]="Underline",TextEditorCursorStyle[TextEditorCursorStyle.LineThin=4]="LineThin",TextEditorCursorStyle[TextEditorCursorStyle.BlockOutline=5]="BlockOutline",TextEditorCursorStyle[TextEditorCursorStyle.UnderlineThin=6]="UnderlineThin"}(TextEditorCursorStyle||(TextEditorCursorStyle={})),function(TrackedRangeStickiness){TrackedRangeStickiness[TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",TrackedRangeStickiness[TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",TrackedRangeStickiness[TrackedRangeStickiness.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",TrackedRangeStickiness[TrackedRangeStickiness.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(TrackedRangeStickiness||(TrackedRangeStickiness={})),function(WrappingIndent){WrappingIndent[WrappingIndent.None=0]="None",WrappingIndent[WrappingIndent.Same=1]="Same",WrappingIndent[WrappingIndent.Indent=2]="Indent",WrappingIndent[WrappingIndent.DeepIndent=3]="DeepIndent"}(WrappingIndent||(WrappingIndent={}));class standaloneBase_KeyMod{static chord(firstPart,secondPart){return Object(keyCodes.a)(firstPart,secondPart)}}function createMonacoBaseAPI(){return{editor:void 0,languages:void 0,CancellationTokenSource:cancellation.b,Emitter:common_event.a,KeyCode:KeyCode,KeyMod:standaloneBase_KeyMod,Position:core_position.a,Range:core_range.a,Selection:core_selection.a,SelectionDirection:SelectionDirection,MarkerSeverity:MarkerSeverity,MarkerTag:MarkerTag,Uri:common_uri.a,Token:core_token.a}}standaloneBase_KeyMod.CtrlCmd=2048,standaloneBase_KeyMod.Shift=1024,standaloneBase_KeyMod.Alt=512,standaloneBase_KeyMod.WinCtrl=256;__webpack_require__(2643);var EditorOpenContext,services_codeEditorService=__webpack_require__(2317),dom=__webpack_require__(2298),linkedList=__webpack_require__(2359),marshalling=__webpack_require__(2488),network=__webpack_require__(2330),common_resources=__webpack_require__(2331),commands=__webpack_require__(2318),common_opener=__webpack_require__(2344);!function(EditorOpenContext){EditorOpenContext[EditorOpenContext.API=0]="API",EditorOpenContext[EditorOpenContext.USER=1]="USER"}(EditorOpenContext||(EditorOpenContext={}));var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let openerService_CommandOpener=class CommandOpener{constructor(_commandService){this._commandService=_commandService}open(target){return __awaiter(this,void 0,void 0,function*(){if(!Object(common_opener.c)(target,network.b.command))return!1;"string"==typeof target&&(target=common_uri.a.parse(target));let args=[];try{args=Object(marshalling.a)(decodeURIComponent(target.query))}catch(_a){try{args=Object(marshalling.a)(target.query)}catch(_b){}}return Array.isArray(args)||(args=[args]),yield this._commandService.executeCommand(target.path,...args),!0})}};openerService_CommandOpener=__decorate([__param(0,commands.b)],openerService_CommandOpener);let openerService_EditorOpener=class EditorOpener{constructor(_editorService){this._editorService=_editorService}open(target,options){return __awaiter(this,void 0,void 0,function*(){"string"==typeof target&&(target=common_uri.a.parse(target));let selection=void 0;const match=/^L?(\d+)(?:,(\d+))?/.exec(target.fragment);return match&&(selection={startLineNumber:parseInt(match[1]),startColumn:match[2]?parseInt(match[2]):1},target=target.with({fragment:""})),target.scheme===network.b.file&&(target=Object(common_resources.h)(target)),yield this._editorService.openCodeEditor({resource:target,options:{selection:selection,context:(null==options?void 0:options.fromUserGesture)?EditorOpenContext.USER:EditorOpenContext.API}},this._editorService.getFocusedCodeEditor(),null==options?void 0:options.openToSide),!0})}};openerService_EditorOpener=__decorate([__param(0,services_codeEditorService.a)],openerService_EditorOpener);let openerService_OpenerService=class OpenerService{constructor(editorService,commandService){this._openers=new linkedList.a,this._validators=new linkedList.a,this._resolvers=new linkedList.a,this._externalOpener={openExternal:href=>(Object(common_opener.c)(href,network.b.http)||Object(common_opener.c)(href,network.b.https)?dom.cb(href):window.location.href=href,Promise.resolve(!0))},this._openers.push({open:(target,options)=>__awaiter(this,void 0,void 0,function*(){return!!((null==options?void 0:options.openExternal)||Object(common_opener.c)(target,network.b.mailto)||Object(common_opener.c)(target,network.b.http)||Object(common_opener.c)(target,network.b.https))&&(yield this._doOpenExternal(target,options),!0)})}),this._openers.push(new openerService_CommandOpener(commandService)),this._openers.push(new openerService_EditorOpener(editorService))}open(target,options){return __awaiter(this,void 0,void 0,function*(){for(const validator of this._validators.toArray())if(!(yield validator.shouldOpen(target)))return!1;for(const opener of this._openers.toArray()){if(yield opener.open(target,options))return!0}return!1})}resolveExternalUri(resource,options){return __awaiter(this,void 0,void 0,function*(){for(const resolver of this._resolvers.toArray()){const result=yield resolver.resolveExternalUri(resource,options);if(result)return result}return{resolved:resource,dispose:()=>{}}})}_doOpenExternal(resource,options){return __awaiter(this,void 0,void 0,function*(){const uri="string"==typeof resource?common_uri.a.parse(resource):resource,{resolved:resolved}=yield this.resolveExternalUri(uri,options);return"string"==typeof resource&&uri.toString()===resolved.toString()?this._externalOpener.openExternal(resource):this._externalOpener.openExternal(encodeURI(resolved.toString(!0)))})}dispose(){this._validators.clear()}};openerService_OpenerService=__decorate([__param(0,services_codeEditorService.a),__param(1,commands.b)],openerService_OpenerService);var assert=__webpack_require__(2458),lifecycle=__webpack_require__(2294),objects=__webpack_require__(2327);const diffNavigator_defaultOptions={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class diffNavigator_DiffNavigator extends lifecycle.a{constructor(editor,options={}){super(),this._onDidUpdate=this._register(new common_event.a),this._editor=editor,this._options=objects.g(options,diffNavigator_defaultOptions,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(e=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(e=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(lineChanges){this.ranges=[],lineChanges&&lineChanges.forEach(lineChange=>{!this._options.ignoreCharChanges&&lineChange.charChanges?lineChange.charChanges.forEach(charChange=>{this.ranges.push({rhs:!0,range:new core_range.a(charChange.modifiedStartLineNumber,charChange.modifiedStartColumn,charChange.modifiedEndLineNumber,charChange.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new core_range.a(lineChange.modifiedStartLineNumber,1,lineChange.modifiedStartLineNumber,1)})}),this.ranges.sort((left,right)=>left.range.getStartPosition().isBeforeOrEqual(right.range.getStartPosition())?-1:right.range.getStartPosition().isBeforeOrEqual(left.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(fwd){let found=!1,position=this._editor.getPosition();if(position){for(let i=0,len=this.ranges.length;i<len&&!found;i++){let range=this.ranges[i].range;position.isBeforeOrEqual(range.getStartPosition())&&(this.nextIdx=i+(fwd?0:-1),found=!0)}found||(this.nextIdx=fwd?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(fwd,scrollType){if(assert.a(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(fwd):fwd?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let info=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let pos=info.range.getStartPosition();this._editor.setPosition(pos),this._editor.revealPositionInCenter(pos,scrollType)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(scrollType=0){this._move(!0,scrollType)}previous(scrollType=0){this._move(!1,scrollType)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var config_fontInfo=__webpack_require__(2429),editorCommon=__webpack_require__(2390),common_model=__webpack_require__(2340),modes=__webpack_require__(2308),nullMode=__webpack_require__(2360),services_editorWorkerService=__webpack_require__(2364),resolverService=__webpack_require__(2385),common_async=__webpack_require__(2306),errors=__webpack_require__(2302),platform=__webpack_require__(2305),types=__webpack_require__(2314);const INITIALIZE="$initialize";let webWorkerWarningLogged=!1;function logOnceWebWorkerWarning(err){platform.h&&(webWorkerWarningLogged||(webWorkerWarningLogged=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(err.message))}class simpleWorker_SimpleWorkerProtocol{constructor(handler){this._workerId=-1,this._handler=handler,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(workerId){this._workerId=workerId}sendMessage(method,args){let req=String(++this._lastSentReq);return new Promise((resolve,reject)=>{this._pendingReplies[req]={resolve:resolve,reject:reject},this._send({vsWorker:this._workerId,req:req,method:method,args:args})})}handleMessage(message){message&&message.vsWorker&&(-1!==this._workerId&&message.vsWorker!==this._workerId||this._handleMessage(message))}_handleMessage(msg){if(msg.seq){let replyMessage=msg;if(!this._pendingReplies[replyMessage.seq])return void console.warn("Got reply to unknown seq");let reply=this._pendingReplies[replyMessage.seq];if(delete this._pendingReplies[replyMessage.seq],replyMessage.err){let err=replyMessage.err;return replyMessage.err.$isError&&((err=new Error).name=replyMessage.err.name,err.message=replyMessage.err.message,err.stack=replyMessage.err.stack),void reply.reject(err)}return void reply.resolve(replyMessage.res)}let requestMessage=msg,req=requestMessage.req;this._handler.handleMessage(requestMessage.method,requestMessage.args).then(r=>{this._send({vsWorker:this._workerId,seq:req,res:r,err:void 0})},e=>{e.detail instanceof Error&&(e.detail=Object(errors.g)(e.detail)),this._send({vsWorker:this._workerId,seq:req,res:void 0,err:Object(errors.g)(e)})})}_send(msg){let transfer=[];if(msg.req){const m=msg;for(let i=0;i<m.args.length;i++)m.args[i]instanceof ArrayBuffer&&transfer.push(m.args[i])}else{const m=msg;m.res instanceof ArrayBuffer&&transfer.push(m.res)}this._handler.sendMessage(msg,transfer)}}class simpleWorker_SimpleWorkerClient extends lifecycle.a{constructor(workerFactory,moduleId,host){super();let lazyProxyReject=null;this._worker=this._register(workerFactory.create("vs/base/common/worker/simpleWorker",msg=>{this._protocol.handleMessage(msg)},err=>{lazyProxyReject&&lazyProxyReject(err)})),this._protocol=new simpleWorker_SimpleWorkerProtocol({sendMessage:(msg,transfer)=>{this._worker.postMessage(msg,transfer)},handleMessage:(method,args)=>{if("function"!=typeof host[method])return Promise.reject(new Error("Missing method "+method+" on main thread host."));try{return Promise.resolve(host[method].apply(host,args))}catch(e){return Promise.reject(e)}}}),this._protocol.setWorkerId(this._worker.getId());let loaderConfiguration=null;void 0!==self.require&&"function"==typeof self.require.getConfig?loaderConfiguration=self.require.getConfig():void 0!==self.requirejs&&(loaderConfiguration=self.requirejs.s.contexts._.config);const hostMethods=types.d(host);this._onModuleLoaded=this._protocol.sendMessage(INITIALIZE,[this._worker.getId(),JSON.parse(JSON.stringify(loaderConfiguration)),moduleId,hostMethods]);const proxyMethodRequest=(method,args)=>this._request(method,args);this._lazyProxy=new Promise((resolve,reject)=>{lazyProxyReject=reject,this._onModuleLoaded.then(availableMethods=>{resolve(types.c(availableMethods,proxyMethodRequest))},e=>{reject(e),this._onError("Worker failed to load "+moduleId,e)})})}getProxyObject(){return this._lazyProxy}_request(method,args){return new Promise((resolve,reject)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(method,args).then(resolve,reject)},reject)})}_onError(message,error){console.error(message),console.info(error)}}class WebWorker{constructor(moduleId,id,label,onMessageCallback,onErrorCallback){this.id=id;const workerOrPromise=function getWorker(workerId,label){if(platform.b.MonacoEnvironment){if("function"==typeof platform.b.MonacoEnvironment.getWorker)return platform.b.MonacoEnvironment.getWorker(workerId,label);if("function"==typeof platform.b.MonacoEnvironment.getWorkerUrl)return new Worker(platform.b.MonacoEnvironment.getWorkerUrl(workerId,label))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",label);!function isPromiseLike(obj){return"function"==typeof obj.then}(workerOrPromise)?this.worker=Promise.resolve(workerOrPromise):this.worker=workerOrPromise,this.postMessage(moduleId,[]),this.worker.then(w=>{w.onmessage=function(ev){onMessageCallback(ev.data)},w.onmessageerror=onErrorCallback,"function"==typeof w.addEventListener&&w.addEventListener("error",onErrorCallback)})}getId(){return this.id}postMessage(message,transfer){this.worker&&this.worker.then(w=>w.postMessage(message,transfer))}dispose(){this.worker&&this.worker.then(w=>w.terminate()),this.worker=null}}class defaultWorkerFactory_DefaultWorkerFactory{constructor(label){this._label=label,this._webWorkerFailedBeforeError=!1}create(moduleId,onMessageCallback,onErrorCallback){let workerId=++defaultWorkerFactory_DefaultWorkerFactory.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new WebWorker(moduleId,workerId,this._label||"anonymous"+workerId,onMessageCallback,err=>{logOnceWebWorkerWarning(err),this._webWorkerFailedBeforeError=err,onErrorCallback(err)})}}defaultWorkerFactory_DefaultWorkerFactory.LAST_WORKER_ID=0;var languageConfigurationRegistry=__webpack_require__(2334),arrays=__webpack_require__(2309);class DiffChange{constructor(originalStart,originalLength,modifiedStart,modifiedLength){this.originalStart=originalStart,this.originalLength=originalLength,this.modifiedStart=modifiedStart,this.modifiedLength=modifiedLength}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var hash=__webpack_require__(2405);class StringDiffSequence{constructor(source){this.source=source}getElements(){const source=this.source,characters=new Int32Array(source.length);for(let i=0,len=source.length;i<len;i++)characters[i]=source.charCodeAt(i);return characters}}function stringDiff(original,modified,pretty){return new diff_LcsDiff(new StringDiffSequence(original),new StringDiffSequence(modified)).ComputeDiff(pretty).changes}class Debug{static Assert(condition,message){if(!condition)throw new Error(message)}}class MyArray{static Copy(sourceArray,sourceIndex,destinationArray,destinationIndex,length){for(let i=0;i<length;i++)destinationArray[destinationIndex+i]=sourceArray[sourceIndex+i]}static Copy2(sourceArray,sourceIndex,destinationArray,destinationIndex,length){for(let i=0;i<length;i++)destinationArray[destinationIndex+i]=sourceArray[sourceIndex+i]}}class diff_DiffChangeHelper{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(originalIndex,modifiedIndex){this.m_originalStart=Math.min(this.m_originalStart,originalIndex),this.m_modifiedStart=Math.min(this.m_modifiedStart,modifiedIndex),this.m_originalCount++}AddModifiedElement(originalIndex,modifiedIndex){this.m_originalStart=Math.min(this.m_originalStart,originalIndex),this.m_modifiedStart=Math.min(this.m_modifiedStart,modifiedIndex),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class diff_LcsDiff{constructor(originalSequence,modifiedSequence,continueProcessingPredicate=null){this.ContinueProcessingPredicate=continueProcessingPredicate;const[originalStringElements,originalElementsOrHash,originalHasStrings]=diff_LcsDiff._getElements(originalSequence),[modifiedStringElements,modifiedElementsOrHash,modifiedHasStrings]=diff_LcsDiff._getElements(modifiedSequence);this._hasStrings=originalHasStrings&&modifiedHasStrings,this._originalStringElements=originalStringElements,this._originalElementsOrHash=originalElementsOrHash,this._modifiedStringElements=modifiedStringElements,this._modifiedElementsOrHash=modifiedElementsOrHash,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(arr){return arr.length>0&&"string"==typeof arr[0]}static _getElements(sequence){const elements=sequence.getElements();if(diff_LcsDiff._isStringArray(elements)){const hashes=new Int32Array(elements.length);for(let i=0,len=elements.length;i<len;i++)hashes[i]=Object(hash.c)(elements[i],0);return[elements,hashes,!0]}return elements instanceof Int32Array?[[],elements,!1]:[[],new Int32Array(elements),!1]}ElementsAreEqual(originalIndex,newIndex){return this._originalElementsOrHash[originalIndex]===this._modifiedElementsOrHash[newIndex]&&(!this._hasStrings||this._originalStringElements[originalIndex]===this._modifiedStringElements[newIndex])}OriginalElementsAreEqual(index1,index2){return this._originalElementsOrHash[index1]===this._originalElementsOrHash[index2]&&(!this._hasStrings||this._originalStringElements[index1]===this._originalStringElements[index2])}ModifiedElementsAreEqual(index1,index2){return this._modifiedElementsOrHash[index1]===this._modifiedElementsOrHash[index2]&&(!this._hasStrings||this._modifiedStringElements[index1]===this._modifiedStringElements[index2])}ComputeDiff(pretty){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,pretty)}_ComputeDiff(originalStart,originalEnd,modifiedStart,modifiedEnd,pretty){const quitEarlyArr=[!1];let changes=this.ComputeDiffRecursive(originalStart,originalEnd,modifiedStart,modifiedEnd,quitEarlyArr);return pretty&&(changes=this.PrettifyChanges(changes)),{quitEarly:quitEarlyArr[0],changes:changes}}ComputeDiffRecursive(originalStart,originalEnd,modifiedStart,modifiedEnd,quitEarlyArr){for(quitEarlyArr[0]=!1;originalStart<=originalEnd&&modifiedStart<=modifiedEnd&&this.ElementsAreEqual(originalStart,modifiedStart);)originalStart++,modifiedStart++;for(;originalEnd>=originalStart&&modifiedEnd>=modifiedStart&&this.ElementsAreEqual(originalEnd,modifiedEnd);)originalEnd--,modifiedEnd--;if(originalStart>originalEnd||modifiedStart>modifiedEnd){let changes;return modifiedStart<=modifiedEnd?(Debug.Assert(originalStart===originalEnd+1,"originalStart should only be one more than originalEnd"),changes=[new DiffChange(originalStart,0,modifiedStart,modifiedEnd-modifiedStart+1)]):originalStart<=originalEnd?(Debug.Assert(modifiedStart===modifiedEnd+1,"modifiedStart should only be one more than modifiedEnd"),changes=[new DiffChange(originalStart,originalEnd-originalStart+1,modifiedStart,0)]):(Debug.Assert(originalStart===originalEnd+1,"originalStart should only be one more than originalEnd"),Debug.Assert(modifiedStart===modifiedEnd+1,"modifiedStart should only be one more than modifiedEnd"),changes=[]),changes}const midOriginalArr=[0],midModifiedArr=[0],result=this.ComputeRecursionPoint(originalStart,originalEnd,modifiedStart,modifiedEnd,midOriginalArr,midModifiedArr,quitEarlyArr),midOriginal=midOriginalArr[0],midModified=midModifiedArr[0];if(null!==result)return result;if(!quitEarlyArr[0]){const leftChanges=this.ComputeDiffRecursive(originalStart,midOriginal,modifiedStart,midModified,quitEarlyArr);let rightChanges=[];return rightChanges=quitEarlyArr[0]?[new DiffChange(midOriginal+1,originalEnd-(midOriginal+1)+1,midModified+1,modifiedEnd-(midModified+1)+1)]:this.ComputeDiffRecursive(midOriginal+1,originalEnd,midModified+1,modifiedEnd,quitEarlyArr),this.ConcatenateChanges(leftChanges,rightChanges)}return[new DiffChange(originalStart,originalEnd-originalStart+1,modifiedStart,modifiedEnd-modifiedStart+1)]}WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr){let forwardChanges=null,reverseChanges=null,changeHelper=new diff_DiffChangeHelper,diagonalMin=diagonalForwardStart,diagonalMax=diagonalForwardEnd,diagonalRelative=midOriginalArr[0]-midModifiedArr[0]-diagonalForwardOffset,lastOriginalIndex=-1073741824,historyIndex=this.m_forwardHistory.length-1;do{const diagonal=diagonalRelative+diagonalForwardBase;diagonal===diagonalMin||diagonal<diagonalMax&&forwardPoints[diagonal-1]<forwardPoints[diagonal+1]?(modifiedIndex=(originalIndex=forwardPoints[diagonal+1])-diagonalRelative-diagonalForwardOffset,originalIndex<lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex,changeHelper.AddModifiedElement(originalIndex+1,modifiedIndex),diagonalRelative=diagonal+1-diagonalForwardBase):(modifiedIndex=(originalIndex=forwardPoints[diagonal-1]+1)-diagonalRelative-diagonalForwardOffset,originalIndex<lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex-1,changeHelper.AddOriginalElement(originalIndex,modifiedIndex+1),diagonalRelative=diagonal-1-diagonalForwardBase),historyIndex>=0&&(diagonalForwardBase=(forwardPoints=this.m_forwardHistory[historyIndex])[0],diagonalMin=1,diagonalMax=forwardPoints.length-1)}while(--historyIndex>=-1);if(forwardChanges=changeHelper.getReverseChanges(),quitEarlyArr[0]){let originalStartPoint=midOriginalArr[0]+1,modifiedStartPoint=midModifiedArr[0]+1;if(null!==forwardChanges&&forwardChanges.length>0){const lastForwardChange=forwardChanges[forwardChanges.length-1];originalStartPoint=Math.max(originalStartPoint,lastForwardChange.getOriginalEnd()),modifiedStartPoint=Math.max(modifiedStartPoint,lastForwardChange.getModifiedEnd())}reverseChanges=[new DiffChange(originalStartPoint,originalEnd-originalStartPoint+1,modifiedStartPoint,modifiedEnd-modifiedStartPoint+1)]}else{changeHelper=new diff_DiffChangeHelper,diagonalMin=diagonalReverseStart,diagonalMax=diagonalReverseEnd,diagonalRelative=midOriginalArr[0]-midModifiedArr[0]-diagonalReverseOffset,lastOriginalIndex=1073741824,historyIndex=deltaIsEven?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const diagonal=diagonalRelative+diagonalReverseBase;diagonal===diagonalMin||diagonal<diagonalMax&&reversePoints[diagonal-1]>=reversePoints[diagonal+1]?(modifiedIndex=(originalIndex=reversePoints[diagonal+1]-1)-diagonalRelative-diagonalReverseOffset,originalIndex>lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex+1,changeHelper.AddOriginalElement(originalIndex+1,modifiedIndex+1),diagonalRelative=diagonal+1-diagonalReverseBase):(modifiedIndex=(originalIndex=reversePoints[diagonal-1])-diagonalRelative-diagonalReverseOffset,originalIndex>lastOriginalIndex&&changeHelper.MarkNextChange(),lastOriginalIndex=originalIndex,changeHelper.AddModifiedElement(originalIndex+1,modifiedIndex+1),diagonalRelative=diagonal-1-diagonalReverseBase),historyIndex>=0&&(diagonalReverseBase=(reversePoints=this.m_reverseHistory[historyIndex])[0],diagonalMin=1,diagonalMax=reversePoints.length-1)}while(--historyIndex>=-1);reverseChanges=changeHelper.getChanges()}return this.ConcatenateChanges(forwardChanges,reverseChanges)}ComputeRecursionPoint(originalStart,originalEnd,modifiedStart,modifiedEnd,midOriginalArr,midModifiedArr,quitEarlyArr){let originalIndex=0,modifiedIndex=0,diagonalForwardStart=0,diagonalForwardEnd=0,diagonalReverseStart=0,diagonalReverseEnd=0;originalStart--,modifiedStart--,midOriginalArr[0]=0,midModifiedArr[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const maxDifferences=originalEnd-originalStart+(modifiedEnd-modifiedStart),numDiagonals=maxDifferences+1,forwardPoints=new Int32Array(numDiagonals),reversePoints=new Int32Array(numDiagonals),diagonalForwardBase=modifiedEnd-modifiedStart,diagonalReverseBase=originalEnd-originalStart,diagonalForwardOffset=originalStart-modifiedStart,diagonalReverseOffset=originalEnd-modifiedEnd,deltaIsEven=(diagonalReverseBase-diagonalForwardBase)%2==0;forwardPoints[diagonalForwardBase]=originalStart,reversePoints[diagonalReverseBase]=originalEnd,quitEarlyArr[0]=!1;for(let numDifferences=1;numDifferences<=maxDifferences/2+1;numDifferences++){let furthestOriginalIndex=0,furthestModifiedIndex=0;diagonalForwardStart=this.ClipDiagonalBound(diagonalForwardBase-numDifferences,numDifferences,diagonalForwardBase,numDiagonals),diagonalForwardEnd=this.ClipDiagonalBound(diagonalForwardBase+numDifferences,numDifferences,diagonalForwardBase,numDiagonals);for(let diagonal=diagonalForwardStart;diagonal<=diagonalForwardEnd;diagonal+=2){modifiedIndex=(originalIndex=diagonal===diagonalForwardStart||diagonal<diagonalForwardEnd&&forwardPoints[diagonal-1]<forwardPoints[diagonal+1]?forwardPoints[diagonal+1]:forwardPoints[diagonal-1]+1)-(diagonal-diagonalForwardBase)-diagonalForwardOffset;const tempOriginalIndex=originalIndex;for(;originalIndex<originalEnd&&modifiedIndex<modifiedEnd&&this.ElementsAreEqual(originalIndex+1,modifiedIndex+1);)originalIndex++,modifiedIndex++;if(forwardPoints[diagonal]=originalIndex,originalIndex+modifiedIndex>furthestOriginalIndex+furthestModifiedIndex&&(furthestOriginalIndex=originalIndex,furthestModifiedIndex=modifiedIndex),!deltaIsEven&&Math.abs(diagonal-diagonalReverseBase)<=numDifferences-1&&originalIndex>=reversePoints[diagonal])return midOriginalArr[0]=originalIndex,midModifiedArr[0]=modifiedIndex,tempOriginalIndex<=reversePoints[diagonal]&&numDifferences<=1448?this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr):null}const matchLengthOfLongest=(furthestOriginalIndex-originalStart+(furthestModifiedIndex-modifiedStart)-numDifferences)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(furthestOriginalIndex,matchLengthOfLongest))return quitEarlyArr[0]=!0,midOriginalArr[0]=furthestOriginalIndex,midModifiedArr[0]=furthestModifiedIndex,matchLengthOfLongest>0&&numDifferences<=1448?this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr):[new DiffChange(++originalStart,originalEnd-originalStart+1,++modifiedStart,modifiedEnd-modifiedStart+1)];diagonalReverseStart=this.ClipDiagonalBound(diagonalReverseBase-numDifferences,numDifferences,diagonalReverseBase,numDiagonals),diagonalReverseEnd=this.ClipDiagonalBound(diagonalReverseBase+numDifferences,numDifferences,diagonalReverseBase,numDiagonals);for(let diagonal=diagonalReverseStart;diagonal<=diagonalReverseEnd;diagonal+=2){modifiedIndex=(originalIndex=diagonal===diagonalReverseStart||diagonal<diagonalReverseEnd&&reversePoints[diagonal-1]>=reversePoints[diagonal+1]?reversePoints[diagonal+1]-1:reversePoints[diagonal-1])-(diagonal-diagonalReverseBase)-diagonalReverseOffset;const tempOriginalIndex=originalIndex;for(;originalIndex>originalStart&&modifiedIndex>modifiedStart&&this.ElementsAreEqual(originalIndex,modifiedIndex);)originalIndex--,modifiedIndex--;if(reversePoints[diagonal]=originalIndex,deltaIsEven&&Math.abs(diagonal-diagonalForwardBase)<=numDifferences&&originalIndex<=forwardPoints[diagonal])return midOriginalArr[0]=originalIndex,midModifiedArr[0]=modifiedIndex,tempOriginalIndex>=forwardPoints[diagonal]&&numDifferences<=1448?this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr):null}if(numDifferences<=1447){let temp=new Int32Array(diagonalForwardEnd-diagonalForwardStart+2);temp[0]=diagonalForwardBase-diagonalForwardStart+1,MyArray.Copy2(forwardPoints,diagonalForwardStart,temp,1,diagonalForwardEnd-diagonalForwardStart+1),this.m_forwardHistory.push(temp),(temp=new Int32Array(diagonalReverseEnd-diagonalReverseStart+2))[0]=diagonalReverseBase-diagonalReverseStart+1,MyArray.Copy2(reversePoints,diagonalReverseStart,temp,1,diagonalReverseEnd-diagonalReverseStart+1),this.m_reverseHistory.push(temp)}}return this.WALKTRACE(diagonalForwardBase,diagonalForwardStart,diagonalForwardEnd,diagonalForwardOffset,diagonalReverseBase,diagonalReverseStart,diagonalReverseEnd,diagonalReverseOffset,forwardPoints,reversePoints,originalIndex,originalEnd,midOriginalArr,modifiedIndex,modifiedEnd,midModifiedArr,deltaIsEven,quitEarlyArr)}PrettifyChanges(changes){for(let i=0;i<changes.length;i++){const change=changes[i],originalStop=i<changes.length-1?changes[i+1].originalStart:this._originalElementsOrHash.length,modifiedStop=i<changes.length-1?changes[i+1].modifiedStart:this._modifiedElementsOrHash.length,checkOriginal=change.originalLength>0,checkModified=change.modifiedLength>0;for(;change.originalStart+change.originalLength<originalStop&&change.modifiedStart+change.modifiedLength<modifiedStop&&(!checkOriginal||this.OriginalElementsAreEqual(change.originalStart,change.originalStart+change.originalLength))&&(!checkModified||this.ModifiedElementsAreEqual(change.modifiedStart,change.modifiedStart+change.modifiedLength));)change.originalStart++,change.modifiedStart++;let mergedChangeArr=[null];i<changes.length-1&&this.ChangesOverlap(changes[i],changes[i+1],mergedChangeArr)&&(changes[i]=mergedChangeArr[0],changes.splice(i+1,1),i--)}for(let i=changes.length-1;i>=0;i--){const change=changes[i];let originalStop=0,modifiedStop=0;if(i>0){const prevChange=changes[i-1];prevChange.originalLength>0&&(originalStop=prevChange.originalStart+prevChange.originalLength),prevChange.modifiedLength>0&&(modifiedStop=prevChange.modifiedStart+prevChange.modifiedLength)}const checkOriginal=change.originalLength>0,checkModified=change.modifiedLength>0;let bestDelta=0,bestScore=this._boundaryScore(change.originalStart,change.originalLength,change.modifiedStart,change.modifiedLength);for(let delta=1;;delta++){const originalStart=change.originalStart-delta,modifiedStart=change.modifiedStart-delta;if(originalStart<originalStop||modifiedStart<modifiedStop)break;if(checkOriginal&&!this.OriginalElementsAreEqual(originalStart,originalStart+change.originalLength))break;if(checkModified&&!this.ModifiedElementsAreEqual(modifiedStart,modifiedStart+change.modifiedLength))break;const score=this._boundaryScore(originalStart,change.originalLength,modifiedStart,change.modifiedLength);score>bestScore&&(bestScore=score,bestDelta=delta)}change.originalStart-=bestDelta,change.modifiedStart-=bestDelta}return changes}_OriginalIsBoundary(index){return index<=0||index>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[index])}_OriginalRegionIsBoundary(originalStart,originalLength){if(this._OriginalIsBoundary(originalStart)||this._OriginalIsBoundary(originalStart-1))return!0;if(originalLength>0){const originalEnd=originalStart+originalLength;if(this._OriginalIsBoundary(originalEnd-1)||this._OriginalIsBoundary(originalEnd))return!0}return!1}_ModifiedIsBoundary(index){return index<=0||index>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[index])}_ModifiedRegionIsBoundary(modifiedStart,modifiedLength){if(this._ModifiedIsBoundary(modifiedStart)||this._ModifiedIsBoundary(modifiedStart-1))return!0;if(modifiedLength>0){const modifiedEnd=modifiedStart+modifiedLength;if(this._ModifiedIsBoundary(modifiedEnd-1)||this._ModifiedIsBoundary(modifiedEnd))return!0}return!1}_boundaryScore(originalStart,originalLength,modifiedStart,modifiedLength){return(this._OriginalRegionIsBoundary(originalStart,originalLength)?1:0)+(this._ModifiedRegionIsBoundary(modifiedStart,modifiedLength)?1:0)}ConcatenateChanges(left,right){let mergedChangeArr=[];if(0===left.length||0===right.length)return right.length>0?right:left;if(this.ChangesOverlap(left[left.length-1],right[0],mergedChangeArr)){const result=new Array(left.length+right.length-1);return MyArray.Copy(left,0,result,0,left.length-1),result[left.length-1]=mergedChangeArr[0],MyArray.Copy(right,1,result,left.length,right.length-1),result}{const result=new Array(left.length+right.length);return MyArray.Copy(left,0,result,0,left.length),MyArray.Copy(right,0,result,left.length,right.length),result}}ChangesOverlap(left,right,mergedChangeArr){if(Debug.Assert(left.originalStart<=right.originalStart,"Left change is not less than or equal to right change"),Debug.Assert(left.modifiedStart<=right.modifiedStart,"Left change is not less than or equal to right change"),left.originalStart+left.originalLength>=right.originalStart||left.modifiedStart+left.modifiedLength>=right.modifiedStart){const originalStart=left.originalStart;let originalLength=left.originalLength;const modifiedStart=left.modifiedStart;let modifiedLength=left.modifiedLength;return left.originalStart+left.originalLength>=right.originalStart&&(originalLength=right.originalStart+right.originalLength-left.originalStart),left.modifiedStart+left.modifiedLength>=right.modifiedStart&&(modifiedLength=right.modifiedStart+right.modifiedLength-left.modifiedStart),mergedChangeArr[0]=new DiffChange(originalStart,originalLength,modifiedStart,modifiedLength),!0}return mergedChangeArr[0]=null,!1}ClipDiagonalBound(diagonal,numDifferences,diagonalBaseIndex,numDiagonals){if(diagonal>=0&&diagonal<numDiagonals)return diagonal;const diffEven=numDifferences%2==0;if(diagonal<0){return diffEven===(diagonalBaseIndex%2==0)?0:1}return diffEven===((numDiagonals-diagonalBaseIndex-1)%2==0)?numDiagonals-1:numDiagonals-2}}var strings=__webpack_require__(2299);const MINIMUM_MATCHING_CHARACTER_LENGTH=3;function computeDiff(originalSequence,modifiedSequence,continueProcessingPredicate,pretty){return new diff_LcsDiff(originalSequence,modifiedSequence,continueProcessingPredicate).ComputeDiff(pretty)}class LineSequence{constructor(lines){const startColumns=[],endColumns=[];for(let i=0,length=lines.length;i<length;i++)startColumns[i]=getFirstNonBlankColumn(lines[i],1),endColumns[i]=getLastNonBlankColumn(lines[i],1);this.lines=lines,this._startColumns=startColumns,this._endColumns=endColumns}getElements(){const elements=[];for(let i=0,len=this.lines.length;i<len;i++)elements[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return elements}getStartLineNumber(i){return i+1}getEndLineNumber(i){return i+1}createCharSequence(shouldIgnoreTrimWhitespace,startIndex,endIndex){const charCodes=[],lineNumbers=[],columns=[];let len=0;for(let index=startIndex;index<=endIndex;index++){const lineContent=this.lines[index],startColumn=shouldIgnoreTrimWhitespace?this._startColumns[index]:1,endColumn=shouldIgnoreTrimWhitespace?this._endColumns[index]:lineContent.length+1;for(let col=startColumn;col<endColumn;col++)charCodes[len]=lineContent.charCodeAt(col-1),lineNumbers[len]=index+1,columns[len]=col,len++}return new CharSequence(charCodes,lineNumbers,columns)}}class CharSequence{constructor(charCodes,lineNumbers,columns){this._charCodes=charCodes,this._lineNumbers=lineNumbers,this._columns=columns}getElements(){return this._charCodes}getStartLineNumber(i){return this._lineNumbers[i]}getStartColumn(i){return this._columns[i]}getEndLineNumber(i){return this._lineNumbers[i]}getEndColumn(i){return this._columns[i]+1}}class CharChange{constructor(originalStartLineNumber,originalStartColumn,originalEndLineNumber,originalEndColumn,modifiedStartLineNumber,modifiedStartColumn,modifiedEndLineNumber,modifiedEndColumn){this.originalStartLineNumber=originalStartLineNumber,this.originalStartColumn=originalStartColumn,this.originalEndLineNumber=originalEndLineNumber,this.originalEndColumn=originalEndColumn,this.modifiedStartLineNumber=modifiedStartLineNumber,this.modifiedStartColumn=modifiedStartColumn,this.modifiedEndLineNumber=modifiedEndLineNumber,this.modifiedEndColumn=modifiedEndColumn}static createFromDiffChange(diffChange,originalCharSequence,modifiedCharSequence){let originalStartLineNumber,originalStartColumn,originalEndLineNumber,originalEndColumn,modifiedStartLineNumber,modifiedStartColumn,modifiedEndLineNumber,modifiedEndColumn;return 0===diffChange.originalLength?(originalStartLineNumber=0,originalStartColumn=0,originalEndLineNumber=0,originalEndColumn=0):(originalStartLineNumber=originalCharSequence.getStartLineNumber(diffChange.originalStart),originalStartColumn=originalCharSequence.getStartColumn(diffChange.originalStart),originalEndLineNumber=originalCharSequence.getEndLineNumber(diffChange.originalStart+diffChange.originalLength-1),originalEndColumn=originalCharSequence.getEndColumn(diffChange.originalStart+diffChange.originalLength-1)),0===diffChange.modifiedLength?(modifiedStartLineNumber=0,modifiedStartColumn=0,modifiedEndLineNumber=0,modifiedEndColumn=0):(modifiedStartLineNumber=modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart),modifiedStartColumn=modifiedCharSequence.getStartColumn(diffChange.modifiedStart),modifiedEndLineNumber=modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart+diffChange.modifiedLength-1),modifiedEndColumn=modifiedCharSequence.getEndColumn(diffChange.modifiedStart+diffChange.modifiedLength-1)),new CharChange(originalStartLineNumber,originalStartColumn,originalEndLineNumber,originalEndColumn,modifiedStartLineNumber,modifiedStartColumn,modifiedEndLineNumber,modifiedEndColumn)}}class LineChange{constructor(originalStartLineNumber,originalEndLineNumber,modifiedStartLineNumber,modifiedEndLineNumber,charChanges){this.originalStartLineNumber=originalStartLineNumber,this.originalEndLineNumber=originalEndLineNumber,this.modifiedStartLineNumber=modifiedStartLineNumber,this.modifiedEndLineNumber=modifiedEndLineNumber,this.charChanges=charChanges}static createFromDiffResult(shouldIgnoreTrimWhitespace,diffChange,originalLineSequence,modifiedLineSequence,continueCharDiff,shouldComputeCharChanges,shouldPostProcessCharChanges){let originalStartLineNumber,originalEndLineNumber,modifiedStartLineNumber,modifiedEndLineNumber,charChanges=void 0;if(0===diffChange.originalLength?(originalStartLineNumber=originalLineSequence.getStartLineNumber(diffChange.originalStart)-1,originalEndLineNumber=0):(originalStartLineNumber=originalLineSequence.getStartLineNumber(diffChange.originalStart),originalEndLineNumber=originalLineSequence.getEndLineNumber(diffChange.originalStart+diffChange.originalLength-1)),0===diffChange.modifiedLength?(modifiedStartLineNumber=modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart)-1,modifiedEndLineNumber=0):(modifiedStartLineNumber=modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart),modifiedEndLineNumber=modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart+diffChange.modifiedLength-1)),shouldComputeCharChanges&&diffChange.originalLength>0&&diffChange.originalLength<20&&diffChange.modifiedLength>0&&diffChange.modifiedLength<20&&continueCharDiff()){const originalCharSequence=originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace,diffChange.originalStart,diffChange.originalStart+diffChange.originalLength-1),modifiedCharSequence=modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace,diffChange.modifiedStart,diffChange.modifiedStart+diffChange.modifiedLength-1);let rawChanges=computeDiff(originalCharSequence,modifiedCharSequence,continueCharDiff,!0).changes;shouldPostProcessCharChanges&&(rawChanges=function postProcessCharChanges(rawChanges){if(rawChanges.length<=1)return rawChanges;const result=[rawChanges[0]];let prevChange=result[0];for(let i=1,len=rawChanges.length;i<len;i++){const currChange=rawChanges[i],originalMatchingLength=currChange.originalStart-(prevChange.originalStart+prevChange.originalLength),modifiedMatchingLength=currChange.modifiedStart-(prevChange.modifiedStart+prevChange.modifiedLength);Math.min(originalMatchingLength,modifiedMatchingLength)<MINIMUM_MATCHING_CHARACTER_LENGTH?(prevChange.originalLength=currChange.originalStart+currChange.originalLength-prevChange.originalStart,prevChange.modifiedLength=currChange.modifiedStart+currChange.modifiedLength-prevChange.modifiedStart):(result.push(currChange),prevChange=currChange)}return result}(rawChanges)),charChanges=[];for(let i=0,length=rawChanges.length;i<length;i++)charChanges.push(CharChange.createFromDiffChange(rawChanges[i],originalCharSequence,modifiedCharSequence))}return new LineChange(originalStartLineNumber,originalEndLineNumber,modifiedStartLineNumber,modifiedEndLineNumber,charChanges)}}class DiffComputer{constructor(originalLines,modifiedLines,opts){this.shouldComputeCharChanges=opts.shouldComputeCharChanges,this.shouldPostProcessCharChanges=opts.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=opts.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=opts.shouldMakePrettyDiff,this.originalLines=originalLines,this.modifiedLines=modifiedLines,this.original=new LineSequence(originalLines),this.modified=new LineSequence(modifiedLines),this.continueLineDiff=createContinueProcessingPredicate(opts.maxComputationTime),this.continueCharDiff=createContinueProcessingPredicate(0===opts.maxComputationTime?0:Math.min(opts.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const diffResult=computeDiff(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),rawChanges=diffResult.changes,quitEarly=diffResult.quitEarly;if(this.shouldIgnoreTrimWhitespace){const lineChanges=[];for(let i=0,length=rawChanges.length;i<length;i++)lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace,rawChanges[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:quitEarly,changes:lineChanges}}const result=[];let originalLineIndex=0,modifiedLineIndex=0;for(let i=-1,len=rawChanges.length;i<len;i++){const nextChange=i+1<len?rawChanges[i+1]:null,originalStop=nextChange?nextChange.originalStart:this.originalLines.length,modifiedStop=nextChange?nextChange.modifiedStart:this.modifiedLines.length;for(;originalLineIndex<originalStop&&modifiedLineIndex<modifiedStop;){const originalLine=this.originalLines[originalLineIndex],modifiedLine=this.modifiedLines[modifiedLineIndex];if(originalLine!==modifiedLine){{let originalStartColumn=getFirstNonBlankColumn(originalLine,1),modifiedStartColumn=getFirstNonBlankColumn(modifiedLine,1);for(;originalStartColumn>1&&modifiedStartColumn>1;){if(originalLine.charCodeAt(originalStartColumn-2)!==modifiedLine.charCodeAt(modifiedStartColumn-2))break;originalStartColumn--,modifiedStartColumn--}(originalStartColumn>1||modifiedStartColumn>1)&&this._pushTrimWhitespaceCharChange(result,originalLineIndex+1,1,originalStartColumn,modifiedLineIndex+1,1,modifiedStartColumn)}{let originalEndColumn=getLastNonBlankColumn(originalLine,1),modifiedEndColumn=getLastNonBlankColumn(modifiedLine,1);const originalMaxColumn=originalLine.length+1,modifiedMaxColumn=modifiedLine.length+1;for(;originalEndColumn<originalMaxColumn&&modifiedEndColumn<modifiedMaxColumn;){if(originalLine.charCodeAt(originalEndColumn-1)!==originalLine.charCodeAt(modifiedEndColumn-1))break;originalEndColumn++,modifiedEndColumn++}(originalEndColumn<originalMaxColumn||modifiedEndColumn<modifiedMaxColumn)&&this._pushTrimWhitespaceCharChange(result,originalLineIndex+1,originalEndColumn,originalMaxColumn,modifiedLineIndex+1,modifiedEndColumn,modifiedMaxColumn)}}originalLineIndex++,modifiedLineIndex++}nextChange&&(result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace,nextChange,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),originalLineIndex+=nextChange.originalLength,modifiedLineIndex+=nextChange.modifiedLength)}return{quitEarly:quitEarly,changes:result}}_pushTrimWhitespaceCharChange(result,originalLineNumber,originalStartColumn,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedEndColumn){if(this._mergeTrimWhitespaceCharChange(result,originalLineNumber,originalStartColumn,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedEndColumn))return;let charChanges=void 0;this.shouldComputeCharChanges&&(charChanges=[new CharChange(originalLineNumber,originalStartColumn,originalLineNumber,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedLineNumber,modifiedEndColumn)]),result.push(new LineChange(originalLineNumber,originalLineNumber,modifiedLineNumber,modifiedLineNumber,charChanges))}_mergeTrimWhitespaceCharChange(result,originalLineNumber,originalStartColumn,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedEndColumn){const len=result.length;if(0===len)return!1;const prevChange=result[len-1];return 0!==prevChange.originalEndLineNumber&&0!==prevChange.modifiedEndLineNumber&&(prevChange.originalEndLineNumber+1===originalLineNumber&&prevChange.modifiedEndLineNumber+1===modifiedLineNumber&&(prevChange.originalEndLineNumber=originalLineNumber,prevChange.modifiedEndLineNumber=modifiedLineNumber,this.shouldComputeCharChanges&&prevChange.charChanges&&prevChange.charChanges.push(new CharChange(originalLineNumber,originalStartColumn,originalLineNumber,originalEndColumn,modifiedLineNumber,modifiedStartColumn,modifiedLineNumber,modifiedEndColumn)),!0))}}function getFirstNonBlankColumn(txt,defaultValue){const r=strings.w(txt);return-1===r?defaultValue:r+1}function getLastNonBlankColumn(txt,defaultValue){const r=strings.J(txt);return-1===r?defaultValue:r+2}function createContinueProcessingPredicate(maximumRuntime){if(0===maximumRuntime)return()=>!0;const startTime=Date.now();return()=>Date.now()-startTime<maximumRuntime}var prefixSumComputer=__webpack_require__(2480);class mirrorTextModel_MirrorTextModel{constructor(uri,lines,eol,versionId){this._uri=uri,this._lines=lines,this._eol=eol,this._versionId=versionId,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const changes=e.changes;for(const change of changes)this._acceptDeleteRange(change.range),this._acceptInsertText(new core_position.a(change.range.startLineNumber,change.range.startColumn),change.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const eolLength=this._eol.length,linesLength=this._lines.length,lineStartValues=new Uint32Array(linesLength);for(let i=0;i<linesLength;i++)lineStartValues[i]=this._lines[i].length+eolLength;this._lineStarts=new prefixSumComputer.a(lineStartValues)}}_setLineText(lineIndex,newValue){this._lines[lineIndex]=newValue,this._lineStarts&&this._lineStarts.changeValue(lineIndex,this._lines[lineIndex].length+this._eol.length)}_acceptDeleteRange(range){if(range.startLineNumber!==range.endLineNumber)this._setLineText(range.startLineNumber-1,this._lines[range.startLineNumber-1].substring(0,range.startColumn-1)+this._lines[range.endLineNumber-1].substring(range.endColumn-1)),this._lines.splice(range.startLineNumber,range.endLineNumber-range.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(range.startLineNumber,range.endLineNumber-range.startLineNumber);else{if(range.startColumn===range.endColumn)return;this._setLineText(range.startLineNumber-1,this._lines[range.startLineNumber-1].substring(0,range.startColumn-1)+this._lines[range.startLineNumber-1].substring(range.endColumn-1))}}_acceptInsertText(position,insertText){if(0===insertText.length)return;let insertLines=insertText.split(/\r\n|\r|\n/);if(1===insertLines.length)return void this._setLineText(position.lineNumber-1,this._lines[position.lineNumber-1].substring(0,position.column-1)+insertLines[0]+this._lines[position.lineNumber-1].substring(position.column-1));insertLines[insertLines.length-1]+=this._lines[position.lineNumber-1].substring(position.column-1),this._setLineText(position.lineNumber-1,this._lines[position.lineNumber-1].substring(0,position.column-1)+insertLines[0]);let newLengths=new Uint32Array(insertLines.length-1);for(let i=1;i<insertLines.length;i++)this._lines.splice(position.lineNumber+i-1,0,insertLines[i]),newLengths[i-1]=insertLines[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(position.lineNumber,newLengths)}}var wordHelper=__webpack_require__(2395),characterClassifier=__webpack_require__(2377);class Uint8Matrix{constructor(rows,cols,defaultValue){const data=new Uint8Array(rows*cols);for(let i=0,len=rows*cols;i<len;i++)data[i]=defaultValue;this._data=data,this.rows=rows,this.cols=cols}get(row,col){return this._data[row*this.cols+col]}set(row,col,value){this._data[row*this.cols+col]=value}}class StateMachine{constructor(edges){let maxCharCode=0,maxState=0;for(let i=0,len=edges.length;i<len;i++){let[from,chCode,to]=edges[i];chCode>maxCharCode&&(maxCharCode=chCode),from>maxState&&(maxState=from),to>maxState&&(maxState=to)}let states=new Uint8Matrix(++maxState,++maxCharCode,0);for(let i=0,len=edges.length;i<len;i++){let[from,chCode,to]=edges[i];states.set(from,chCode,to)}this._states=states,this._maxCharCode=maxCharCode}nextState(currentState,chCode){return chCode<0||chCode>=this._maxCharCode?0:this._states.get(currentState,chCode)}}let _stateMachine=null;let _classifier=null;class LinkComputer{static _createLink(classifier,line,lineNumber,linkBeginIndex,linkEndIndex){let lastIncludedCharIndex=linkEndIndex-1;do{const chCode=line.charCodeAt(lastIncludedCharIndex);if(2!==classifier.get(chCode))break;lastIncludedCharIndex--}while(lastIncludedCharIndex>linkBeginIndex);if(linkBeginIndex>0){const charCodeBeforeLink=line.charCodeAt(linkBeginIndex-1),lastCharCodeInLink=line.charCodeAt(lastIncludedCharIndex);(40===charCodeBeforeLink&&41===lastCharCodeInLink||91===charCodeBeforeLink&&93===lastCharCodeInLink||123===charCodeBeforeLink&&125===lastCharCodeInLink)&&lastIncludedCharIndex--}return{range:{startLineNumber:lineNumber,startColumn:linkBeginIndex+1,endLineNumber:lineNumber,endColumn:lastIncludedCharIndex+2},url:line.substring(linkBeginIndex,lastIncludedCharIndex+1)}}static computeLinks(model,stateMachine=function getStateMachine(){return null===_stateMachine&&(_stateMachine=new StateMachine([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_stateMachine}()){const classifier=function getClassifier(){if(null===_classifier){_classifier=new characterClassifier.a(0);const FORCE_TERMINATION_CHARACTERS=" \t<>'\"";for(let i=0;i<FORCE_TERMINATION_CHARACTERS.length;i++)_classifier.set(FORCE_TERMINATION_CHARACTERS.charCodeAt(i),1);const CANNOT_END_WITH_CHARACTERS=".,;";for(let i=0;i<CANNOT_END_WITH_CHARACTERS.length;i++)_classifier.set(CANNOT_END_WITH_CHARACTERS.charCodeAt(i),2)}return _classifier}();let result=[];for(let i=1,lineCount=model.getLineCount();i<=lineCount;i++){const line=model.getLineContent(i),len=line.length;let j=0,linkBeginIndex=0,linkBeginChCode=0,state=1,hasOpenParens=!1,hasOpenSquareBracket=!1,inSquareBrackets=!1,hasOpenCurlyBracket=!1;for(;j<len;){let resetStateMachine=!1;const chCode=line.charCodeAt(j);if(13===state){let chClass;switch(chCode){case 40:hasOpenParens=!0,chClass=0;break;case 41:chClass=hasOpenParens?0:1;break;case 91:inSquareBrackets=!0,hasOpenSquareBracket=!0,chClass=0;break;case 93:inSquareBrackets=!1,chClass=hasOpenSquareBracket?0:1;break;case 123:hasOpenCurlyBracket=!0,chClass=0;break;case 125:chClass=hasOpenCurlyBracket?0:1;break;case 39:chClass=34===linkBeginChCode||96===linkBeginChCode?0:1;break;case 34:chClass=39===linkBeginChCode||96===linkBeginChCode?0:1;break;case 96:chClass=39===linkBeginChCode||34===linkBeginChCode?0:1;break;case 42:chClass=42===linkBeginChCode?1:0;break;case 124:chClass=124===linkBeginChCode?1:0;break;case 32:chClass=inSquareBrackets?0:1;break;default:chClass=classifier.get(chCode)}1===chClass&&(result.push(LinkComputer._createLink(classifier,line,i,linkBeginIndex,j)),resetStateMachine=!0)}else if(12===state){let chClass;91===chCode?(hasOpenSquareBracket=!0,chClass=0):chClass=classifier.get(chCode),1===chClass?resetStateMachine=!0:state=13}else 0===(state=stateMachine.nextState(state,chCode))&&(resetStateMachine=!0);resetStateMachine&&(state=1,hasOpenParens=!1,hasOpenSquareBracket=!1,hasOpenCurlyBracket=!1,linkBeginIndex=j+1,linkBeginChCode=chCode),j++}13===state&&result.push(LinkComputer._createLink(classifier,line,i,linkBeginIndex,len))}return result}}class BasicInplaceReplace{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(range1,text1,range2,text2,up){if(range1&&text1){let result=this.doNavigateValueSet(text1,up);if(result)return{range:range1,value:result}}if(range2&&text2){let result=this.doNavigateValueSet(text2,up);if(result)return{range:range2,value:result}}return null}doNavigateValueSet(text,up){let numberResult=this.numberReplace(text,up);return null!==numberResult?numberResult:this.textReplace(text,up)}numberReplace(value,up){let precision=Math.pow(10,value.length-(value.lastIndexOf(".")+1)),n1=Number(value),n2=parseFloat(value);return isNaN(n1)||isNaN(n2)||n1!==n2?null:0!==n1||up?(n1=Math.floor(n1*precision),n1+=up?precision:-precision,String(n1/precision)):null}textReplace(value,up){return this.valueSetsReplace(this._defaultValueSet,value,up)}valueSetsReplace(valueSets,value,up){let result=null;for(let i=0,len=valueSets.length;null===result&&i<len;i++)result=this.valueSetReplace(valueSets[i],value,up);return result}valueSetReplace(valueSet,value,up){let idx=valueSet.indexOf(value);return idx>=0?((idx+=up?1:-1)<0?idx=valueSet.length-1:idx%=valueSet.length,valueSet[idx]):null}}BasicInplaceReplace.INSTANCE=new BasicInplaceReplace;var editorSimpleWorker_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class editorSimpleWorker_MirrorModel extends mirrorTextModel_MirrorTextModel{get uri(){return this._uri}get version(){return this._versionId}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(lineNumber){return this._lines[lineNumber-1]}getWordAtPosition(position,wordDefinition){let wordAtText=Object(wordHelper.d)(position.column,Object(wordHelper.c)(wordDefinition),this._lines[position.lineNumber-1],0);return wordAtText?new core_range.a(position.lineNumber,wordAtText.startColumn,position.lineNumber,wordAtText.endColumn):null}words(wordDefinition){const lines=this._lines,wordenize=this._wordenize.bind(this);let lineNumber=0,lineText="",wordRangesIdx=0,wordRanges=[];return{*[Symbol.iterator](){for(;;)if(wordRangesIdx<wordRanges.length){const value=lineText.substring(wordRanges[wordRangesIdx].start,wordRanges[wordRangesIdx].end);wordRangesIdx+=1,yield value}else{if(!(lineNumber<lines.length))break;lineText=lines[lineNumber],wordRanges=wordenize(lineText,wordDefinition),wordRangesIdx=0,lineNumber+=1}}}}getLineWords(lineNumber,wordDefinition){let content=this._lines[lineNumber-1],ranges=this._wordenize(content,wordDefinition),words=[];for(const range of ranges)words.push({word:content.substring(range.start,range.end),startColumn:range.start+1,endColumn:range.end+1});return words}_wordenize(content,wordDefinition){const result=[];let match;for(wordDefinition.lastIndex=0;(match=wordDefinition.exec(content))&&0!==match[0].length;)result.push({start:match.index,end:match.index+match[0].length});return result}getValueInRange(range){if((range=this._validateRange(range)).startLineNumber===range.endLineNumber)return this._lines[range.startLineNumber-1].substring(range.startColumn-1,range.endColumn-1);let lineEnding=this._eol,startLineIndex=range.startLineNumber-1,endLineIndex=range.endLineNumber-1,resultLines=[];resultLines.push(this._lines[startLineIndex].substring(range.startColumn-1));for(let i=startLineIndex+1;i<endLineIndex;i++)resultLines.push(this._lines[i]);return resultLines.push(this._lines[endLineIndex].substring(0,range.endColumn-1)),resultLines.join(lineEnding)}offsetAt(position){return position=this._validatePosition(position),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(position.lineNumber-2)+(position.column-1)}positionAt(offset){offset=Math.floor(offset),offset=Math.max(0,offset),this._ensureLineStarts();let out=this._lineStarts.getIndexOf(offset),lineLength=this._lines[out.index].length;return{lineNumber:1+out.index,column:1+Math.min(out.remainder,lineLength)}}_validateRange(range){const start=this._validatePosition({lineNumber:range.startLineNumber,column:range.startColumn}),end=this._validatePosition({lineNumber:range.endLineNumber,column:range.endColumn});return start.lineNumber!==range.startLineNumber||start.column!==range.startColumn||end.lineNumber!==range.endLineNumber||end.column!==range.endColumn?{startLineNumber:start.lineNumber,startColumn:start.column,endLineNumber:end.lineNumber,endColumn:end.column}:range}_validatePosition(position){if(!core_position.a.isIPosition(position))throw new Error("bad position");let{lineNumber:lineNumber,column:column}=position,hasChanged=!1;if(lineNumber<1)lineNumber=1,column=1,hasChanged=!0;else if(lineNumber>this._lines.length)lineNumber=this._lines.length,column=this._lines[lineNumber-1].length+1,hasChanged=!0;else{let maxCharacter=this._lines[lineNumber-1].length+1;column<1?(column=1,hasChanged=!0):column>maxCharacter&&(column=maxCharacter,hasChanged=!0)}return hasChanged?{lineNumber:lineNumber,column:column}:position}}class editorSimpleWorker_EditorSimpleWorker{constructor(host,foreignModuleFactory){this._host=host,this._models=Object.create(null),this._foreignModuleFactory=foreignModuleFactory,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(uri){return this._models[uri]}_getModels(){let all=[];return Object.keys(this._models).forEach(key=>all.push(this._models[key])),all}acceptNewModel(data){this._models[data.url]=new editorSimpleWorker_MirrorModel(common_uri.a.parse(data.url),data.lines,data.EOL,data.versionId)}acceptModelChanged(strURL,e){if(!this._models[strURL])return;this._models[strURL].onEvents(e)}acceptRemovedModel(strURL){this._models[strURL]&&delete this._models[strURL]}computeDiff(originalUrl,modifiedUrl,ignoreTrimWhitespace,maxComputationTime){return editorSimpleWorker_awaiter(this,void 0,void 0,function*(){const original=this._getModel(originalUrl),modified=this._getModel(modifiedUrl);if(!original||!modified)return null;const originalLines=original.getLinesContent(),modifiedLines=modified.getLinesContent(),diffResult=new DiffComputer(originalLines,modifiedLines,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:ignoreTrimWhitespace,shouldMakePrettyDiff:!0,maxComputationTime:maxComputationTime}).computeDiff(),identical=!(diffResult.changes.length>0)&&this._modelsAreIdentical(original,modified);return{quitEarly:diffResult.quitEarly,identical:identical,changes:diffResult.changes}})}_modelsAreIdentical(original,modified){const originalLineCount=original.getLineCount();if(originalLineCount!==modified.getLineCount())return!1;for(let line=1;line<=originalLineCount;line++){if(original.getLineContent(line)!==modified.getLineContent(line))return!1}return!0}computeMoreMinimalEdits(modelUrl,edits){return editorSimpleWorker_awaiter(this,void 0,void 0,function*(){const model=this._getModel(modelUrl);if(!model)return edits;const result=[];let lastEol=void 0;edits=Object(arrays.p)(edits,(a,b)=>{if(a.range&&b.range)return core_range.a.compareRangesUsingStarts(a.range,b.range);return(a.range?0:1)-(b.range?0:1)});for(let{range:range,text:text,eol:eol}of edits){if("number"==typeof eol&&(lastEol=eol),core_range.a.isEmpty(range)&&!text)continue;const original=model.getValueInRange(range);if(original===(text=text.replace(/\r\n|\n|\r/g,model.eol)))continue;if(Math.max(text.length,original.length)>editorSimpleWorker_EditorSimpleWorker._diffLimit){result.push({range:range,text:text});continue}const changes=stringDiff(original,text,!1),editOffset=model.offsetAt(core_range.a.lift(range).getStartPosition());for(const change of changes){const start=model.positionAt(editOffset+change.originalStart),end=model.positionAt(editOffset+change.originalStart+change.originalLength),newEdit={text:text.substr(change.modifiedStart,change.modifiedLength),range:{startLineNumber:start.lineNumber,startColumn:start.column,endLineNumber:end.lineNumber,endColumn:end.column}};model.getValueInRange(newEdit.range)!==newEdit.text&&result.push(newEdit)}}return"number"==typeof lastEol&&result.push({eol:lastEol,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),result})}computeLinks(modelUrl){return editorSimpleWorker_awaiter(this,void 0,void 0,function*(){let model=this._getModel(modelUrl);return model?function computeLinks(model){return model&&"function"==typeof model.getLineCount&&"function"==typeof model.getLineContent?LinkComputer.computeLinks(model):[]}(model):null})}textualSuggest(modelUrl,position,wordDef,wordDefFlags){return editorSimpleWorker_awaiter(this,void 0,void 0,function*(){const model=this._getModel(modelUrl);if(!model)return null;const words=[],seen=new Set,wordDefRegExp=new RegExp(wordDef,wordDefFlags),wordAt=model.getWordAtPosition(position,wordDefRegExp);wordAt&&seen.add(model.getValueInRange(wordAt));for(let word of model.words(wordDefRegExp))if(!seen.has(word)&&(seen.add(word),isNaN(Number(word))&&(words.push(word),seen.size>editorSimpleWorker_EditorSimpleWorker._suggestionsLimit)))break;return words})}computeWordRanges(modelUrl,range,wordDef,wordDefFlags){return editorSimpleWorker_awaiter(this,void 0,void 0,function*(){let model=this._getModel(modelUrl);if(!model)return Object.create(null);const wordDefRegExp=new RegExp(wordDef,wordDefFlags),result=Object.create(null);for(let line=range.startLineNumber;line<range.endLineNumber;line++){let words=model.getLineWords(line,wordDefRegExp);for(const word of words){if(!isNaN(Number(word.word)))continue;let array=result[word.word];array||(array=[],result[word.word]=array),array.push({startLineNumber:line,startColumn:word.startColumn,endLineNumber:line,endColumn:word.endColumn})}}return result})}navigateValueSet(modelUrl,range,up,wordDef,wordDefFlags){return editorSimpleWorker_awaiter(this,void 0,void 0,function*(){let model=this._getModel(modelUrl);if(!model)return null;let wordDefRegExp=new RegExp(wordDef,wordDefFlags);range.startColumn===range.endColumn&&(range={startLineNumber:range.startLineNumber,startColumn:range.startColumn,endLineNumber:range.endLineNumber,endColumn:range.endColumn+1});let selectionText=model.getValueInRange(range),wordRange=model.getWordAtPosition({lineNumber:range.startLineNumber,column:range.startColumn},wordDefRegExp);if(!wordRange)return null;let word=model.getValueInRange(wordRange);return BasicInplaceReplace.INSTANCE.navigateValueSet(range,selectionText,wordRange,word,up)})}loadForeignModule(moduleId,createData,foreignHostMethods){let ctx={host:types.c(foreignHostMethods,(method,args)=>this._host.fhr(method,args)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ctx,createData),Promise.resolve(types.d(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(method,args){if(!this._foreignModule||"function"!=typeof this._foreignModule[method])return Promise.reject(new Error("Missing requestHandler or method: "+method));try{return Promise.resolve(this._foreignModule[method].apply(this._foreignModule,args))}catch(e){return Promise.reject(e)}}}editorSimpleWorker_EditorSimpleWorker._diffLimit=1e5,editorSimpleWorker_EditorSimpleWorker._suggestionsLimit=1e4,"function"==typeof importScripts&&(platform.b.monaco=createMonacoBaseAPI());var services_modelService=__webpack_require__(2336),textResourceConfigurationService=__webpack_require__(2416),log=__webpack_require__(2374),stopwatch=__webpack_require__(2431),editorWorkerServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},editorWorkerServiceImpl_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const STOP_SYNC_MODEL_DELTA_TIME_MS=6e4,STOP_WORKER_DELTA_TIME_MS=3e5;function canSyncModel(modelService,resource){let model=modelService.getModel(resource);return!!model&&!model.isTooLargeForSyncing()}let editorWorkerServiceImpl_EditorWorkerServiceImpl=class EditorWorkerServiceImpl extends lifecycle.a{constructor(modelService,configurationService,logService){super(),this._modelService=modelService,this._workerManager=this._register(new editorWorkerServiceImpl_WorkerManager(this._modelService)),this._logService=logService,this._register(modes.s.register("*",{provideLinks:(model,token)=>canSyncModel(this._modelService,model.uri)?this._workerManager.withWorker().then(client=>client.computeLinks(model.uri)).then(links=>links&&{links:links}):Promise.resolve({links:[]})})),this._register(modes.d.register("*",new editorWorkerServiceImpl_WordBasedCompletionItemProvider(this._workerManager,configurationService,this._modelService)))}dispose(){super.dispose()}canComputeDiff(original,modified){return canSyncModel(this._modelService,original)&&canSyncModel(this._modelService,modified)}computeDiff(original,modified,ignoreTrimWhitespace,maxComputationTime){return this._workerManager.withWorker().then(client=>client.computeDiff(original,modified,ignoreTrimWhitespace,maxComputationTime))}computeMoreMinimalEdits(resource,edits){if(Object(arrays.o)(edits)){if(!canSyncModel(this._modelService,resource))return Promise.resolve(edits);const sw=stopwatch.a.create(!0),result=this._workerManager.withWorker().then(client=>client.computeMoreMinimalEdits(resource,edits));return result.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",resource.toString(!0),sw.elapsed())),result}return Promise.resolve(void 0)}canNavigateValueSet(resource){return canSyncModel(this._modelService,resource)}navigateValueSet(resource,range,up){return this._workerManager.withWorker().then(client=>client.navigateValueSet(resource,range,up))}canComputeWordRanges(resource){return canSyncModel(this._modelService,resource)}computeWordRanges(resource,range){return this._workerManager.withWorker().then(client=>client.computeWordRanges(resource,range))}};editorWorkerServiceImpl_EditorWorkerServiceImpl=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([editorWorkerServiceImpl_param(0,services_modelService.a),editorWorkerServiceImpl_param(1,textResourceConfigurationService.a),editorWorkerServiceImpl_param(2,log.b)],editorWorkerServiceImpl_EditorWorkerServiceImpl);class editorWorkerServiceImpl_WordBasedCompletionItemProvider{constructor(workerManager,configurationService,modelService){this._debugDisplayName="wordbasedCompletions",this._workerManager=workerManager,this._configurationService=configurationService,this._modelService=modelService}provideCompletionItems(model,position){return editorWorkerServiceImpl_awaiter(this,void 0,void 0,function*(){const{wordBasedSuggestions:wordBasedSuggestions}=this._configurationService.getValue(model.uri,position,"editor");if(!wordBasedSuggestions)return;if(!canSyncModel(this._modelService,model.uri))return;const word=model.getWordAtPosition(position),replace=word?new core_range.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn):core_range.a.fromPositions(position),insert=replace.setEndPosition(position.lineNumber,position.column),client=yield this._workerManager.withWorker(),words=yield client.textualSuggest(model.uri,position);return words?{suggestions:words.map(word=>({kind:18,label:word,insertText:word,range:{insert:insert,replace:replace}}))}:void 0})}}class editorWorkerServiceImpl_WorkerManager extends lifecycle.a{constructor(modelService){super(),this._modelService=modelService,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new common_async.c).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(STOP_WORKER_DELTA_TIME_MS/2)),this._register(this._modelService.onModelRemoved(_=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>STOP_WORKER_DELTA_TIME_MS&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new editorWorkerServiceImpl_EditorWorkerClient(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class editorWorkerServiceImpl_EditorModelManager extends lifecycle.a{constructor(proxy,modelService,keepIdleModels){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=proxy,this._modelService=modelService,!keepIdleModels){let timer=new common_async.c;timer.cancelAndSet(()=>this._checkStopModelSync(),Math.round(STOP_SYNC_MODEL_DELTA_TIME_MS/2)),this._register(timer)}}dispose(){for(let modelUrl in this._syncedModels)Object(lifecycle.f)(this._syncedModels[modelUrl]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(resources){for(const resource of resources){let resourceStr=resource.toString();this._syncedModels[resourceStr]||this._beginModelSync(resource),this._syncedModels[resourceStr]&&(this._syncedModelsLastUsedTime[resourceStr]=(new Date).getTime())}}_checkStopModelSync(){let currentTime=(new Date).getTime(),toRemove=[];for(let modelUrl in this._syncedModelsLastUsedTime){currentTime-this._syncedModelsLastUsedTime[modelUrl]>STOP_SYNC_MODEL_DELTA_TIME_MS&&toRemove.push(modelUrl)}for(const e of toRemove)this._stopModelSync(e)}_beginModelSync(resource){let model=this._modelService.getModel(resource);if(!model)return;if(model.isTooLargeForSyncing())return;let modelUrl=resource.toString();this._proxy.acceptNewModel({url:model.uri.toString(),lines:model.getLinesContent(),EOL:model.getEOL(),versionId:model.getVersionId()});const toDispose=new lifecycle.b;toDispose.add(model.onDidChangeContent(e=>{this._proxy.acceptModelChanged(modelUrl.toString(),e)})),toDispose.add(model.onWillDispose(()=>{this._stopModelSync(modelUrl)})),toDispose.add(Object(lifecycle.h)(()=>{this._proxy.acceptRemovedModel(modelUrl)})),this._syncedModels[modelUrl]=toDispose}_stopModelSync(modelUrl){let toDispose=this._syncedModels[modelUrl];delete this._syncedModels[modelUrl],delete this._syncedModelsLastUsedTime[modelUrl],Object(lifecycle.f)(toDispose)}}class SynchronousWorkerClient{constructor(instance){this._instance=instance,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class EditorWorkerHost{constructor(workerClient){this._workerClient=workerClient}fhr(method,args){return this._workerClient.fhr(method,args)}}class editorWorkerServiceImpl_EditorWorkerClient extends lifecycle.a{constructor(modelService,keepIdleModels,label){super(),this._disposed=!1,this._modelService=modelService,this._keepIdleModels=keepIdleModels,this._workerFactory=new defaultWorkerFactory_DefaultWorkerFactory(label),this._worker=null,this._modelManager=null}fhr(method,args){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new simpleWorker_SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new EditorWorkerHost(this)))}catch(err){logOnceWebWorkerWarning(err),this._worker=new SynchronousWorkerClient(new editorSimpleWorker_EditorSimpleWorker(new EditorWorkerHost(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,err=>(logOnceWebWorkerWarning(err),this._worker=new SynchronousWorkerClient(new editorSimpleWorker_EditorSimpleWorker(new EditorWorkerHost(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(proxy){return this._modelManager||(this._modelManager=this._register(new editorWorkerServiceImpl_EditorModelManager(proxy,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(resources){return this._disposed?Promise.reject(Object(errors.a)()):this._getProxy().then(proxy=>(this._getOrCreateModelManager(proxy).ensureSyncedResources(resources),proxy))}computeDiff(original,modified,ignoreTrimWhitespace,maxComputationTime){return this._withSyncedResources([original,modified]).then(proxy=>proxy.computeDiff(original.toString(),modified.toString(),ignoreTrimWhitespace,maxComputationTime))}computeMoreMinimalEdits(resource,edits){return this._withSyncedResources([resource]).then(proxy=>proxy.computeMoreMinimalEdits(resource.toString(),edits))}computeLinks(resource){return this._withSyncedResources([resource]).then(proxy=>proxy.computeLinks(resource.toString()))}textualSuggest(resource,position){return this._withSyncedResources([resource]).then(proxy=>{let model=this._modelService.getModel(resource);if(!model)return null;let wordDefRegExp=languageConfigurationRegistry.a.getWordDefinition(model.getLanguageIdentifier().id),wordDef=wordDefRegExp.source,wordDefFlags=Object(strings.O)(wordDefRegExp);return proxy.textualSuggest(resource.toString(),position,wordDef,wordDefFlags)})}computeWordRanges(resource,range){return this._withSyncedResources([resource]).then(proxy=>{let model=this._modelService.getModel(resource);if(!model)return Promise.resolve(null);let wordDefRegExp=languageConfigurationRegistry.a.getWordDefinition(model.getLanguageIdentifier().id),wordDef=wordDefRegExp.source,wordDefFlags=Object(strings.O)(wordDefRegExp);return proxy.computeWordRanges(resource.toString(),range,wordDef,wordDefFlags)})}navigateValueSet(resource,range,up){return this._withSyncedResources([resource]).then(proxy=>{let model=this._modelService.getModel(resource);if(!model)return null;let wordDefRegExp=languageConfigurationRegistry.a.getWordDefinition(model.getLanguageIdentifier().id),wordDef=wordDefRegExp.source,wordDefFlags=Object(strings.O)(wordDefRegExp);return proxy.navigateValueSet(resource.toString(),range,up,wordDef,wordDefFlags)})}dispose(){super.dispose(),this._disposed=!0}}class webWorker_MonacoWebWorkerImpl extends editorWorkerServiceImpl_EditorWorkerClient{constructor(modelService,opts){super(modelService,opts.keepIdleModels||!1,opts.label),this._foreignModuleId=opts.moduleId,this._foreignModuleCreateData=opts.createData||null,this._foreignModuleHost=opts.host||null,this._foreignProxy=null}fhr(method,args){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[method])return Promise.reject(new Error("Missing method "+method+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[method].apply(this._foreignModuleHost,args))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(proxy=>{const foreignHostMethods=this._foreignModuleHost?types.d(this._foreignModuleHost):[];return proxy.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,foreignHostMethods).then(foreignMethods=>{this._foreignModuleCreateData=null;const proxyMethodRequest=(method,args)=>proxy.fmr(method,args),createProxyMethod=(method,proxyMethodRequest)=>(function(){const args=Array.prototype.slice.call(arguments,0);return proxyMethodRequest(method,args)});let foreignProxy={};for(const foreignMethod of foreignMethods)foreignProxy[foreignMethod]=createProxyMethod(foreignMethod,proxyMethodRequest);return foreignProxy})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(resources){return this._withSyncedResources(resources).then(_=>this.getProxy())}}var core_lineTokens=__webpack_require__(2387),viewLineRenderer=__webpack_require__(2408),viewModel=__webpack_require__(2365);function isFuzzyAction(what){return!function isFuzzyActionArr(what){return Array.isArray(what)}(what)}function isString(what){return"string"==typeof what}function isIAction(what){return!isString(what)}function empty(s){return!s}function fixCase(lexer,str){return lexer.ignoreCase&&str?str.toLowerCase():str}function sanitize(s){return s.replace(/[&<>'"_]/g,"-")}function createError(lexer,msg){return new Error(`${lexer.languageId}: ${msg}`)}function substituteMatches(lexer,str,id,matches,state){let stateMatches=null;return str.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(full,sub,dollar,hash,n,s,attr,ofs,total){return empty(dollar)?empty(hash)?!empty(n)&&n<matches.length?fixCase(lexer,matches[n]):!empty(attr)&&lexer&&"string"==typeof lexer[attr]?lexer[attr]:(null===stateMatches&&(stateMatches=state.split(".")).unshift(state),!empty(s)&&s<stateMatches.length?fixCase(lexer,stateMatches[s]):""):fixCase(lexer,id):"$"})}function findRules(lexer,inState){let state=inState;for(;state&&state.length>0;){const rules=lexer.tokenizer[state];if(rules)return rules;const idx=state.lastIndexOf(".");state=idx<0?null:state.substr(0,idx)}return null}class MonarchStackElementFactory{constructor(maxCacheDepth){this._maxCacheDepth=maxCacheDepth,this._entries=Object.create(null)}static create(parent,state){return this._INSTANCE.create(parent,state)}create(parent,state){if(null!==parent&&parent.depth>=this._maxCacheDepth)return new MonarchStackElement(parent,state);let stackElementId=MonarchStackElement.getStackElementId(parent);stackElementId.length>0&&(stackElementId+="|"),stackElementId+=state;let result=this._entries[stackElementId];return result||(result=new MonarchStackElement(parent,state),this._entries[stackElementId]=result,result)}}MonarchStackElementFactory._INSTANCE=new MonarchStackElementFactory(5);class MonarchStackElement{constructor(parent,state){this.parent=parent,this.state=state,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(element){let result="";for(;null!==element;)result.length>0&&(result+="|"),result+=element.state,element=element.parent;return result}static _equals(a,b){for(;null!==a&&null!==b;){if(a===b)return!0;if(a.state!==b.state)return!1;a=a.parent,b=b.parent}return null===a&&null===b}equals(other){return MonarchStackElement._equals(this,other)}push(state){return MonarchStackElementFactory.create(this,state)}pop(){return this.parent}popall(){let result=this;for(;result.parent;)result=result.parent;return result}switchTo(state){return MonarchStackElementFactory.create(this.parent,state)}}class EmbeddedModeData{constructor(modeId,state){this.modeId=modeId,this.state=state}equals(other){return this.modeId===other.modeId&&this.state.equals(other.state)}clone(){return this.state.clone()===this.state?this:new EmbeddedModeData(this.modeId,this.state)}}class MonarchLineStateFactory{constructor(maxCacheDepth){this._maxCacheDepth=maxCacheDepth,this._entries=Object.create(null)}static create(stack,embeddedModeData){return this._INSTANCE.create(stack,embeddedModeData)}create(stack,embeddedModeData){if(null!==embeddedModeData)return new MonarchLineState(stack,embeddedModeData);if(null!==stack&&stack.depth>=this._maxCacheDepth)return new MonarchLineState(stack,embeddedModeData);let stackElementId=MonarchStackElement.getStackElementId(stack),result=this._entries[stackElementId];return result||(result=new MonarchLineState(stack,null),this._entries[stackElementId]=result,result)}}MonarchLineStateFactory._INSTANCE=new MonarchLineStateFactory(5);class MonarchLineState{constructor(stack,embeddedModeData){this.stack=stack,this.embeddedModeData=embeddedModeData}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:MonarchLineStateFactory.create(this.stack,this.embeddedModeData)}equals(other){return other instanceof MonarchLineState&&(!!this.stack.equals(other.stack)&&(null===this.embeddedModeData&&null===other.embeddedModeData||null!==this.embeddedModeData&&null!==other.embeddedModeData&&this.embeddedModeData.equals(other.embeddedModeData)))}}class monarchLexer_MonarchClassicTokensCollector{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(startOffset,modeId){this._language=modeId}emit(startOffset,type){this._lastTokenType===type&&this._lastTokenLanguage===this._language||(this._lastTokenType=type,this._lastTokenLanguage=this._language,this._tokens.push(new core_token.a(startOffset,type,this._language)))}nestedModeTokenize(embeddedModeLine,embeddedModeData,offsetDelta){const nestedModeId=embeddedModeData.modeId,embeddedModeState=embeddedModeData.state,nestedModeTokenizationSupport=modes.C.get(nestedModeId);if(!nestedModeTokenizationSupport)return this.enterMode(offsetDelta,nestedModeId),this.emit(offsetDelta,""),embeddedModeState;let nestedResult=nestedModeTokenizationSupport.tokenize(embeddedModeLine,embeddedModeState,offsetDelta);return this._tokens=this._tokens.concat(nestedResult.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,nestedResult.endState}finalize(endState){return new core_token.b(this._tokens,endState)}}class monarchLexer_MonarchModernTokensCollector{constructor(modeService,theme){this._modeService=modeService,this._theme=theme,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(startOffset,modeId){this._currentLanguageId=this._modeService.getLanguageIdentifier(modeId).id}emit(startOffset,type){let metadata=this._theme.match(this._currentLanguageId,type);this._lastTokenMetadata!==metadata&&(this._lastTokenMetadata=metadata,this._tokens.push(startOffset),this._tokens.push(metadata))}static _merge(a,b,c){let aLen=null!==a?a.length:0,bLen=b.length,cLen=null!==c?c.length:0;if(0===aLen&&0===bLen&&0===cLen)return new Uint32Array(0);if(0===aLen&&0===bLen)return c;if(0===bLen&&0===cLen)return a;let result=new Uint32Array(aLen+bLen+cLen);null!==a&&result.set(a);for(let i=0;i<bLen;i++)result[aLen+i]=b[i];return null!==c&&result.set(c,aLen+bLen),result}nestedModeTokenize(embeddedModeLine,embeddedModeData,offsetDelta){const nestedModeId=embeddedModeData.modeId,embeddedModeState=embeddedModeData.state,nestedModeTokenizationSupport=modes.C.get(nestedModeId);if(!nestedModeTokenizationSupport)return this.enterMode(offsetDelta,nestedModeId),this.emit(offsetDelta,""),embeddedModeState;let nestedResult=nestedModeTokenizationSupport.tokenize2(embeddedModeLine,embeddedModeState,offsetDelta);return this._prependTokens=monarchLexer_MonarchModernTokensCollector._merge(this._prependTokens,this._tokens,nestedResult.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,nestedResult.endState}finalize(endState){return new core_token.c(monarchLexer_MonarchModernTokensCollector._merge(this._prependTokens,this._tokens,null),endState)}}class monarchLexer_MonarchTokenizer{constructor(modeService,standaloneThemeService,modeId,lexer){this._modeService=modeService,this._standaloneThemeService=standaloneThemeService,this._modeId=modeId,this._lexer=lexer,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let emitting=!1;this._tokenizationRegistryListener=modes.C.onDidChange(e=>{if(emitting)return;let isOneOfMyEmbeddedModes=!1;for(let i=0,len=e.changedLanguages.length;i<len;i++){let language=e.changedLanguages[i];if(this._embeddedModes[language]){isOneOfMyEmbeddedModes=!0;break}}isOneOfMyEmbeddedModes&&(emitting=!0,modes.C.fire([this._modeId]),emitting=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let promises=[];for(let nestedModeId in this._embeddedModes){const tokenizationSupport=modes.C.get(nestedModeId);if(tokenizationSupport){if(tokenizationSupport instanceof monarchLexer_MonarchTokenizer){const nestedModeStatus=tokenizationSupport.getLoadStatus();!1===nestedModeStatus.loaded&&promises.push(nestedModeStatus.promise)}continue}const tokenizationSupportPromise=modes.C.getPromise(nestedModeId);tokenizationSupportPromise&&promises.push(tokenizationSupportPromise)}return 0===promises.length?{loaded:!0}:{loaded:!1,promise:Promise.all(promises).then(_=>void 0)}}getInitialState(){let rootState=MonarchStackElementFactory.create(null,this._lexer.start);return MonarchLineStateFactory.create(rootState,null)}tokenize(line,lineState,offsetDelta){let tokensCollector=new monarchLexer_MonarchClassicTokensCollector,endLineState=this._tokenize(line,lineState,offsetDelta,tokensCollector);return tokensCollector.finalize(endLineState)}tokenize2(line,lineState,offsetDelta){let tokensCollector=new monarchLexer_MonarchModernTokensCollector(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),endLineState=this._tokenize(line,lineState,offsetDelta,tokensCollector);return tokensCollector.finalize(endLineState)}_tokenize(line,lineState,offsetDelta,collector){return lineState.embeddedModeData?this._nestedTokenize(line,lineState,offsetDelta,collector):this._myTokenize(line,lineState,offsetDelta,collector)}_findLeavingNestedModeOffset(line,state){let rules=this._lexer.tokenizer[state.stack.state];if(!rules&&!(rules=findRules(this._lexer,state.stack.state)))throw createError(this._lexer,"tokenizer state is not defined: "+state.stack.state);let popOffset=-1,hasEmbeddedPopRule=!1;for(const rule of rules){if(!isIAction(rule.action)||"@pop"!==rule.action.nextEmbedded)continue;hasEmbeddedPopRule=!0;let regex=rule.regex,regexSource=rule.regex.source;if("^(?:"===regexSource.substr(0,4)&&")"===regexSource.substr(regexSource.length-1,1)){let flags=(regex.ignoreCase?"i":"")+(regex.unicode?"u":"");regex=new RegExp(regexSource.substr(4,regexSource.length-5),flags)}let result=line.search(regex);-1===result||0!==result&&rule.matchOnlyAtLineStart||(-1===popOffset||result<popOffset)&&(popOffset=result)}if(!hasEmbeddedPopRule)throw createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+state.stack.state);return popOffset}_nestedTokenize(line,lineState,offsetDelta,tokensCollector){let popOffset=this._findLeavingNestedModeOffset(line,lineState);if(-1===popOffset){let nestedEndState=tokensCollector.nestedModeTokenize(line,lineState.embeddedModeData,offsetDelta);return MonarchLineStateFactory.create(lineState.stack,new EmbeddedModeData(lineState.embeddedModeData.modeId,nestedEndState))}let nestedModeLine=line.substring(0,popOffset);nestedModeLine.length>0&&tokensCollector.nestedModeTokenize(nestedModeLine,lineState.embeddedModeData,offsetDelta);let restOfTheLine=line.substring(popOffset);return this._myTokenize(restOfTheLine,lineState,offsetDelta+popOffset,tokensCollector)}_safeRuleName(rule){return rule?rule.name:"(unknown)"}_myTokenize(line,lineState,offsetDelta,tokensCollector){tokensCollector.enterMode(offsetDelta,this._modeId);const lineLength=line.length;let embeddedModeData=lineState.embeddedModeData,stack=lineState.stack,pos=0,groupMatching=null,forceEvaluation=!0;for(;forceEvaluation||pos<lineLength;){const pos0=pos,stackLen0=stack.depth,groupLen0=groupMatching?groupMatching.groups.length:0,state=stack.state;let matches=null,matched=null,action=null,rule=null,enteringEmbeddedMode=null;if(groupMatching){matches=groupMatching.matches;const groupEntry=groupMatching.groups.shift();matched=groupEntry.matched,action=groupEntry.action,rule=groupMatching.rule,0===groupMatching.groups.length&&(groupMatching=null)}else{if(!forceEvaluation&&pos>=lineLength)break;forceEvaluation=!1;let rules=this._lexer.tokenizer[state];if(!rules&&!(rules=findRules(this._lexer,state)))throw createError(this._lexer,"tokenizer state is not defined: "+state);let restOfLine=line.substr(pos);for(const rule of rules)if((0===pos||!rule.matchOnlyAtLineStart)&&(matches=restOfLine.match(rule.regex))){matched=matches[0],action=rule.action;break}}if(matches||(matches=[""],matched=""),action||(pos<lineLength&&(matched=(matches=[line.charAt(pos)])[0]),action=this._lexer.defaultToken),null===matched)break;for(pos+=matched.length;isFuzzyAction(action)&&isIAction(action)&&action.test;)action=action.test(matched,matches,state,pos===lineLength);let result=null;if("string"==typeof action||Array.isArray(action))result=action;else if(action.group)result=action.group;else if(null!==action.token&&void 0!==action.token){if(result=action.tokenSubst?substituteMatches(this._lexer,action.token,matched,matches,state):action.token,action.nextEmbedded)if("@pop"===action.nextEmbedded){if(!embeddedModeData)throw createError(this._lexer,"cannot pop embedded mode if not inside one");embeddedModeData=null}else{if(embeddedModeData)throw createError(this._lexer,"cannot enter embedded mode from within an embedded mode");enteringEmbeddedMode=substituteMatches(this._lexer,action.nextEmbedded,matched,matches,state)}if(action.goBack&&(pos=Math.max(0,pos-action.goBack)),action.switchTo&&"string"==typeof action.switchTo){let nextState=substituteMatches(this._lexer,action.switchTo,matched,matches,state);if("@"===nextState[0]&&(nextState=nextState.substr(1)),!findRules(this._lexer,nextState))throw createError(this._lexer,"trying to switch to a state '"+nextState+"' that is undefined in rule: "+this._safeRuleName(rule));stack=stack.switchTo(nextState)}else{if(action.transform&&"function"==typeof action.transform)throw createError(this._lexer,"action.transform not supported");if(action.next)if("@push"===action.next){if(stack.depth>=this._lexer.maxStack)throw createError(this._lexer,"maximum tokenizer stack size reached: ["+stack.state+","+stack.parent.state+",...]");stack=stack.push(state)}else if("@pop"===action.next){if(stack.depth<=1)throw createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(rule));stack=stack.pop()}else if("@popall"===action.next)stack=stack.popall();else{let nextState=substituteMatches(this._lexer,action.next,matched,matches,state);if("@"===nextState[0]&&(nextState=nextState.substr(1)),!findRules(this._lexer,nextState))throw createError(this._lexer,"trying to set a next state '"+nextState+"' that is undefined in rule: "+this._safeRuleName(rule));stack=stack.push(nextState)}}action.log&&"string"==typeof action.log&&(lexer=this._lexer,msg=this._lexer.languageId+": "+substituteMatches(this._lexer,action.log,matched,matches,state),console.log(`${lexer.languageId}: ${msg}`))}if(null===result)throw createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(rule));const computeNewStateForEmbeddedMode=enteringEmbeddedMode=>{let enteringEmbeddedModeId=this._modeService.getModeIdForLanguageName(enteringEmbeddedMode);enteringEmbeddedModeId&&(enteringEmbeddedMode=enteringEmbeddedModeId);const embeddedModeData=this._getNestedEmbeddedModeData(enteringEmbeddedMode);if(pos<lineLength){const restOfLine=line.substr(pos);return this._nestedTokenize(restOfLine,MonarchLineStateFactory.create(stack,embeddedModeData),offsetDelta+pos,tokensCollector)}return MonarchLineStateFactory.create(stack,embeddedModeData)};if(Array.isArray(result)){if(groupMatching&&groupMatching.groups.length>0)throw createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(rule));if(matches.length!==result.length+1)throw createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(rule));let totalLen=0;for(let i=1;i<matches.length;i++)totalLen+=matches[i].length;if(totalLen!==matched.length)throw createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(rule));groupMatching={rule:rule,matches:matches,groups:[]};for(let i=0;i<result.length;i++)groupMatching.groups[i]={action:result[i],matched:matches[i+1]};pos-=matched.length}else{{if("@rematch"===result&&(pos-=matched.length,matched="",matches=null,result="",null!==enteringEmbeddedMode))return computeNewStateForEmbeddedMode(enteringEmbeddedMode);if(0===matched.length){if(0===lineLength||stackLen0!==stack.depth||state!==stack.state||(groupMatching?groupMatching.groups.length:0)!==groupLen0)continue;throw createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(rule))}let tokenType=null;if(isString(result)&&0===result.indexOf("@brackets")){let rest=result.substr("@brackets".length),bracket=findBracket(this._lexer,matched);if(!bracket)throw createError(this._lexer,"@brackets token returned but no bracket defined as: "+matched);tokenType=sanitize(bracket.token+rest)}else{tokenType=sanitize(""===result?"":result+this._lexer.tokenPostfix)}tokensCollector.emit(pos0+offsetDelta,tokenType)}if(null!==enteringEmbeddedMode)return computeNewStateForEmbeddedMode(enteringEmbeddedMode)}}var lexer,msg;return MonarchLineStateFactory.create(stack,embeddedModeData)}_getNestedEmbeddedModeData(mimetypeOrModeId){let nestedModeId=this._locateMode(mimetypeOrModeId);if(nestedModeId){let tokenizationSupport=modes.C.get(nestedModeId);if(tokenizationSupport)return new EmbeddedModeData(nestedModeId,tokenizationSupport.getInitialState())}return new EmbeddedModeData(nestedModeId||nullMode.b,nullMode.c)}_locateMode(mimetypeOrModeId){if(!mimetypeOrModeId||!this._modeService.isRegisteredMode(mimetypeOrModeId))return null;if(mimetypeOrModeId===this._modeId)return mimetypeOrModeId;let modeId=this._modeService.getModeId(mimetypeOrModeId);return modeId&&(this._modeService.triggerMode(modeId),this._embeddedModes[modeId]=!0),modeId}}function findBracket(lexer,matched){if(!matched)return null;matched=fixCase(lexer,matched);let brackets=lexer.brackets;for(const bracket of brackets){if(bracket.open===matched)return{token:bracket.token,bracketType:1};if(bracket.close===matched)return{token:bracket.token,bracketType:-1}}return null}class colorizer_Colorizer{static colorizeElement(themeService,modeService,domNode,options){let theme=(options=options||{}).theme||"vs",mimeType=options.mimeType||domNode.getAttribute("lang")||domNode.getAttribute("data-lang");if(!mimeType)return console.error("Mode not detected"),Promise.resolve();themeService.setTheme(theme);let text=domNode.firstChild?domNode.firstChild.nodeValue:"";domNode.className+=" "+theme;return this.colorize(modeService,text||"",mimeType,options).then(str=>{domNode.innerHTML=str},err=>console.error(err))}static colorize(modeService,text,mimeType,options){let tabSize=4;options&&"number"==typeof options.tabSize&&(tabSize=options.tabSize),strings.U(text)&&(text=text.substr(1));let lines=text.split(/\r\n|\r|\n/),language=modeService.getModeId(mimeType);if(!language)return Promise.resolve(_fakeColorize(lines,tabSize));modeService.triggerMode(language);const tokenizationSupport=modes.C.get(language);if(tokenizationSupport)return _colorize(lines,tabSize,tokenizationSupport);const tokenizationSupportPromise=modes.C.getPromise(language);return tokenizationSupportPromise?new Promise((resolve,reject)=>{tokenizationSupportPromise.then(tokenizationSupport=>{_colorize(lines,tabSize,tokenizationSupport).then(resolve,reject)},reject)}):new Promise((resolve,reject)=>{let listener=null,timeout=null;const execute=()=>{listener&&(listener.dispose(),listener=null),timeout&&(timeout.dispose(),timeout=null);const tokenizationSupport=modes.C.get(language);tokenizationSupport?_colorize(lines,tabSize,tokenizationSupport).then(resolve,reject):resolve(_fakeColorize(lines,tabSize))};(timeout=new common_async.e).cancelAndSet(execute,500),listener=modes.C.onDidChange(e=>{e.changedLanguages.indexOf(language)>=0&&execute()})})}static colorizeLine(line,mightContainNonBasicASCII,mightContainRTL,tokens,tabSize=4){const isBasicASCII=viewModel.d.isBasicASCII(line,mightContainNonBasicASCII),containsRTL=viewModel.d.containsRTL(line,isBasicASCII,mightContainRTL);return Object(viewLineRenderer.e)(new viewLineRenderer.c(!1,!0,line,!1,isBasicASCII,containsRTL,0,tokens,[],tabSize,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(model,lineNumber,tabSize=4){let content=model.getLineContent(lineNumber);model.forceTokenization(lineNumber);let inflatedTokens=model.getLineTokens(lineNumber).inflate();return this.colorizeLine(content,model.mightContainNonBasicASCII(),model.mightContainRTL(),inflatedTokens,tabSize)}}function _colorize(lines,tabSize,tokenizationSupport){return new Promise((c,e)=>{const execute=()=>{const result=function _actualColorize(lines,tabSize,tokenizationSupport){let html=[],state=tokenizationSupport.getInitialState();for(let i=0,length=lines.length;i<length;i++){let line=lines[i],tokenizeResult=tokenizationSupport.tokenize2(line,state,0);core_lineTokens.a.convertToEndOffset(tokenizeResult.tokens,line.length);let lineTokens=new core_lineTokens.a(tokenizeResult.tokens,line);const isBasicASCII=viewModel.d.isBasicASCII(line,!0),containsRTL=viewModel.d.containsRTL(line,isBasicASCII,!0);let renderResult=Object(viewLineRenderer.e)(new viewLineRenderer.c(!1,!0,line,!1,isBasicASCII,containsRTL,0,lineTokens.inflate(),[],tabSize,0,0,0,0,-1,"none",!1,!1,null));(html=html.concat(renderResult.html)).push("<br/>"),state=tokenizeResult.endState}return html.join("")}(lines,tabSize,tokenizationSupport);if(tokenizationSupport instanceof monarchLexer_MonarchTokenizer){const status=tokenizationSupport.getLoadStatus();if(!1===status.loaded)return void status.promise.then(execute,e)}c(result)};execute()})}function _fakeColorize(lines,tabSize){let html=[];const tokens=new Uint32Array(2);tokens[0]=0,tokens[1]=16793600;for(let i=0,length=lines.length;i<length;i++){let line=lines[i];tokens[0]=line.length;const lineTokens=new core_lineTokens.a(tokens,line),isBasicASCII=viewModel.d.isBasicASCII(line,!0),containsRTL=viewModel.d.containsRTL(line,isBasicASCII,!0);let renderResult=Object(viewLineRenderer.e)(new viewLineRenderer.c(!1,!0,line,!1,isBasicASCII,containsRTL,0,lineTokens,[],tabSize,0,0,0,0,-1,"none",!1,!1,null));(html=html.concat(renderResult.html)).push("<br/>")}return html.join("")}var browser_keyboardEvent=__webpack_require__(2342),common_severity=__webpack_require__(2372),editorBrowser=__webpack_require__(2389),bulkEditService=__webpack_require__(2401),commonEditorConfig=__webpack_require__(2428),editOperation=__webpack_require__(2350),common_configuration=__webpack_require__(2332),map=__webpack_require__(2349),configurationRegistry=__webpack_require__(2375);class configurationModels_ConfigurationModel{constructor(_contents={},_keys=[],_overrides=[]){this._contents=_contents,this._keys=_keys,this._overrides=_overrides,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(section){return section?Object(common_configuration.d)(this.contents,section):this.contents}override(identifier){const overrideContents=this.getContentsForOverrideIdentifer(identifier);if(!overrideContents||"object"!=typeof overrideContents||!Object.keys(overrideContents).length)return this;let contents={};for(const key of arrays.e([...Object.keys(this.contents),...Object.keys(overrideContents)])){let contentsForKey=this.contents[key],overrideContentsForKey=overrideContents[key];overrideContentsForKey&&("object"==typeof contentsForKey&&"object"==typeof overrideContentsForKey?(contentsForKey=objects.c(contentsForKey),this.mergeContents(contentsForKey,overrideContentsForKey)):contentsForKey=overrideContentsForKey),contents[key]=contentsForKey}return new configurationModels_ConfigurationModel(contents,this.keys,this.overrides)}merge(...others){const contents=objects.c(this.contents),overrides=objects.c(this.overrides),keys=[...this.keys];for(const other of others){this.mergeContents(contents,other.contents);for(const otherOverride of other.overrides){const[override]=overrides.filter(o=>arrays.g(o.identifiers,otherOverride.identifiers));override?this.mergeContents(override.contents,otherOverride.contents):overrides.push(objects.c(otherOverride))}for(const key of other.keys)-1===keys.indexOf(key)&&keys.push(key)}return new configurationModels_ConfigurationModel(contents,keys,overrides)}freeze(){return this.isFrozen=!0,this}mergeContents(source,target){for(const key of Object.keys(target))key in source&&types.i(source[key])&&types.i(target[key])?this.mergeContents(source[key],target[key]):source[key]=objects.c(target[key])}checkAndFreeze(data){return this.isFrozen&&!Object.isFrozen(data)?objects.d(data):data}getContentsForOverrideIdentifer(identifier){for(const override of this.overrides)if(-1!==override.identifiers.indexOf(identifier))return override.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(key,value){this.addKey(key),Object(common_configuration.b)(this.contents,key,value,e=>{throw new Error(e)})}removeValue(key){this.removeKey(key)&&Object(common_configuration.f)(this.contents,key)}addKey(key){let index=this.keys.length;for(let i=0;i<index;i++)0===key.indexOf(this.keys[i])&&(index=i);this.keys.splice(index,1,key)}removeKey(key){let index=this.keys.indexOf(key);return-1!==index&&(this.keys.splice(index,1),!0)}}class configurationModels_DefaultConfigurationModel extends configurationModels_ConfigurationModel{constructor(){const contents=Object(common_configuration.e)(),keys=Object(common_configuration.c)(),overrides=[];for(const key of Object.keys(contents))configurationRegistry.b.test(key)&&overrides.push({identifiers:[Object(configurationRegistry.c)(key).trim()],keys:Object.keys(contents[key]),contents:Object(common_configuration.g)(contents[key],message=>console.error(`Conflict in default settings file: ${message}`))});super(contents,keys,overrides)}}class configurationModels_Configuration{constructor(_defaultConfiguration,_localUserConfiguration,_remoteUserConfiguration=new configurationModels_ConfigurationModel,_workspaceConfiguration=new configurationModels_ConfigurationModel,_folderConfigurations=new map.b,_memoryConfiguration=new configurationModels_ConfigurationModel,_memoryConfigurationByResource=new map.b,_freeze=!0){this._defaultConfiguration=_defaultConfiguration,this._localUserConfiguration=_localUserConfiguration,this._remoteUserConfiguration=_remoteUserConfiguration,this._workspaceConfiguration=_workspaceConfiguration,this._folderConfigurations=_folderConfigurations,this._memoryConfiguration=_memoryConfiguration,this._memoryConfigurationByResource=_memoryConfigurationByResource,this._freeze=_freeze,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new map.b,this._userConfiguration=null}getValue(section,overrides,workspace){return this.getConsolidateConfigurationModel(overrides,workspace).getValue(section)}updateValue(key,value,overrides={}){let memoryConfiguration;overrides.resource?(memoryConfiguration=this._memoryConfigurationByResource.get(overrides.resource))||(memoryConfiguration=new configurationModels_ConfigurationModel,this._memoryConfigurationByResource.set(overrides.resource,memoryConfiguration)):memoryConfiguration=this._memoryConfiguration,void 0===value?memoryConfiguration.removeValue(key):memoryConfiguration.setValue(key,value),overrides.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(overrides,workspace){let configurationModel=this.getConsolidatedConfigurationModelForResource(overrides,workspace);return overrides.overrideIdentifier?configurationModel.override(overrides.overrideIdentifier):configurationModel}getConsolidatedConfigurationModelForResource({resource:resource},workspace){let consolidateConfiguration=this.getWorkspaceConsolidatedConfiguration();if(workspace&&resource){const root=workspace.getFolder(resource);root&&(consolidateConfiguration=this.getFolderConsolidatedConfiguration(root.uri)||consolidateConfiguration);const memoryConfigurationForResource=this._memoryConfigurationByResource.get(resource);memoryConfigurationForResource&&(consolidateConfiguration=consolidateConfiguration.merge(memoryConfigurationForResource))}return consolidateConfiguration}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(folder){let folderConsolidatedConfiguration=this._foldersConsolidatedConfigurations.get(folder);if(!folderConsolidatedConfiguration){const workspaceConsolidateConfiguration=this.getWorkspaceConsolidatedConfiguration(),folderConfiguration=this._folderConfigurations.get(folder);folderConfiguration?(folderConsolidatedConfiguration=workspaceConsolidateConfiguration.merge(folderConfiguration),this._freeze&&(folderConsolidatedConfiguration=folderConsolidatedConfiguration.freeze()),this._foldersConsolidatedConfigurations.set(folder,folderConsolidatedConfiguration)):folderConsolidatedConfiguration=workspaceConsolidateConfiguration}return folderConsolidatedConfiguration}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((result,folder)=>{const{contents:contents,overrides:overrides,keys:keys}=this._folderConfigurations.get(folder);return result.push([folder,{contents:contents,overrides:overrides,keys:keys}]),result},[])}}static parse(data){const defaultConfiguration=this.parseConfigurationModel(data.defaults),userConfiguration=this.parseConfigurationModel(data.user),workspaceConfiguration=this.parseConfigurationModel(data.workspace),folders=data.folders.reduce((result,value)=>(result.set(common_uri.a.revive(value[0]),this.parseConfigurationModel(value[1])),result),new map.b);return new configurationModels_Configuration(defaultConfiguration,userConfiguration,new configurationModels_ConfigurationModel,workspaceConfiguration,folders,new configurationModels_ConfigurationModel,new map.b,!1)}static parseConfigurationModel(model){return new configurationModels_ConfigurationModel(model.contents,model.keys,model.overrides).freeze()}}class configurationModels_ConfigurationChangeEvent{constructor(change,previous,currentConfiguraiton,currentWorkspace){this.change=change,this.previous=previous,this.currentConfiguraiton=currentConfiguraiton,this.currentWorkspace=currentWorkspace,this._previousConfiguration=void 0;const keysSet=new Set;change.keys.forEach(key=>keysSet.add(key)),change.overrides.forEach(([,keys])=>keys.forEach(key=>keysSet.add(key))),this.affectedKeys=[...keysSet.values()];const configurationModel=new configurationModels_ConfigurationModel;this.affectedKeys.forEach(key=>configurationModel.setValue(key,{})),this.affectedKeysTree=configurationModel.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=configurationModels_Configuration.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(section,overrides){var _a;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,section)){if(overrides){const value1=this.previousConfiguration?this.previousConfiguration.getValue(section,overrides,null===(_a=this.previous)||void 0===_a?void 0:_a.workspace):void 0,value2=this.currentConfiguraiton.getValue(section,overrides,this.currentWorkspace);return!objects.e(value1,value2)}return!0}return!1}doesAffectedKeysTreeContains(affectedKeysTree,section){let key,requestedTree=Object(common_configuration.g)({[section]:!0},()=>{});for(;"object"==typeof requestedTree&&(key=Object.keys(requestedTree)[0]);){if(!(affectedKeysTree=affectedKeysTree[key]))return!1;requestedTree=requestedTree[key]}return!0}}var nls=__webpack_require__(2297);class abstractKeybindingService_AbstractKeybindingService extends lifecycle.a{constructor(_contextKeyService,_commandService,_telemetryService,_notificationService,_logService){super(),this._contextKeyService=_contextKeyService,this._commandService=_commandService,this._telemetryService=_telemetryService,this._notificationService=_notificationService,this._logService=_logService,this._onDidUpdateKeybindings=this._register(new common_event.a),this._currentChord=null,this._currentChordChecker=new common_async.c,this._currentChordStatusMessage=null,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:common_event.b.None}dispose(){super.dispose()}_log(str){this._logging&&this._logService.info(`[KeybindingService]: ${str}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybindings(commandId){return arrays.d(this._getResolver().lookupKeybindings(commandId).map(item=>item.resolvedKeybinding))}lookupKeybinding(commandId){const result=this._getResolver().lookupPrimaryKeybinding(commandId);if(result)return result.resolvedKeybinding}dispatchEvent(e,target){return this._dispatch(e,target)}softDispatch(e,target){const keybinding=this.resolveKeyboardEvent(e);if(keybinding.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[firstPart]=keybinding.getDispatchParts();if(null===firstPart)return null;const contextValue=this._contextKeyService.getContext(target),currentChord=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(contextValue,currentChord,firstPart)}_enterChordMode(firstPart,keypressLabel){this._currentChord={keypress:firstPart,label:keypressLabel},this._currentChordStatusMessage=this._notificationService.status(nls.a("first.chord","({0}) was pressed. Waiting for second key of chord...",keypressLabel));const chordEnterTime=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-chordEnterTime>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,target){return this._doDispatch(this.resolveKeyboardEvent(e),target)}_doDispatch(keybinding,target){let shouldPreventDefault=!1;if(keybinding.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;const[firstPart]=keybinding.getDispatchParts();if(null===firstPart)return this._log("\\ Keyboard event cannot be dispatched."),shouldPreventDefault;const contextValue=this._contextKeyService.getContext(target),currentChord=this._currentChord?this._currentChord.keypress:null,keypressLabel=keybinding.getLabel(),resolveResult=this._getResolver().resolve(contextValue,currentChord,firstPart);return this._logService.trace("KeybindingService#dispatch",keypressLabel,null==resolveResult?void 0:resolveResult.commandId),resolveResult&&resolveResult.enterChord?(shouldPreventDefault=!0,this._enterChordMode(firstPart,keypressLabel),shouldPreventDefault):(this._currentChord&&(resolveResult&&resolveResult.commandId||(this._notificationService.status(nls.a("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,keypressLabel),{hideAfter:1e4}),shouldPreventDefault=!0)),this._leaveChordMode(),resolveResult&&resolveResult.commandId&&(resolveResult.bubble||(shouldPreventDefault=!0),void 0===resolveResult.commandArgs?this._commandService.executeCommand(resolveResult.commandId).then(void 0,err=>this._notificationService.warn(err)):this._commandService.executeCommand(resolveResult.commandId,resolveResult.commandArgs).then(void 0,err=>this._notificationService.warn(err)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:resolveResult.commandId,from:"keybinding"})),shouldPreventDefault)}mightProducePrintableCharacter(event){return!event.ctrlKey&&!event.metaKey&&(event.keyCode>=31&&event.keyCode<=56||event.keyCode>=21&&event.keyCode<=30)}}class KeybindingResolver{constructor(defaultKeybindings,overrides,log){this._log=log,this._defaultKeybindings=defaultKeybindings,this._defaultBoundCommands=new Map;for(let i=0,len=defaultKeybindings.length;i<len;i++){const command=defaultKeybindings[i].command;command&&this._defaultBoundCommands.set(command,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=KeybindingResolver.combine(defaultKeybindings,overrides);for(let i=0,len=this._keybindings.length;i<len;i++){let k=this._keybindings[i];0!==k.keypressParts.length&&(k.when&&0===k.when.type||this._addKeyPress(k.keypressParts[0],k))}}static _isTargetedForRemoval(defaultKb,keypressFirstPart,keypressChordPart,command,when){if(defaultKb.command!==command)return!1;if(keypressFirstPart&&defaultKb.keypressParts[0]!==keypressFirstPart)return!1;if(keypressChordPart&&defaultKb.keypressParts[1]!==keypressChordPart)return!1;if(when){if(!defaultKb.when)return!1;if(!when.equals(defaultKb.when))return!1}return!0}static combine(defaults,rawOverrides){defaults=defaults.slice(0);let overrides=[];for(const override of rawOverrides){if(!override.command||0===override.command.length||"-"!==override.command.charAt(0)){overrides.push(override);continue}const command=override.command.substr(1),keypressFirstPart=override.keypressParts[0],keypressChordPart=override.keypressParts[1],when=override.when;for(let j=defaults.length-1;j>=0;j--)this._isTargetedForRemoval(defaults[j],keypressFirstPart,keypressChordPart,command,when)&&defaults.splice(j,1)}return defaults.concat(overrides)}_addKeyPress(keypress,item){const conflicts=this._map.get(keypress);if(void 0===conflicts)return this._map.set(keypress,[item]),void this._addToLookupMap(item);for(let i=conflicts.length-1;i>=0;i--){let conflict=conflicts[i];if(conflict.command===item.command)continue;const conflictIsChord=conflict.keypressParts.length>1,itemIsChord=item.keypressParts.length>1;conflictIsChord&&itemIsChord&&conflict.keypressParts[1]!==item.keypressParts[1]||KeybindingResolver.whenIsEntirelyIncluded(conflict.when,item.when)&&this._removeFromLookupMap(conflict)}conflicts.push(item),this._addToLookupMap(item)}_addToLookupMap(item){if(!item.command)return;let arr=this._lookupMap.get(item.command);void 0===arr?(arr=[item],this._lookupMap.set(item.command,arr)):arr.push(item)}_removeFromLookupMap(item){if(!item.command)return;let arr=this._lookupMap.get(item.command);if(void 0!==arr)for(let i=0,len=arr.length;i<len;i++)if(arr[i]===item)return void arr.splice(i,1)}static whenIsEntirelyIncluded(a,b){return!b||!!a&&this._implies(a,b)}static _implies(p,q){const terminals=node=>9===node.type?node.expr:[node];let expr=terminals(p.negate()).concat(terminals(q));for(let i=0;i<expr.length;i++){const notA=expr[i].negate();for(let j=i+1;j<expr.length;j++){const b=expr[j];if(notA.equals(b))return!0}}return!1}getKeybindings(){return this._keybindings}lookupKeybindings(commandId){let items=this._lookupMap.get(commandId);if(void 0===items||0===items.length)return[];let result=[],resultLen=0;for(let i=items.length-1;i>=0;i--)result[resultLen++]=items[i];return result}lookupPrimaryKeybinding(commandId){let items=this._lookupMap.get(commandId);return void 0===items||0===items.length?null:items[items.length-1]}resolve(context,currentChord,keypress){this._log(`| Resolving ${keypress}${currentChord?` chorded from ${currentChord}`:""}`);let lookupMap=null;if(null!==currentChord){const candidates=this._map.get(currentChord);if(void 0===candidates)return this._log("\\ No keybinding entries."),null;lookupMap=[];for(let i=0,len=candidates.length;i<len;i++){let candidate=candidates[i];candidate.keypressParts[1]===keypress&&lookupMap.push(candidate)}}else{const candidates=this._map.get(keypress);if(void 0===candidates)return this._log("\\ No keybinding entries."),null;lookupMap=candidates}let result=this._findCommand(context,lookupMap);return result?null===currentChord&&result.keypressParts.length>1&&null!==result.keypressParts[1]?(this._log(`\\ From ${lookupMap.length} keybinding entries, matched chord, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`),{enterChord:!1,leaveChord:result.keypressParts.length>1,commandId:result.command,commandArgs:result.commandArgs,bubble:result.bubble}):(this._log(`\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(context,matches){for(let i=matches.length-1;i>=0;i--){let k=matches[i];if(KeybindingResolver.contextMatchesRules(context,k.when))return k}return null}static contextMatchesRules(context,rules){return!rules||rules.evaluate(context)}}function printWhenExplanation(when){return when?`${when.serialize()}`:"no when condition"}function printSourceExplanation(kb){return kb.isDefault?kb.extensionId?`built-in extension ${kb.extensionId}`:"built-in":kb.extensionId?`user extension ${kb.extensionId}`:"user"}var keybindingsRegistry=__webpack_require__(2367);class ResolvedKeybindingItem{constructor(resolvedKeybinding,command,commandArgs,when,isDefault,extensionId){this.resolvedKeybinding=resolvedKeybinding,this.keypressParts=resolvedKeybinding?function removeElementsAfterNulls(arr){let result=[];for(let i=0,len=arr.length;i<len;i++){const element=arr[i];if(!element)return result;result.push(element)}return result}(resolvedKeybinding.getDispatchParts()):[],this.bubble=!!command&&94===command.charCodeAt(0),this.command=this.bubble?command.substr(1):command,this.commandArgs=commandArgs,this.when=when,this.isDefault=isDefault,this.extensionId=extensionId}}class ModifierLabelProvider{constructor(mac,windows,linux=windows){this.modifierLabels=[null],this.modifierLabels[2]=mac,this.modifierLabels[1]=windows,this.modifierLabels[3]=linux}toLabel(OS,parts,keyLabelProvider){if(0===parts.length)return null;const result=[];for(let i=0,len=parts.length;i<len;i++){const part=parts[i],keyLabel=keyLabelProvider(part);if(null===keyLabel)return null;result[i]=_simpleAsString(part,keyLabel,this.modifierLabels[OS])}return result.join(" ")}}const UILabelProvider=new ModifierLabelProvider({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:nls.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:nls.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:nls.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:nls.a({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:nls.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:nls.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:nls.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:nls.a({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),AriaLabelProvider=new ModifierLabelProvider({ctrlKey:nls.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:nls.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:nls.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:nls.a({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:nls.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:nls.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:nls.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:nls.a({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:nls.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:nls.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:nls.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:nls.a({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function _simpleAsString(modifiers,key,labels){if(null===key)return"";const result=[];return modifiers.ctrlKey&&result.push(labels.ctrlKey),modifiers.shiftKey&&result.push(labels.shiftKey),modifiers.altKey&&result.push(labels.altKey),modifiers.metaKey&&result.push(labels.metaKey),""!==key&&result.push(key),result.join(labels.separator)}class baseResolvedKeybinding_BaseResolvedKeybinding extends keyCodes.c{constructor(os,parts){if(super(),0===parts.length)throw Object(errors.b)("parts");this._os=os,this._parts=parts}getLabel(){return UILabelProvider.toLabel(this._os,this._parts,keybinding=>this._getLabel(keybinding))}getAriaLabel(){return AriaLabelProvider.toLabel(this._os,this._parts,keybinding=>this._getAriaLabel(keybinding))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(keybinding=>this._getPart(keybinding))}_getPart(keybinding){return new keyCodes.d(keybinding.ctrlKey,keybinding.shiftKey,keybinding.altKey,keybinding.metaKey,this._getLabel(keybinding),this._getAriaLabel(keybinding))}getDispatchParts(){return this._parts.map(keybinding=>this._getDispatchPart(keybinding))}}class usLayoutResolvedKeybinding_USLayoutResolvedKeybinding extends baseResolvedKeybinding_BaseResolvedKeybinding{constructor(actual,os){super(os,actual.parts)}_keyCodeToUILabel(keyCode){if(2===this._os)switch(keyCode){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return keyCodes.b.toString(keyCode)}_getLabel(keybinding){return keybinding.isDuplicateModifierCase()?"":this._keyCodeToUILabel(keybinding.keyCode)}_getAriaLabel(keybinding){return keybinding.isDuplicateModifierCase()?"":keyCodes.b.toString(keybinding.keyCode)}_getDispatchPart(keybinding){return usLayoutResolvedKeybinding_USLayoutResolvedKeybinding.getDispatchStr(keybinding)}static getDispatchStr(keybinding){if(keybinding.isModifierKey())return null;let result="";return keybinding.ctrlKey&&(result+="ctrl+"),keybinding.shiftKey&&(result+="shift+"),keybinding.altKey&&(result+="alt+"),keybinding.metaKey&&(result+="meta+"),result+=keyCodes.b.toString(keybinding.keyCode)}}var common_notification=__webpack_require__(2322),workspace=__webpack_require__(2445),standaloneStrings=__webpack_require__(2353),simpleServices_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},simpleServices_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},simpleServices_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class simpleServices_SimpleModel{constructor(model){this.disposed=!1,this.model=model,this._onDispose=new common_event.a}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onDispose.fire()}}let simpleServices_SimpleEditorModelResolverService=class SimpleEditorModelResolverService{constructor(modelService){this.modelService=modelService}setEditor(editor){this.editor=editor}createModelReference(resource){let model=null;return this.editor&&(model=function withTypedEditor(widget,codeEditorCallback,diffEditorCallback){return Object(editorBrowser.b)(widget)?codeEditorCallback(widget):diffEditorCallback(widget)}(this.editor,editor=>this.findModel(editor,resource),diffEditor=>this.findModel(diffEditor.getOriginalEditor(),resource)||this.findModel(diffEditor.getModifiedEditor(),resource))),model?Promise.resolve(new lifecycle.c(new simpleServices_SimpleModel(model))):Promise.reject(new Error("Model not found"))}findModel(editor,resource){let model=this.modelService.getModel(resource);return model&&model.uri.toString()!==resource.toString()?null:model}};simpleServices_SimpleEditorModelResolverService=simpleServices_decorate([simpleServices_param(0,services_modelService.a)],simpleServices_SimpleEditorModelResolverService);class SimpleEditorProgressService{show(){return SimpleEditorProgressService.NULL_PROGRESS_RUNNER}showWhile(promise,delay){return Promise.resolve(void 0)}}SimpleEditorProgressService.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class SimpleDialogService{confirm(confirmation){return this.doConfirm(confirmation).then(confirmed=>({confirmed:confirmed,checkboxChecked:!1}))}doConfirm(confirmation){let messageText=confirmation.message;return confirmation.detail&&(messageText=messageText+"\n\n"+confirmation.detail),Promise.resolve(window.confirm(messageText))}show(severity,message,buttons,options){return Promise.resolve({choice:0})}}class simpleServices_SimpleNotificationService{info(message){return this.notify({severity:common_severity.a.Info,message:message})}warn(message){return this.notify({severity:common_severity.a.Warning,message:message})}error(error){return this.notify({severity:common_severity.a.Error,message:error})}notify(notification){switch(notification.severity){case common_severity.a.Error:console.error(notification.message);break;case common_severity.a.Warning:console.warn(notification.message);break;default:console.log(notification.message)}return simpleServices_SimpleNotificationService.NO_OP}status(message,options){return lifecycle.a.None}}simpleServices_SimpleNotificationService.NO_OP=new common_notification.b;class simpleServices_StandaloneCommandService{constructor(instantiationService){this._onWillExecuteCommand=new common_event.a,this._onDidExecuteCommand=new common_event.a,this._instantiationService=instantiationService}executeCommand(id,...args){const command=commands.a.getCommand(id);if(!command)return Promise.reject(new Error(`command '${id}' not found`));try{this._onWillExecuteCommand.fire({commandId:id,args:args});const result=this._instantiationService.invokeFunction.apply(this._instantiationService,[command.handler,...args]);return this._onDidExecuteCommand.fire({commandId:id,args:args}),Promise.resolve(result)}catch(err){return Promise.reject(err)}}}class simpleServices_StandaloneKeybindingService extends abstractKeybindingService_AbstractKeybindingService{constructor(contextKeyService,commandService,telemetryService,notificationService,logService,domNode){super(contextKeyService,commandService,telemetryService,notificationService,logService),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(dom.i(domNode,dom.c.KEY_DOWN,e=>{let keyEvent=new browser_keyboardEvent.a(e);this._dispatch(keyEvent,keyEvent.target)&&(keyEvent.preventDefault(),keyEvent.stopPropagation())}))}addDynamicKeybinding(commandId,_keybinding,handler,when){const keybinding=Object(keyCodes.f)(_keybinding,platform.a),toDispose=new lifecycle.b;return keybinding&&(this._dynamicKeybindings.push({keybinding:keybinding,command:commandId,when:when,weight1:1e3,weight2:0,extensionId:null}),toDispose.add(Object(lifecycle.h)(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++){if(this._dynamicKeybindings[i].command===commandId)return this._dynamicKeybindings.splice(i,1),void this.updateResolver({source:1})}}))),toDispose.add(commands.a.registerCommand(commandId,handler)),this.updateResolver({source:1}),toDispose}updateResolver(event){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(event)}_getResolver(){if(!this._cachedResolver){const defaults=this._toNormalizedKeybindingItems(keybindingsRegistry.a.getDefaultKeybindings(),!0),overrides=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new KeybindingResolver(defaults,overrides,str=>this._log(str))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(items,isDefault){let result=[],resultLen=0;for(const item of items){const when=item.when||void 0,keybinding=item.keybinding;if(keybinding){const resolvedKeybindings=this.resolveKeybinding(keybinding);for(const resolvedKeybinding of resolvedKeybindings)result[resultLen++]=new ResolvedKeybindingItem(resolvedKeybinding,item.command,item.commandArgs,when,isDefault,null)}else result[resultLen++]=new ResolvedKeybindingItem(void 0,item.command,item.commandArgs,when,isDefault,null)}return result}resolveKeybinding(keybinding){return[new usLayoutResolvedKeybinding_USLayoutResolvedKeybinding(keybinding,platform.a)]}resolveKeyboardEvent(keyboardEvent){let keybinding=new keyCodes.e(keyboardEvent.ctrlKey,keyboardEvent.shiftKey,keyboardEvent.altKey,keyboardEvent.metaKey,keyboardEvent.keyCode).toChord();return new usLayoutResolvedKeybinding_USLayoutResolvedKeybinding(keybinding,platform.a)}}function isConfigurationOverrides(thing){return thing&&"object"==typeof thing&&(!thing.overrideIdentifier||"string"==typeof thing.overrideIdentifier)&&(!thing.resource||thing.resource instanceof common_uri.a)}class simpleServices_SimpleConfigurationService{constructor(){this._onDidChangeConfiguration=new common_event.a,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new configurationModels_Configuration(new configurationModels_DefaultConfigurationModel,new configurationModels_ConfigurationModel)}getValue(arg1,arg2){const section="string"==typeof arg1?arg1:void 0,overrides=isConfigurationOverrides(arg1)?arg1:isConfigurationOverrides(arg2)?arg2:{};return this._configuration.getValue(section,overrides,void 0)}updateValues(values){const previous={data:this._configuration.toData()};let changedKeys=[];for(const entry of values){const[key,value]=entry;this.getValue(key)!==value&&(this._configuration.updateValue(key,value),changedKeys.push(key))}if(changedKeys.length>0){const configurationChangeEvent=new configurationModels_ConfigurationChangeEvent({keys:changedKeys,overrides:[]},previous,this._configuration);configurationChangeEvent.source=7,configurationChangeEvent.sourceConfig=null,this._onDidChangeConfiguration.fire(configurationChangeEvent)}return Promise.resolve()}}class simpleServices_SimpleResourceConfigurationService{constructor(configurationService){this.configurationService=configurationService,this._onDidChangeConfiguration=new common_event.a,this.configurationService.onDidChangeConfiguration(e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(resource,configuration)=>e.affectsConfiguration(configuration)})})}getValue(resource,arg2,arg3){const section=(core_position.a.isIPosition(arg2)?arg2:null)?"string"==typeof arg3?arg3:void 0:"string"==typeof arg2?arg2:void 0;return void 0===section?this.configurationService.getValue():this.configurationService.getValue(section)}}let simpleServices_SimpleResourcePropertiesService=class SimpleResourcePropertiesService{constructor(configurationService){this.configurationService=configurationService}getEOL(resource,language){const eol=this.configurationService.getValue("files.eol",{overrideIdentifier:language,resource:resource});return eol&&"auto"!==eol?eol:platform.d||platform.f?"\n":"\r\n"}};simpleServices_SimpleResourcePropertiesService=simpleServices_decorate([simpleServices_param(0,common_configuration.a)],simpleServices_SimpleResourcePropertiesService);class StandaloneTelemetryService{publicLog(eventName,data){return Promise.resolve(void 0)}publicLog2(eventName,data){return this.publicLog(eventName,data)}}class simpleServices_SimpleWorkspaceContextService{constructor(){const resource=common_uri.a.from({scheme:simpleServices_SimpleWorkspaceContextService.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new workspace.b({uri:resource,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(resource){return resource&&resource.scheme===simpleServices_SimpleWorkspaceContextService.SCHEME?this.workspace.folders[0]:null}}function applyConfigurationValues(configurationService,source,isDiffEditor){if(!source)return;if(!(configurationService instanceof simpleServices_SimpleConfigurationService))return;let toUpdate=[];Object.keys(source).forEach(key=>{Object(commonEditorConfig.d)(key)&&toUpdate.push([`editor.${key}`,source[key]]),isDiffEditor&&Object(commonEditorConfig.c)(key)&&toUpdate.push([`diffEditor.${key}`,source[key]])}),toUpdate.length>0&&configurationService.updateValues(toUpdate)}simpleServices_SimpleWorkspaceContextService.SCHEME="inmemory";class simpleServices_SimpleBulkEditService{constructor(_modelService){this._modelService=_modelService}hasPreviewHandler(){return!1}apply(edits,_options){return simpleServices_awaiter(this,void 0,void 0,function*(){const textEdits=new Map;for(let edit of edits){if(!(edit instanceof bulkEditService.c))throw new Error("bad edit - only text edits are supported");const model=this._modelService.getModel(edit.resource);if(!model)throw new Error("bad edit - model not found");if("number"==typeof edit.versionId&&model.getVersionId()!==edit.versionId)throw new Error("bad state - model changed in the meantime");let array=textEdits.get(model);array||(array=[],textEdits.set(model,array)),array.push(editOperation.a.replaceMove(core_range.a.lift(edit.textEdit.range),edit.textEdit.text))}let totalEdits=0,totalFiles=0;for(const[model,edits]of textEdits)model.pushStackElement(),model.pushEditOperations([],edits,()=>[]),model.pushStackElement(),totalFiles+=1,totalEdits+=edits.length;return{ariaSummary:strings.x(standaloneStrings.g.bulkEditServiceSummary,totalEdits,totalFiles)}})}}class SimpleUriLabelService{getUriLabel(resource,options){return"file"===resource.scheme?resource.fsPath:resource.path}}class simpleServices_SimpleLayoutService{constructor(_codeEditorService,_container){this._codeEditorService=_codeEditorService,this._container=_container,this.onLayout=common_event.b.None}get dimension(){return this._dimension||(this._dimension=dom.y(window.document.body)),this._dimension}get container(){return this._container}focus(){var _a;null===(_a=this._codeEditorService.getFocusedCodeEditor())||void 0===_a||_a.focus()}}var aria=__webpack_require__(2335),codeEditorWidget=__webpack_require__(2451),fastDomNode=(__webpack_require__(2645),__webpack_require__(2319)),sash=__webpack_require__(2407),config_configuration=__webpack_require__(2358),editorState=__webpack_require__(2357),actionbar=(__webpack_require__(2647),__webpack_require__(2373)),scrollableElement=__webpack_require__(2356),common_actions=__webpack_require__(2337),editorExtensions=__webpack_require__(2301),editorColorRegistry=__webpack_require__(2338),contextkey=__webpack_require__(2307),colorRegistry=__webpack_require__(2310),common_themeService=__webpack_require__(2304),codicons=__webpack_require__(2316);const DIFF_LINES_PADDING=3;class DiffEntry{constructor(originalLineStart,originalLineEnd,modifiedLineStart,modifiedLineEnd){this.originalLineStart=originalLineStart,this.originalLineEnd=originalLineEnd,this.modifiedLineStart=modifiedLineStart,this.modifiedLineEnd=modifiedLineEnd}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class Diff{constructor(entries){this.entries=entries}}const diffReviewInsertIcon=Object(codicons.e)("diff-review-insert",codicons.a.add),diffReviewRemoveIcon=Object(codicons.e)("diff-review-remove",codicons.a.remove),diffReviewCloseIcon=Object(codicons.e)("diff-review-close",codicons.a.close);class diffReview_DiffReview extends lifecycle.a{constructor(diffEditor){super(),this._width=0,this._diffEditor=diffEditor,this._isVisible=!1,this.shadow=Object(fastDomNode.b)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Object(fastDomNode.b)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new actionbar.a(this.actionBarContainer.domNode)),this._actionBar.push(new common_actions.a("diffreview.close",nls.a("label.close","Close"),"close-diff-review "+diffReviewCloseIcon.classNames,!0,()=>(this.hide(),Promise.resolve(null))),{label:!1,icon:!0}),this.domNode=Object(fastDomNode.b)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Object(fastDomNode.b)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new scrollableElement.a(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(diffEditor.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(diffEditor.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(dom.n(this.domNode.domNode,"click",e=>{e.preventDefault();let row=dom.w(e.target,"diff-review-row");row&&this._goToRow(row)})),this._register(dom.n(this.domNode.domNode,"keydown",e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let index=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let currentIndex=-1;for(let i=0,len=this._diffs.length;i<len;i++)if(this._diffs[i]===this._currentDiff){currentIndex=i;break}index=this._diffs.length+currentIndex-1}else index=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;index%=this._diffs.length;const entries=this._diffs[index].entries;this._diffEditor.setPosition(new core_position.a(entries[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:entries[0].modifiedLineStart,endColumn:1073741824,endLineNumber:entries[entries.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let index=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let currentIndex=-1;for(let i=0,len=this._diffs.length;i<len;i++)if(this._diffs[i]===this._currentDiff){currentIndex=i;break}index=currentIndex+1}else index=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;index%=this._diffs.length;const entries=this._diffs[index].entries;this._diffEditor.setPosition(new core_position.a(entries[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:entries[0].modifiedLineStart,endColumn:1073741824,endLineNumber:entries[entries.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let jumpToLineNumber=-1,current=this._getCurrentFocusedRow();if(current){let lineNumber=parseInt(current.getAttribute("data-line"),10);isNaN(lineNumber)||(jumpToLineNumber=lineNumber)}this.hide(),-1!==jumpToLineNumber&&(this._diffEditor.setPosition(new core_position.a(jumpToLineNumber,1)),this._diffEditor.revealPosition(new core_position.a(jumpToLineNumber,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let current=this._getCurrentFocusedRow();return current?current.previousElementSibling?current.previousElementSibling:current:this._getFirstRow()}_getNextRow(){let current=this._getCurrentFocusedRow();return current?current.nextElementSibling?current.nextElementSibling:current:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let result=document.activeElement;return result&&/diff-review-row/.test(result.className)?result:null}_goToRow(row){let prev=this._getCurrentFocusedRow();row.tabIndex=0,row.focus(),prev&&prev!==row&&(prev.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(top,width,height){this._width=width,this.shadow.setTop(top-6),this.shadow.setWidth(width),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(top),this.domNode.setWidth(width),this.domNode.setHeight(height),this._content.setHeight(height),this._content.setWidth(width),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const lineChanges=this._diffEditor.getLineChanges();if(!lineChanges||0===lineChanges.length)return[];const originalModel=this._diffEditor.getOriginalEditor().getModel(),modifiedModel=this._diffEditor.getModifiedEditor().getModel();return originalModel&&modifiedModel?diffReview_DiffReview._mergeAdjacent(lineChanges,originalModel.getLineCount(),modifiedModel.getLineCount()):[]}static _mergeAdjacent(lineChanges,originalLineCount,modifiedLineCount){if(!lineChanges||0===lineChanges.length)return[];let diffs=[],diffsLength=0;for(let i=0,len=lineChanges.length;i<len;i++){const lineChange=lineChanges[i],originalStart=lineChange.originalStartLineNumber,originalEnd=lineChange.originalEndLineNumber,modifiedStart=lineChange.modifiedStartLineNumber,modifiedEnd=lineChange.modifiedEndLineNumber;let r=[],rLength=0;{const originalEqualAbove=0===originalEnd?originalStart:originalStart-1,modifiedEqualAbove=0===modifiedEnd?modifiedStart:modifiedStart-1;let minOriginal=1,minModified=1;if(i>0){const prevLineChange=lineChanges[i-1];minOriginal=0===prevLineChange.originalEndLineNumber?prevLineChange.originalStartLineNumber+1:prevLineChange.originalEndLineNumber+1,minModified=0===prevLineChange.modifiedEndLineNumber?prevLineChange.modifiedStartLineNumber+1:prevLineChange.modifiedEndLineNumber+1}let fromOriginal=originalEqualAbove-DIFF_LINES_PADDING+1,fromModified=modifiedEqualAbove-DIFF_LINES_PADDING+1;if(fromOriginal<minOriginal){const delta=minOriginal-fromOriginal;fromOriginal+=delta,fromModified+=delta}if(fromModified<minModified){const delta=minModified-fromModified;fromOriginal+=delta,fromModified+=delta}r[rLength++]=new DiffEntry(fromOriginal,originalEqualAbove,fromModified,modifiedEqualAbove)}0!==originalEnd&&(r[rLength++]=new DiffEntry(originalStart,originalEnd,0,0)),0!==modifiedEnd&&(r[rLength++]=new DiffEntry(0,0,modifiedStart,modifiedEnd));{const originalEqualBelow=0===originalEnd?originalStart+1:originalEnd+1,modifiedEqualBelow=0===modifiedEnd?modifiedStart+1:modifiedEnd+1;let maxOriginal=originalLineCount,maxModified=modifiedLineCount;if(i+1<len){const nextLineChange=lineChanges[i+1];maxOriginal=0===nextLineChange.originalEndLineNumber?nextLineChange.originalStartLineNumber:nextLineChange.originalStartLineNumber-1,maxModified=0===nextLineChange.modifiedEndLineNumber?nextLineChange.modifiedStartLineNumber:nextLineChange.modifiedStartLineNumber-1}let toOriginal=originalEqualBelow+DIFF_LINES_PADDING-1,toModified=modifiedEqualBelow+DIFF_LINES_PADDING-1;if(toOriginal>maxOriginal){const delta=maxOriginal-toOriginal;toOriginal+=delta,toModified+=delta}if(toModified>maxModified){const delta=maxModified-toModified;toOriginal+=delta,toModified+=delta}r[rLength++]=new DiffEntry(originalEqualBelow,toOriginal,modifiedEqualBelow,toModified)}diffs[diffsLength++]=new Diff(r)}let curr=diffs[0].entries,r=[],rLength=0;for(let i=1,len=diffs.length;i<len;i++){const thisDiff=diffs[i].entries,currLast=curr[curr.length-1],thisFirst=thisDiff[0];0===currLast.getType()&&0===thisFirst.getType()&&thisFirst.originalLineStart<=currLast.originalLineEnd?(curr[curr.length-1]=new DiffEntry(currLast.originalLineStart,thisFirst.originalLineEnd,currLast.modifiedLineStart,thisFirst.modifiedLineEnd),curr=curr.concat(thisDiff.slice(1))):(r[rLength++]=new Diff(curr),curr=thisDiff)}return r[rLength++]=new Diff(curr),r}_findDiffIndex(pos){const lineNumber=pos.lineNumber;for(let i=0,len=this._diffs.length;i<len;i++){const diff=this._diffs[i].entries;if(lineNumber<=diff[diff.length-1].modifiedLineEnd)return i}return 0}_render(){const originalOptions=this._diffEditor.getOriginalEditor().getOptions(),modifiedOptions=this._diffEditor.getModifiedEditor().getOptions(),originalModel=this._diffEditor.getOriginalEditor().getModel(),modifiedModel=this._diffEditor.getModifiedEditor().getModel(),originalModelOpts=originalModel.getOptions(),modifiedModelOpts=modifiedModel.getOptions();if(!this._isVisible||!originalModel||!modifiedModel)return dom.s(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const diffIndex=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[diffIndex]===this._currentDiff)return;this._currentDiff=this._diffs[diffIndex];const diffs=this._diffs[diffIndex].entries;let container=document.createElement("div");container.className="diff-review-table",container.setAttribute("role","list"),container.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),config_configuration.a.applyFontInfoSlow(container,modifiedOptions.get(36));let minOriginalLine=0,maxOriginalLine=0,minModifiedLine=0,maxModifiedLine=0;for(let i=0,len=diffs.length;i<len;i++){const diffEntry=diffs[i],originalLineStart=diffEntry.originalLineStart,originalLineEnd=diffEntry.originalLineEnd,modifiedLineStart=diffEntry.modifiedLineStart,modifiedLineEnd=diffEntry.modifiedLineEnd;0!==originalLineStart&&(0===minOriginalLine||originalLineStart<minOriginalLine)&&(minOriginalLine=originalLineStart),0!==originalLineEnd&&(0===maxOriginalLine||originalLineEnd>maxOriginalLine)&&(maxOriginalLine=originalLineEnd),0!==modifiedLineStart&&(0===minModifiedLine||modifiedLineStart<minModifiedLine)&&(minModifiedLine=modifiedLineStart),0!==modifiedLineEnd&&(0===maxModifiedLine||modifiedLineEnd>maxModifiedLine)&&(maxModifiedLine=modifiedLineEnd)}let header=document.createElement("div");header.className="diff-review-row";let cell=document.createElement("div");cell.className="diff-review-cell diff-review-summary";const originalChangedLinesCnt=maxOriginalLine-minOriginalLine+1,modifiedChangedLinesCnt=maxModifiedLine-minModifiedLine+1;cell.appendChild(document.createTextNode(`${diffIndex+1}/${this._diffs.length}: @@ -${minOriginalLine},${originalChangedLinesCnt} +${minModifiedLine},${modifiedChangedLinesCnt} @@`)),header.setAttribute("data-line",String(minModifiedLine));const getAriaLines=lines=>0===lines?nls.a("no_lines_changed","no lines changed"):1===lines?nls.a("one_line_changed","1 line changed"):nls.a("more_lines_changed","{0} lines changed",lines),originalChangedLinesCntAria=getAriaLines(originalChangedLinesCnt),modifiedChangedLinesCntAria=getAriaLines(modifiedChangedLinesCnt);header.setAttribute("aria-label",nls.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",diffIndex+1,this._diffs.length,minOriginalLine,originalChangedLinesCntAria,minModifiedLine,modifiedChangedLinesCntAria)),header.appendChild(cell),header.setAttribute("role","listitem"),container.appendChild(header);const lineHeight=modifiedOptions.get(51);let modLine=minModifiedLine;for(let i=0,len=diffs.length;i<len;i++){const diffEntry=diffs[i];diffReview_DiffReview._renderSection(container,diffEntry,modLine,lineHeight,this._width,originalOptions,originalModel,originalModelOpts,modifiedOptions,modifiedModel,modifiedModelOpts),0!==diffEntry.modifiedLineStart&&(modLine=diffEntry.modifiedLineEnd)}dom.s(this._content.domNode),this._content.domNode.appendChild(container),this.scrollbar.scanDomNode()}static _renderSection(dest,diffEntry,modLine,lineHeight,width,originalOptions,originalModel,originalModelOpts,modifiedOptions,modifiedModel,modifiedModelOpts){const type=diffEntry.getType();let rowClassName="diff-review-row",lineNumbersExtraClassName="";let spacerIcon=null;switch(type){case 1:rowClassName="diff-review-row line-insert",lineNumbersExtraClassName=" char-insert",spacerIcon=diffReviewInsertIcon;break;case 2:rowClassName="diff-review-row line-delete",lineNumbersExtraClassName=" char-delete",spacerIcon=diffReviewRemoveIcon}const originalLineStart=diffEntry.originalLineStart,originalLineEnd=diffEntry.originalLineEnd,modifiedLineStart=diffEntry.modifiedLineStart,modifiedLineEnd=diffEntry.modifiedLineEnd,cnt=Math.max(modifiedLineEnd-modifiedLineStart,originalLineEnd-originalLineStart),originalLayoutInfo=originalOptions.get(117),originalLineNumbersWidth=originalLayoutInfo.glyphMarginWidth+originalLayoutInfo.lineNumbersWidth,modifiedLayoutInfo=modifiedOptions.get(117),modifiedLineNumbersWidth=10+modifiedLayoutInfo.glyphMarginWidth+modifiedLayoutInfo.lineNumbersWidth;for(let i=0;i<=cnt;i++){const originalLine=0===originalLineStart?0:originalLineStart+i,modifiedLine=0===modifiedLineStart?0:modifiedLineStart+i,row=document.createElement("div");row.style.minWidth=width+"px",row.className=rowClassName,row.setAttribute("role","listitem"),0!==modifiedLine&&(modLine=modifiedLine),row.setAttribute("data-line",String(modLine));let cell=document.createElement("div");cell.className="diff-review-cell",cell.style.height=`${lineHeight}px`,row.appendChild(cell);const originalLineNumber=document.createElement("span");originalLineNumber.style.width=originalLineNumbersWidth+"px",originalLineNumber.style.minWidth=originalLineNumbersWidth+"px",originalLineNumber.className="diff-review-line-number"+lineNumbersExtraClassName,0!==originalLine?originalLineNumber.appendChild(document.createTextNode(String(originalLine))):originalLineNumber.innerText="",cell.appendChild(originalLineNumber);const modifiedLineNumber=document.createElement("span");modifiedLineNumber.style.width=modifiedLineNumbersWidth+"px",modifiedLineNumber.style.minWidth=modifiedLineNumbersWidth+"px",modifiedLineNumber.style.paddingRight="10px",modifiedLineNumber.className="diff-review-line-number"+lineNumbersExtraClassName,0!==modifiedLine?modifiedLineNumber.appendChild(document.createTextNode(String(modifiedLine))):modifiedLineNumber.innerText="",cell.appendChild(modifiedLineNumber);const spacer=document.createElement("span");if(spacer.className="diff-review-spacer",spacerIcon){const spacerCodicon=document.createElement("span");spacerCodicon.className=spacerIcon.classNames,spacerCodicon.innerText="",spacer.appendChild(spacerCodicon)}else spacer.innerText="";let lineContent;cell.appendChild(spacer),0!==modifiedLine?(cell.insertAdjacentHTML("beforeend",this._renderLine(modifiedModel,modifiedOptions,modifiedModelOpts.tabSize,modifiedLine)),lineContent=modifiedModel.getLineContent(modifiedLine)):(cell.insertAdjacentHTML("beforeend",this._renderLine(originalModel,originalOptions,originalModelOpts.tabSize,originalLine)),lineContent=originalModel.getLineContent(originalLine)),0===lineContent.length&&(lineContent=nls.a("blankLine","blank"));let ariaLabel="";switch(type){case 0:ariaLabel=originalLine===modifiedLine?nls.a({key:"unchangedLine",comment:["The placholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",lineContent,originalLine):nls.a("equalLine","{0} original line {1} modified line {2}",lineContent,originalLine,modifiedLine);break;case 1:ariaLabel=nls.a("insertLine","+ {0} modified line {1}",lineContent,modifiedLine);break;case 2:ariaLabel=nls.a("deleteLine","- {0} original line {1}",lineContent,originalLine)}row.setAttribute("aria-label",ariaLabel),dest.appendChild(row)}}static _renderLine(model,options,tabSize,lineNumber){const lineContent=model.getLineContent(lineNumber),fontInfo=options.get(36),tokens=new Uint32Array(2);tokens[0]=lineContent.length,tokens[1]=16793600;const lineTokens=new core_lineTokens.a(tokens,lineContent),isBasicASCII=viewModel.d.isBasicASCII(lineContent,model.mightContainNonBasicASCII()),containsRTL=viewModel.d.containsRTL(lineContent,isBasicASCII,model.mightContainRTL());return Object(viewLineRenderer.e)(new viewLineRenderer.c(fontInfo.isMonospace&&!options.get(24),fontInfo.canUseHalfwidthRightwardsArrow,lineContent,!1,isBasicASCII,containsRTL,0,lineTokens,[],tabSize,0,fontInfo.spaceWidth,fontInfo.middotWidth,fontInfo.wsmiddotWidth,options.get(95),options.get(80),options.get(74),options.get(37)!==editorOptions.e.OFF,null)).html}}Object(common_themeService.g)((theme,collector)=>{const lineNumbers=theme.getColor(editorColorRegistry.k);lineNumbers&&collector.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${lineNumbers}; }`);const shadow=theme.getColor(colorRegistry.ic);shadow&&collector.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${shadow} 0 -6px 6px -6px inset; }`)});function findFocusedDiffEditor(accessor){const codeEditorService=accessor.get(services_codeEditorService.a),diffEditors=codeEditorService.listDiffEditors(),activeCodeEditor=codeEditorService.getActiveCodeEditor();if(!activeCodeEditor)return null;for(let i=0,len=diffEditors.length;i<len;i++){const diffEditor=diffEditors[i];if(diffEditor.getModifiedEditor().getId()===activeCodeEditor.getId()||diffEditor.getOriginalEditor().getId()===activeCodeEditor.getId())return diffEditor}return null}Object(editorExtensions.k)(class diffReview_DiffReviewNext extends editorExtensions.b{constructor(){super({id:"editor.action.diffReview.next",label:nls.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:contextkey.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(accessor,editor){const diffEditor=findFocusedDiffEditor(accessor);diffEditor&&diffEditor.diffReviewNext()}}),Object(editorExtensions.k)(class diffReview_DiffReviewPrev extends editorExtensions.b{constructor(){super({id:"editor.action.diffReview.prev",label:nls.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:contextkey.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(accessor,editor){const diffEditor=findFocusedDiffEditor(accessor);diffEditor&&diffEditor.diffReviewPrev()}});var stringBuilder=__webpack_require__(2376),textModel=__webpack_require__(2321),overviewZoneManager=__webpack_require__(2477),lineDecorations=__webpack_require__(2442),instantiation=__webpack_require__(2300),serviceCollection=__webpack_require__(2410),contextView=__webpack_require__(2355),inlineDiffMargin_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class inlineDiffMargin_InlineDiffMargin extends lifecycle.a{constructor(_viewZoneId,_marginDomNode,editor,diff,_contextMenuService,_clipboardService){super(),this._viewZoneId=_viewZoneId,this._marginDomNode=_marginDomNode,this.editor=editor,this.diff=diff,this._contextMenuService=_contextMenuService,this._clipboardService=_clipboardService,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=codicons.a.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const lineHeight=editor.getOption(51),lineFeed=editor.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${lineHeight}px`,this._diffActions.style.lineHeight=`${lineHeight}px`,this._marginDomNode.appendChild(this._diffActions);const actions=[];actions.push(new common_actions.a("diff.clipboard.copyDeletedContent",diff.originalEndLineNumber>diff.modifiedStartLineNumber?nls.a("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):nls.a("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,()=>inlineDiffMargin_awaiter(this,void 0,void 0,function*(){yield this._clipboardService.writeText(diff.originalContent.join(lineFeed)+lineFeed)})));let currentLineNumberOffset=0,copyLineAction=void 0;diff.originalEndLineNumber>diff.modifiedStartLineNumber&&(copyLineAction=new common_actions.a("diff.clipboard.copyDeletedLineContent",nls.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",diff.originalStartLineNumber),void 0,!0,()=>inlineDiffMargin_awaiter(this,void 0,void 0,function*(){yield this._clipboardService.writeText(diff.originalContent[currentLineNumberOffset])})),actions.push(copyLineAction)),editor.getOption(72)||actions.push(new common_actions.a("diff.inline.revertChange",nls.a("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>inlineDiffMargin_awaiter(this,void 0,void 0,function*(){if(0===diff.modifiedEndLineNumber){const column=editor.getModel().getLineMaxColumn(diff.modifiedStartLineNumber);editor.executeEdits("diffEditor",[{range:new core_range.a(diff.modifiedStartLineNumber,column,diff.modifiedStartLineNumber,column),text:lineFeed+diff.originalContent.join(lineFeed)}])}else{const column=editor.getModel().getLineMaxColumn(diff.modifiedEndLineNumber);editor.executeEdits("diffEditor",[{range:new core_range.a(diff.modifiedStartLineNumber,1,diff.modifiedEndLineNumber,column),text:diff.originalContent.join(lineFeed)}])}})));const showContextMenu=(x,y)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:x,y:y}),getActions:()=>(copyLineAction&&(copyLineAction.label=nls.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",diff.originalStartLineNumber+currentLineNumberOffset)),actions),autoSelectFirstItem:!0})};this._register(dom.n(this._diffActions,"mousedown",e=>{const{top:top,height:height}=dom.C(this._diffActions);let pad=Math.floor(lineHeight/3);e.preventDefault(),showContextMenu(e.posx,top+height+pad)})),this._register(editor.onMouseMove(e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,currentLineNumberOffset=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,lineHeight)):this.visibility=!1}else this.visibility=!1})),this._register(editor.onMouseDown(e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),currentLineNumberOffset=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,lineHeight),showContextMenu(e.event.posx,e.event.posy+lineHeight))}}))}get visibility(){return this._visibility}set visibility(_visibility){this._visibility!==_visibility&&(this._visibility=_visibility,this._diffActions.style.visibility=_visibility?"visible":"hidden")}_updateLightBulbPosition(marginDomNode,y,lineHeight){const{top:top}=dom.C(marginDomNode),offset=y-top,lineNumberOffset=Math.floor(offset/lineHeight),newTop=lineNumberOffset*lineHeight;return this._diffActions.style.top=`${newTop}px`,lineNumberOffset}}var common_clipboardService=__webpack_require__(2370),progress=__webpack_require__(2345),elementSizeObserver=__webpack_require__(2476),mouseCursor=__webpack_require__(2409),diffEditorWidget_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},diffEditorWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};class diffEditorWidget_VisualEditorState{constructor(_contextMenuService,_clipboardService){this._contextMenuService=_contextMenuService,this._clipboardService=_clipboardService,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(allViewZones){return allViewZones.filter(z=>!this._zonesMap[String(z.id)])}clean(editor){this._zones.length>0&&editor.changeViewZones(viewChangeAccessor=>{for(let i=0,length=this._zones.length;i<length;i++)viewChangeAccessor.removeZone(this._zones[i])}),this._zones=[],this._zonesMap={},this._decorations=editor.deltaDecorations(this._decorations,[])}apply(editor,overviewRuler,newDecorations,restoreScrollState){const scrollState=restoreScrollState?editorState.c.capture(editor):null;editor.changeViewZones(viewChangeAccessor=>{for(let i=0,length=this._zones.length;i<length;i++)viewChangeAccessor.removeZone(this._zones[i]);for(let i=0,length=this.inlineDiffMargins.length;i<length;i++)this.inlineDiffMargins[i].dispose();this._zones=[],this._zonesMap={},this.inlineDiffMargins=[];for(let i=0,length=newDecorations.zones.length;i<length;i++){const viewZone=newDecorations.zones[i];viewZone.suppressMouseDown=!0;let zoneId=viewChangeAccessor.addZone(viewZone);this._zones.push(zoneId),this._zonesMap[String(zoneId)]=!0,newDecorations.zones[i].diff&&viewZone.marginDomNode&&(viewZone.suppressMouseDown=!1,this.inlineDiffMargins.push(new inlineDiffMargin_InlineDiffMargin(zoneId,viewZone.marginDomNode,editor,newDecorations.zones[i].diff,this._contextMenuService,this._clipboardService)))}}),scrollState&&scrollState.restore(editor),this._decorations=editor.deltaDecorations(this._decorations,newDecorations.decorations),overviewRuler&&overviewRuler.setZones(newDecorations.overviewZones)}}let DIFF_EDITOR_ID=0;const diffInsertIcon=Object(codicons.e)("diff-insert",codicons.a.add),diffRemoveIcon=Object(codicons.e)("diff-remove",codicons.a.remove);let diffEditorWidget_DiffEditorWidget=class DiffEditorWidget extends lifecycle.a{constructor(domElement,options,clipboardService,editorWorkerService,contextKeyService,instantiationService,codeEditorService,themeService,notificationService,contextMenuService,_editorProgressService){super(),this._editorProgressService=_editorProgressService,this._onDidDispose=this._register(new common_event.a),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new common_event.a),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new common_event.a),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=editorWorkerService,this._codeEditorService=codeEditorService,this._contextKeyService=this._register(contextKeyService.createScoped(domElement)),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=themeService,this._notificationService=notificationService,this.id=++DIFF_EDITOR_ID,this._state=0,this._updatingDiffProgress=null,this._domElement=domElement,options=options||{},this._renderSideBySide=!0,void 0!==options.renderSideBySide&&(this._renderSideBySide=options.renderSideBySide),this._maxComputationTime=5e3,void 0!==options.maxComputationTime&&(this._maxComputationTime=options.maxComputationTime),this._ignoreTrimWhitespace=!0,void 0!==options.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=options.ignoreTrimWhitespace),this._renderIndicators=!0,void 0!==options.renderIndicators&&(this._renderIndicators=options.renderIndicators),this._originalIsEditable=!1,void 0!==options.originalEditable&&(this._originalIsEditable=Boolean(options.originalEditable)),this._originalCodeLens=!1,void 0!==options.originalCodeLens&&(this._originalCodeLens=Boolean(options.originalCodeLens)),this._modifiedCodeLens=!1,void 0!==options.modifiedCodeLens&&(this._modifiedCodeLens=Boolean(options.modifiedCodeLens)),this._updateDecorationsRunner=this._register(new common_async.d(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=DiffEditorWidget._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Object(fastDomNode.b)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(dom.n(this._overviewDomElement,"mousedown",e=>{this.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new diffEditorWidget_VisualEditorState(contextMenuService,clipboardService),this._modifiedEditorState=new diffEditorWidget_VisualEditorState(contextMenuService,clipboardService),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new elementSizeObserver.a(this._containerDomElement,void 0,()=>this._onDidContainerSizeChanged())),options.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null;const leftContextKeyService=this._contextKeyService.createScoped(),leftServices=new serviceCollection.a;leftServices.set(contextkey.b,leftContextKeyService);const leftScopedInstantiationService=instantiationService.createChild(leftServices),rightContextKeyService=this._contextKeyService.createScoped(),rightServices=new serviceCollection.a;rightServices.set(contextkey.b,rightContextKeyService);const rightScopedInstantiationService=instantiationService.createChild(rightServices);this.originalEditor=this._createLeftHandSideEditor(options,leftScopedInstantiationService,leftContextKeyService),this.modifiedEditor=this._createRightHandSideEditor(options,rightScopedInstantiationService,rightContextKeyService),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new diffReview_DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,void 0!==options.enableSplitViewResizing&&(this._enableSplitViewResizing=options.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new diffEditorWidget_DiffEditorWidgetSideBySide(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new diffEditorWidget_DiffEditorWidgetInline(this._createDataSource(),this._enableSplitViewResizing)),this._register(themeService.onDidColorThemeChange(t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=DiffEditorWidget._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const contributions=editorExtensions.d.getDiffEditorContributions();for(const desc of contributions)try{this._register(instantiationService.createInstance(desc.ctor,this))}catch(err){Object(errors.e)(err)}this._codeEditorService.addDiffEditor(this)}_setState(newState){this._state!==newState&&(this._state=newState,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(theme,renderSideBySide){let result="monaco-diff-editor monaco-editor-background ";return renderSideBySide&&(result+="side-by-side "),result+=Object(common_themeService.f)(theme.type)}_recreateOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()}_createLeftHandSideEditor(options,instantiationService,contextKeyService){const editor=this._createInnerEditor(instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(options,this._originalIsEditable,this._originalCodeLens));this._register(editor.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(editor.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(editor.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const isInDiffLeftEditorKey=contextKeyService.createKey("isInDiffLeftEditor",void 0);return this._register(editor.onDidFocusEditorWidget(()=>isInDiffLeftEditorKey.set(!0))),this._register(editor.onDidBlurEditorWidget(()=>isInDiffLeftEditorKey.set(!1))),this._register(editor.onDidContentSizeChange(e=>{const width=this.originalEditor.getContentWidth()+this.modifiedEditor.getContentWidth()+DiffEditorWidget.ONE_OVERVIEW_WIDTH,height=Math.max(this.modifiedEditor.getContentHeight(),this.originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:height,contentWidth:width,contentHeightChanged:e.contentHeightChanged,contentWidthChanged:e.contentWidthChanged})})),editor}_createRightHandSideEditor(options,instantiationService,contextKeyService){const editor=this._createInnerEditor(instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(options,this._modifiedCodeLens));this._register(editor.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(editor.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(editor.onDidChangeConfiguration(e=>{e.hasChanged(36)&&editor.getModel()&&this._onViewZonesChanged()})),this._register(editor.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(editor.onDidChangeModelOptions(e=>{e.tabSize&&this._updateDecorationsRunner.schedule()}));const isInDiffRightEditorKey=contextKeyService.createKey("isInDiffRightEditor",void 0);return this._register(editor.onDidFocusEditorWidget(()=>isInDiffRightEditorKey.set(!0))),this._register(editor.onDidBlurEditorWidget(()=>isInDiffRightEditorKey.set(!1))),this._register(editor.onDidContentSizeChange(e=>{const width=this.originalEditor.getContentWidth()+this.modifiedEditor.getContentWidth()+DiffEditorWidget.ONE_OVERVIEW_WIDTH,height=Math.max(this.modifiedEditor.getContentHeight(),this.originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:height,contentWidth:width,contentHeightChanged:e.contentHeightChanged,contentWidthChanged:e.contentWidthChanged})})),editor}_createInnerEditor(instantiationService,container,options){return instantiationService.createInstance(codeEditorWidget.a,container,options,{})}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this.id}getEditorType(){return editorCommon.a.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this.originalEditor}getModifiedEditor(){return this.modifiedEditor}updateOptions(newOptions){let renderSideBySideChanged=!1;void 0!==newOptions.renderSideBySide&&this._renderSideBySide!==newOptions.renderSideBySide&&(this._renderSideBySide=newOptions.renderSideBySide,renderSideBySideChanged=!0),void 0!==newOptions.maxComputationTime&&(this._maxComputationTime=newOptions.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let beginUpdateDecorations=!1;void 0!==newOptions.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==newOptions.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=newOptions.ignoreTrimWhitespace,beginUpdateDecorations=!0),void 0!==newOptions.renderIndicators&&this._renderIndicators!==newOptions.renderIndicators&&(this._renderIndicators=newOptions.renderIndicators,beginUpdateDecorations=!0),beginUpdateDecorations&&this._beginUpdateDecorations(),void 0!==newOptions.originalEditable&&(this._originalIsEditable=Boolean(newOptions.originalEditable)),void 0!==newOptions.originalCodeLens&&(this._originalCodeLens=Boolean(newOptions.originalCodeLens)),void 0!==newOptions.modifiedCodeLens&&(this._modifiedCodeLens=Boolean(newOptions.modifiedCodeLens)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(newOptions,this._modifiedCodeLens)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(newOptions,this._originalIsEditable,this._originalCodeLens)),void 0!==newOptions.enableSplitViewResizing&&(this._enableSplitViewResizing=newOptions.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),renderSideBySideChanged&&(this._renderSideBySide?this._setStrategy(new diffEditorWidget_DiffEditorWidgetSideBySide(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new diffEditorWidget_DiffEditorWidgetInline(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=DiffEditorWidget._getClassName(this._themeService.getColorTheme(),this._renderSideBySide))}getModel(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}}setModel(model){if(model&&(!model.original||!model.modified))throw new Error(model.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(model?model.original:null),this.modifiedEditor.setModel(model?model.modified:null),this._updateDecorationsRunner.cancel(),model&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),model&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(position){return this.modifiedEditor.getVisibleColumnFromPosition(position)}getPosition(){return this.modifiedEditor.getPosition()}setPosition(position){this.modifiedEditor.setPosition(position)}revealLine(lineNumber,scrollType=0){this.modifiedEditor.revealLine(lineNumber,scrollType)}revealLineInCenter(lineNumber,scrollType=0){this.modifiedEditor.revealLineInCenter(lineNumber,scrollType)}revealLineInCenterIfOutsideViewport(lineNumber,scrollType=0){this.modifiedEditor.revealLineInCenterIfOutsideViewport(lineNumber,scrollType)}revealLineNearTop(lineNumber,scrollType=0){this.modifiedEditor.revealLineNearTop(lineNumber,scrollType)}revealPosition(position,scrollType=0){this.modifiedEditor.revealPosition(position,scrollType)}revealPositionInCenter(position,scrollType=0){this.modifiedEditor.revealPositionInCenter(position,scrollType)}revealPositionInCenterIfOutsideViewport(position,scrollType=0){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(position,scrollType)}revealPositionNearTop(position,scrollType=0){this.modifiedEditor.revealPositionNearTop(position,scrollType)}getSelection(){return this.modifiedEditor.getSelection()}getSelections(){return this.modifiedEditor.getSelections()}setSelection(something){this.modifiedEditor.setSelection(something)}setSelections(ranges){this.modifiedEditor.setSelections(ranges)}revealLines(startLineNumber,endLineNumber,scrollType=0){this.modifiedEditor.revealLines(startLineNumber,endLineNumber,scrollType)}revealLinesInCenter(startLineNumber,endLineNumber,scrollType=0){this.modifiedEditor.revealLinesInCenter(startLineNumber,endLineNumber,scrollType)}revealLinesInCenterIfOutsideViewport(startLineNumber,endLineNumber,scrollType=0){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(startLineNumber,endLineNumber,scrollType)}revealLinesNearTop(startLineNumber,endLineNumber,scrollType=0){this.modifiedEditor.revealLinesNearTop(startLineNumber,endLineNumber,scrollType)}revealRange(range,scrollType=0,revealVerticalInCenter=!1,revealHorizontal=!0){this.modifiedEditor.revealRange(range,scrollType,revealVerticalInCenter,revealHorizontal)}revealRangeInCenter(range,scrollType=0){this.modifiedEditor.revealRangeInCenter(range,scrollType)}revealRangeInCenterIfOutsideViewport(range,scrollType=0){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(range,scrollType)}revealRangeNearTop(range,scrollType=0){this.modifiedEditor.revealRangeNearTop(range,scrollType)}revealRangeNearTopIfOutsideViewport(range,scrollType=0){this.modifiedEditor.revealRangeNearTopIfOutsideViewport(range,scrollType)}revealRangeAtTop(range,scrollType=0){this.modifiedEditor.revealRangeAtTop(range,scrollType)}getSupportedActions(){return this.modifiedEditor.getSupportedActions()}saveViewState(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}}restoreViewState(s){if(s.original&&s.modified){let diffEditorState=s;this.originalEditor.restoreViewState(diffEditorState.original),this.modifiedEditor.restoreViewState(diffEditorState.modified)}}layout(dimension){this._elementSizeObserver.observe(dimension)}focus(){this.modifiedEditor.focus()}hasTextFocus(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()}trigger(source,handlerId,payload){this.modifiedEditor.trigger(source,handlerId,payload)}changeDecorations(callback){return this.modifiedEditor.changeDecorations(callback)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const height=this._elementSizeObserver.getHeight(),reviewHeight=this._getReviewHeight();let freeSpace=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH-2*DiffEditorWidget.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,right:freeSpace+DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:height-reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:DiffEditorWidget.ONE_OVERVIEW_WIDTH,height:height-reviewHeight}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(a,b){return!a&&!b||!(!a||!b)&&a.toString()===b.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const currentOriginalModel=this.originalEditor.getModel(),currentModifiedModel=this.modifiedEditor.getModel();if(!currentOriginalModel||!currentModifiedModel)return;this._diffComputationToken++;let currentToken=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(currentOriginalModel.uri,currentModifiedModel.uri)?this._editorWorkerService.computeDiff(currentOriginalModel.uri,currentModifiedModel.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(result=>{currentToken===this._diffComputationToken&&currentOriginalModel===this.originalEditor.getModel()&&currentModifiedModel===this.modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=result,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},error=>{currentToken===this._diffComputationToken&&currentOriginalModel===this.originalEditor.getModel()&&currentModifiedModel===this.modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}):DiffEditorWidget._equals(currentOriginalModel.uri,this._lastOriginalWarning)&&DiffEditorWidget._equals(currentModifiedModel.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=currentOriginalModel.uri,this._lastModifiedWarning=currentModifiedModel.uri,this._notificationService.warn(nls.a("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)}_updateDecorations(){if(!(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler))return;const lineChanges=this._diffComputationResult?this._diffComputationResult.changes:[];let foreignOriginal=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),foreignModified=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),diffDecorations=this._strategy.getEditorsDiffDecorations(lineChanges,this._ignoreTrimWhitespace,this._renderIndicators,foreignOriginal,foreignModified,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,diffDecorations.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,diffDecorations.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(options){let clonedOptions=objects.c(options||{});return clonedOptions.inDiffEditor=!0,clonedOptions.wordWrap="off",clonedOptions.wordWrapMinified=!1,clonedOptions.automaticLayout=!1,clonedOptions.scrollbar=clonedOptions.scrollbar||{},clonedOptions.scrollbar.vertical="visible",clonedOptions.folding=!1,clonedOptions.codeLens=!1,clonedOptions.fixedOverflowWidgets=!0,clonedOptions.overflowWidgetsDomNode=options.overflowWidgetsDomNode,clonedOptions.minimap||(clonedOptions.minimap={}),clonedOptions.minimap.enabled=!1,clonedOptions}_adjustOptionsForLeftHandSide(options,isEditable,isCodeLensEnabled){let result=this._adjustOptionsForSubEditor(options);return isCodeLensEnabled&&(result.codeLens=!0),result.readOnly=!isEditable,result.extraEditorClassName="original-in-monaco-diff-editor",result}_adjustOptionsForRightHandSide(options,isCodeLensEnabled){let result=this._adjustOptionsForSubEditor(options);return isCodeLensEnabled&&(result.codeLens=!0),result.revealHorizontalRightPadding=editorOptions.g.revealHorizontalRightPadding.defaultValue+DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,result.scrollbar.verticalHasArrows=!1,result.extraEditorClassName="modified-in-monaco-diff-editor",result}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const width=this._elementSizeObserver.getWidth(),height=this._elementSizeObserver.getHeight(),reviewHeight=this._getReviewHeight();let splitPoint=this._strategy.layout();this._originalDomNode.style.width=splitPoint+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=width-splitPoint+"px",this._modifiedDomNode.style.left=splitPoint+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=height-reviewHeight+"px",this._overviewDomElement.style.width=DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=width-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:splitPoint,height:height-reviewHeight}),this.modifiedEditor.layout({width:width-splitPoint-DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,height:height-reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(height-reviewHeight,width,reviewHeight),this._layoutOverviewViewport()}_layoutOverviewViewport(){let layout=this._computeOverviewViewport();layout?(this._overviewViewportDomElement.setTop(layout.top),this._overviewViewportDomElement.setHeight(layout.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let layoutInfo=this.modifiedEditor.getLayoutInfo();if(!layoutInfo)return null;let scrollTop=this.modifiedEditor.getScrollTop(),scrollHeight=this.modifiedEditor.getScrollHeight(),computedAvailableSize=Math.max(0,layoutInfo.height),computedRepresentableSize=Math.max(0,computedAvailableSize-0),computedRatio=scrollHeight>0?computedRepresentableSize/scrollHeight:0;return{height:Math.max(0,Math.floor(layoutInfo.height*computedRatio)),top:Math.floor(scrollTop*computedRatio)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this.originalEditor,getModifiedEditor:()=>this.modifiedEditor}}_setStrategy(newStrategy){this._strategy&&this._strategy.dispose(),this._strategy=newStrategy,newStrategy.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(lineNumber,startLineNumberExtractor){const lineChanges=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===lineChanges.length||lineNumber<startLineNumberExtractor(lineChanges[0]))return null;let min=0,max=lineChanges.length-1;for(;min<max;){let mid=Math.floor((min+max)/2),midStart=startLineNumberExtractor(lineChanges[mid]),midEnd=mid+1<=max?startLineNumberExtractor(lineChanges[mid+1]):1073741824;lineNumber<midStart?max=mid-1:lineNumber>=midEnd?min=mid+1:(min=mid,max=mid)}return lineChanges[min]}_getEquivalentLineForOriginalLineNumber(lineNumber){let lineChange=this._getLineChangeAtOrBeforeLineNumber(lineNumber,lineChange=>lineChange.originalStartLineNumber);if(!lineChange)return lineNumber;let originalEquivalentLineNumber=lineChange.originalStartLineNumber+(lineChange.originalEndLineNumber>0?-1:0),modifiedEquivalentLineNumber=lineChange.modifiedStartLineNumber+(lineChange.modifiedEndLineNumber>0?-1:0),lineChangeOriginalLength=lineChange.originalEndLineNumber>0?lineChange.originalEndLineNumber-lineChange.originalStartLineNumber+1:0,lineChangeModifiedLength=lineChange.modifiedEndLineNumber>0?lineChange.modifiedEndLineNumber-lineChange.modifiedStartLineNumber+1:0,delta=lineNumber-originalEquivalentLineNumber;return delta<=lineChangeOriginalLength?modifiedEquivalentLineNumber+Math.min(delta,lineChangeModifiedLength):modifiedEquivalentLineNumber+lineChangeModifiedLength-lineChangeOriginalLength+delta}_getEquivalentLineForModifiedLineNumber(lineNumber){let lineChange=this._getLineChangeAtOrBeforeLineNumber(lineNumber,lineChange=>lineChange.modifiedStartLineNumber);if(!lineChange)return lineNumber;let originalEquivalentLineNumber=lineChange.originalStartLineNumber+(lineChange.originalEndLineNumber>0?-1:0),modifiedEquivalentLineNumber=lineChange.modifiedStartLineNumber+(lineChange.modifiedEndLineNumber>0?-1:0),lineChangeOriginalLength=lineChange.originalEndLineNumber>0?lineChange.originalEndLineNumber-lineChange.originalStartLineNumber+1:0,lineChangeModifiedLength=lineChange.modifiedEndLineNumber>0?lineChange.modifiedEndLineNumber-lineChange.modifiedStartLineNumber+1:0,delta=lineNumber-modifiedEquivalentLineNumber;return delta<=lineChangeModifiedLength?originalEquivalentLineNumber+Math.min(delta,lineChangeOriginalLength):originalEquivalentLineNumber+lineChangeOriginalLength-lineChangeModifiedLength+delta}getDiffLineInformationForOriginal(lineNumber){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(lineNumber)}:null}getDiffLineInformationForModified(lineNumber){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(lineNumber)}:null}};diffEditorWidget_DiffEditorWidget.ONE_OVERVIEW_WIDTH=15,diffEditorWidget_DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH=30,diffEditorWidget_DiffEditorWidget.UPDATE_DIFF_DECORATIONS_DELAY=200,diffEditorWidget_DiffEditorWidget=diffEditorWidget_decorate([diffEditorWidget_param(2,common_clipboardService.a),diffEditorWidget_param(3,services_editorWorkerService.a),diffEditorWidget_param(4,contextkey.b),diffEditorWidget_param(5,instantiation.a),diffEditorWidget_param(6,services_codeEditorService.a),diffEditorWidget_param(7,common_themeService.c),diffEditorWidget_param(8,common_notification.a),diffEditorWidget_param(9,contextView.a),diffEditorWidget_param(10,progress.a)],diffEditorWidget_DiffEditorWidget);class diffEditorWidget_DiffEditorWidgetStyle extends lifecycle.a{constructor(dataSource){super(),this._dataSource=dataSource,this._insertColor=null,this._removeColor=null}applyColors(theme){let newInsertColor=(theme.getColor(colorRegistry.n)||colorRegistry.j).transparent(2),newRemoveColor=(theme.getColor(colorRegistry.p)||colorRegistry.k).transparent(2),hasChanges=!newInsertColor.equals(this._insertColor)||!newRemoveColor.equals(this._removeColor);return this._insertColor=newInsertColor,this._removeColor=newRemoveColor,hasChanges}getEditorsDiffDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalWhitespaces,modifiedWhitespaces,originalEditor,modifiedEditor){modifiedWhitespaces=modifiedWhitespaces.sort((a,b)=>a.afterLineNumber-b.afterLineNumber),originalWhitespaces=originalWhitespaces.sort((a,b)=>a.afterLineNumber-b.afterLineNumber);let zones=this._getViewZones(lineChanges,originalWhitespaces,modifiedWhitespaces,originalEditor,modifiedEditor,renderIndicators),originalDecorations=this._getOriginalEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor),modifiedDecorations=this._getModifiedEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor);return{original:{decorations:originalDecorations.decorations,overviewZones:originalDecorations.overviewZones,zones:zones.original},modified:{decorations:modifiedDecorations.decorations,overviewZones:modifiedDecorations.overviewZones,zones:zones.modified}}}}class ForeignViewZonesIterator{constructor(source){this._source=source,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ViewZonesComputer{constructor(lineChanges,originalForeignVZ,originalLineHeight,modifiedForeignVZ,modifiedLineHeight){this.lineChanges=lineChanges,this.originalForeignVZ=originalForeignVZ,this.originalLineHeight=originalLineHeight,this.modifiedForeignVZ=modifiedForeignVZ,this.modifiedLineHeight=modifiedLineHeight}getViewZones(){let result_original=[],result_modified=[],lineChangeModifiedLength=0,lineChangeOriginalLength=0,originalEquivalentLineNumber=0,modifiedEquivalentLineNumber=0,originalEndEquivalentLineNumber=0,modifiedEndEquivalentLineNumber=0,sortMyViewZones=(a,b)=>a.afterLineNumber-b.afterLineNumber,addAndCombineIfPossible=(destination,item)=>{if(null===item.domNode&&destination.length>0){let lastItem=destination[destination.length-1];if(lastItem.afterLineNumber===item.afterLineNumber&&null===lastItem.domNode)return void(lastItem.heightInLines+=item.heightInLines)}destination.push(item)},modifiedForeignVZ=new ForeignViewZonesIterator(this.modifiedForeignVZ),originalForeignVZ=new ForeignViewZonesIterator(this.originalForeignVZ);for(let i=0,length=this.lineChanges.length;i<=length;i++){let lineChange=i<length?this.lineChanges[i]:null;null!==lineChange?(originalEquivalentLineNumber=lineChange.originalStartLineNumber+(lineChange.originalEndLineNumber>0?-1:0),modifiedEquivalentLineNumber=lineChange.modifiedStartLineNumber+(lineChange.modifiedEndLineNumber>0?-1:0),lineChangeOriginalLength=lineChange.originalEndLineNumber>0?lineChange.originalEndLineNumber-lineChange.originalStartLineNumber+1:0,lineChangeModifiedLength=lineChange.modifiedEndLineNumber>0?lineChange.modifiedEndLineNumber-lineChange.modifiedStartLineNumber+1:0,originalEndEquivalentLineNumber=Math.max(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber),modifiedEndEquivalentLineNumber=Math.max(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber)):(originalEndEquivalentLineNumber=originalEquivalentLineNumber+=1e7+lineChangeOriginalLength,modifiedEndEquivalentLineNumber=modifiedEquivalentLineNumber+=1e7+lineChangeModifiedLength);let stepOriginal=[],stepModified=[];for(;modifiedForeignVZ.current&&modifiedForeignVZ.current.afterLineNumber<=modifiedEndEquivalentLineNumber;){let viewZoneLineNumber;viewZoneLineNumber=modifiedForeignVZ.current.afterLineNumber<=modifiedEquivalentLineNumber?originalEquivalentLineNumber-modifiedEquivalentLineNumber+modifiedForeignVZ.current.afterLineNumber:originalEndEquivalentLineNumber;let marginDomNode=null;lineChange&&lineChange.modifiedStartLineNumber<=modifiedForeignVZ.current.afterLineNumber&&modifiedForeignVZ.current.afterLineNumber<=lineChange.modifiedEndLineNumber&&(marginDomNode=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),stepOriginal.push({afterLineNumber:viewZoneLineNumber,heightInLines:modifiedForeignVZ.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:marginDomNode}),modifiedForeignVZ.advance()}for(;originalForeignVZ.current&&originalForeignVZ.current.afterLineNumber<=originalEndEquivalentLineNumber;){let viewZoneLineNumber;viewZoneLineNumber=originalForeignVZ.current.afterLineNumber<=originalEquivalentLineNumber?modifiedEquivalentLineNumber-originalEquivalentLineNumber+originalForeignVZ.current.afterLineNumber:modifiedEndEquivalentLineNumber,stepModified.push({afterLineNumber:viewZoneLineNumber,heightInLines:originalForeignVZ.current.height/this.originalLineHeight,domNode:null}),originalForeignVZ.advance()}if(null!==lineChange&&isChangeOrInsert(lineChange)){let r=this._produceOriginalFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength);r&&stepOriginal.push(r)}if(null!==lineChange&&isChangeOrDelete(lineChange)){let r=this._produceModifiedFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength);r&&stepModified.push(r)}let stepOriginalIndex=0,stepModifiedIndex=0;for(stepOriginal=stepOriginal.sort(sortMyViewZones),stepModified=stepModified.sort(sortMyViewZones);stepOriginalIndex<stepOriginal.length&&stepModifiedIndex<stepModified.length;){let original=stepOriginal[stepOriginalIndex],modified=stepModified[stepModifiedIndex],originalDelta=original.afterLineNumber-originalEquivalentLineNumber,modifiedDelta=modified.afterLineNumber-modifiedEquivalentLineNumber;originalDelta<modifiedDelta?(addAndCombineIfPossible(result_original,original),stepOriginalIndex++):modifiedDelta<originalDelta?(addAndCombineIfPossible(result_modified,modified),stepModifiedIndex++):original.shouldNotShrink?(addAndCombineIfPossible(result_original,original),stepOriginalIndex++):modified.shouldNotShrink?(addAndCombineIfPossible(result_modified,modified),stepModifiedIndex++):original.heightInLines>=modified.heightInLines?(original.heightInLines-=modified.heightInLines,stepModifiedIndex++):(modified.heightInLines-=original.heightInLines,stepOriginalIndex++)}for(;stepOriginalIndex<stepOriginal.length;)addAndCombineIfPossible(result_original,stepOriginal[stepOriginalIndex]),stepOriginalIndex++;for(;stepModifiedIndex<stepModified.length;)addAndCombineIfPossible(result_modified,stepModified[stepModifiedIndex]),stepModifiedIndex++}return{original:ViewZonesComputer._ensureDomNodes(result_original),modified:ViewZonesComputer._ensureDomNodes(result_modified)}}static _ensureDomNodes(zones){return zones.map(z=>(z.domNode||(z.domNode=function createFakeLinesDiv(){let r=document.createElement("div");return r.className="diagonal-fill",r}()),z))}}function createDecoration(startLineNumber,startColumn,endLineNumber,endColumn,options){return{range:new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn),options:options}}const DECORATIONS={charDelete:textModel.a.register({className:"char-delete"}),charDeleteWholeLine:textModel.a.register({className:"char-delete",isWholeLine:!0}),charInsert:textModel.a.register({className:"char-insert"}),charInsertWholeLine:textModel.a.register({className:"char-insert",isWholeLine:!0}),lineInsert:textModel.a.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:textModel.a.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+diffInsertIcon.classNames,marginClassName:"line-insert",isWholeLine:!0}),lineDelete:textModel.a.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:textModel.a.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+diffRemoveIcon.classNames,marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:textModel.a.register({marginClassName:"line-delete"})};class diffEditorWidget_DiffEditorWidgetSideBySide extends diffEditorWidget_DiffEditorWidgetStyle{constructor(dataSource,enableSplitViewResizing){super(dataSource),this._disableSash=!1===enableSplitViewResizing,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new sash.a(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this.onSashDragStart()),this._sash.onDidChange(e=>this.onSashDrag(e)),this._sash.onDidEnd(()=>this.onSashDragEnd()),this._sash.onDidReset(()=>this.onSashReset())}setEnableSplitViewResizing(enableSplitViewResizing){let newDisableSash=!1===enableSplitViewResizing;this._disableSash!==newDisableSash&&(this._disableSash=newDisableSash,this._sash.state=this._disableSash?0:3)}layout(sashRatio=this._sashRatio){let contentWidth=this._dataSource.getWidth()-diffEditorWidget_DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,sashPosition=Math.floor((sashRatio||.5)*contentWidth),midPoint=Math.floor(.5*contentWidth);return sashPosition=this._disableSash?midPoint:sashPosition||midPoint,contentWidth>2*diffEditorWidget_DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH?(sashPosition<diffEditorWidget_DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(sashPosition=diffEditorWidget_DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH),sashPosition>contentWidth-diffEditorWidget_DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH&&(sashPosition=contentWidth-diffEditorWidget_DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH)):sashPosition=midPoint,this._sashPosition!==sashPosition&&(this._sashPosition=sashPosition,this._sash.layout()),this._sashPosition}onSashDragStart(){this._startSashPosition=this._sashPosition}onSashDrag(e){let contentWidth=this._dataSource.getWidth()-diffEditorWidget_DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH,sashPosition=this.layout((this._startSashPosition+(e.currentX-e.startX))/contentWidth);this._sashRatio=sashPosition/contentWidth,this._dataSource.relayoutEditors()}onSashDragEnd(){this._sash.layout()}onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(sash){return 0}getVerticalSashLeft(sash){return this._sashPosition}getVerticalSashHeight(sash){return this._dataSource.getHeight()}_getViewZones(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor){return new SideBySideViewZonesComputer(lineChanges,originalForeignVZ,originalEditor.getOption(51),modifiedForeignVZ,modifiedEditor.getOption(51)).getViewZones()}_getOriginalEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){const overviewZoneColor=String(this._removeColor);let result={decorations:[],overviewZones:[]},originalModel=originalEditor.getModel();for(let i=0,length=lineChanges.length;i<length;i++){let lineChange=lineChanges[i];if(isChangeOrDelete(lineChange)&&(result.decorations.push({range:new core_range.a(lineChange.originalStartLineNumber,1,lineChange.originalEndLineNumber,1073741824),options:renderIndicators?DECORATIONS.lineDeleteWithSign:DECORATIONS.lineDelete}),isChangeOrInsert(lineChange)&&lineChange.charChanges||result.decorations.push(createDecoration(lineChange.originalStartLineNumber,1,lineChange.originalEndLineNumber,1073741824,DECORATIONS.charDeleteWholeLine)),result.overviewZones.push(new overviewZoneManager.a(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber,overviewZoneColor)),lineChange.charChanges))for(let j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){let charChange=lineChange.charChanges[j];if(isChangeOrDelete(charChange))if(ignoreTrimWhitespace)for(let lineNumber=charChange.originalStartLineNumber;lineNumber<=charChange.originalEndLineNumber;lineNumber++){let startColumn,endColumn;startColumn=lineNumber===charChange.originalStartLineNumber?charChange.originalStartColumn:originalModel.getLineFirstNonWhitespaceColumn(lineNumber),endColumn=lineNumber===charChange.originalEndLineNumber?charChange.originalEndColumn:originalModel.getLineLastNonWhitespaceColumn(lineNumber),result.decorations.push(createDecoration(lineNumber,startColumn,lineNumber,endColumn,DECORATIONS.charDelete))}else result.decorations.push(createDecoration(charChange.originalStartLineNumber,charChange.originalStartColumn,charChange.originalEndLineNumber,charChange.originalEndColumn,DECORATIONS.charDelete))}}return result}_getModifiedEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){const overviewZoneColor=String(this._insertColor);let result={decorations:[],overviewZones:[]},modifiedModel=modifiedEditor.getModel();for(let i=0,length=lineChanges.length;i<length;i++){let lineChange=lineChanges[i];if(isChangeOrInsert(lineChange)&&(result.decorations.push({range:new core_range.a(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824),options:renderIndicators?DECORATIONS.lineInsertWithSign:DECORATIONS.lineInsert}),isChangeOrDelete(lineChange)&&lineChange.charChanges||result.decorations.push(createDecoration(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824,DECORATIONS.charInsertWholeLine)),result.overviewZones.push(new overviewZoneManager.a(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber,overviewZoneColor)),lineChange.charChanges))for(let j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){let charChange=lineChange.charChanges[j];if(isChangeOrInsert(charChange))if(ignoreTrimWhitespace)for(let lineNumber=charChange.modifiedStartLineNumber;lineNumber<=charChange.modifiedEndLineNumber;lineNumber++){let startColumn,endColumn;startColumn=lineNumber===charChange.modifiedStartLineNumber?charChange.modifiedStartColumn:modifiedModel.getLineFirstNonWhitespaceColumn(lineNumber),endColumn=lineNumber===charChange.modifiedEndLineNumber?charChange.modifiedEndColumn:modifiedModel.getLineLastNonWhitespaceColumn(lineNumber),result.decorations.push(createDecoration(lineNumber,startColumn,lineNumber,endColumn,DECORATIONS.charInsert))}else result.decorations.push(createDecoration(charChange.modifiedStartLineNumber,charChange.modifiedStartColumn,charChange.modifiedEndLineNumber,charChange.modifiedEndColumn,DECORATIONS.charInsert))}}return result}}diffEditorWidget_DiffEditorWidgetSideBySide.MINIMUM_EDITOR_WIDTH=100;class SideBySideViewZonesComputer extends ViewZonesComputer{constructor(lineChanges,originalForeignVZ,originalLineHeight,modifiedForeignVZ,modifiedLineHeight){super(lineChanges,originalForeignVZ,originalLineHeight,modifiedForeignVZ,modifiedLineHeight)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){return lineChangeModifiedLength>lineChangeOriginalLength?{afterLineNumber:Math.max(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber),heightInLines:lineChangeModifiedLength-lineChangeOriginalLength,domNode:null}:null}_produceModifiedFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){return lineChangeOriginalLength>lineChangeModifiedLength?{afterLineNumber:Math.max(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber),heightInLines:lineChangeOriginalLength-lineChangeModifiedLength,domNode:null}:null}}class diffEditorWidget_DiffEditorWidgetInline extends diffEditorWidget_DiffEditorWidgetStyle{constructor(dataSource,enableSplitViewResizing){super(dataSource),this.decorationsLeft=dataSource.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(dataSource.getOriginalEditor().onDidLayoutChange(layoutInfo=>{this.decorationsLeft!==layoutInfo.decorationsLeft&&(this.decorationsLeft=layoutInfo.decorationsLeft,dataSource.relayoutEditors())}))}setEnableSplitViewResizing(enableSplitViewResizing){}_getViewZones(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor,renderIndicators){return new diffEditorWidget_InlineViewZonesComputer(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor,renderIndicators).getViewZones()}_getOriginalEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){const overviewZoneColor=String(this._removeColor);let result={decorations:[],overviewZones:[]};for(let i=0,length=lineChanges.length;i<length;i++){let lineChange=lineChanges[i];isChangeOrDelete(lineChange)&&(result.decorations.push({range:new core_range.a(lineChange.originalStartLineNumber,1,lineChange.originalEndLineNumber,1073741824),options:DECORATIONS.lineDeleteMargin}),result.overviewZones.push(new overviewZoneManager.a(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber,overviewZoneColor)))}return result}_getModifiedEditorDecorations(lineChanges,ignoreTrimWhitespace,renderIndicators,originalEditor,modifiedEditor){const overviewZoneColor=String(this._insertColor);let result={decorations:[],overviewZones:[]},modifiedModel=modifiedEditor.getModel();for(let i=0,length=lineChanges.length;i<length;i++){let lineChange=lineChanges[i];if(isChangeOrInsert(lineChange))if(result.decorations.push({range:new core_range.a(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824),options:renderIndicators?DECORATIONS.lineInsertWithSign:DECORATIONS.lineInsert}),result.overviewZones.push(new overviewZoneManager.a(lineChange.modifiedStartLineNumber,lineChange.modifiedEndLineNumber,overviewZoneColor)),lineChange.charChanges)for(let j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){let charChange=lineChange.charChanges[j];if(isChangeOrInsert(charChange))if(ignoreTrimWhitespace)for(let lineNumber=charChange.modifiedStartLineNumber;lineNumber<=charChange.modifiedEndLineNumber;lineNumber++){let startColumn,endColumn;startColumn=lineNumber===charChange.modifiedStartLineNumber?charChange.modifiedStartColumn:modifiedModel.getLineFirstNonWhitespaceColumn(lineNumber),endColumn=lineNumber===charChange.modifiedEndLineNumber?charChange.modifiedEndColumn:modifiedModel.getLineLastNonWhitespaceColumn(lineNumber),result.decorations.push(createDecoration(lineNumber,startColumn,lineNumber,endColumn,DECORATIONS.charInsert))}else result.decorations.push(createDecoration(charChange.modifiedStartLineNumber,charChange.modifiedStartColumn,charChange.modifiedEndLineNumber,charChange.modifiedEndColumn,DECORATIONS.charInsert))}else result.decorations.push(createDecoration(lineChange.modifiedStartLineNumber,1,lineChange.modifiedEndLineNumber,1073741824,DECORATIONS.charInsertWholeLine))}return result}layout(){return Math.max(5,this.decorationsLeft)}}class diffEditorWidget_InlineViewZonesComputer extends ViewZonesComputer{constructor(lineChanges,originalForeignVZ,modifiedForeignVZ,originalEditor,modifiedEditor,renderIndicators){super(lineChanges,originalForeignVZ,originalEditor.getOption(51),modifiedForeignVZ,modifiedEditor.getOption(51)),this.originalModel=originalEditor.getModel(),this.modifiedEditorOptions=modifiedEditor.getOptions(),this.modifiedEditorTabSize=modifiedEditor.getModel().getOptions().tabSize,this.renderIndicators=renderIndicators}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let result=document.createElement("div");return result.className="inline-added-margin-view-zone",result}_produceOriginalFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){let marginDomNode=document.createElement("div");return marginDomNode.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(lineChange.originalStartLineNumber,lineChange.originalEndLineNumber),heightInLines:lineChangeModifiedLength,domNode:document.createElement("div"),marginDomNode:marginDomNode}}_produceModifiedFromDiff(lineChange,lineChangeOriginalLength,lineChangeModifiedLength){let decorations=[];if(lineChange.charChanges)for(let j=0,lengthJ=lineChange.charChanges.length;j<lengthJ;j++){let charChange=lineChange.charChanges[j];isChangeOrDelete(charChange)&&decorations.push(new viewModel.a(new core_range.a(charChange.originalStartLineNumber,charChange.originalStartColumn,charChange.originalEndLineNumber,charChange.originalEndColumn),"char-delete",0))}let sb=Object(stringBuilder.a)(1e4),marginHTML=[];const layoutInfo=this.modifiedEditorOptions.get(117),fontInfo=this.modifiedEditorOptions.get(36),lineDecorationsWidth=layoutInfo.decorationsWidth;let lineHeight=this.modifiedEditorOptions.get(51);const typicalHalfwidthCharacterWidth=fontInfo.typicalHalfwidthCharacterWidth;let maxCharsPerLine=0;const originalContent=[];for(let lineNumber=lineChange.originalStartLineNumber;lineNumber<=lineChange.originalEndLineNumber;lineNumber++)if(maxCharsPerLine=Math.max(maxCharsPerLine,this._renderOriginalLine(lineNumber-lineChange.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,lineNumber,decorations,sb)),originalContent.push(this.originalModel.getLineContent(lineNumber)),this.renderIndicators){let index=lineNumber-lineChange.originalStartLineNumber;marginHTML=marginHTML.concat([`<div class="delete-sign ${diffRemoveIcon.classNames}" style="position:absolute;top:${index*lineHeight}px;width:${lineDecorationsWidth}px;height:${lineHeight}px;right:0;"></div>`])}maxCharsPerLine+=this.modifiedEditorOptions.get(85);let domNode=document.createElement("div");domNode.className=`view-lines line-delete ${mouseCursor.a}`,domNode.innerHTML=sb.build(),config_configuration.a.applyFontInfoSlow(domNode,fontInfo);let marginDomNode=document.createElement("div");return marginDomNode.className="inline-deleted-margin-view-zone",marginDomNode.innerHTML=marginHTML.join(""),config_configuration.a.applyFontInfoSlow(marginDomNode,fontInfo),{shouldNotShrink:!0,afterLineNumber:0===lineChange.modifiedEndLineNumber?lineChange.modifiedStartLineNumber:lineChange.modifiedStartLineNumber-1,heightInLines:lineChangeOriginalLength,minWidthInPx:maxCharsPerLine*typicalHalfwidthCharacterWidth,domNode:domNode,marginDomNode:marginDomNode,diff:{originalStartLineNumber:lineChange.originalStartLineNumber,originalEndLineNumber:lineChange.originalEndLineNumber,modifiedStartLineNumber:lineChange.modifiedStartLineNumber,modifiedEndLineNumber:lineChange.modifiedEndLineNumber,originalContent:originalContent}}}_renderOriginalLine(count,originalModel,options,tabSize,lineNumber,decorations,sb){const lineTokens=originalModel.getLineTokens(lineNumber),lineContent=lineTokens.getLineContent(),fontInfo=options.get(36),actualDecorations=lineDecorations.a.filter(decorations,lineNumber,1,lineContent.length+1);sb.appendASCIIString('<div class="view-line'),0===decorations.length&&sb.appendASCIIString(" char-delete"),sb.appendASCIIString('" style="top:'),sb.appendASCIIString(String(count*options.get(51))),sb.appendASCIIString('px;width:1000000px;">');const isBasicASCII=viewModel.d.isBasicASCII(lineContent,originalModel.mightContainNonBasicASCII()),containsRTL=viewModel.d.containsRTL(lineContent,isBasicASCII,originalModel.mightContainRTL()),output=Object(viewLineRenderer.d)(new viewLineRenderer.c(fontInfo.isMonospace&&!options.get(24),fontInfo.canUseHalfwidthRightwardsArrow,lineContent,!1,isBasicASCII,containsRTL,0,lineTokens,actualDecorations,tabSize,0,fontInfo.spaceWidth,fontInfo.middotWidth,fontInfo.wsmiddotWidth,options.get(95),options.get(80),options.get(74),options.get(37)!==editorOptions.e.OFF,null),sb);sb.appendASCIIString("</div>");const absoluteOffsets=output.characterMapping.getAbsoluteOffsets();return absoluteOffsets.length>0?absoluteOffsets[absoluteOffsets.length-1]:0}}function isChangeOrInsert(lineChange){return lineChange.modifiedEndLineNumber>0}function isChangeOrDelete(lineChange){return lineChange.originalEndLineNumber>0}Object(common_themeService.g)((theme,collector)=>{const added=theme.getColor(colorRegistry.n);added&&(collector.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${added}; }`),collector.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${added}; }`),collector.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${added}; }`));const removed=theme.getColor(colorRegistry.p);removed&&(collector.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${removed}; }`),collector.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${removed}; }`),collector.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${removed}; }`));const addedOutline=theme.getColor(colorRegistry.o);addedOutline&&collector.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===theme.type?"dashed":"solid"} ${addedOutline}; }`);const removedOutline=theme.getColor(colorRegistry.q);removedOutline&&collector.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===theme.type?"dashed":"solid"} ${removedOutline}; }`);const shadow=theme.getColor(colorRegistry.ic);shadow&&collector.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${shadow}; }`);const border=theme.getColor(colorRegistry.l);border&&collector.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${border}; }`);const scrollbarSliderBackgroundColor=theme.getColor(colorRegistry.kc);scrollbarSliderBackgroundColor&&collector.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${scrollbarSliderBackgroundColor};\n\t\t\t}\n\t\t`);const scrollbarSliderHoverBackgroundColor=theme.getColor(colorRegistry.lc);scrollbarSliderHoverBackgroundColor&&collector.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${scrollbarSliderHoverBackgroundColor};\n\t\t\t}\n\t\t`);const scrollbarSliderActiveBackgroundColor=theme.getColor(colorRegistry.jc);scrollbarSliderActiveBackgroundColor&&collector.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${scrollbarSliderActiveBackgroundColor};\n\t\t\t}\n\t\t`);const diffDiagonalFillColor=theme.getColor(colorRegistry.m);collector.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${diffDiagonalFillColor} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${diffDiagonalFillColor} 50%, ${diffDiagonalFillColor} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});var editorAction=__webpack_require__(2478),common_standaloneThemeService=__webpack_require__(2393),actions_common_actions=__webpack_require__(2323),common_keybinding=__webpack_require__(2325),accessibility=__webpack_require__(2351),standaloneCodeEditor_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},standaloneCodeEditor_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let LAST_GENERATED_COMMAND_ID=0,ariaDomNodeCreated=!1;let standaloneCodeEditor_StandaloneCodeEditor=class StandaloneCodeEditor extends codeEditorWidget.a{constructor(domElement,options,instantiationService,codeEditorService,commandService,contextKeyService,keybindingService,themeService,notificationService,accessibilityService){(options=options||{}).ariaLabel=options.ariaLabel||standaloneStrings.h.editorViewAccessibleLabel,options.ariaLabel=options.ariaLabel+";"+standaloneStrings.h.accessibilityHelpMessage,super(domElement,options,{},instantiationService,codeEditorService,commandService,contextKeyService,themeService,notificationService,accessibilityService),this._standaloneKeybindingService=keybindingService instanceof simpleServices_StandaloneKeybindingService?keybindingService:null,function createAriaDomNode(){ariaDomNodeCreated||(ariaDomNodeCreated=!0,aria.b(document.body))}()}addCommand(keybinding,handler,context){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let commandId="DYNAMIC_"+ ++LAST_GENERATED_COMMAND_ID,whenExpression=contextkey.a.deserialize(context);return this._standaloneKeybindingService.addDynamicKeybinding(commandId,keybinding,handler,whenExpression),commandId}createContextKey(key,defaultValue){return this._contextKeyService.createKey(key,defaultValue)}addAction(_descriptor){if("string"!=typeof _descriptor.id||"string"!=typeof _descriptor.label||"function"!=typeof _descriptor.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),lifecycle.a.None;const id=_descriptor.id,label=_descriptor.label,precondition=contextkey.a.and(contextkey.a.equals("editorId",this.getId()),contextkey.a.deserialize(_descriptor.precondition)),keybindings=_descriptor.keybindings,keybindingsWhen=contextkey.a.and(precondition,contextkey.a.deserialize(_descriptor.keybindingContext)),contextMenuGroupId=_descriptor.contextMenuGroupId||null,contextMenuOrder=_descriptor.contextMenuOrder||0,run=(accessor,...args)=>Promise.resolve(_descriptor.run(this,...args)),toDispose=new lifecycle.b,uniqueId=this.getId()+":"+id;if(toDispose.add(commands.a.registerCommand(uniqueId,run)),contextMenuGroupId){let menuItem={command:{id:uniqueId,title:label},when:precondition,group:contextMenuGroupId,order:contextMenuOrder};toDispose.add(actions_common_actions.d.appendMenuItem(actions_common_actions.b.EditorContext,menuItem))}if(Array.isArray(keybindings))for(const kb of keybindings)toDispose.add(this._standaloneKeybindingService.addDynamicKeybinding(uniqueId,kb,run,keybindingsWhen));let internalAction=new editorAction.a(uniqueId,label,label,precondition,run,this._contextKeyService);return this._actions[id]=internalAction,toDispose.add(Object(lifecycle.h)(()=>{delete this._actions[id]})),toDispose}};standaloneCodeEditor_StandaloneCodeEditor=standaloneCodeEditor_decorate([standaloneCodeEditor_param(2,instantiation.a),standaloneCodeEditor_param(3,services_codeEditorService.a),standaloneCodeEditor_param(4,commands.b),standaloneCodeEditor_param(5,contextkey.b),standaloneCodeEditor_param(6,common_keybinding.a),standaloneCodeEditor_param(7,common_themeService.c),standaloneCodeEditor_param(8,common_notification.a),standaloneCodeEditor_param(9,accessibility.b)],standaloneCodeEditor_StandaloneCodeEditor);let standaloneCodeEditor_StandaloneEditor=class StandaloneEditor extends standaloneCodeEditor_StandaloneCodeEditor{constructor(domElement,options,toDispose,instantiationService,codeEditorService,commandService,contextKeyService,keybindingService,contextViewService,themeService,notificationService,configurationService,accessibilityService){applyConfigurationValues(configurationService,options,!1);const themeDomRegistration=themeService.registerEditorContainer(domElement);"string"==typeof(options=options||{}).theme&&themeService.setTheme(options.theme);let model,_model=options.model;if(delete options.model,super(domElement,options,instantiationService,codeEditorService,commandService,contextKeyService,keybindingService,themeService,notificationService,accessibilityService),this._contextViewService=contextViewService,this._configurationService=configurationService,this._standaloneThemeService=themeService,this._register(toDispose),this._register(themeDomRegistration),void 0===_model?(model=self.monaco.editor.createModel(options.value||"",options.language||"text/plain"),this._ownsModel=!0):(model=_model,this._ownsModel=!1),this._attachModel(model),model){let e={oldModelUrl:null,newModelUrl:model.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(newOptions){applyConfigurationValues(this._configurationService,newOptions,!1),"string"==typeof newOptions.theme&&this._standaloneThemeService.setTheme(newOptions.theme),super.updateOptions(newOptions)}_attachModel(model){super._attachModel(model),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(detachedModel){super._postDetachModelCleanup(detachedModel),detachedModel&&this._ownsModel&&(detachedModel.dispose(),this._ownsModel=!1)}};standaloneCodeEditor_StandaloneEditor=standaloneCodeEditor_decorate([standaloneCodeEditor_param(3,instantiation.a),standaloneCodeEditor_param(4,services_codeEditorService.a),standaloneCodeEditor_param(5,commands.b),standaloneCodeEditor_param(6,contextkey.b),standaloneCodeEditor_param(7,common_keybinding.a),standaloneCodeEditor_param(8,contextView.b),standaloneCodeEditor_param(9,common_standaloneThemeService.a),standaloneCodeEditor_param(10,common_notification.a),standaloneCodeEditor_param(11,common_configuration.a),standaloneCodeEditor_param(12,accessibility.b)],standaloneCodeEditor_StandaloneEditor);let standaloneCodeEditor_StandaloneDiffEditor=class StandaloneDiffEditor extends diffEditorWidget_DiffEditorWidget{constructor(domElement,options,toDispose,instantiationService,contextKeyService,keybindingService,contextViewService,editorWorkerService,codeEditorService,themeService,notificationService,configurationService,contextMenuService,editorProgressService,clipboardService){applyConfigurationValues(configurationService,options,!0);const themeDomRegistration=themeService.registerEditorContainer(domElement);"string"==typeof(options=options||{}).theme&&(options.theme=themeService.setTheme(options.theme)),super(domElement,options,clipboardService,editorWorkerService,contextKeyService,instantiationService,codeEditorService,themeService,notificationService,contextMenuService,editorProgressService),this._contextViewService=contextViewService,this._configurationService=configurationService,this._standaloneThemeService=themeService,this._register(toDispose),this._register(themeDomRegistration),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(newOptions){applyConfigurationValues(this._configurationService,newOptions,!0),"string"==typeof newOptions.theme&&this._standaloneThemeService.setTheme(newOptions.theme),super.updateOptions(newOptions)}_createInnerEditor(instantiationService,container,options){return instantiationService.createInstance(standaloneCodeEditor_StandaloneCodeEditor,container,options)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(keybinding,handler,context){return this.getModifiedEditor().addCommand(keybinding,handler,context)}createContextKey(key,defaultValue){return this.getModifiedEditor().createContextKey(key,defaultValue)}addAction(descriptor){return this.getModifiedEditor().addAction(descriptor)}};standaloneCodeEditor_StandaloneDiffEditor=standaloneCodeEditor_decorate([standaloneCodeEditor_param(3,instantiation.a),standaloneCodeEditor_param(4,contextkey.b),standaloneCodeEditor_param(5,common_keybinding.a),standaloneCodeEditor_param(6,contextView.b),standaloneCodeEditor_param(7,services_editorWorkerService.a),standaloneCodeEditor_param(8,services_codeEditorService.a),standaloneCodeEditor_param(9,common_standaloneThemeService.a),standaloneCodeEditor_param(10,common_notification.a),standaloneCodeEditor_param(11,common_configuration.a),standaloneCodeEditor_param(12,contextView.a),standaloneCodeEditor_param(13,progress.a),standaloneCodeEditor_param(14,common_clipboardService.a)],standaloneCodeEditor_StandaloneDiffEditor);var services_modeService=__webpack_require__(2366);class FrankensteinMode{constructor(languageIdentifier){this._languageIdentifier=languageIdentifier}getId(){return this._languageIdentifier.language}}var common_path=__webpack_require__(2352),glob=__webpack_require__(2465);const MIME_TEXT="text/plain",MIME_UNKNOWN="application/unknown";let registeredAssociations=[],nonUserRegisteredAssociations=[],userRegisteredAssociations=[];function registerTextMime(association,warnOnOverwrite=!1){const associationItem=function toTextMimeAssociationItem(association){return{id:association.id,mime:association.mime,filename:association.filename,extension:association.extension,filepattern:association.filepattern,firstline:association.firstline,userConfigured:association.userConfigured,filenameLowercase:association.filename?association.filename.toLowerCase():void 0,extensionLowercase:association.extension?association.extension.toLowerCase():void 0,filepatternLowercase:association.filepattern?association.filepattern.toLowerCase():void 0,filepatternOnPath:!!association.filepattern&&association.filepattern.indexOf(common_path.e.sep)>=0}}(association);registeredAssociations.push(associationItem),associationItem.userConfigured?userRegisteredAssociations.push(associationItem):nonUserRegisteredAssociations.push(associationItem),warnOnOverwrite&&!associationItem.userConfigured&&registeredAssociations.forEach(a=>{a.mime===associationItem.mime||a.userConfigured||(associationItem.extension&&a.extension===associationItem.extension&&console.warn(`Overwriting extension <<${associationItem.extension}>> to now point to mime <<${associationItem.mime}>>`),associationItem.filename&&a.filename===associationItem.filename&&console.warn(`Overwriting filename <<${associationItem.filename}>> to now point to mime <<${associationItem.mime}>>`),associationItem.filepattern&&a.filepattern===associationItem.filepattern&&console.warn(`Overwriting filepattern <<${associationItem.filepattern}>> to now point to mime <<${associationItem.mime}>>`),associationItem.firstline&&a.firstline===associationItem.firstline&&console.warn(`Overwriting firstline <<${associationItem.firstline}>> to now point to mime <<${associationItem.mime}>>`))})}function guessMimeTypes(resource,firstLine){let path;if(resource)switch(resource.scheme){case network.b.file:path=resource.fsPath;break;case network.b.data:path=common_resources.a.parseMetaData(resource).get(common_resources.a.META_DATA_LABEL);break;default:path=resource.path}if(!path)return[MIME_UNKNOWN];path=path.toLowerCase();const filename=Object(common_path.a)(path),configuredMime=guessMimeTypeByPath(path,filename,userRegisteredAssociations);if(configuredMime)return[configuredMime,MIME_TEXT];const registeredMime=guessMimeTypeByPath(path,filename,nonUserRegisteredAssociations);if(registeredMime)return[registeredMime,MIME_TEXT];if(firstLine){const firstlineMime=function guessMimeTypeByFirstline(firstLine){Object(strings.U)(firstLine)&&(firstLine=firstLine.substr(1));if(firstLine.length>0)for(let i=registeredAssociations.length-1;i>=0;i--){const association=registeredAssociations[i];if(!association.firstline)continue;const matches=firstLine.match(association.firstline);if(matches&&matches.length>0)return association.mime}return null}(firstLine);if(firstlineMime)return[firstlineMime,MIME_TEXT]}return[MIME_UNKNOWN]}function guessMimeTypeByPath(path,filename,associations){let filenameMatch=null,patternMatch=null,extensionMatch=null;for(let i=associations.length-1;i>=0;i--){const association=associations[i];if(filename===association.filenameLowercase){filenameMatch=association;break}if(association.filepattern&&(!patternMatch||association.filepattern.length>patternMatch.filepattern.length)){const target=association.filepatternOnPath?path:filename;Object(glob.a)(association.filepatternLowercase,target)&&(patternMatch=association)}association.extension&&(!extensionMatch||association.extension.length>extensionMatch.extension.length)&&filename.endsWith(association.extensionLowercase)&&(extensionMatch=association)}return filenameMatch?filenameMatch.mime:patternMatch?patternMatch.mime:extensionMatch?extensionMatch.mime:null}var modesRegistry=__webpack_require__(2419),common_platform=__webpack_require__(2324);const languagesRegistry_hasOwnProperty=Object.prototype.hasOwnProperty;class languagesRegistry_LanguagesRegistry extends lifecycle.a{constructor(useModesRegistry=!0,warnOnOverwrite=!1){super(),this._onDidChange=this._register(new common_event.a),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=warnOnOverwrite,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},useModesRegistry&&(this._initializeFromRegistry(),this._register(modesRegistry.a.onDidChangeLanguages(m=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const desc=modesRegistry.a.getLanguages();this._registerLanguages(desc)}_registerLanguages(desc){for(const d of desc)this._registerLanguage(d);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(langId=>{let language=this._languages[langId];language.name&&(this._nameMap[language.name]=language.identifier),language.aliases.forEach(alias=>{this._lowercaseNameMap[alias.toLowerCase()]=language.identifier}),language.mimetypes.forEach(mimetype=>{this._mimeTypesMap[mimetype]=language.identifier})}),common_platform.a.as(configurationRegistry.a.Configuration).registerOverrideIdentifiers(modesRegistry.a.getLanguages().map(language=>language.id)),this._onDidChange.fire()}_getLanguageId(language){if(this._languageToLanguageId[language])return this._languageToLanguageId[language];const languageId=this._nextLanguageId2++;return this._languageIdToLanguage[languageId]=language,this._languageToLanguageId[language]=languageId,languageId}_registerLanguage(lang){const langId=lang.id;let resolvedLanguage;if(languagesRegistry_hasOwnProperty.call(this._languages,langId))resolvedLanguage=this._languages[langId];else{const languageId=this._getLanguageId(langId);resolvedLanguage={identifier:new modes.r(langId,languageId),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[langId]=resolvedLanguage}this._mergeLanguage(resolvedLanguage,lang)}_mergeLanguage(resolvedLanguage,lang){const langId=lang.id;let primaryMime=null;if(Array.isArray(lang.mimetypes)&&lang.mimetypes.length>0&&(resolvedLanguage.mimetypes.push(...lang.mimetypes),primaryMime=lang.mimetypes[0]),primaryMime||(primaryMime=`text/x-${langId}`,resolvedLanguage.mimetypes.push(primaryMime)),Array.isArray(lang.extensions)){lang.configuration?resolvedLanguage.extensions=lang.extensions.concat(resolvedLanguage.extensions):resolvedLanguage.extensions=resolvedLanguage.extensions.concat(lang.extensions);for(let extension of lang.extensions)registerTextMime({id:langId,mime:primaryMime,extension:extension},this._warnOnOverwrite)}if(Array.isArray(lang.filenames))for(let filename of lang.filenames)registerTextMime({id:langId,mime:primaryMime,filename:filename},this._warnOnOverwrite),resolvedLanguage.filenames.push(filename);if(Array.isArray(lang.filenamePatterns))for(let filenamePattern of lang.filenamePatterns)registerTextMime({id:langId,mime:primaryMime,filepattern:filenamePattern},this._warnOnOverwrite);if("string"==typeof lang.firstLine&&lang.firstLine.length>0){let firstLineRegexStr=lang.firstLine;"^"!==firstLineRegexStr.charAt(0)&&(firstLineRegexStr="^"+firstLineRegexStr);try{let firstLineRegex=new RegExp(firstLineRegexStr);strings.P(firstLineRegex)||registerTextMime({id:langId,mime:primaryMime,firstline:firstLineRegex},this._warnOnOverwrite)}catch(err){Object(errors.e)(err)}}resolvedLanguage.aliases.push(langId);let langAliases=null;if(void 0!==lang.aliases&&Array.isArray(lang.aliases)&&(langAliases=0===lang.aliases.length?[null]:lang.aliases),null!==langAliases)for(const langAlias of langAliases)langAlias&&0!==langAlias.length&&resolvedLanguage.aliases.push(langAlias);let containsAliases=null!==langAliases&&langAliases.length>0;if(containsAliases&&null===langAliases[0]);else{let bestName=(containsAliases?langAliases[0]:null)||langId;!containsAliases&&resolvedLanguage.name||(resolvedLanguage.name=bestName)}lang.configuration&&resolvedLanguage.configurationFiles.push(lang.configuration)}isRegisteredMode(mimetypeOrModeId){return!!languagesRegistry_hasOwnProperty.call(this._mimeTypesMap,mimetypeOrModeId)||languagesRegistry_hasOwnProperty.call(this._languages,mimetypeOrModeId)}getModeIdForLanguageNameLowercase(languageNameLower){return languagesRegistry_hasOwnProperty.call(this._lowercaseNameMap,languageNameLower)?this._lowercaseNameMap[languageNameLower].language:null}extractModeIds(commaSeparatedMimetypesOrCommaSeparatedIds){return commaSeparatedMimetypesOrCommaSeparatedIds?commaSeparatedMimetypesOrCommaSeparatedIds.split(",").map(mimeTypeOrId=>mimeTypeOrId.trim()).map(mimeTypeOrId=>languagesRegistry_hasOwnProperty.call(this._mimeTypesMap,mimeTypeOrId)?this._mimeTypesMap[mimeTypeOrId].language:mimeTypeOrId).filter(modeId=>languagesRegistry_hasOwnProperty.call(this._languages,modeId)):[]}getLanguageIdentifier(_modeId){if(_modeId===nullMode.b||0===_modeId)return nullMode.a;let modeId;if("string"==typeof _modeId)modeId=_modeId;else if(!(modeId=this._languageIdToLanguage[_modeId]))return null;return languagesRegistry_hasOwnProperty.call(this._languages,modeId)?this._languages[modeId].identifier:null}getModeIdsFromFilepathOrFirstLine(resource,firstLine){if(!resource&&!firstLine)return[];let mimeTypes=guessMimeTypes(resource,firstLine);return this.extractModeIds(mimeTypes.join(","))}}class modeServiceImpl_LanguageSelection extends lifecycle.a{constructor(onLanguagesMaybeChanged,selector){super(),this._onDidChange=this._register(new common_event.a),this.onDidChange=this._onDidChange.event,this._selector=selector,this.languageIdentifier=this._selector(),this._register(onLanguagesMaybeChanged(()=>this._evaluate()))}_evaluate(){let languageIdentifier=this._selector();languageIdentifier.id!==this.languageIdentifier.id&&(this.languageIdentifier=languageIdentifier,this._onDidChange.fire(this.languageIdentifier))}}class modeServiceImpl_ModeServiceImpl{constructor(warnOnOverwrite=!1){this._onDidCreateMode=new common_event.a,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new common_event.a,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new languagesRegistry_LanguagesRegistry(!0,warnOnOverwrite),this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire())}isRegisteredMode(mimetypeOrModeId){return this._registry.isRegisteredMode(mimetypeOrModeId)}getModeIdForLanguageName(alias){return this._registry.getModeIdForLanguageNameLowercase(alias)}getModeIdByFilepathOrFirstLine(resource,firstLine){const modeIds=this._registry.getModeIdsFromFilepathOrFirstLine(resource,firstLine);return Object(arrays.k)(modeIds,null)}getModeId(commaSeparatedMimetypesOrCommaSeparatedIds){const modeIds=this._registry.extractModeIds(commaSeparatedMimetypesOrCommaSeparatedIds);return Object(arrays.k)(modeIds,null)}getLanguageIdentifier(modeId){return this._registry.getLanguageIdentifier(modeId)}create(commaSeparatedMimetypesOrCommaSeparatedIds){return new modeServiceImpl_LanguageSelection(this.onLanguagesMaybeChanged,()=>{const modeId=this.getModeId(commaSeparatedMimetypesOrCommaSeparatedIds);return this._createModeAndGetLanguageIdentifier(modeId)})}createByFilepathOrFirstLine(resource,firstLine){return new modeServiceImpl_LanguageSelection(this.onLanguagesMaybeChanged,()=>{const modeId=this.getModeIdByFilepathOrFirstLine(resource,firstLine);return this._createModeAndGetLanguageIdentifier(modeId)})}_createModeAndGetLanguageIdentifier(modeId){const languageIdentifier=this.getLanguageIdentifier(modeId||"plaintext")||nullMode.a;return this._getOrCreateMode(languageIdentifier.language),languageIdentifier}triggerMode(commaSeparatedMimetypesOrCommaSeparatedIds){const modeId=this.getModeId(commaSeparatedMimetypesOrCommaSeparatedIds);this._getOrCreateMode(modeId||"plaintext")}_getOrCreateMode(modeId){if(!this._instantiatedModes.hasOwnProperty(modeId)){let languageIdentifier=this.getLanguageIdentifier(modeId)||nullMode.a;this._instantiatedModes[modeId]=new FrankensteinMode(languageIdentifier),this._onDidCreateMode.fire(this._instantiatedModes[modeId])}return this._instantiatedModes[modeId]}}var modelServiceImpl=__webpack_require__(2493);class abstractCodeEditorService_AbstractCodeEditorService extends lifecycle.a{constructor(){super(),this._onCodeEditorAdd=this._register(new common_event.a),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new common_event.a),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new common_event.a),this._onDiffEditorRemove=this._register(new common_event.a),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(editor){this._codeEditors[editor.getId()]=editor,this._onCodeEditorAdd.fire(editor)}removeCodeEditor(editor){delete this._codeEditors[editor.getId()]&&this._onCodeEditorRemove.fire(editor)}listCodeEditors(){return Object.keys(this._codeEditors).map(id=>this._codeEditors[id])}addDiffEditor(editor){this._diffEditors[editor.getId()]=editor,this._onDiffEditorAdd.fire(editor)}removeDiffEditor(editor){delete this._diffEditors[editor.getId()]&&this._onDiffEditorRemove.fire(editor)}listDiffEditors(){return Object.keys(this._diffEditors).map(id=>this._diffEditors[id])}getFocusedCodeEditor(){let editorWithWidgetFocus=null;const editors=this.listCodeEditors();for(const editor of editors){if(editor.hasTextFocus())return editor;editor.hasWidgetFocus()&&(editorWithWidgetFocus=editor)}return editorWithWidgetFocus}setModelProperty(resource,key,value){const key1=resource.toString();let dest;this._modelProperties.has(key1)?dest=this._modelProperties.get(key1):(dest=new Map,this._modelProperties.set(key1,dest)),dest.set(key,value)}getModelProperty(resource,key){const key1=resource.toString();if(this._modelProperties.has(key1)){return this._modelProperties.get(key1).get(key)}}}class codeEditorServiceImpl_RefCountedStyleSheet{constructor(parent,editorId,styleSheet){this._parent=parent,this._editorId=editorId,this._styleSheet=styleSheet,this._refCount=0}ref(){this._refCount++}unref(){var _a;this._refCount--,0===this._refCount&&(null===(_a=this._styleSheet.parentNode)||void 0===_a||_a.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(rule,index){this._styleSheet.sheet.insertRule(rule,index)}removeRulesContainingSelector(ruleName){dom.P(ruleName,this._styleSheet)}}class codeEditorServiceImpl_GlobalStyleSheet{constructor(styleSheet){this._styleSheet=styleSheet}ref(){}unref(){}insertRule(rule,index){this._styleSheet.sheet.insertRule(rule,index)}removeRulesContainingSelector(ruleName){dom.P(ruleName,this._styleSheet)}}let codeEditorServiceImpl_CodeEditorServiceImpl=class CodeEditorServiceImpl extends abstractCodeEditorService_AbstractCodeEditorService{constructor(themeService,styleSheet=null){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=styleSheet||null,this._themeService=themeService}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new codeEditorServiceImpl_GlobalStyleSheet(dom.v())),this._globalStyleSheet}_getOrCreateStyleSheet(editor){if(!editor)return this._getOrCreateGlobalStyleSheet();const domNode=editor.getContainerDomNode();if(!dom.O(domNode))return this._getOrCreateGlobalStyleSheet();const editorId=editor.getId();if(!this._editorStyleSheets.has(editorId)){const refCountedStyleSheet=new codeEditorServiceImpl_RefCountedStyleSheet(this,editorId,dom.v(domNode));this._editorStyleSheets.set(editorId,refCountedStyleSheet)}return this._editorStyleSheets.get(editorId)}_removeEditorStyleSheets(editorId){this._editorStyleSheets.delete(editorId)}registerDecorationType(key,options,parentTypeKey,editor){let provider=this._decorationOptionProviders.get(key);if(!provider){const styleSheet=this._getOrCreateStyleSheet(editor),providerArgs={styleSheet:styleSheet,key:key,parentTypeKey:parentTypeKey,options:options||Object.create(null)};provider=parentTypeKey?new DecorationSubTypeOptionsProvider(this._themeService,styleSheet,providerArgs):new codeEditorServiceImpl_DecorationTypeOptionsProvider(this._themeService,styleSheet,providerArgs),this._decorationOptionProviders.set(key,provider)}provider.refCount++}removeDecorationType(key){const provider=this._decorationOptionProviders.get(key);provider&&(provider.refCount--,provider.refCount<=0&&(this._decorationOptionProviders.delete(key),provider.dispose(),this.listCodeEditors().forEach(ed=>ed.removeDecorations(key))))}resolveDecorationOptions(decorationTypeKey,writable){const provider=this._decorationOptionProviders.get(decorationTypeKey);if(!provider)throw new Error("Unknown decoration type key: "+decorationTypeKey);return provider.getOptions(this,writable)}};codeEditorServiceImpl_CodeEditorServiceImpl=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}(0,common_themeService.c)],codeEditorServiceImpl_CodeEditorServiceImpl);class DecorationSubTypeOptionsProvider{constructor(themeService,styleSheet,providerArgs){this._styleSheet=styleSheet,this._styleSheet.ref(),this._parentTypeKey=providerArgs.parentTypeKey,this.refCount=0,this._beforeContentRules=new codeEditorServiceImpl_DecorationCSSRules(3,providerArgs,themeService),this._afterContentRules=new codeEditorServiceImpl_DecorationCSSRules(4,providerArgs,themeService)}getOptions(codeEditorService,writable){const options=codeEditorService.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(options.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(options.afterContentClassName=this._afterContentRules.className),options}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class codeEditorServiceImpl_DecorationTypeOptionsProvider{constructor(themeService,styleSheet,providerArgs){this._disposables=new lifecycle.b,this._styleSheet=styleSheet,this._styleSheet.ref(),this.refCount=0;const createCSSRules=type=>{const rules=new codeEditorServiceImpl_DecorationCSSRules(type,providerArgs,themeService);if(this._disposables.add(rules),rules.hasContent)return rules.className};this.className=createCSSRules(0);const inlineData=(type=>{const rules=new codeEditorServiceImpl_DecorationCSSRules(type,providerArgs,themeService);return this._disposables.add(rules),rules.hasContent?{className:rules.className,hasLetterSpacing:rules.hasLetterSpacing}:null})(1);inlineData&&(this.inlineClassName=inlineData.className,this.inlineClassNameAffectsLetterSpacing=inlineData.hasLetterSpacing),this.beforeContentClassName=createCSSRules(3),this.afterContentClassName=createCSSRules(4),this.glyphMarginClassName=createCSSRules(2);const options=providerArgs.options;this.isWholeLine=Boolean(options.isWholeLine),this.stickiness=options.rangeBehavior;const lightOverviewRulerColor=options.light&&options.light.overviewRulerColor||options.overviewRulerColor,darkOverviewRulerColor=options.dark&&options.dark.overviewRulerColor||options.overviewRulerColor;void 0===lightOverviewRulerColor&&void 0===darkOverviewRulerColor||(this.overviewRuler={color:lightOverviewRulerColor||darkOverviewRulerColor,darkColor:darkOverviewRulerColor||lightOverviewRulerColor,position:options.overviewRulerLane||common_model.d.Center})}getOptions(codeEditorService,writable){return writable?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const _CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"};class codeEditorServiceImpl_DecorationCSSRules{constructor(ruleType,providerArgs,themeService){this._theme=themeService.getColorTheme(),this._ruleType=ruleType,this._providerArgs=providerArgs,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let className=CSSNameHelper.getClassName(this._providerArgs.key,ruleType);this._providerArgs.parentTypeKey&&(className=className+" "+CSSNameHelper.getClassName(this._providerArgs.parentTypeKey,ruleType)),this._className=className,this._unThemedSelector=CSSNameHelper.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,ruleType),this._buildCSS(),this._usesThemeColors?this._themeListener=themeService.onDidColorThemeChange(theme=>{this._theme=themeService.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const options=this._providerArgs.options;let unthemedCSS,lightCSS,darkCSS;switch(this._ruleType){case 0:unthemedCSS=this.getCSSTextForModelDecorationClassName(options),lightCSS=this.getCSSTextForModelDecorationClassName(options.light),darkCSS=this.getCSSTextForModelDecorationClassName(options.dark);break;case 1:unthemedCSS=this.getCSSTextForModelDecorationInlineClassName(options),lightCSS=this.getCSSTextForModelDecorationInlineClassName(options.light),darkCSS=this.getCSSTextForModelDecorationInlineClassName(options.dark);break;case 2:unthemedCSS=this.getCSSTextForModelDecorationGlyphMarginClassName(options),lightCSS=this.getCSSTextForModelDecorationGlyphMarginClassName(options.light),darkCSS=this.getCSSTextForModelDecorationGlyphMarginClassName(options.dark);break;case 3:unthemedCSS=this.getCSSTextForModelDecorationContentClassName(options.before),lightCSS=this.getCSSTextForModelDecorationContentClassName(options.light&&options.light.before),darkCSS=this.getCSSTextForModelDecorationContentClassName(options.dark&&options.dark.before);break;case 4:unthemedCSS=this.getCSSTextForModelDecorationContentClassName(options.after),lightCSS=this.getCSSTextForModelDecorationContentClassName(options.light&&options.light.after),darkCSS=this.getCSSTextForModelDecorationContentClassName(options.dark&&options.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const sheet=this._providerArgs.styleSheet;let hasContent=!1;unthemedCSS.length>0&&(sheet.insertRule(`${this._unThemedSelector} {${unthemedCSS}}`,0),hasContent=!0),lightCSS.length>0&&(sheet.insertRule(`.vs${this._unThemedSelector} {${lightCSS}}`,0),hasContent=!0),darkCSS.length>0&&(sheet.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${darkCSS}}`,0),hasContent=!0),this._hasContent=hasContent}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(opts){if(!opts)return"";const cssTextArr=[];return this.collectCSSText(opts,["backgroundColor"],cssTextArr),this.collectCSSText(opts,["outline","outlineColor","outlineStyle","outlineWidth"],cssTextArr),this.collectBorderSettingsCSSText(opts,cssTextArr),cssTextArr.join("")}getCSSTextForModelDecorationInlineClassName(opts){if(!opts)return"";const cssTextArr=[];return this.collectCSSText(opts,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],cssTextArr),opts.letterSpacing&&(this._hasLetterSpacing=!0),cssTextArr.join("")}getCSSTextForModelDecorationContentClassName(opts){if(!opts)return"";const cssTextArr=[];if(void 0!==opts){if(this.collectBorderSettingsCSSText(opts,cssTextArr),void 0!==opts.contentIconPath&&cssTextArr.push(strings.x(_CSS_MAP.contentIconPath,dom.q(common_uri.a.revive(opts.contentIconPath)))),"string"==typeof opts.contentText){const escaped=opts.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");cssTextArr.push(strings.x(_CSS_MAP.contentText,escaped))}this.collectCSSText(opts,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],cssTextArr),this.collectCSSText(opts,["width","height"],cssTextArr)&&cssTextArr.push("display:inline-block;")}return cssTextArr.join("")}getCSSTextForModelDecorationGlyphMarginClassName(opts){if(!opts)return"";const cssTextArr=[];return void 0!==opts.gutterIconPath&&(cssTextArr.push(strings.x(_CSS_MAP.gutterIconPath,dom.q(common_uri.a.revive(opts.gutterIconPath)))),void 0!==opts.gutterIconSize&&cssTextArr.push(strings.x(_CSS_MAP.gutterIconSize,opts.gutterIconSize))),cssTextArr.join("")}collectBorderSettingsCSSText(opts,cssTextArr){return!!this.collectCSSText(opts,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],cssTextArr)&&(cssTextArr.push(strings.x("box-sizing: border-box;")),!0)}collectCSSText(opts,properties,cssTextArr){const lenBefore=cssTextArr.length;for(let property of properties){const value=this.resolveValue(opts[property]);"string"==typeof value&&cssTextArr.push(strings.x(_CSS_MAP[property],value))}return cssTextArr.length!==lenBefore}resolveValue(value){if(Object(editorCommon.b)(value)){this._usesThemeColors=!0;const color=this._theme.getColor(value.id);return color?color.toString():"transparent"}return value}}class CSSNameHelper{static getClassName(key,type){return"ced-"+key+"-"+type}static getSelector(key,parentKey,ruleType){let selector=".monaco-editor ."+this.getClassName(key,ruleType);return parentKey&&(selector=selector+"."+this.getClassName(parentKey,ruleType)),3===ruleType?selector+="::before":4===ruleType&&(selector+="::after"),selector}}class standaloneCodeServiceImpl_StandaloneCodeEditorServiceImpl extends codeEditorServiceImpl_CodeEditorServiceImpl{getActiveCodeEditor(){return null}openCodeEditor(input,source,sideBySide){return source?Promise.resolve(this.doOpenEditor(source,input)):Promise.resolve(null)}doOpenEditor(editor,input){if(!this.findModel(editor,input.resource)){if(input.resource){const schema=input.resource.scheme;if(schema===network.b.http||schema===network.b.https)return Object(dom.cb)(input.resource.toString()),editor}return null}const selection=input.options?input.options.selection:null;if(selection)if("number"==typeof selection.endLineNumber&&"number"==typeof selection.endColumn)editor.setSelection(selection),editor.revealRangeInCenter(selection,1);else{const pos={lineNumber:selection.startLineNumber,column:selection.startColumn};editor.setPosition(pos),editor.revealPositionInCenter(pos,1)}return editor}findModel(editor,resource){const model=editor.getModel();return model&&model.uri.toString()!==resource.toString()?null:model}}var common_color=__webpack_require__(2320);class ParsedTokenThemeRule{constructor(token,index,fontStyle,foreground,background){this.token=token,this.index=index,this.fontStyle=fontStyle,this.foreground=foreground,this.background=background}}const colorRegExp=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class tokenization_ColorMap{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(color){if(null===color)return 0;const match=color.match(colorRegExp);if(!match)throw new Error("Illegal value for token color: "+color);color=match[1].toUpperCase();let value=this._color2id.get(color);return value||(value=++this._lastColorId,this._color2id.set(color,value),this._id2color[value]=common_color.a.fromHex("#"+color),value)}getColorMap(){return this._id2color.slice(0)}}class TokenTheme{constructor(colorMap,root){this._colorMap=colorMap,this._root=root,this._cache=new Map}static createFromRawTokenTheme(source,customTokenColors){return this.createFromParsedTokenTheme(function parseTokenTheme(source){if(!source||!Array.isArray(source))return[];let result=[],resultLen=0;for(let i=0,len=source.length;i<len;i++){let entry=source[i],fontStyle=-1;if("string"==typeof entry.fontStyle){fontStyle=0;let segments=entry.fontStyle.split(" ");for(let j=0,lenJ=segments.length;j<lenJ;j++)switch(segments[j]){case"italic":fontStyle|=1;break;case"bold":fontStyle|=2;break;case"underline":fontStyle|=4}}let foreground=null;"string"==typeof entry.foreground&&(foreground=entry.foreground);let background=null;"string"==typeof entry.background&&(background=entry.background),result[resultLen++]=new ParsedTokenThemeRule(entry.token||"",i,fontStyle,foreground,background)}return result}(source),customTokenColors)}static createFromParsedTokenTheme(source,customTokenColors){return function resolveParsedTokenThemeRules(parsedThemeRules,customTokenColors){parsedThemeRules.sort((a,b)=>{let r=function strcmp(a,b){return a<b?-1:a>b?1:0}(a.token,b.token);return 0!==r?r:a.index-b.index});let defaultFontStyle=0,defaultForeground="000000",defaultBackground="ffffff";for(;parsedThemeRules.length>=1&&""===parsedThemeRules[0].token;){let incomingDefaults=parsedThemeRules.shift();-1!==incomingDefaults.fontStyle&&(defaultFontStyle=incomingDefaults.fontStyle),null!==incomingDefaults.foreground&&(defaultForeground=incomingDefaults.foreground),null!==incomingDefaults.background&&(defaultBackground=incomingDefaults.background)}let colorMap=new tokenization_ColorMap;for(let color of customTokenColors)colorMap.getId(color);let foregroundColorId=colorMap.getId(defaultForeground),backgroundColorId=colorMap.getId(defaultBackground),defaults=new ThemeTrieElementRule(defaultFontStyle,foregroundColorId,backgroundColorId),root=new ThemeTrieElement(defaults);for(let i=0,len=parsedThemeRules.length;i<len;i++){let rule=parsedThemeRules[i];root.insert(rule.token,rule.fontStyle,colorMap.getId(rule.foreground),colorMap.getId(rule.background))}return new TokenTheme(colorMap,root)}(source,customTokenColors)}getColorMap(){return this._colorMap.getColorMap()}_match(token){return this._root.match(token)}match(languageId,token){let result=this._cache.get(token);if(void 0===result){let rule=this._match(token),standardToken=function toStandardTokenType(tokenType){let m=tokenType.match(STANDARD_TOKEN_TYPE_REGEXP);if(!m)return 0;switch(m[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(token);result=(rule.metadata|standardToken<<8)>>>0,this._cache.set(token,result)}return(result|languageId<<0)>>>0}}const STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|regexp)\b/;class ThemeTrieElementRule{constructor(fontStyle,foreground,background){this._fontStyle=fontStyle,this._foreground=foreground,this._background=background,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new ThemeTrieElementRule(this._fontStyle,this._foreground,this._background)}acceptOverwrite(fontStyle,foreground,background){-1!==fontStyle&&(this._fontStyle=fontStyle),0!==foreground&&(this._foreground=foreground),0!==background&&(this._background=background),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class ThemeTrieElement{constructor(mainRule){this._mainRule=mainRule,this._children=new Map}match(token){if(""===token)return this._mainRule;let head,tail,dotIndex=token.indexOf(".");-1===dotIndex?(head=token,tail=""):(head=token.substring(0,dotIndex),tail=token.substring(dotIndex+1));let child=this._children.get(head);return void 0!==child?child.match(tail):this._mainRule}insert(token,fontStyle,foreground,background){if(""===token)return void this._mainRule.acceptOverwrite(fontStyle,foreground,background);let head,tail,dotIndex=token.indexOf(".");-1===dotIndex?(head=token,tail=""):(head=token.substring(0,dotIndex),tail=token.substring(dotIndex+1));let child=this._children.get(head);void 0===child&&(child=new ThemeTrieElement(this._mainRule.clone()),this._children.set(head,child)),child.insert(tail,fontStyle,foreground,background)}}const vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[colorRegistry.s]:"#FFFFFE",[colorRegistry.B]:"#000000",[colorRegistry.J]:"#E5EBF1",[editorColorRegistry.h]:"#D3D3D3",[editorColorRegistry.a]:"#939393",[colorRegistry.Q]:"#ADD6FF4D"}},vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[colorRegistry.s]:"#1E1E1E",[colorRegistry.B]:"#D4D4D4",[colorRegistry.J]:"#3A3D41",[editorColorRegistry.h]:"#404040",[editorColorRegistry.a]:"#707070",[colorRegistry.Q]:"#ADD6FF26"}},hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[colorRegistry.s]:"#000000",[colorRegistry.B]:"#FFFFFF",[editorColorRegistry.h]:"#FFFFFF",[editorColorRegistry.a]:"#FFFFFF"}};var codiconStyles=__webpack_require__(2446);const VS_THEME_NAME="vs",VS_DARK_THEME_NAME="vs-dark",HC_BLACK_THEME_NAME="hc-black",standaloneThemeServiceImpl_colorRegistry=common_platform.a.as(colorRegistry.a.ColorContribution),themingRegistry=common_platform.a.as(common_themeService.a.ThemingContribution);class standaloneThemeServiceImpl_StandaloneTheme{constructor(name,standaloneThemeData){this.semanticHighlighting=!1,this.themeData=standaloneThemeData;let base=standaloneThemeData.base;name.length>0?(this.id=base+" "+name,this.themeName=name):(this.id=base,this.themeName=base),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const colors=new Map;for(let id in this.themeData.colors)colors.set(id,common_color.a.fromHex(this.themeData.colors[id]));if(this.themeData.inherit){let baseData=getBuiltinRules(this.themeData.base);for(let id in baseData.colors)colors.has(id)||colors.set(id,common_color.a.fromHex(baseData.colors[id]))}this.colors=colors}return this.colors}getColor(colorId,useDefault){const color=this.getColors().get(colorId);return color||(!1!==useDefault?this.getDefault(colorId):void 0)}getDefault(colorId){let color=this.defaultColors[colorId];return color||(color=standaloneThemeServiceImpl_colorRegistry.resolveDefaultColor(colorId,this),this.defaultColors[colorId]=color,color)}defines(colorId){return Object.prototype.hasOwnProperty.call(this.getColors(),colorId)}get type(){switch(this.base){case VS_THEME_NAME:return"light";case HC_BLACK_THEME_NAME:return"hc";default:return"dark"}}get tokenTheme(){if(!this._tokenTheme){let rules=[],encodedTokensColors=[];if(this.themeData.inherit){let baseData=getBuiltinRules(this.themeData.base);rules=baseData.rules,baseData.encodedTokensColors&&(encodedTokensColors=baseData.encodedTokensColors)}rules=rules.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(encodedTokensColors=this.themeData.encodedTokensColors),this._tokenTheme=TokenTheme.createFromRawTokenTheme(rules,encodedTokensColors)}return this._tokenTheme}getTokenStyleMetadata(type,modifiers,modelLanguage){const metadata=this.tokenTheme._match([type].concat(modifiers).join(".")).metadata,foreground=modes.B.getForeground(metadata),fontStyle=modes.B.getFontStyle(metadata);return{foreground:foreground,italic:Boolean(1&fontStyle),bold:Boolean(2&fontStyle),underline:Boolean(4&fontStyle)}}}function isBuiltinTheme(themeName){return themeName===VS_THEME_NAME||themeName===VS_DARK_THEME_NAME||themeName===HC_BLACK_THEME_NAME}function getBuiltinRules(builtinTheme){switch(builtinTheme){case VS_THEME_NAME:return vs;case VS_DARK_THEME_NAME:return vs_dark;case HC_BLACK_THEME_NAME:return hc_black}}function newBuiltInTheme(builtinTheme){let themeData=getBuiltinRules(builtinTheme);return new standaloneThemeServiceImpl_StandaloneTheme(builtinTheme,themeData)}class standaloneThemeServiceImpl_StandaloneThemeServiceImpl extends lifecycle.a{constructor(){super(),this._onColorThemeChange=this._register(new common_event.a),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._knownThemes=new Map,this._knownThemes.set(VS_THEME_NAME,newBuiltInTheme(VS_THEME_NAME)),this._knownThemes.set(VS_DARK_THEME_NAME,newBuiltInTheme(VS_DARK_THEME_NAME)),this._knownThemes.set(HC_BLACK_THEME_NAME,newBuiltInTheme(HC_BLACK_THEME_NAME)),this._codiconCSS=codiconStyles.a.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this.setTheme(VS_THEME_NAME),codiconStyles.a.onDidChange(()=>{this._codiconCSS=codiconStyles.a.getCSS(),this._updateCSS()})}registerEditorContainer(domNode){return dom.O(domNode)?this._registerShadowDomContainer(domNode):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=dom.v(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.innerHTML=this._allCSS,this._styleElements.push(this._globalStyleElement)),lifecycle.a.None}_registerShadowDomContainer(domNode){const styleElement=dom.v(domNode);return styleElement.className="monaco-colors",styleElement.innerHTML=this._allCSS,this._styleElements.push(styleElement),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===styleElement)return void this._styleElements.splice(i,1)}}}defineTheme(themeName,themeData){if(!/^[a-z0-9\-]+$/i.test(themeName))throw new Error("Illegal theme name!");if(!isBuiltinTheme(themeData.base)&&!isBuiltinTheme(themeName))throw new Error("Illegal theme base!");this._knownThemes.set(themeName,new standaloneThemeServiceImpl_StandaloneTheme(themeName,themeData)),isBuiltinTheme(themeName)&&this._knownThemes.forEach(theme=>{theme.base===themeName&&theme.notifyBaseUpdated()}),this._theme&&this._theme.themeName===themeName&&this.setTheme(themeName)}getColorTheme(){return this._theme}setTheme(themeName){let theme;if(theme=this._knownThemes.has(themeName)?this._knownThemes.get(themeName):this._knownThemes.get(VS_THEME_NAME),this._theme===theme)return theme.id;this._theme=theme;let cssRules=[],hasRule={},ruleCollector={addRule:rule=>{hasRule[rule]||(cssRules.push(rule),hasRule[rule]=!0)}};themingRegistry.getThemingParticipants().forEach(p=>p(theme,ruleCollector,this._environment));let colorMap=theme.tokenTheme.getColorMap();return ruleCollector.addRule(function generateTokensCSSForColorMap(colorMap){let rules=[];for(let i=1,len=colorMap.length;i<len;i++){let color=colorMap[i];rules[i]=`.mtk${i} { color: ${color}; }`}return rules.push(".mtki { font-style: italic; }"),rules.push(".mtkb { font-weight: bold; }"),rules.push(".mtku { text-decoration: underline; text-underline-position: under; }"),rules.join("\n")}(colorMap)),this._themeCSS=cssRules.join("\n"),this._updateCSS(),modes.C.setColorMap(colorMap),this._onColorThemeChange.fire(theme),theme.id}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(styleElement=>styleElement.innerHTML=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var contextKeyService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},contextKeyService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const KEYBINDING_CONTEXT_ATTR="data-keybinding-context";class Context{constructor(id,parent){this._id=id,this._parent=parent,this._value=Object.create(null),this._value._contextId=id}setValue(key,value){return this._value[key]!==value&&(this._value[key]=value,!0)}removeValue(key){return key in this._value&&(delete this._value[key],!0)}getValue(key){const ret=this._value[key];return void 0===ret&&this._parent?this._parent.getValue(key):ret}}class NullContext extends Context{constructor(){super(-1,null)}setValue(key,value){return!1}removeValue(key){return!1}getValue(key){}}NullContext.INSTANCE=new NullContext;class ConfigAwareContextValuesContainer extends Context{constructor(id,_configurationService,emitter){super(id,null),this._configurationService=_configurationService,this._values=new Map,this._listener=this._configurationService.onDidChangeConfiguration(event=>{if(6===event.source){const allKeys=Array.from(this._values.keys());this._values.clear(),emitter.fire(new ArrayContextKeyChangeEvent(allKeys))}else{const changedKeys=[];for(const configKey of event.affectedKeys){const contextKey=`config.${configKey}`;this._values.has(contextKey)&&(this._values.delete(contextKey),changedKeys.push(contextKey))}emitter.fire(new ArrayContextKeyChangeEvent(changedKeys))}})}dispose(){this._listener.dispose()}getValue(key){if(0!==key.indexOf(ConfigAwareContextValuesContainer._keyPrefix))return super.getValue(key);if(this._values.has(key))return this._values.get(key);const configKey=key.substr(ConfigAwareContextValuesContainer._keyPrefix.length),configValue=this._configurationService.getValue(configKey);let value=void 0;switch(typeof configValue){case"number":case"boolean":case"string":value=configValue;break;default:Array.isArray(configValue)&&(value=JSON.stringify(configValue))}return this._values.set(key,value),value}setValue(key,value){return super.setValue(key,value)}removeValue(key){return super.removeValue(key)}}ConfigAwareContextValuesContainer._keyPrefix="config.";class ContextKey{constructor(service,key,defaultValue){this._service=service,this._key=key,this._defaultValue=defaultValue,this.reset()}set(value){this._service.setContext(this._key,value)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class SimpleContextKeyChangeEvent{constructor(key){this.key=key}affectsSome(keys){return keys.has(this.key)}}class ArrayContextKeyChangeEvent{constructor(keys){this.keys=keys}affectsSome(keys){for(const key of this.keys)if(keys.has(key))return!0;return!1}}class CompositeContextKeyChangeEvent{constructor(events){this.events=events}affectsSome(keys){for(const e of this.events)if(e.affectsSome(keys))return!0;return!1}}class contextKeyService_AbstractContextKeyService{constructor(myContextId){this._onDidChangeContext=new common_event.d({merge:input=>new CompositeContextKeyChangeEvent(input)}),this._isDisposed=!1,this._myContextId=myContextId}createKey(key,defaultValue){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ContextKey(this,key,defaultValue)}get onDidChangeContext(){return this._onDidChangeContext.event}bufferChangeEvents(callback){this._onDidChangeContext.pause();try{callback()}finally{this._onDidChangeContext.resume()}}createScoped(domNode){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new contextKeyService_ScopedContextKeyService(this,domNode)}contextMatchesRules(rules){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const context=this.getContextValuesContainer(this._myContextId);return KeybindingResolver.contextMatchesRules(context,rules)}getContextKeyValue(key){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(key)}setContext(key,value){if(this._isDisposed)return;const myContext=this.getContextValuesContainer(this._myContextId);myContext&&myContext.setValue(key,value)&&this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key))}removeContext(key){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(key)&&this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key))}getContext(target){return this._isDisposed?NullContext.INSTANCE:this.getContextValuesContainer(function findContextAttr(domNode){for(;domNode;){if(domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)){const attr=domNode.getAttribute(KEYBINDING_CONTEXT_ATTR);return attr?parseInt(attr,10):NaN}domNode=domNode.parentElement}return 0}(target))}}let contextKeyService_ContextKeyService=class ContextKeyService extends contextKeyService_AbstractContextKeyService{constructor(configurationService){super(0),this._contexts=new Map,this._toDispose=new lifecycle.b,this._lastContextId=0;const myContext=new ConfigAwareContextValuesContainer(this._myContextId,configurationService,this._onDidChangeContext);this._contexts.set(this._myContextId,myContext),this._toDispose.add(myContext)}dispose(){this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(contextId){return this._isDisposed?NullContext.INSTANCE:this._contexts.get(contextId)||NullContext.INSTANCE}createChildContext(parentContextId=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let id=++this._lastContextId;return this._contexts.set(id,new Context(id,this.getContextValuesContainer(parentContextId))),id}disposeContext(contextId){this._isDisposed||this._contexts.delete(contextId)}};contextKeyService_ContextKeyService=contextKeyService_decorate([contextKeyService_param(0,common_configuration.a)],contextKeyService_ContextKeyService);class contextKeyService_ScopedContextKeyService extends contextKeyService_AbstractContextKeyService{constructor(parent,domNode){super(parent.createChildContext()),this._parent=parent,domNode&&(this._domNode=domNode,this._domNode.setAttribute(KEYBINDING_CONTEXT_ATTR,String(this._myContextId)))}dispose(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(KEYBINDING_CONTEXT_ATTR),this._domNode=void 0)}get onDidChangeContext(){return common_event.b.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)}getContextValuesContainer(contextId){return this._isDisposed?NullContext.INSTANCE:this._parent.getContextValuesContainer(contextId)}createChildContext(parentContextId=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(parentContextId)}disposeContext(contextId){this._isDisposed||this._parent.disposeContext(contextId)}}commands.a.registerCommand(contextkey.d,function(accessor,contextKey,contextValue){accessor.get(contextkey.b).createKey(String(contextKey),contextValue)});__webpack_require__(2649),__webpack_require__(2651);var common_range=__webpack_require__(2412),canIUse=__webpack_require__(2383);function layout(viewportSize,viewSize,anchor){const anchorEnd=anchor.offset+anchor.size;return 0===anchor.position?viewSize<=viewportSize-anchorEnd?anchorEnd:viewSize<=anchor.offset?anchor.offset-viewSize:Math.max(viewportSize-viewSize,0):viewSize<=anchor.offset?anchor.offset-viewSize:viewSize<=viewportSize-anchorEnd?anchorEnd:0}class contextview_ContextView extends lifecycle.a{constructor(container,domPosition){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=lifecycle.a.None,this.toDisposeOnSetContainer=lifecycle.a.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=dom.a(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,dom.K(this.view),this.setContainer(container,domPosition),this._register(Object(lifecycle.h)(()=>this.setContainer(null,1)))}setContainer(container,domPosition){if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,dom.S(this.shadowRootHostElement),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),container){this.container=container,this.useFixedPosition=1!==domPosition,this.useShadowDOM=3===domPosition,this.useShadowDOM?(this.shadowRootHostElement=dom.a(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n\t\t\t\t\t<style>\n\t\t\t\t\t\t${SHADOW_ROOT_CSS}\n\t\t\t\t\t</style>\n\t\t\t\t`,this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(dom.a("slot"))):this.container.appendChild(this.view);const toDisposeOnSetContainer=new lifecycle.b;contextview_ContextView.BUBBLE_UP_EVENTS.forEach(event=>{toDisposeOnSetContainer.add(dom.n(this.container,event,e=>{this.onDOMEvent(e,!1)}))}),contextview_ContextView.BUBBLE_DOWN_EVENTS.forEach(event=>{toDisposeOnSetContainer.add(dom.n(this.container,event,e=>{this.onDOMEvent(e,!0)},!0))}),this.toDisposeOnSetContainer=toDisposeOnSetContainer}}show(delegate){this.isVisible()&&this.hide(),dom.s(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",dom.Z(this.view),this.toDisposeOnClean=delegate.render(this.view)||lifecycle.a.None,this.delegate=delegate,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||platform.c&&canIUse.a.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let around,anchor=this.delegate.getAnchor();if(dom.M(anchor)){let elementPosition=dom.C(anchor);around={top:elementPosition.top,left:elementPosition.left,width:elementPosition.width,height:elementPosition.height}}else around={top:anchor.y,left:anchor.x,width:anchor.width||1,height:anchor.height||2};const viewSizeWidth=dom.H(this.view),viewSizeHeight=dom.G(this.view),anchorPosition=this.delegate.anchorPosition||0,anchorAlignment=this.delegate.anchorAlignment||0,verticalAnchor={offset:around.top-window.pageYOffset,size:around.height,position:0===anchorPosition?0:1};let horizontalAnchor;horizontalAnchor=0===anchorAlignment?{offset:around.left,size:0,position:0}:{offset:around.left+around.width,size:0,position:1};const top=layout(window.innerHeight,viewSizeHeight,verticalAnchor)+window.pageYOffset;common_range.a.intersects({start:top,end:top+viewSizeHeight},{start:verticalAnchor.offset,end:verticalAnchor.offset+verticalAnchor.size})&&(horizontalAnchor.size=around.width,1===anchorAlignment&&(horizontalAnchor.offset=around.left));const left=layout(window.innerWidth,viewSizeWidth,horizontalAnchor);dom.R(this.view,"top","bottom","left","right"),dom.e(this.view,0===anchorPosition?"bottom":"top"),dom.e(this.view,0===anchorAlignment?"left":"right"),dom.ab(this.view,"fixed",this.useFixedPosition);const containerPosition=dom.C(this.container);this.view.style.top=`${top-(this.useFixedPosition?dom.C(this.view).top:containerPosition.top)}px`,this.view.style.left=`${left-(this.useFixedPosition?dom.C(this.view).left:containerPosition.left)}px`,this.view.style.width="initial"}hide(data){const delegate=this.delegate;this.delegate=null,(null==delegate?void 0:delegate.onHide)&&delegate.onHide(data),this.toDisposeOnClean.dispose(),dom.K(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,onCapture){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):onCapture&&!dom.L(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}contextview_ContextView.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],contextview_ContextView.BUBBLE_DOWN_EVENTS=["click"];let SHADOW_ROOT_CSS='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';var actionViewItems=__webpack_require__(2380),browser=__webpack_require__(2326),browser_mouseEvent=__webpack_require__(2339);const MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g,menuSelectionIcon=Object(codicons.e)("menu-selection",codicons.a.check),menuSubmenuIcon=Object(codicons.e)("menu-submenu",codicons.a.chevronRight);var Direction;!function(Direction){Direction[Direction.Right=0]="Right",Direction[Direction.Left=1]="Left"}(Direction||(Direction={}));class menu_Menu extends actionbar.a{constructor(container,actions,options={}){Object(dom.e)(container,"monaco-menu-container"),container.setAttribute("role","presentation");const menuElement=document.createElement("div");Object(dom.e)(menuElement,"monaco-menu"),menuElement.setAttribute("role","presentation"),super(menuElement,{orientation:2,actionViewItemProvider:action=>this.doGetActionViewItem(action,options,parentData),context:options.context,actionRunner:options.actionRunner,ariaLabel:options.ariaLabel,triggerKeys:{keys:[3,...platform.f||platform.d?[10]:[]],keyDown:!0}}),this.menuElement=menuElement,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new lifecycle.b),this.initializeStyleSheet(container),Object(dom.i)(menuElement,dom.c.KEY_DOWN,e=>{new browser_keyboardEvent.a(e).equals(2)&&e.preventDefault()}),options.enableMnemonics&&this.menuDisposables.add(Object(dom.i)(menuElement,dom.c.KEY_DOWN,e=>{const key=e.key.toLocaleLowerCase();if(this.mnemonics.has(key)){dom.b.stop(e,!0);const actions=this.mnemonics.get(key);if(1===actions.length&&(actions[0]instanceof menu_SubmenuMenuActionViewItem&&actions[0].container&&this.focusItemByElement(actions[0].container),actions[0].onClick(e)),actions.length>1){const action=actions.shift();action&&action.container&&(this.focusItemByElement(action.container),actions.push(action)),this.mnemonics.set(key,actions)}}})),platform.d&&this._register(Object(dom.i)(menuElement,dom.c.KEY_DOWN,e=>{const event=new browser_keyboardEvent.a(e);event.equals(14)||event.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),dom.b.stop(e,!0)):(event.equals(13)||event.equals(12))&&(this.focusedItem=0,this.focusPrevious(),dom.b.stop(e,!0))})),this._register(Object(dom.i)(this.domNode,dom.c.MOUSE_OUT,e=>{let relatedTarget=e.relatedTarget;Object(dom.L)(relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())})),this._register(Object(dom.i)(this.actionsList,dom.c.MOUSE_OVER,e=>{let target=e.target;if(target&&Object(dom.L)(target,this.actionsList)&&target!==this.actionsList){for(;target.parentElement!==this.actionsList&&null!==target.parentElement;)target=target.parentElement;if(Object(dom.I)(target,"action-item")){const lastFocusedItem=this.focusedItem;this.setFocusedItem(target),lastFocusedItem!==this.focusedItem&&this.updateFocus()}}}));let parentData={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new scrollableElement.a(menuElement,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const scrollElement=this.scrollableElement.getDomNode();scrollElement.style.position="",this._register(Object(dom.i)(scrollElement,dom.c.MOUSE_UP,e=>{e.preventDefault()})),menuElement.style.maxHeight=`${Math.max(10,window.innerHeight-container.getBoundingClientRect().top-35)}px`,actions=actions.filter(a=>{var _a;return null===(_a=options.submenuIds)||void 0===_a||!_a.has(a.id)||(console.warn(`Found submenu cycle: ${a.id}`),!1)}),this.push(actions,{icon:!0,label:!0,isMenu:!0}),container.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(item=>!(item instanceof menu_MenuSeparatorActionViewItem)).forEach((item,index,array)=>{item.updatePositionInSet(index+1,array.length)})}initializeStyleSheet(container){Object(dom.O)(container)?(this.styleSheet=Object(dom.v)(container),this.styleSheet.innerHTML=MENU_WIDGET_CSS):(menu_Menu.globalStyleSheet||(menu_Menu.globalStyleSheet=Object(dom.v)(),menu_Menu.globalStyleSheet.innerHTML=MENU_WIDGET_CSS),this.styleSheet=menu_Menu.globalStyleSheet)}style(style){const container=this.getContainer(),fgColor=style.foregroundColor?`${style.foregroundColor}`:"",bgColor=style.backgroundColor?`${style.backgroundColor}`:"",border=style.borderColor?`1px solid ${style.borderColor}`:"",shadow=style.shadowColor?`0 2px 4px ${style.shadowColor}`:"";container.style.border=border,this.domNode.style.color=fgColor,this.domNode.style.backgroundColor=bgColor,container.style.boxShadow=shadow,this.viewItems&&this.viewItems.forEach(item=>{(item instanceof menu_BaseMenuActionViewItem||item instanceof menu_MenuSeparatorActionViewItem)&&item.style(style)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(element){const lastFocusedItem=this.focusedItem;this.setFocusedItem(element),lastFocusedItem!==this.focusedItem&&this.updateFocus()}setFocusedItem(element){for(let i=0;i<this.actionsList.children.length;i++){if(element===this.actionsList.children[i]){this.focusedItem=i;break}}}updateFocus(fromRight){super.updateFocus(fromRight,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(action,options,parentData){if(action instanceof common_actions.c)return new menu_MenuSeparatorActionViewItem(options.context,action,{icon:!0});if(action instanceof common_actions.d){const menuActionViewItem=new menu_SubmenuMenuActionViewItem(action,action.actions,parentData,Object.assign(Object.assign({},options),{submenuIds:new Set([...options.submenuIds||[],action.id])}));if(options.enableMnemonics){const mnemonic=menuActionViewItem.getMnemonic();if(mnemonic&&menuActionViewItem.isEnabled()){let actionViewItems=[];this.mnemonics.has(mnemonic)&&(actionViewItems=this.mnemonics.get(mnemonic)),actionViewItems.push(menuActionViewItem),this.mnemonics.set(mnemonic,actionViewItems)}}return menuActionViewItem}{const menuItemOptions={enableMnemonics:options.enableMnemonics,useEventAsContext:options.useEventAsContext};if(options.getKeyBinding){const keybinding=options.getKeyBinding(action);if(keybinding){const keybindingLabel=keybinding.getLabel();keybindingLabel&&(menuItemOptions.keybinding=keybindingLabel)}}const menuActionViewItem=new menu_BaseMenuActionViewItem(options.context,action,menuItemOptions);if(options.enableMnemonics){const mnemonic=menuActionViewItem.getMnemonic();if(mnemonic&&menuActionViewItem.isEnabled()){let actionViewItems=[];this.mnemonics.has(mnemonic)&&(actionViewItems=this.mnemonics.get(mnemonic)),actionViewItems.push(menuActionViewItem),this.mnemonics.set(mnemonic,actionViewItems)}}return menuActionViewItem}}}class menu_BaseMenuActionViewItem extends actionViewItems.b{constructor(ctx,action,options={}){if(options.isMenu=!0,super(action,action,options),this.options=options,this.options.icon=void 0!==options.icon&&options.icon,this.options.label=void 0===options.label||options.label,this.cssClass="",this.options.label&&options.enableMnemonics){let label=this.getAction().label;if(label){let matches=MENU_MNEMONIC_REGEX.exec(label);matches&&(this.mnemonic=(matches[1]?matches[1]:matches[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new common_async.d(()=>{this.element&&(this._register(Object(dom.i)(this.element,dom.c.MOUSE_UP,e=>{if(dom.b.stop(e,!0),browser.h){if(new browser_mouseEvent.a(e).rightButton)return;this.onClick(e)}setTimeout(()=>{this.onClick(e)},0)})),this._register(Object(dom.i)(this.element,dom.c.CONTEXT_MENU,e=>{dom.b.stop(e,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(container){super.render(container),this.element&&(this.container=container,this.item=Object(dom.p)(this.element,Object(dom.a)("a.action-menu-item")),this._action.id===common_actions.c.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Object(dom.p)(this.item,Object(dom.a)("span.menu-item-check"+menuSelectionIcon.cssSelector)),this.check.setAttribute("role","none"),this.label=Object(dom.p)(this.item,Object(dom.a)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(dom.p)(this.item,Object(dom.a)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(pos,setSize){this.item&&(this.item.setAttribute("aria-posinset",`${pos}`),this.item.setAttribute("aria-setsize",`${setSize}`))}updateLabel(){if(this.label&&this.options.label){Object(dom.s)(this.label);let label=Object(codicons.h)(this.getAction().label);if(label){const cleanLabel=function cleanMnemonic(label){const regex=MENU_MNEMONIC_REGEX,matches=regex.exec(label);if(!matches)return label;const mnemonicInText=!matches[1];return label.replace(regex,mnemonicInText?"$2$3":"").trim()}(label);this.options.enableMnemonics||(label=cleanLabel),this.label.setAttribute("aria-label",cleanLabel.replace(/&&/g,"&"));const matches=MENU_MNEMONIC_REGEX.exec(label);if(matches){label=strings.u(label),MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let escMatch=MENU_ESCAPED_MNEMONIC_REGEX.exec(label);for(;escMatch&&escMatch[1];)escMatch=MENU_ESCAPED_MNEMONIC_REGEX.exec(label);const replaceDoubleEscapes=str=>str.replace(/&amp;&amp;/g,"&amp;");escMatch?this.label.append(strings.K(replaceDoubleEscapes(label.substr(0,escMatch.index))," "),Object(dom.a)("u",{"aria-hidden":"true"},escMatch[3]),strings.Q(replaceDoubleEscapes(label.substr(escMatch.index+escMatch[0].length))," ")):this.label.innerText=replaceDoubleEscapes(label).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(matches[1]?matches[1]:matches[3]).toLocaleLowerCase())}else this.label.innerText=label.replace(/&&/g,"&").trim()}}}updateTooltip(){let title=null;this.getAction().tooltip?title=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(title=this.getAction().label,this.options.keybinding&&(title=nls.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",title,this.options.keybinding))),title&&this.item&&(this.item.title=title)}updateClass(){this.cssClass&&this.item&&Object(dom.R)(this.item,this.cssClass),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",Object(dom.e)(this.label,"icon"),this.cssClass&&Object(dom.f)(this.label,this.cssClass),this.updateEnabled()):this.label&&Object(dom.Q)(this.label,"icon")}updateEnabled(){this.getAction().enabled?(this.element&&Object(dom.Q)(this.element,"disabled"),this.item&&(Object(dom.Q)(this.item,"disabled"),this.item.tabIndex=0)):(this.element&&Object(dom.e)(this.element,"disabled"),this.item&&(Object(dom.e)(this.item,"disabled"),Object(dom.T)(this.item)))}updateChecked(){this.item&&(this.getAction().checked?(Object(dom.e)(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(Object(dom.Q)(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const isSelected=this.element&&Object(dom.I)(this.element,"focused"),fgColor=isSelected&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,bgColor=isSelected&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,border=isSelected&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=fgColor?fgColor.toString():"",this.item.style.backgroundColor=bgColor?bgColor.toString():""),this.check&&(this.check.style.color=fgColor?fgColor.toString():""),this.container&&(this.container.style.border=border)}style(style){this.menuStyle=style,this.applyStyle()}}class menu_SubmenuMenuActionViewItem extends menu_BaseMenuActionViewItem{constructor(action,submenuActions,parentData,submenuOptions){super(action,action,submenuOptions),this.submenuActions=submenuActions,this.parentData=parentData,this.submenuOptions=submenuOptions,this.mysubmenu=null,this.submenuDisposables=this._register(new lifecycle.b),this.mouseOver=!1,this.expandDirection=submenuOptions&&void 0!==submenuOptions.expandDirection?submenuOptions.expandDirection:Direction.Right,this.showScheduler=new common_async.d(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new common_async.d(()=>{this.element&&!Object(dom.L)(Object(dom.x)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(container){super.render(container),this.element&&(this.item&&(Object(dom.e)(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Object(dom.p)(this.item,Object(dom.a)("span.submenu-indicator"+menuSubmenuIcon.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Object(dom.i)(this.element,dom.c.KEY_UP,e=>{let event=new browser_keyboardEvent.a(e);(event.equals(17)||event.equals(3))&&(dom.b.stop(e,!0),this.createSubmenu(!0))})),this._register(Object(dom.i)(this.element,dom.c.KEY_DOWN,e=>{let event=new browser_keyboardEvent.a(e);Object(dom.x)()===this.item&&(event.equals(17)||event.equals(3))&&dom.b.stop(e,!0)})),this._register(Object(dom.i)(this.element,dom.c.MOUSE_OVER,e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(Object(dom.i)(this.element,dom.c.MOUSE_LEAVE,e=>{this.mouseOver=!1})),this._register(Object(dom.i)(this.element,dom.c.FOCUS_OUT,e=>{this.element&&!Object(dom.L)(Object(dom.x)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}onClick(e){dom.b.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(force){if(this.parentData.submenu&&(force||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(_a){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(windowDimensions,submenu,entry,expandDirection){const ret={top:0,left:0};return ret.left=layout(windowDimensions.width,submenu.width,{position:expandDirection===Direction.Right?0:1,offset:entry.left,size:entry.width}),ret.left>=entry.left&&ret.left<entry.left+entry.width&&(entry.left+10+submenu.width<=windowDimensions.width&&(ret.left=entry.left+10),entry.top+=10,entry.height=0),ret.top=layout(windowDimensions.height,submenu.height,{position:0,offset:entry.top,size:0}),ret.top+submenu.height===entry.top&&ret.top+entry.height+submenu.height<=windowDimensions.height&&(ret.top+=entry.height),ret}createSubmenu(selectFirstItem=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Object(dom.p)(this.element,Object(dom.a)("div.monaco-submenu")),Object(dom.f)(this.submenuContainer,"menubar-menu-items-holder","context-view");const computedStyles=getComputedStyle(this.parentData.parent.domNode),paddingTop=parseFloat(computedStyles.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new menu_Menu(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const entryBox=this.element.getBoundingClientRect(),entryBoxUpdated={top:entryBox.top-paddingTop,left:entryBox.left,height:entryBox.height+2*paddingTop,width:entryBox.width},viewBox=this.submenuContainer.getBoundingClientRect(),{top:top,left:left}=this.calculateSubmenuMenuLayout({height:window.innerHeight,width:window.innerWidth},viewBox,entryBoxUpdated,this.expandDirection);this.submenuContainer.style.left=`${left}px`,this.submenuContainer.style.top=`${top}px`,this.submenuDisposables.add(Object(dom.i)(this.submenuContainer,dom.c.KEY_UP,e=>{new browser_keyboardEvent.a(e).equals(15)&&(dom.b.stop(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Object(dom.i)(this.submenuContainer,dom.c.KEY_DOWN,e=>{new browser_keyboardEvent.a(e).equals(15)&&dom.b.stop(e,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(selectFirstItem),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(value){var _a;this.item&&(null===(_a=this.item)||void 0===_a||_a.setAttribute("aria-expanded",value))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const fgColor=this.element&&Object(dom.I)(this.element,"focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=fgColor?`${fgColor}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class menu_MenuSeparatorActionViewItem extends actionViewItems.a{style(style){this.label&&(this.label.style.borderBottomColor=style.separatorColor?`${style.separatorColor}`:"")}}let MENU_WIDGET_CSS=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${Object(codiconStyles.b)(menuSelectionIcon)}\n${Object(codiconStyles.b)(menuSubmenuIcon)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;var styler=__webpack_require__(2392),browser_event=__webpack_require__(2347);class contextMenuHandler_ContextMenuHandler{constructor(contextViewService,telemetryService,notificationService,keybindingService,themeService){this.contextViewService=contextViewService,this.telemetryService=telemetryService,this.notificationService=notificationService,this.keybindingService=keybindingService,this.themeService=themeService,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(options){this.options=options}showContextMenu(delegate){const actions=delegate.getActions();if(!actions.length)return;let menu;this.focusToReturn=document.activeElement;let shadowRootElement=Object(dom.M)(delegate.domForShadowRoot)?delegate.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>delegate.getAnchor(),canRelayout:!1,anchorAlignment:delegate.anchorAlignment,render:container=>{let className=delegate.getMenuClassName?delegate.getMenuClassName():"";className&&(container.className+=" "+className),this.options.blockMouse&&(this.block=container.appendChild(Object(dom.a)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Object(browser_event.a)(this.block,dom.c.MOUSE_DOWN)(e=>e.stopPropagation()));const menuDisposables=new lifecycle.b,actionRunner=delegate.actionRunner||new common_actions.b;return actionRunner.onDidBeforeRun(this.onActionRun,this,menuDisposables),actionRunner.onDidRun(this.onDidActionRun,this,menuDisposables),menu=new menu_Menu(container,actions,{actionViewItemProvider:delegate.getActionViewItem,context:delegate.getActionsContext?delegate.getActionsContext():null,actionRunner:actionRunner,getKeyBinding:delegate.getKeyBinding?delegate.getKeyBinding:action=>this.keybindingService.lookupKeybinding(action.id)}),menuDisposables.add(Object(styler.c)(menu,this.themeService)),menu.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,menuDisposables),menu.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,menuDisposables),Object(browser_event.a)(window,dom.c.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,menuDisposables),Object(browser_event.a)(window,dom.c.MOUSE_DOWN)(e=>{if(e.defaultPrevented)return;let event=new browser_mouseEvent.a(e),element=event.target;if(!event.rightButton){for(;element;){if(element===container)return;element=element.parentElement}this.contextViewService.hideContextView(!0)}},null,menuDisposables),Object(lifecycle.e)(menuDisposables,menu)},focus:()=>{menu&&menu.focus(!!delegate.autoSelectFirstItem)},onHide:didCancel=>{delegate.onHide&&delegate.onHide(!!didCancel),this.block&&(Object(dom.S)(this.block),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},shadowRootElement,!!shadowRootElement)}onActionRun(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&this.notificationService&&this.notificationService.error(e.error)}}var telemetry=__webpack_require__(2368),contextMenuService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let contextMenuService_ContextMenuService=class ContextMenuService extends lifecycle.a{constructor(telemetryService,notificationService,contextViewService,keybindingService,themeService){super(),this._onDidContextMenu=this._register(new common_event.a),this.onDidContextMenu=this._onDidContextMenu.event,this.contextMenuHandler=new contextMenuHandler_ContextMenuHandler(contextViewService,telemetryService,notificationService,keybindingService,themeService)}configure(options){this.contextMenuHandler.configure(options)}showContextMenu(delegate){this.contextMenuHandler.showContextMenu(delegate),this._onDidContextMenu.fire()}};contextMenuService_ContextMenuService=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([contextMenuService_param(0,telemetry.a),contextMenuService_param(1,common_notification.a),contextMenuService_param(2,contextView.b),contextMenuService_param(3,common_keybinding.a),contextMenuService_param(4,common_themeService.c)],contextMenuService_ContextMenuService);const ILayoutService=Object(instantiation.c)("layoutService");let contextViewService_ContextViewService=class ContextViewService extends lifecycle.a{constructor(layoutService){super(),this.layoutService=layoutService,this.currentViewDisposable=lifecycle.a.None,this.container=layoutService.container,this.contextView=this._register(new contextview_ContextView(this.container,1)),this.layout(),this._register(layoutService.onLayout(()=>this.layout()))}setContainer(container,domPosition){this.contextView.setContainer(container,domPosition||1)}showContextView(delegate,container,shadowRoot){container?container!==this.container&&(this.container=container,this.setContainer(container,shadowRoot?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(delegate);const disposable=Object(lifecycle.h)(()=>{this.currentViewDisposable===disposable&&this.hideContextView()});return this.currentViewDisposable=disposable,disposable}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(data){this.contextView.hide(data)}};contextViewService_ContextViewService=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}(0,ILayoutService)],contextViewService_ContextViewService);var dialogs=__webpack_require__(2447);class Node{constructor(data){this.incoming=new Map,this.outgoing=new Map,this.data=data}}class Graph{constructor(_hashFn){this._hashFn=_hashFn,this._nodes=new Map}roots(){const ret=[];for(let node of this._nodes.values())0===node.outgoing.size&&ret.push(node);return ret}insertEdge(from,to){const fromNode=this.lookupOrInsertNode(from),toNode=this.lookupOrInsertNode(to);fromNode.outgoing.set(this._hashFn(to),toNode),toNode.incoming.set(this._hashFn(from),fromNode)}removeNode(data){const key=this._hashFn(data);this._nodes.delete(key);for(let node of this._nodes.values())node.outgoing.delete(key),node.incoming.delete(key)}lookupOrInsertNode(data){const key=this._hashFn(data);let node=this._nodes.get(key);return node||(node=new Node(data),this._nodes.set(key,node)),node}isEmpty(){return 0===this._nodes.size}toString(){let data=[];for(let[key,value]of this._nodes)data.push(`${key}, (incoming)[${[...value.incoming.keys()].join(", ")}], (outgoing)[${[...value.outgoing.keys()].join(",")}]`);return data.join("\n")}}var descriptors=__webpack_require__(2469);const _enableTracing=!1;class CyclicDependencyError extends Error{constructor(graph){super("cyclic dependency between services"),this.message=graph.toString()}}class instantiationService_InstantiationService{constructor(services=new serviceCollection.a,strict=!1,parent){this._services=services,this._strict=strict,this._parent=parent,this._services.set(instantiation.a,this)}createChild(services){return new instantiationService_InstantiationService(services,this._strict,this)}invokeFunction(fn,...args){let _trace=Trace.traceInvocation(fn),_done=!1;try{return fn({get:(id,isOptional)=>{if(_done)throw Object(errors.c)("service accessor is only valid during the invocation of its target method");const result=this._getOrCreateServiceInstance(id,_trace);if(!result&&isOptional!==instantiation.d)throw new Error(`[invokeFunction] unknown service '${id}'`);return result}},...args)}finally{_done=!0,_trace.stop()}}createInstance(ctorOrDescriptor,...rest){let _trace,result;return ctorOrDescriptor instanceof descriptors.a?(_trace=Trace.traceCreation(ctorOrDescriptor.ctor),result=this._createInstance(ctorOrDescriptor.ctor,ctorOrDescriptor.staticArguments.concat(rest),_trace)):(_trace=Trace.traceCreation(ctorOrDescriptor),result=this._createInstance(ctorOrDescriptor,rest,_trace)),_trace.stop(),result}_createInstance(ctor,args=[],_trace){let serviceDependencies=instantiation.b.getServiceDependencies(ctor).sort((a,b)=>a.index-b.index),serviceArgs=[];for(const dependency of serviceDependencies){let service=this._getOrCreateServiceInstance(dependency.id,_trace);if(!service&&this._strict&&!dependency.optional)throw new Error(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`);serviceArgs.push(service)}let firstServiceArgPos=serviceDependencies.length>0?serviceDependencies[0].index:args.length;if(args.length!==firstServiceArgPos){console.warn(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos+1} conflicts with ${args.length} static arguments`);let delta=firstServiceArgPos-args.length;args=delta>0?args.concat(new Array(delta)):args.slice(0,firstServiceArgPos)}return new ctor(...[...args,...serviceArgs])}_setServiceInstance(id,instance){if(this._services.get(id)instanceof descriptors.a)this._services.set(id,instance);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(id,instance)}}_getServiceInstanceOrDescriptor(id){let instanceOrDesc=this._services.get(id);return!instanceOrDesc&&this._parent?this._parent._getServiceInstanceOrDescriptor(id):instanceOrDesc}_getOrCreateServiceInstance(id,_trace){let thing=this._getServiceInstanceOrDescriptor(id);return thing instanceof descriptors.a?this._createAndCacheServiceInstance(id,thing,_trace.branch(id,!0)):(_trace.branch(id,!1),thing)}_createAndCacheServiceInstance(id,desc,_trace){const graph=new Graph(data=>data.id.toString());let cycleCount=0;const stack=[{id:id,desc:desc,_trace:_trace}];for(;stack.length;){const item=stack.pop();if(graph.lookupOrInsertNode(item),cycleCount++>1e3)throw new CyclicDependencyError(graph);for(let dependency of instantiation.b.getServiceDependencies(item.desc.ctor)){let instanceOrDesc=this._getServiceInstanceOrDescriptor(dependency.id);if(instanceOrDesc||dependency.optional||console.warn(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`),instanceOrDesc instanceof descriptors.a){const d={id:dependency.id,desc:instanceOrDesc,_trace:item._trace.branch(dependency.id,!0)};graph.insertEdge(item,d),stack.push(d)}}}for(;;){const roots=graph.roots();if(0===roots.length){if(!graph.isEmpty())throw new CyclicDependencyError(graph);break}for(const{data:data}of roots){const instance=this._createServiceInstanceWithOwner(data.id,data.desc.ctor,data.desc.staticArguments,data.desc.supportsDelayedInstantiation,data._trace);this._setServiceInstance(data.id,instance),graph.removeNode(data)}}return this._getServiceInstanceOrDescriptor(id)}_createServiceInstanceWithOwner(id,ctor,args=[],supportsDelayedInstantiation,_trace){if(this._services.get(id)instanceof descriptors.a)return this._createServiceInstance(ctor,args,supportsDelayedInstantiation,_trace);if(this._parent)return this._parent._createServiceInstanceWithOwner(id,ctor,args,supportsDelayedInstantiation,_trace);throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`)}_createServiceInstance(ctor,args=[],_supportsDelayedInstantiation,_trace){if(_supportsDelayedInstantiation){const idle=new common_async.b(()=>this._createInstance(ctor,args,_trace));return new Proxy(Object.create(null),{get(target,key){if(key in target)return target[key];let obj=idle.value,prop=obj[key];return"function"!=typeof prop?prop:(prop=prop.bind(obj),target[key]=prop,prop)},set:(_target,p,value)=>(idle.value[p]=value,!0)})}return this._createInstance(ctor,args,_trace)}}class Trace{constructor(type,name){this.type=type,this.name=name,this._start=Date.now(),this._dep=[]}static traceInvocation(ctor){return _enableTracing?new Trace(1,ctor.name||ctor.toString().substring(0,42).replace(/\n/g,"")):Trace._None}static traceCreation(ctor){return _enableTracing?new Trace(0,ctor.name):Trace._None}branch(id,first){let child=new Trace(2,id.toString());return this._dep.push([id,first,child]),child}stop(){let dur=Date.now()-this._start;Trace._totals+=dur;let causedCreation=!1;let lines=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function printChild(n,trace){let res=[],prefix=new Array(n+1).join("\t");for(const[id,first,child]of trace._dep)if(first&&child){causedCreation=!0,res.push(`${prefix}CREATES -> ${id}`);let nested=printChild(n+1,child);nested&&res.push(nested)}else res.push(`${prefix}uses -> ${id}`);return res.join("\n")}(1,this)}`,`DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`];(dur>2||causedCreation)&&console.log(lines.join("\n"))}}Trace._None=new class extends Trace{constructor(){super(-1,null)}stop(){}branch(){return this}},Trace._totals=0;var common_label=__webpack_require__(2413),listService=__webpack_require__(2424),common_markers=__webpack_require__(2371),iterator=__webpack_require__(2341);class markerService_DoubleResourceMap{constructor(){this._byResource=new map.b,this._byOwner=new Map}set(resource,owner,value){let ownerMap=this._byResource.get(resource);ownerMap||(ownerMap=new Map,this._byResource.set(resource,ownerMap)),ownerMap.set(owner,value);let resourceMap=this._byOwner.get(owner);resourceMap||(resourceMap=new map.b,this._byOwner.set(owner,resourceMap)),resourceMap.set(resource,value)}get(resource,owner){let ownerMap=this._byResource.get(resource);return null==ownerMap?void 0:ownerMap.get(owner)}delete(resource,owner){let removedA=!1,removedB=!1,ownerMap=this._byResource.get(resource);ownerMap&&(removedA=ownerMap.delete(owner));let resourceMap=this._byOwner.get(owner);if(resourceMap&&(removedB=resourceMap.delete(resource)),removedA!==removedB)throw new Error("illegal state");return removedA&&removedB}values(key){var _a,_b,_c,_d;return"string"==typeof key?null!==(_b=null===(_a=this._byOwner.get(key))||void 0===_a?void 0:_a.values())&&void 0!==_b?_b:iterator.a.empty():common_uri.a.isUri(key)?null!==(_d=null===(_c=this._byResource.get(key))||void 0===_c?void 0:_c.values())&&void 0!==_d?_d:iterator.a.empty():iterator.a.map(iterator.a.concat(...this._byOwner.values()),map=>map[1])}}class markerService_MarkerStats{constructor(service){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new map.b,this._service=service,this._subscription=service.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(resources){for(const resource of resources){const oldStats=this._data.get(resource);oldStats&&this._substract(oldStats);const newStats=this._resourceStats(resource);this._add(newStats),this._data.set(resource,newStats)}}_resourceStats(resource){const result={errors:0,warnings:0,infos:0,unknowns:0};if(resource.scheme===network.b.inMemory||resource.scheme===network.b.walkThrough||resource.scheme===network.b.walkThroughSnippet)return result;for(const{severity:severity}of this._service.read({resource:resource}))severity===common_markers.c.Error?result.errors+=1:severity===common_markers.c.Warning?result.warnings+=1:severity===common_markers.c.Info?result.infos+=1:result.unknowns+=1;return result}_substract(op){this.errors-=op.errors,this.warnings-=op.warnings,this.infos-=op.infos,this.unknowns-=op.unknowns}_add(op){this.errors+=op.errors,this.warnings+=op.warnings,this.infos+=op.infos,this.unknowns+=op.unknowns}}class markerService_MarkerService{constructor(){this._onMarkerChanged=new common_event.a,this.onMarkerChanged=common_event.b.debounce(this._onMarkerChanged.event,markerService_MarkerService._debouncer,0),this._data=new markerService_DoubleResourceMap,this._stats=new markerService_MarkerStats(this)}dispose(){this._stats.dispose()}remove(owner,resources){for(const resource of resources||[])this.changeOne(owner,resource,[])}changeOne(owner,resource,markerData){if(Object(arrays.n)(markerData)){this._data.delete(resource,owner)&&this._onMarkerChanged.fire([resource])}else{const markers=[];for(const data of markerData){const marker=markerService_MarkerService._toMarker(owner,resource,data);marker&&markers.push(marker)}this._data.set(resource,owner,markers),this._onMarkerChanged.fire([resource])}}static _toMarker(owner,resource,data){let{code:code,severity:severity,message:message,source:source,startLineNumber:startLineNumber,startColumn:startColumn,endLineNumber:endLineNumber,endColumn:endColumn,relatedInformation:relatedInformation,tags:tags}=data;if(message)return{resource:resource,owner:owner,code:code,severity:severity,message:message,source:source,startLineNumber:startLineNumber=startLineNumber>0?startLineNumber:1,startColumn:startColumn=startColumn>0?startColumn:1,endLineNumber:endLineNumber=endLineNumber>=startLineNumber?endLineNumber:startLineNumber,endColumn:endColumn=endColumn>0?endColumn:startColumn,relatedInformation:relatedInformation,tags:tags}}read(filter=Object.create(null)){let{owner:owner,resource:resource,severities:severities,take:take}=filter;if((!take||take<0)&&(take=-1),owner&&resource){const data=this._data.get(resource,owner);if(data){const result=[];for(const marker of data)if(markerService_MarkerService._accept(marker,severities)){const newLen=result.push(marker);if(take>0&&newLen===take)break}return result}return[]}if(owner||resource){const iterable=this._data.values(null!=resource?resource:owner),result=[];for(const markers of iterable)for(const data of markers)if(markerService_MarkerService._accept(data,severities)){const newLen=result.push(data);if(take>0&&newLen===take)return result}return result}{const result=[];for(let markers of this._data.values())for(let data of markers)if(markerService_MarkerService._accept(data,severities)){const newLen=result.push(data);if(take>0&&newLen===take)return result}return result}}static _accept(marker,severities){return void 0===severities||(severities&marker.severity)===marker.severity}static _debouncer(last,event){last||(markerService_MarkerService._dedupeMap=new map.b,last=[]);for(const uri of event)markerService_MarkerService._dedupeMap.has(uri)||(markerService_MarkerService._dedupeMap.set(uri,!0),last.push(uri));return last}}var storage=__webpack_require__(2362),menuService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},menuService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let MenuService=class MenuService{constructor(_commandService){this._commandService=_commandService}createMenu(id,contextKeyService){return new menuService_Menu(id,this._commandService,contextKeyService,this)}};MenuService=menuService_decorate([menuService_param(0,commands.b)],MenuService);let menuService_Menu=class Menu{constructor(_id,_commandService,_contextKeyService,_menuService){this._id=_id,this._commandService=_commandService,this._contextKeyService=_contextKeyService,this._menuService=_menuService,this._onDidChange=new common_event.a,this._dispoables=new lifecycle.b,this._menuGroups=[],this._contextKeys=new Set,this._build(),this._dispoables.add(common_event.b.debounce(common_event.b.filter(actions_common_actions.d.onDidChangeMenu,set=>set.has(this._id)),()=>{},50)(this._build,this)),this._dispoables.add(common_event.b.debounce(this._contextKeyService.onDidChangeContext,(last,event)=>last||event.affectsSome(this._contextKeys),50)(e=>e&&this._onDidChange.fire(void 0),this))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const menuItems=actions_common_actions.d.getMenuItems(this._id);let group;menuItems.sort(Menu._compareMenuItems);for(let item of menuItems){const groupName=item.group||"";if(group&&group[0]===groupName||(group=[groupName,[]],this._menuGroups.push(group)),group[1].push(item),Menu._fillInKbExprKeys(item.when,this._contextKeys),Object(actions_common_actions.f)(item)&&item.command.precondition&&Menu._fillInKbExprKeys(item.command.precondition,this._contextKeys),Object(actions_common_actions.f)(item)&&item.command.toggled){const toggledExpression=item.command.toggled.condition||item.command.toggled;Menu._fillInKbExprKeys(toggledExpression,this._contextKeys)}}this._onDidChange.fire(this)}get onDidChange(){return this._onDidChange.event}getActions(options){const result=[];for(let group of this._menuGroups){const[id,items]=group,activeActions=[];for(const item of items)if(this._contextKeyService.contextMatchesRules(item.when)){const action=Object(actions_common_actions.f)(item)?new actions_common_actions.c(item.command,item.alt,options,this._contextKeyService,this._commandService):new actions_common_actions.e(item,this._menuService,this._contextKeyService,options);activeActions.push(action)}activeActions.length>0&&result.push([id,activeActions])}return result}static _fillInKbExprKeys(exp,set){if(exp)for(let key of exp.keys())set.add(key)}static _compareMenuItems(a,b){let aGroup=a.group,bGroup=b.group;if(aGroup!==bGroup){if(!aGroup)return 1;if(!bGroup)return-1;if("navigation"===aGroup)return-1;if("navigation"===bGroup)return 1;let value=aGroup.localeCompare(bGroup);if(0!==value)return value}let aPrio=a.order||0,bPrio=b.order||0;return aPrio<bPrio?-1:aPrio>bPrio?1:Menu._compareTitles(Object(actions_common_actions.f)(a)?a.command.title:a.title,Object(actions_common_actions.f)(b)?b.command.title:b.title)}static _compareTitles(a,b){const aStr="string"==typeof a?a:a.value,bStr="string"==typeof b?b:b.value;return aStr.localeCompare(bStr)}};menuService_Menu=menuService_decorate([menuService_param(1,commands.b),menuService_param(2,contextkey.b),menuService_param(3,actions_common_actions.a)],menuService_Menu);var markersDecorationService=__webpack_require__(2489),markerDecorationsServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};function MODEL_ID(resource){return resource.toString()}class markerDecorationsServiceImpl_MarkerDecorations extends lifecycle.a{constructor(model){super(),this.model=model,this._markersData=new Map,this._register(Object(lifecycle.h)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(markers,newDecorations){const oldIds=[...this._markersData.keys()];this._markersData.clear();const ids=this.model.deltaDecorations(oldIds,newDecorations);for(let index=0;index<ids.length;index++)this._markersData.set(ids[index],markers[index]);return 0!==oldIds.length||0!==ids.length}getMarker(decoration){return this._markersData.get(decoration.id)}}let markerDecorationsServiceImpl_MarkerDecorationsService=class MarkerDecorationsService extends lifecycle.a{constructor(modelService,_markerService){super(),this._markerService=_markerService,this._onDidChangeMarker=this._register(new common_event.a),this._markerDecorations=new Map,modelService.getModels().forEach(model=>this._onModelAdded(model)),this._register(modelService.onModelAdded(this._onModelAdded,this)),this._register(modelService.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(value=>value.dispose()),this._markerDecorations.clear()}getMarker(model,decoration){const markerDecorations=this._markerDecorations.get(MODEL_ID(model.uri));return markerDecorations&&markerDecorations.getMarker(decoration)||null}_handleMarkerChange(changedResources){changedResources.forEach(resource=>{const markerDecorations=this._markerDecorations.get(MODEL_ID(resource));markerDecorations&&this._updateDecorations(markerDecorations)})}_onModelAdded(model){const markerDecorations=new markerDecorationsServiceImpl_MarkerDecorations(model);this._markerDecorations.set(MODEL_ID(model.uri),markerDecorations),this._updateDecorations(markerDecorations)}_onModelRemoved(model){const markerDecorations=this._markerDecorations.get(MODEL_ID(model.uri));markerDecorations&&(markerDecorations.dispose(),this._markerDecorations.delete(MODEL_ID(model.uri))),model.uri.scheme!==network.b.inMemory&&model.uri.scheme!==network.b.internal&&model.uri.scheme!==network.b.vscode||this._markerService&&this._markerService.read({resource:model.uri}).map(marker=>marker.owner).forEach(owner=>this._markerService.remove(owner,[model.uri]))}_updateDecorations(markerDecorations){const markers=this._markerService.read({resource:markerDecorations.model.uri,take:500});let newModelDecorations=markers.map(marker=>({range:this._createDecorationRange(markerDecorations.model,marker),options:this._createDecorationOption(marker)}));markerDecorations.update(markers,newModelDecorations)&&this._onDidChangeMarker.fire(markerDecorations.model)}_createDecorationRange(model,rawMarker){let ret=core_range.a.lift(rawMarker);if(rawMarker.severity!==common_markers.c.Hint||this._hasMarkerTag(rawMarker,1)||this._hasMarkerTag(rawMarker,2)||(ret=ret.setEndPosition(ret.startLineNumber,ret.startColumn+2)),(ret=model.validateRange(ret)).isEmpty()){let word=model.getWordAtPosition(ret.getStartPosition());if(word)ret=new core_range.a(ret.startLineNumber,word.startColumn,ret.endLineNumber,word.endColumn);else{let maxColumn=model.getLineLastNonWhitespaceColumn(ret.startLineNumber)||model.getLineMaxColumn(ret.startLineNumber);1===maxColumn||(ret=ret.endColumn>=maxColumn?new core_range.a(ret.startLineNumber,maxColumn-1,ret.endLineNumber,maxColumn):new core_range.a(ret.startLineNumber,ret.startColumn,ret.endLineNumber,ret.endColumn+1))}}else if(rawMarker.endColumn===Number.MAX_VALUE&&1===rawMarker.startColumn&&ret.startLineNumber===ret.endLineNumber){let minColumn=model.getLineFirstNonWhitespaceColumn(rawMarker.startLineNumber);minColumn<ret.endColumn&&(ret=new core_range.a(ret.startLineNumber,minColumn,ret.endLineNumber,ret.endColumn),rawMarker.startColumn=minColumn)}return ret}_createDecorationOption(marker){let className,zIndex,minimap,color=void 0,inlineClassName=void 0;switch(marker.severity){case common_markers.c.Hint:className=this._hasMarkerTag(marker,2)?void 0:this._hasMarkerTag(marker,1)?"squiggly-unnecessary":"squiggly-hint",zIndex=0;break;case common_markers.c.Warning:className="squiggly-warning",color=Object(common_themeService.h)(editorColorRegistry.t),zIndex=20,minimap={color:Object(common_themeService.h)(colorRegistry.Tb),position:common_model.c.Inline};break;case common_markers.c.Info:className="squiggly-info",color=Object(common_themeService.h)(editorColorRegistry.r),zIndex=10;break;case common_markers.c.Error:default:className="squiggly-error",color=Object(common_themeService.h)(editorColorRegistry.q),zIndex=30,minimap={color:Object(common_themeService.h)(colorRegistry.Nb),position:common_model.c.Inline}}return marker.tags&&(-1!==marker.tags.indexOf(1)&&(inlineClassName="squiggly-inline-unnecessary"),-1!==marker.tags.indexOf(2)&&(inlineClassName="squiggly-inline-deprecated")),{stickiness:1,className:className,showIfCollapsed:!0,overviewRuler:{color:color,position:common_model.d.Right},minimap:minimap,zIndex:zIndex,inlineClassName:inlineClassName}}_hasMarkerTag(marker,tag){return!!marker.tags&&marker.tags.indexOf(tag)>=0}};markerDecorationsServiceImpl_MarkerDecorationsService=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([markerDecorationsServiceImpl_param(0,services_modelService.a),markerDecorationsServiceImpl_param(1,common_markers.b)],markerDecorationsServiceImpl_MarkerDecorationsService);var extensions=__webpack_require__(2361),accessibilityService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let accessibilityService_AccessibilityService=class AccessibilityService extends lifecycle.a{constructor(_contextKeyService,_configurationService){super(),this._contextKeyService=_contextKeyService,this._configurationService=_configurationService,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new common_event.a,this._accessibilityModeEnabledContext=accessibility.a.bindTo(this._contextKeyService);const updateContextKey=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(updateContextKey(),this._onDidChangeScreenReaderOptimized.fire())})),updateContextKey(),this.onDidChangeScreenReaderOptimized(()=>updateContextKey())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const config=this._configurationService.getValue("editor.accessibilitySupport");return"on"===config||"auto"===config&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};accessibilityService_AccessibilityService=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([accessibilityService_param(0,contextkey.b),accessibilityService_param(1,common_configuration.a)],accessibilityService_AccessibilityService);var clipboardService_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class clipboardService_BrowserClipboardService{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(text,type){return clipboardService_awaiter(this,void 0,void 0,function*(){if(type)return void this.mapTextToType.set(type,text);try{return yield navigator.clipboard.writeText(text)}catch(error){console.error(error)}const activeElement=document.activeElement,textArea=document.body.appendChild(Object(dom.a)("textarea",{"aria-hidden":!0}));textArea.style.height="1px",textArea.style.width="1px",textArea.style.position="absolute",textArea.value=text,textArea.focus(),textArea.select(),document.execCommand("copy"),activeElement instanceof HTMLElement&&activeElement.focus(),document.body.removeChild(textArea)})}readText(type){return clipboardService_awaiter(this,void 0,void 0,function*(){if(type)return this.mapTextToType.get(type)||"";try{return yield navigator.clipboard.readText()}catch(error){return console.error(error),""}})}readFindText(){return clipboardService_awaiter(this,void 0,void 0,function*(){return this.findText})}writeFindText(text){return clipboardService_awaiter(this,void 0,void 0,function*(){this.findText=text})}}var undoRedo=__webpack_require__(2415),undoRedoService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},undoRedoService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},undoRedoService_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function getResourceLabel(resource){return resource.scheme===network.b.file?resource.fsPath:resource.path}let stackElementCounter=0;class ResourceStackElement{constructor(actual,resourceLabel,strResource){this.id=++stackElementCounter,this.type=0,this.actual=actual,this.label=actual.label,this.resourceLabel=resourceLabel,this.strResource=strResource,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.isValid=!0}setValid(isValid){this.isValid=isValid}toString(){return`[${this.id}] [${this.isValid?"VALID":"INVALID"}] ${this.actual}`}}class ResourceReasonPair{constructor(resourceLabel,reason){this.resourceLabel=resourceLabel,this.reason=reason}}class undoRedoService_RemovedResources{constructor(){this.elements=new Map}createMessage(){const externalRemoval=[],noParallelUniverses=[];for(const[,element]of this.elements){(0===element.reason?externalRemoval:noParallelUniverses).push(element.resourceLabel)}let messages=[];return externalRemoval.length>0&&messages.push(nls.a({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",externalRemoval.join(", "))),noParallelUniverses.length>0&&messages.push(nls.a({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",noParallelUniverses.join(", "))),messages.join("\n")}get size(){return this.elements.size}has(strResource){return this.elements.has(strResource)}set(strResource,value){this.elements.set(strResource,value)}delete(strResource){return this.elements.delete(strResource)}}class WorkspaceStackElement{constructor(actual,resourceLabels,strResources){this.id=++stackElementCounter,this.type=1,this.actual=actual,this.label=actual.label,this.resourceLabels=resourceLabels,this.strResources=strResources,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(resourceLabel,strResource,reason){this.removedResources||(this.removedResources=new undoRedoService_RemovedResources),this.removedResources.has(strResource)||this.removedResources.set(strResource,new ResourceReasonPair(resourceLabel,reason))}setValid(resourceLabel,strResource,isValid){isValid?this.invalidatedResources&&(this.invalidatedResources.delete(strResource),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new undoRedoService_RemovedResources),this.invalidatedResources.has(strResource)||this.invalidatedResources.set(strResource,new ResourceReasonPair(resourceLabel,0)))}toString(){return`[${this.id}] [${this.invalidatedResources?"INVALID":"VALID"}] ${this.actual}`}}class undoRedoService_ResourceEditStack{constructor(resourceLabel,strResource){this.resourceLabel=resourceLabel,this.strResource=strResource,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const element of this._past)1===element.type&&element.removeResource(this.resourceLabel,this.strResource,0);for(const element of this._future)1===element.type&&element.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let result=[];result.push(`* ${this.strResource}:`);for(let i=0;i<this._past.length;i++)result.push(`   * [UNDO] ${this._past[i]}`);for(let i=this._future.length-1;i>=0;i--)result.push(`   * [REDO] ${this._future[i]}`);return result.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(element,isValid){1===element.type?element.setValid(this.resourceLabel,this.strResource,isValid):element.setValid(isValid)}setElementsValidFlag(isValid,filter){for(const element of this._past)filter(element.actual)&&this._setElementValidFlag(element,isValid);for(const element of this._future)filter(element.actual)&&this._setElementValidFlag(element,isValid)}pushElement(element){for(const futureElement of this._future)1===futureElement.type&&futureElement.removeResource(this.resourceLabel,this.strResource,1);if(this._future=[],this._past.length>0){const lastElement=this._past[this._past.length-1];0!==lastElement.type||lastElement.isValid||(this._past=[])}this._past.push(element),this.versionId++}createSnapshot(resource){const elements=[];for(let i=0,len=this._past.length;i<len;i++)elements.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)elements.push(this._future[i].id);return new undoRedo.b(resource,elements)}restoreSnapshot(snapshot){const snapshotLength=snapshot.elements.length;let isOK=!0,snapshotIndex=0,removePastAfter=-1;for(let i=0,len=this._past.length;i<len;i++,snapshotIndex++){const element=this._past[i];isOK&&(snapshotIndex>=snapshotLength||element.id!==snapshot.elements[snapshotIndex])&&(isOK=!1,removePastAfter=0),isOK||1!==element.type||element.removeResource(this.resourceLabel,this.strResource,0)}let removeFutureBefore=-1;for(let i=this._future.length-1;i>=0;i--,snapshotIndex++){const element=this._future[i];isOK&&(snapshotIndex>=snapshotLength||element.id!==snapshot.elements[snapshotIndex])&&(isOK=!1,removeFutureBefore=i),isOK||1!==element.type||element.removeResource(this.resourceLabel,this.strResource,0)}-1!==removePastAfter&&(this._past=this._past.slice(0,removePastAfter)),-1!==removeFutureBefore&&(this._future=this._future.slice(removeFutureBefore+1)),this.versionId++}getElements(){const past=[],future=[];for(const element of this._past)past.push(element.actual);for(const element of this._future)future.push(element.actual);return{past:past,future:future}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(toRemove,individualMap){for(let j=this._past.length-1;j>=0;j--)if(this._past[j]===toRemove){individualMap.has(this.strResource)?this._past[j]=individualMap.get(this.strResource):this._past.splice(j,1);break}this.versionId++}splitFutureWorkspaceElement(toRemove,individualMap){for(let j=this._future.length-1;j>=0;j--)if(this._future[j]===toRemove){individualMap.has(this.strResource)?this._future[j]=individualMap.get(this.strResource):this._future.splice(j,1);break}this.versionId++}moveBackward(element){this._past.pop(),this._future.push(element),this.versionId++}moveForward(element){this._future.pop(),this._past.push(element),this.versionId++}}class EditStackSnapshot{constructor(editStacks){this.editStacks=editStacks,this._versionIds=[];for(let i=0,len=this.editStacks.length;i<len;i++)this._versionIds[i]=this.editStacks[i].versionId}isValid(){for(let i=0,len=this.editStacks.length;i<len;i++)if(this._versionIds[i]!==this.editStacks[i].versionId)return!1;return!0}}const missingEditStack=new undoRedoService_ResourceEditStack("","");missingEditStack.locked=!0;let undoRedoService_UndoRedoService=class UndoRedoService{constructor(_dialogService,_notificationService){this._dialogService=_dialogService,this._notificationService=_notificationService,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(resource){for(const uriComparisonKeyComputer of this._uriComparisonKeyComputers)if(uriComparisonKeyComputer[0]===resource.scheme)return uriComparisonKeyComputer[1].getComparisonKey(resource);return resource.toString()}_print(label){console.log("------------------------------------"),console.log(`AFTER ${label}: `);let str=[];for(const element of this._editStacks)str.push(element[1].toString());console.log(str.join("\n"))}pushElement(element){if(0===element.type){const resourceLabel=getResourceLabel(element.resource),strResource=this.getUriComparisonKey(element.resource);this._pushElement(new ResourceStackElement(element,resourceLabel,strResource))}else{const seen=new Set,resourceLabels=[],strResources=[];for(const resource of element.resources){const resourceLabel=getResourceLabel(resource),strResource=this.getUriComparisonKey(resource);seen.has(strResource)||(seen.add(strResource),resourceLabels.push(resourceLabel),strResources.push(strResource))}1===resourceLabels.length?this._pushElement(new ResourceStackElement(element,resourceLabels[0],strResources[0])):this._pushElement(new WorkspaceStackElement(element,resourceLabels,strResources))}}_pushElement(element){for(let i=0,len=element.strResources.length;i<len;i++){const resourceLabel=element.resourceLabels[i],strResource=element.strResources[i];let editStack;this._editStacks.has(strResource)?editStack=this._editStacks.get(strResource):(editStack=new undoRedoService_ResourceEditStack(resourceLabel,strResource),this._editStacks.set(strResource,editStack)),editStack.pushElement(element)}}getLastElement(resource){const strResource=this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){const editStack=this._editStacks.get(strResource);if(editStack.hasFutureElements())return null;const closestPastElement=editStack.getClosestPastElement();return closestPastElement?closestPastElement.actual:null}return null}_splitPastWorkspaceElement(toRemove,ignoreResources){const individualArr=toRemove.actual.split(),individualMap=new Map;for(const _element of individualArr){const resourceLabel=getResourceLabel(_element.resource),strResource=this.getUriComparisonKey(_element.resource),element=new ResourceStackElement(_element,resourceLabel,strResource);individualMap.set(element.strResource,element)}for(const strResource of toRemove.strResources){if(ignoreResources&&ignoreResources.has(strResource))continue;this._editStacks.get(strResource).splitPastWorkspaceElement(toRemove,individualMap)}}_splitFutureWorkspaceElement(toRemove,ignoreResources){const individualArr=toRemove.actual.split(),individualMap=new Map;for(const _element of individualArr){const resourceLabel=getResourceLabel(_element.resource),strResource=this.getUriComparisonKey(_element.resource),element=new ResourceStackElement(_element,resourceLabel,strResource);individualMap.set(element.strResource,element)}for(const strResource of toRemove.strResources){if(ignoreResources&&ignoreResources.has(strResource))continue;this._editStacks.get(strResource).splitFutureWorkspaceElement(toRemove,individualMap)}}removeElements(resource){const strResource="string"==typeof resource?resource:this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){this._editStacks.get(strResource).dispose(),this._editStacks.delete(strResource)}}setElementsValidFlag(resource,isValid,filter){const strResource=this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){this._editStacks.get(strResource).setElementsValidFlag(isValid,filter)}}createSnapshot(resource){const strResource=this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){return this._editStacks.get(strResource).createSnapshot(resource)}return new undoRedo.b(resource,[])}restoreSnapshot(snapshot){const strResource=this.getUriComparisonKey(snapshot.resource);if(this._editStacks.has(strResource)){const editStack=this._editStacks.get(strResource);editStack.restoreSnapshot(snapshot),editStack.hasPastElements()||editStack.hasFutureElements()||(editStack.dispose(),this._editStacks.delete(strResource))}}getElements(resource){const strResource=this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){return this._editStacks.get(strResource).getElements()}return{past:[],future:[]}}canUndo(resource){const strResource=this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){return this._editStacks.get(strResource).hasPastElements()}return!1}_onError(err,element){Object(errors.e)(err);for(const strResource of element.strResources)this.removeElements(strResource);this._notificationService.error(err)}_acquireLocks(editStackSnapshot){for(const editStack of editStackSnapshot.editStacks)if(editStack.locked)throw new Error("Cannot acquire edit stack lock");for(const editStack of editStackSnapshot.editStacks)editStack.locked=!0;return()=>{for(const editStack of editStackSnapshot.editStacks)editStack.locked=!1}}_safeInvokeWithLocks(element,invoke,editStackSnapshot,cleanup=lifecycle.a.None){const releaseLocks=this._acquireLocks(editStackSnapshot);let result;try{result=invoke()}catch(err){return releaseLocks(),cleanup.dispose(),this._onError(err,element)}if(result)return result.then(()=>{releaseLocks(),cleanup.dispose()},err=>(releaseLocks(),cleanup.dispose(),this._onError(err,element)));releaseLocks(),cleanup.dispose()}_invokeWorkspacePrepare(element){return undoRedoService_awaiter(this,void 0,void 0,function*(){if(void 0===element.actual.prepareUndoRedo)return lifecycle.a.None;const result=element.actual.prepareUndoRedo();return void 0===result?lifecycle.a.None:result})}_invokeResourcePrepare(element,callback){if(1!==element.actual.type||void 0===element.actual.prepareUndoRedo)return void callback(lifecycle.a.None);const r=element.actual.prepareUndoRedo();if(r){if(!Object(lifecycle.g)(r))return r.then(disposable=>{callback(disposable)});callback(r)}else callback(lifecycle.a.None)}_getAffectedEditStacks(element){const affectedEditStacks=[];for(const strResource of element.strResources)affectedEditStacks.push(this._editStacks.get(strResource)||missingEditStack);return new EditStackSnapshot(affectedEditStacks)}_tryToSplitAndUndo(strResource,element,ignoreResources,message){if(element.canSplit())return this._splitPastWorkspaceElement(element,ignoreResources),this._notificationService.info(message),new WorkspaceVerificationError(this.undo(strResource));for(const strResource of element.strResources)this.removeElements(strResource);return this._notificationService.info(message),new WorkspaceVerificationError}_checkWorkspaceUndo(strResource,element,editStackSnapshot,checkInvalidatedResources){if(element.removedResources)return this._tryToSplitAndUndo(strResource,element,element.removedResources,nls.a({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",element.label,element.removedResources.createMessage()));if(checkInvalidatedResources&&element.invalidatedResources)return this._tryToSplitAndUndo(strResource,element,element.invalidatedResources,nls.a({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",element.label,element.invalidatedResources.createMessage()));const cannotUndoDueToResources=[];for(const editStack of editStackSnapshot.editStacks)editStack.getClosestPastElement()!==element&&cannotUndoDueToResources.push(editStack.resourceLabel);if(cannotUndoDueToResources.length>0)return this._tryToSplitAndUndo(strResource,element,null,nls.a({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",element.label,cannotUndoDueToResources.join(", ")));const cannotLockDueToResources=[];for(const editStack of editStackSnapshot.editStacks)editStack.locked&&cannotLockDueToResources.push(editStack.resourceLabel);return cannotLockDueToResources.length>0?this._tryToSplitAndUndo(strResource,element,null,nls.a({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",element.label,cannotLockDueToResources.join(", "))):editStackSnapshot.isValid()?null:this._tryToSplitAndUndo(strResource,element,null,nls.a({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",element.label))}_workspaceUndo(strResource,element){const affectedEditStacks=this._getAffectedEditStacks(element),verificationError=this._checkWorkspaceUndo(strResource,element,affectedEditStacks,!1);return verificationError?verificationError.returnValue:this._confirmAndExecuteWorkspaceUndo(strResource,element,affectedEditStacks)}_confirmAndExecuteWorkspaceUndo(strResource,element,editStackSnapshot){return undoRedoService_awaiter(this,void 0,void 0,function*(){if(element.canSplit()){const result=yield this._dialogService.show(common_severity.a.Info,nls.a("confirmWorkspace","Would you like to undo '{0}' across all files?",element.label),[nls.a({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",editStackSnapshot.editStacks.length),nls.a("nok","Undo this File"),nls.a("cancel","Cancel")],{cancelId:2});if(2===result.choice)return;if(1===result.choice)return this._splitPastWorkspaceElement(element,null),this.undo(strResource);const verificationError1=this._checkWorkspaceUndo(strResource,element,editStackSnapshot,!1);if(verificationError1)return verificationError1.returnValue}let cleanup;try{cleanup=yield this._invokeWorkspacePrepare(element)}catch(err){return this._onError(err,element)}const verificationError2=this._checkWorkspaceUndo(strResource,element,editStackSnapshot,!0);if(verificationError2)return cleanup.dispose(),verificationError2.returnValue;for(const editStack of editStackSnapshot.editStacks)editStack.moveBackward(element);return this._safeInvokeWithLocks(element,()=>element.actual.undo(),editStackSnapshot,cleanup)})}_resourceUndo(editStack,element){if(element.isValid){if(!editStack.locked)return this._invokeResourcePrepare(element,cleanup=>(editStack.moveBackward(element),this._safeInvokeWithLocks(element,()=>element.actual.undo(),new EditStackSnapshot([editStack]),cleanup)));{const message=nls.a({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",element.label);this._notificationService.info(message)}}else editStack.flushAllElements()}undo(resource){const strResource="string"==typeof resource?resource:this.getUriComparisonKey(resource);if(!this._editStacks.has(strResource))return;const editStack=this._editStacks.get(strResource),element=editStack.getClosestPastElement();if(element)try{return 1===element.type?this._workspaceUndo(strResource,element):this._resourceUndo(editStack,element)}finally{0}}canRedo(resource){const strResource=this.getUriComparisonKey(resource);if(this._editStacks.has(strResource)){return this._editStacks.get(strResource).hasFutureElements()}return!1}_tryToSplitAndRedo(strResource,element,ignoreResources,message){if(element.canSplit())return this._splitFutureWorkspaceElement(element,ignoreResources),this._notificationService.info(message),new WorkspaceVerificationError(this.redo(strResource));for(const strResource of element.strResources)this.removeElements(strResource);return this._notificationService.info(message),new WorkspaceVerificationError}_checkWorkspaceRedo(strResource,element,editStackSnapshot,checkInvalidatedResources){if(element.removedResources)return this._tryToSplitAndRedo(strResource,element,element.removedResources,nls.a({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",element.label,element.removedResources.createMessage()));if(checkInvalidatedResources&&element.invalidatedResources)return this._tryToSplitAndRedo(strResource,element,element.invalidatedResources,nls.a({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",element.label,element.invalidatedResources.createMessage()));const cannotRedoDueToResources=[];for(const editStack of editStackSnapshot.editStacks)editStack.getClosestFutureElement()!==element&&cannotRedoDueToResources.push(editStack.resourceLabel);if(cannotRedoDueToResources.length>0)return this._tryToSplitAndRedo(strResource,element,null,nls.a({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",element.label,cannotRedoDueToResources.join(", ")));const cannotLockDueToResources=[];for(const editStack of editStackSnapshot.editStacks)editStack.locked&&cannotLockDueToResources.push(editStack.resourceLabel);return cannotLockDueToResources.length>0?this._tryToSplitAndRedo(strResource,element,null,nls.a({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",element.label,cannotLockDueToResources.join(", "))):editStackSnapshot.isValid()?null:this._tryToSplitAndRedo(strResource,element,null,nls.a({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",element.label))}_workspaceRedo(strResource,element){const affectedEditStacks=this._getAffectedEditStacks(element),verificationError=this._checkWorkspaceRedo(strResource,element,affectedEditStacks,!1);return verificationError?verificationError.returnValue:this._executeWorkspaceRedo(strResource,element,affectedEditStacks)}_executeWorkspaceRedo(strResource,element,editStackSnapshot){return undoRedoService_awaiter(this,void 0,void 0,function*(){let cleanup;try{cleanup=yield this._invokeWorkspacePrepare(element)}catch(err){return this._onError(err,element)}const verificationError=this._checkWorkspaceRedo(strResource,element,editStackSnapshot,!0);if(verificationError)return cleanup.dispose(),verificationError.returnValue;for(const editStack of editStackSnapshot.editStacks)editStack.moveForward(element);return this._safeInvokeWithLocks(element,()=>element.actual.redo(),editStackSnapshot,cleanup)})}_resourceRedo(editStack,element){if(element.isValid){if(!editStack.locked)return this._invokeResourcePrepare(element,cleanup=>(editStack.moveForward(element),this._safeInvokeWithLocks(element,()=>element.actual.redo(),new EditStackSnapshot([editStack]),cleanup)));{const message=nls.a({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",element.label);this._notificationService.info(message)}}else editStack.flushAllElements()}redo(resource){const strResource="string"==typeof resource?resource:this.getUriComparisonKey(resource);if(!this._editStacks.has(strResource))return;const editStack=this._editStacks.get(strResource),element=editStack.getClosestFutureElement();if(element)try{return 1===element.type?this._workspaceRedo(strResource,element):this._resourceRedo(editStack,element)}finally{0}}};undoRedoService_UndoRedoService=undoRedoService_decorate([undoRedoService_param(0,dialogs.a),undoRedoService_param(1,common_notification.a)],undoRedoService_UndoRedoService);class WorkspaceVerificationError{constructor(returnValue){this.returnValue=returnValue}}Object(extensions.b)(undoRedo.a,undoRedoService_UndoRedoService);__webpack_require__(2653),__webpack_require__(2420);var common_quickInput=__webpack_require__(2434),common_codicon=__webpack_require__(2462);const intlFileNameCollatorBaseNumeric=new common_async.b(()=>{const collator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:collator,collatorIsNumeric:collator.resolvedOptions().numeric}});function compareAnything(one,other,lookFor){const elementAName=one.toLowerCase(),elementBName=other.toLowerCase(),prefixCompare=function compareByPrefix(one,other,lookFor){const elementAName=one.toLowerCase(),elementBName=other.toLowerCase(),elementAPrefixMatch=elementAName.startsWith(lookFor),elementBPrefixMatch=elementBName.startsWith(lookFor);if(elementAPrefixMatch!==elementBPrefixMatch)return elementAPrefixMatch?-1:1;if(elementAPrefixMatch&&elementBPrefixMatch){if(elementAName.length<elementBName.length)return-1;if(elementAName.length>elementBName.length)return 1}return 0}(one,other,lookFor);if(prefixCompare)return prefixCompare;const elementASuffixMatch=elementAName.endsWith(lookFor);if(elementASuffixMatch!==elementBName.endsWith(lookFor))return elementASuffixMatch?-1:1;const r=function compareFileNames(one,other,caseSensitive=!1){const a=one||"",b=other||"",result=intlFileNameCollatorBaseNumeric.value.collator.compare(a,b);return intlFileNameCollatorBaseNumeric.value.collatorIsNumeric&&0===result&&a!==b?a<b?-1:1:result}(elementAName,elementBName);return 0!==r?r:elementAName.localeCompare(elementBName)}var iconLabel=__webpack_require__(2443),highlightedLabel=__webpack_require__(2444),decorators=__webpack_require__(2384),idGenerator=__webpack_require__(2391);const iconPathToClass={},iconClassGenerator=new idGenerator.a("quick-input-button-icon-");function getIconClass(iconPath){if(!iconPath)return;let iconClass;const key=iconPath.dark.toString();return iconPathToClass[key]?iconClass=iconPathToClass[key]:(iconClass=iconClassGenerator.nextId(),dom.u(`.${iconClass}`,`background-image: ${dom.q(iconPath.light||iconPath.dark)}`),dom.u(`.vs-dark .${iconClass}, .hc-black .${iconClass}`,`background-image: ${dom.q(iconPath.dark)}`),iconPathToClass[key]=iconClass),iconClass}__webpack_require__(2656);const $=dom.a;class keybindingLabel_KeybindingLabel{constructor(container,os,options){this.os=os,this.options=options,this.domNode=dom.p(container,$(".monaco-keybinding")),this.didEverRender=!1,container.appendChild(this.domNode)}set(keybinding,matches){this.didEverRender&&this.keybinding===keybinding&&keybindingLabel_KeybindingLabel.areSame(this.matches,matches)||(this.keybinding=keybinding,this.matches=matches,this.render())}render(){if(dom.s(this.domNode),this.keybinding){let[firstPart,chordPart]=this.keybinding.getParts();firstPart&&this.renderPart(this.domNode,firstPart,this.matches?this.matches.firstPart:null),chordPart&&(dom.p(this.domNode,$("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,chordPart,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}renderPart(parent,part,match){const modifierLabels=UILabelProvider.modifierLabels[this.os];part.ctrlKey&&this.renderKey(parent,modifierLabels.ctrlKey,Boolean(null==match?void 0:match.ctrlKey),modifierLabels.separator),part.shiftKey&&this.renderKey(parent,modifierLabels.shiftKey,Boolean(null==match?void 0:match.shiftKey),modifierLabels.separator),part.altKey&&this.renderKey(parent,modifierLabels.altKey,Boolean(null==match?void 0:match.altKey),modifierLabels.separator),part.metaKey&&this.renderKey(parent,modifierLabels.metaKey,Boolean(null==match?void 0:match.metaKey),modifierLabels.separator);const keyLabel=part.keyLabel;keyLabel&&this.renderKey(parent,keyLabel,Boolean(null==match?void 0:match.keyCode),"")}renderKey(parent,label,highlight,separator){dom.p(parent,$("span.monaco-keybinding-key"+(highlight?".highlight":""),void 0,label)),separator&&dom.p(parent,$("span.monaco-keybinding-key-separator",void 0,separator))}renderUnbound(parent){dom.p(parent,$("span.monaco-keybinding-key",void 0,Object(nls.a)("unbound","Unbound")))}static areSame(a,b){return a===b||!a&&!b||!!a&&!!b&&Object(objects.e)(a.firstPart,b.firstPart)&&Object(objects.e)(a.chordPart,b.chordPart)}}var quickInputList_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const quickInputList_$=dom.a;class quickInputList_ListElement{constructor(init){this.hidden=!1,this._onChecked=new common_event.a,this.onChecked=this._onChecked.event,Object(objects.a)(this,init)}get checked(){return!!this._checked}set checked(value){value!==this._checked&&(this._checked=value,this._onChecked.fire(value))}dispose(){this._onChecked.dispose()}}class quickInputList_ListElementRenderer{get templateId(){return quickInputList_ListElementRenderer.ID}renderTemplate(container){const data=Object.create(null);data.toDisposeElement=[],data.toDisposeTemplate=[],data.entry=dom.p(container,quickInputList_$(".quick-input-list-entry"));const label=dom.p(data.entry,quickInputList_$("label.quick-input-list-label"));data.toDisposeTemplate.push(dom.n(label,dom.c.CLICK,e=>{data.checkbox.offsetParent||e.preventDefault()})),data.checkbox=dom.p(label,quickInputList_$("input.quick-input-list-checkbox")),data.checkbox.type="checkbox",data.toDisposeTemplate.push(dom.n(data.checkbox,dom.c.CHANGE,e=>{data.element.checked=data.checkbox.checked}));const rows=dom.p(label,quickInputList_$(".quick-input-list-rows")),row1=dom.p(rows,quickInputList_$(".quick-input-list-row")),row2=dom.p(rows,quickInputList_$(".quick-input-list-row"));data.label=new iconLabel.a(row1,{supportHighlights:!0,supportDescriptionHighlights:!0,supportCodicons:!0});const keybindingContainer=dom.p(row1,quickInputList_$(".quick-input-list-entry-keybinding"));data.keybinding=new keybindingLabel_KeybindingLabel(keybindingContainer,platform.a);const detailContainer=dom.p(row2,quickInputList_$(".quick-input-list-label-meta"));return data.detail=new highlightedLabel.a(detailContainer,!0),data.separator=dom.p(data.entry,quickInputList_$(".quick-input-list-separator")),data.actionBar=new actionbar.a(data.entry),data.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),data.toDisposeTemplate.push(data.actionBar),data}renderElement(element,index,data){data.toDisposeElement=Object(lifecycle.f)(data.toDisposeElement),data.element=element,data.checkbox.checked=element.checked,data.toDisposeElement.push(element.onChecked(checked=>data.checkbox.checked=checked));const{labelHighlights:labelHighlights,descriptionHighlights:descriptionHighlights,detailHighlights:detailHighlights}=element,options=Object.create(null);options.matches=labelHighlights||[],options.descriptionTitle=element.saneDescription,options.descriptionMatches=descriptionHighlights||[],options.extraClasses=element.item.iconClasses,options.italic=element.item.italic,options.strikethrough=element.item.strikethrough,data.label.setLabel(element.saneLabel,element.saneDescription,options),data.keybinding.set(element.item.keybinding),data.detail.set(element.saneDetail,detailHighlights),element.separator&&element.separator.label?(data.separator.textContent=element.separator.label,data.separator.style.display=""):data.separator.style.display="none",element.separator?dom.e(data.entry,"quick-input-list-separator-border"):dom.Q(data.entry,"quick-input-list-separator-border"),data.actionBar.clear();const buttons=element.item.buttons;buttons&&buttons.length?(data.actionBar.push(buttons.map((button,index)=>{let cssClasses=button.iconClass||(button.iconPath?getIconClass(button.iconPath):void 0);button.alwaysVisible&&(cssClasses=cssClasses?`${cssClasses} always-visible`:"always-visible");const action=new common_actions.a(`id-${index}`,"",cssClasses,!0,()=>(element.fireButtonTriggered({button:button,item:element.item}),Promise.resolve()));return action.tooltip=button.tooltip||"",action}),{icon:!0,label:!1}),dom.e(data.entry,"has-actions")):dom.Q(data.entry,"has-actions")}disposeElement(element,index,data){data.toDisposeElement=Object(lifecycle.f)(data.toDisposeElement)}disposeTemplate(data){data.toDisposeElement=Object(lifecycle.f)(data.toDisposeElement),data.toDisposeTemplate=Object(lifecycle.f)(data.toDisposeTemplate)}}quickInputList_ListElementRenderer.ID="listelement";class ListElementDelegate{getHeight(element){return element.saneDetail?44:22}getTemplateId(element){return quickInputList_ListElementRenderer.ID}}var QuickInputListFocus;!function(QuickInputListFocus){QuickInputListFocus[QuickInputListFocus.First=1]="First",QuickInputListFocus[QuickInputListFocus.Second=2]="Second",QuickInputListFocus[QuickInputListFocus.Last=3]="Last",QuickInputListFocus[QuickInputListFocus.Next=4]="Next",QuickInputListFocus[QuickInputListFocus.Previous=5]="Previous",QuickInputListFocus[QuickInputListFocus.NextPage=6]="NextPage",QuickInputListFocus[QuickInputListFocus.PreviousPage=7]="PreviousPage"}(QuickInputListFocus||(QuickInputListFocus={}));class quickInputList_QuickInputList{constructor(parent,id,options){this.parent=parent,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new common_event.a,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new common_event.a,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new common_event.a,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new common_event.a,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new common_event.a,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new common_event.a,this.onKeyDown=this._onKeyDown.event,this._onLeave=new common_event.a,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=id,this.container=dom.p(this.parent,quickInputList_$(".quick-input-list"));const delegate=new ListElementDelegate,accessibilityProvider=new quickInputList_QuickInputAccessibilityProvider;this.list=options.createList("QuickInput",this.container,delegate,[new quickInputList_ListElementRenderer],{identityProvider:{getId:element=>element.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:accessibilityProvider}),this.list.getHTMLElement().id=id,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(e=>{const event=new browser_keyboardEvent.a(e);switch(event.keyCode){case 10:this.toggleCheckbox();break;case 31:(platform.f?e.metaKey:e.ctrlKey)&&this.list.setFocus(Object(arrays.s)(this.list.length));break;case 16:const focus1=this.list.getFocus();1===focus1.length&&0===focus1[0]&&this._onLeave.fire();break;case 18:const focus2=this.list.getFocus();1===focus2.length&&focus2[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(event)})),this.disposables.push(this.list.onMouseDown(e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()})),this.disposables.push(dom.i(this.container,dom.c.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(e=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return common_event.b.map(this.list.onDidChangeFocus,e=>e.elements.map(e=>e.item))}get onDidChangeSelection(){return common_event.b.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(e=>e.item),event:e.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(elements,whenNoneVisible=!0){for(let i=0,n=elements.length;i<n;i++){const element=elements[i];if(!element.hidden){if(!element.checked)return!1;whenNoneVisible=!0}}return whenNoneVisible}getCheckedCount(){let count=0;const elements=this.elements;for(let i=0,n=elements.length;i<n;i++)elements[i].checked&&count++;return count}getVisibleCount(){let count=0;const elements=this.elements;for(let i=0,n=elements.length;i<n;i++)elements[i].hidden||count++;return count}setAllVisibleChecked(checked){try{this._fireCheckedEvents=!1,this.elements.forEach(element=>{element.hidden||(element.checked=checked)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(inputElements){this.elementDisposables=Object(lifecycle.f)(this.elementDisposables);const fireButtonTriggered=event=>this.fireButtonTriggered(event);this.inputElements=inputElements,this.elements=inputElements.reduce((result,item,index)=>{var _a,_b,_c;if("separator"!==item.type){const previous=index&&inputElements[index-1],saneLabel=item.label&&item.label.replace(/\r?\n/g," "),saneDescription=item.description&&item.description.replace(/\r?\n/g," "),saneDetail=item.detail&&item.detail.replace(/\r?\n/g," "),saneAriaLabel=item.ariaLabel||[saneLabel,saneDescription,saneDetail].map(s=>s&&Object(common_codicon.c)(s).text).filter(s=>!!s).join(", ");result.push(new quickInputList_ListElement({index:index,item:item,saneLabel:saneLabel,saneAriaLabel:saneAriaLabel,saneDescription:saneDescription,saneDetail:saneDetail,labelHighlights:null===(_a=item.highlights)||void 0===_a?void 0:_a.label,descriptionHighlights:null===(_b=item.highlights)||void 0===_b?void 0:_b.description,detailHighlights:null===(_c=item.highlights)||void 0===_c?void 0:_c.detail,checked:!1,separator:previous&&"separator"===previous.type?previous:void 0,fireButtonTriggered:fireButtonTriggered}))}return result},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(element=>element.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((map,element,index)=>(map.set(element.item,index),map),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(items){if(this.list.setFocus(items.filter(item=>this.elementsToIndexes.has(item)).map(item=>this.elementsToIndexes.get(item))),items.length>0){const focused=this.list.getFocus()[0];"number"==typeof focused&&this.list.reveal(focused)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(items){this.list.setSelection(items.filter(item=>this.elementsToIndexes.has(item)).map(item=>this.elementsToIndexes.get(item)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(items){try{this._fireCheckedEvents=!1;const checked=new Set;for(const item of items)checked.add(item);for(const element of this.elements)element.checked=checked.has(element.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(value){this.list.getHTMLElement().style.pointerEvents=value?"":"none"}focus(what){if(!this.list.length)return;switch(what===QuickInputListFocus.Next&&this.list.getFocus()[0]===this.list.length-1&&(what=QuickInputListFocus.First),what===QuickInputListFocus.Previous&&0===this.list.getFocus()[0]&&(what=QuickInputListFocus.Last),what===QuickInputListFocus.Second&&this.list.length<2&&(what=QuickInputListFocus.First),what){case QuickInputListFocus.First:this.list.focusFirst();break;case QuickInputListFocus.Second:this.list.focusNth(1);break;case QuickInputListFocus.Last:this.list.focusLast();break;case QuickInputListFocus.Next:this.list.focusNext();break;case QuickInputListFocus.Previous:this.list.focusPrevious();break;case QuickInputListFocus.NextPage:this.list.focusNextPage();break;case QuickInputListFocus.PreviousPage:this.list.focusPreviousPage()}const focused=this.list.getFocus()[0];"number"==typeof focused&&this.list.reveal(focused)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(maxHeight){this.list.getHTMLElement().style.maxHeight=maxHeight?`calc(${44*Math.floor(maxHeight/44)}px)`:"",this.list.layout()}filter(query){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;(query=query.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)?this.elements.forEach(element=>{const labelHighlights=this.matchOnLabel?Object(types.n)(Object(common_codicon.b)(query,Object(common_codicon.c)(element.saneLabel))):void 0,descriptionHighlights=this.matchOnDescription?Object(types.n)(Object(common_codicon.b)(query,Object(common_codicon.c)(element.saneDescription||""))):void 0,detailHighlights=this.matchOnDetail?Object(types.n)(Object(common_codicon.b)(query,Object(common_codicon.c)(element.saneDetail||""))):void 0;labelHighlights||descriptionHighlights||detailHighlights?(element.labelHighlights=labelHighlights,element.descriptionHighlights=descriptionHighlights,element.detailHighlights=detailHighlights,element.hidden=!1):(element.labelHighlights=void 0,element.descriptionHighlights=void 0,element.detailHighlights=void 0,element.hidden=!element.item.alwaysShow),element.separator=void 0}):this.elements.forEach(element=>{element.labelHighlights=void 0,element.descriptionHighlights=void 0,element.detailHighlights=void 0,element.hidden=!1;const previous=element.index&&this.inputElements[element.index-1];element.separator=previous&&"separator"===previous.type?previous:void 0});const shownElements=this.elements.filter(element=>!element.hidden);if(this.sortByLabel&&query){const normalizedSearchValue=query.toLowerCase();shownElements.sort((a,b)=>(function compareEntries(elementA,elementB,lookFor){const labelHighlightsA=elementA.labelHighlights||[],labelHighlightsB=elementB.labelHighlights||[];if(labelHighlightsA.length&&!labelHighlightsB.length)return-1;if(!labelHighlightsA.length&&labelHighlightsB.length)return 1;if(0===labelHighlightsA.length&&0===labelHighlightsB.length)return 0;return compareAnything(elementA.saneLabel,elementB.saneLabel,lookFor)})(a,b,normalizedSearchValue))}return this.elementsToIndexes=shownElements.reduce((map,element,index)=>(map.set(element.item,index),map),new Map),this.list.splice(0,this.list.length,shownElements),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(shownElements.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const elements=this.list.getFocusedElements(),allChecked=this.allVisibleChecked(elements);for(const element of elements)element.checked=!allChecked}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(display){this.container.style.display=display?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=Object(lifecycle.f)(this.elementDisposables),this.disposables=Object(lifecycle.f)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(event){this._onButtonTriggered.fire(event)}style(styles){this.list.style(styles)}}quickInputList_decorate([decorators.a],quickInputList_QuickInputList.prototype,"onDidChangeFocus",null),quickInputList_decorate([decorators.a],quickInputList_QuickInputList.prototype,"onDidChangeSelection",null);class quickInputList_QuickInputAccessibilityProvider{getWidgetAriaLabel(){return Object(nls.a)("quickInput","Quick Input")}getAriaLabel(element){return element.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var inputbox_inputBox=__webpack_require__(2454);const quickInputBox_$=dom.a;class quickInputBox_QuickInputBox extends lifecycle.a{constructor(parent){super(),this.parent=parent,this.onKeyDown=handler=>dom.i(this.inputBox.inputElement,dom.c.KEY_DOWN,e=>{handler(new browser_keyboardEvent.a(e))}),this.onMouseDown=handler=>dom.i(this.inputBox.inputElement,dom.c.MOUSE_DOWN,e=>{handler(new browser_mouseEvent.a(e))}),this.onDidChange=handler=>this.inputBox.onDidChange(handler),this.container=dom.p(this.parent,quickInputBox_$(".quick-input-box")),this.inputBox=this._register(new inputbox_inputBox.b(this.container,void 0))}get value(){return this.inputBox.value}set value(value){this.inputBox.value=value}select(range=null){this.inputBox.select(range)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(placeholder){this.inputBox.setPlaceHolder(placeholder)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(ariaLabel){this.inputBox.setAriaLabel(ariaLabel)}get password(){return"password"===this.inputBox.inputElement.type}set password(password){this.inputBox.inputElement.type=password?"password":"text"}setAttribute(name,value){this.inputBox.inputElement.setAttribute(name,value)}removeAttribute(name){this.inputBox.inputElement.removeAttribute(name)}showDecoration(decoration){decoration===common_severity.a.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:decoration===common_severity.a.Info?1:decoration===common_severity.a.Warning?2:3,content:""})}stylesForType(decoration){return this.inputBox.stylesForType(decoration===common_severity.a.Info?1:decoration===common_severity.a.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(styles){this.inputBox.style(styles)}}var countBadge=__webpack_require__(2483);__webpack_require__(2658);const css_done="done",css_active="active",css_infinite="infinite",css_discrete="discrete",css_progress_container="monaco-progress-container",css_progress_bit="progress-bit",defaultOpts={progressBarBackground:common_color.a.fromHex("#0E70C0")};class progressbar_ProgressBar extends lifecycle.a{constructor(container,options){super(),this.options=options||Object.create(null),Object(objects.g)(this.options,defaultOpts,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new common_async.d(()=>Object(dom.Z)(this.element),0)),this.create(container)}create(container){this.element=document.createElement("div"),Object(dom.e)(this.element,css_progress_container),container.appendChild(this.element),this.bit=document.createElement("div"),Object(dom.e)(this.bit,css_progress_bit),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",Object(dom.R)(this.element,css_active,css_infinite,css_discrete),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(delayed){return Object(dom.e)(this.element,css_done),Object(dom.I)(this.element,css_infinite)?(this.bit.style.opacity="0",delayed?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",delayed?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",Object(dom.R)(this.element,css_discrete,css_done),Object(dom.f)(this.element,css_active,css_infinite),this}getContainer(){return this.element}style(styles){this.progressBarBackground=styles.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const background=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=background}}}__webpack_require__(2660);var touch=__webpack_require__(2348);const button_defaultOptions={buttonBackground:common_color.a.fromHex("#0E639C"),buttonHoverBackground:common_color.a.fromHex("#006BB3"),buttonForeground:common_color.a.white};class button_Button extends lifecycle.a{constructor(container,options){super(),this._onDidClick=this._register(new common_event.a),this.options=options||Object.create(null),Object(objects.g)(this.options,button_defaultOptions,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),dom.e(this._element,"monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),container.appendChild(this._element),this._register(touch.b.addTarget(this._element)),[dom.c.CLICK,touch.a.Tap].forEach(eventType=>{this._register(dom.i(this._element,eventType,e=>{this.enabled?this._onDidClick.fire(e):dom.b.stop(e)}))}),this._register(dom.i(this._element,dom.c.KEY_DOWN,e=>{const event=new browser_keyboardEvent.a(e);let eventHandled=!1;this.enabled&&(event.equals(3)||event.equals(10))?(this._onDidClick.fire(e),eventHandled=!0):event.equals(9)&&(this._element.blur(),eventHandled=!0),eventHandled&&dom.b.stop(event,!0)})),this._register(dom.i(this._element,dom.c.MOUSE_OVER,e=>{dom.I(this._element,"disabled")||this.setHoverBackground()})),this._register(dom.i(this._element,dom.c.MOUSE_OUT,e=>{this.applyStyles()})),this.focusTracker=this._register(dom.bb(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let hoverBackground;(hoverBackground=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null)&&(this._element.style.backgroundColor=hoverBackground)}style(styles){this.buttonForeground=styles.buttonForeground,this.buttonBackground=styles.buttonBackground,this.buttonHoverBackground=styles.buttonHoverBackground,this.buttonSecondaryForeground=styles.buttonSecondaryForeground,this.buttonSecondaryBackground=styles.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=styles.buttonSecondaryHoverBackground,this.buttonBorder=styles.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let background,foreground;this.options.secondary?(foreground=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",background=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(foreground=this.buttonForeground?this.buttonForeground.toString():"",background=this.buttonBackground?this.buttonBackground.toString():"");const border=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=foreground,this._element.style.backgroundColor=background,this._element.style.borderWidth=border?"1px":"",this._element.style.borderStyle=border?"solid":"",this._element.style.borderColor=border}}get element(){return this._element}set label(value){dom.I(this._element,"monaco-text-button")||dom.e(this._element,"monaco-text-button"),this.options.supportCodicons?dom.U(this._element,...function renderCodiconsAsElement(text){const elements=new Array;let match,textStart=0,textStop=0;for(;null!==(match=codicons.g.exec(text));){textStop=match.index||0,elements.push(text.substring(textStart,textStop)),textStart=(match.index||0)+match[0].length;const[,escaped,codicon,name,animation]=match;elements.push(escaped?`$(${codicon})`:dom.a(`span.codicon.codicon-${name}${animation?`.codicon-animation-${animation}`:""}`))}return textStart<text.length&&elements.push(text.substring(textStart)),elements}(value)):this._element.textContent=value,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=value)}set enabled(value){value?(dom.Q(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(dom.e(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!0)),dom.T(this._element))}get enabled(){return!dom.I(this._element,"disabled")}}var quickInput_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const quickInput_$=dom.a,backButton={iconClass:Object(codicons.e)("quick-input-back",codicons.a.arrowLeft).classNames,tooltip:Object(nls.a)("quickInput.back","Back"),handle:-1};class quickInput_QuickInput extends lifecycle.a{constructor(ui){super(),this.ui=ui,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new common_event.a),this.onDidHideEmitter=this._register(new common_event.a),this.onDisposeEmitter=this._register(new common_event.a),this.visibleDisposables=this._register(new lifecycle.b),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(title){this._title=title,this.update()}get description(){return this._description}set description(description){this._description=description,this.update()}get step(){return this._steps}set step(step){this._steps=step,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(totalSteps){this._totalSteps=totalSteps,this.update()}get enabled(){return this._enabled}set enabled(enabled){this._enabled=enabled,this.update()}get contextKey(){return this._contextKey}set contextKey(contextKey){this._contextKey=contextKey,this.update()}get busy(){return this._busy}set busy(busy){this._busy=busy,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(ignoreFocusOut){this._ignoreFocusOut=ignoreFocusOut,this.update()}get buttons(){return this._buttons}set buttons(buttons){this._buttons=buttons,this.buttonsUpdated=!0,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(button=>{-1!==this.buttons.indexOf(button)&&this.onDidTriggerButtonEmitter.fire(button)})),this.ui.show(this),this.visible=!0,this.update())}hide(){this.visible&&this.ui.hide()}didHide(){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire()}update(){if(!this.visible)return;const title=this.getTitle();title&&this.ui.title.textContent!==title?this.ui.title.textContent=title:title||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=";");const description=this.getDescription();if(this.ui.description.textContent!==description&&(this.ui.description.textContent=description),this.busy&&!this.busyDelay&&(this.busyDelay=new common_async.e,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const leftButtons=this.buttons.filter(button=>button===backButton);this.ui.leftActionBar.push(leftButtons.map((button,index)=>{const action=new common_actions.a(`id-${index}`,"",button.iconClass||getIconClass(button.iconPath),!0,()=>quickInput_awaiter(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(button)}));return action.tooltip=button.tooltip||"",action}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const rightButtons=this.buttons.filter(button=>button!==backButton);this.ui.rightActionBar.push(rightButtons.map((button,index)=>{const action=new common_actions.a(`id-${index}`,"",button.iconClass||getIconClass(button.iconPath),!0,()=>quickInput_awaiter(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(button)}));return action.tooltip=button.tooltip||"",action}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?Object(nls.a)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(severity){if(this.ui.inputBox.showDecoration(severity),severity===common_severity.a.Error){const styles=this.ui.inputBox.stylesForType(severity);this.ui.message.style.color=styles.foreground?`${styles.foreground}`:"",this.ui.message.style.backgroundColor=styles.background?`${styles.background}`:"",this.ui.message.style.border=styles.border?`1px solid ${styles.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class quickInput_QuickPick extends quickInput_QuickInput{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new common_event.a),this.onDidAcceptEmitter=this._register(new common_event.a),this.onDidCustomEmitter=this._register(new common_event.a),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?common_quickInput.a.NONE:common_quickInput.a.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new common_event.a),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new common_event.a),this.onDidTriggerItemButtonEmitter=this._register(new common_event.a),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=value=>value,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(quickNavigate){this._quickNavigate=quickNavigate,this.update()}get value(){return this._value}set value(value){this._value=value||"",this.update()}set ariaLabel(ariaLabel){this._ariaLabel=ariaLabel,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(placeholder){this._placeholder=placeholder,this.update()}get items(){return this._items}set items(items){this._items=items,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(canSelectMany){this._canSelectMany=canSelectMany,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(canAcceptInBackground){this._canAcceptInBackground=canAcceptInBackground}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(matchOnDescription){this._matchOnDescription=matchOnDescription,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(matchOnDetail){this._matchOnDetail=matchOnDetail,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(matchOnLabel){this._matchOnLabel=matchOnLabel,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(sortByLabel){this._sortByLabel=sortByLabel,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(autoFocusOnList){this._autoFocusOnList=autoFocusOnList,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(itemActivation){this._itemActivation=itemActivation}get activeItems(){return this._activeItems}set activeItems(activeItems){this._activeItems=activeItems,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(selectedItems){this._selectedItems=selectedItems,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?common_quickInput.b:this.ui.keyMods}set valueSelection(valueSelection){this._valueSelection=valueSelection,this.valueSelectionUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(validationMessage){this._validationMessage=validationMessage,this.update()}get customButton(){return this._customButton}set customButton(showCustomButton){this._customButton=showCustomButton,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(label){this._customButtonLabel=label,this.update()}get customHover(){return this._customButtonHover}set customHover(hover){this._customButtonHover=hover,this.update()}get ok(){return this._ok}set ok(showOkButton){this._ok=showOkButton,this.update()}get hideInput(){return!!this._hideInput}set hideInput(hideInput){this._hideInput=hideInput,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(value=>{if(value===this.value)return;this._value=value,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(value)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(event=>{switch(event.keyCode){case 18:this.ui.list.focus(QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),dom.b.stop(event,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(QuickInputListFocus.Previous):this.ui.list.focus(QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),dom.b.stop(event,!0);break;case 12:this.ui.list.focus(QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),dom.b.stop(event,!0);break;case 11:this.ui.list.focus(QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),dom.b.stop(event,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:!event.ctrlKey&&!event.metaKey||event.shiftKey||event.altKey||(this.ui.list.focus(QuickInputListFocus.First),dom.b.stop(event,!0));break;case 13:!event.ctrlKey&&!event.metaKey||event.shiftKey||event.altKey||(this.ui.list.focus(QuickInputListFocus.Last),dom.b.stop(event,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Object(arrays.g)(focusedItems,this._activeItems,(a,b)=>a===b)||(this._activeItems=focusedItems,this.onDidChangeActiveEmitter.fire(focusedItems))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:selectedItems,event:event})=>{this.canSelectMany?selectedItems.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&Object(arrays.g)(selectedItems,this._selectedItems,(a,b)=>a===b)||(this._selectedItems=selectedItems,this.onDidChangeSelectionEmitter.fire(selectedItems),selectedItems.length&&this.onDidAcceptEmitter.fire({inBackground:event instanceof MouseEvent&&1===event.button}))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Object(arrays.g)(checkedItems,this._selectedItems,(a,b)=>a===b)||(this._selectedItems=checkedItems,this.onDidChangeSelectionEmitter.fire(checkedItems)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(event=>this.onDidTriggerItemButtonEmitter.fire(event))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return dom.i(this.ui.container,dom.c.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const keyboardEvent=new browser_keyboardEvent.a(e),keyCode=keyboardEvent.keyCode;this._quickNavigate.keybindings.some(k=>{const[firstPart,chordPart]=k.getParts();return!chordPart&&(firstPart.shiftKey&&4===keyCode?!(keyboardEvent.ctrlKey||keyboardEvent.altKey||keyboardEvent.metaKey):!(!firstPart.altKey||6!==keyCode)||(!(!firstPart.ctrlKey||5!==keyCode)||!(!firstPart.metaKey||57!==keyCode)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let hideInput=!1,inputShownJustForScreenReader=!1;this._hideInput&&this._items.length>0&&(this.ui.isScreenReaderOptimized()?inputShownJustForScreenReader=!0:hideInput=!0),dom.ab(this.ui.container,"hidden-input",hideInput);const visibilities={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany,inputBox:!hideInput,progressBar:!hideInput,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(visibilities),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),inputShownJustForScreenReader)this.ui.inputBox.ariaLabel="";else{const ariaLabel=this.ariaLabel||this.placeholder||quickInput_QuickPick.DEFAULT_ARIA_LABEL;this.ui.inputBox.ariaLabel!==ariaLabel&&(this.ui.inputBox.ariaLabel=ariaLabel)}if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case common_quickInput.a.NONE:this._itemActivation=common_quickInput.a.FIRST;break;case common_quickInput.a.SECOND:this.ui.list.focus(QuickInputListFocus.Second),this._itemActivation=common_quickInput.a.FIRST;break;case common_quickInput.a.LAST:this.ui.list.focus(QuickInputListFocus.Last),this._itemActivation=common_quickInput.a.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.validationMessage?(this.ui.message.textContent=this.validationMessage,this.showMessageDecoration(common_severity.a.Error)):(this.ui.message.textContent=null,this.showMessageDecoration(common_severity.a.Ignore)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),visibilities.inputBox||this.ui.list.domFocus()}}quickInput_QuickPick.DEFAULT_ARIA_LABEL=Object(nls.a)("quickInputBox.ariaLabel","Type to narrow down results.");class quickInput_QuickInputController extends lifecycle.a{constructor(options){super(),this.options=options,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new common_event.a),this.onDidCustomEmitter=this._register(new common_event.a),this.onDidTriggerButtonEmitter=this._register(new common_event.a),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new common_event.a),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new common_event.a),this.onHide=this.onHideEmitter.event,this.idPrefix=options.idPrefix,this.parentElement=options.container,this.styles=options.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const listener=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(dom.i(window,dom.c.KEY_DOWN,listener,!0)),this._register(dom.i(window,dom.c.KEY_UP,listener,!0)),this._register(dom.i(window,dom.c.MOUSE_DOWN,listener,!0))}getUI(){if(this.ui)return this.ui;const container=dom.p(this.parentElement,quickInput_$(".quick-input-widget.show-file-icons"));container.tabIndex=-1,container.style.display="none";const styleSheet=dom.v(container),titleBar=dom.p(container,quickInput_$(".quick-input-titlebar")),leftActionBar=this._register(new actionbar.a(titleBar));leftActionBar.domNode.classList.add("quick-input-left-action-bar");const title=dom.p(titleBar,quickInput_$(".quick-input-title")),rightActionBar=this._register(new actionbar.a(titleBar));rightActionBar.domNode.classList.add("quick-input-right-action-bar");const description=dom.p(container,quickInput_$(".quick-input-description")),headerContainer=dom.p(container,quickInput_$(".quick-input-header")),checkAll=dom.p(headerContainer,quickInput_$("input.quick-input-check-all"));checkAll.type="checkbox",this._register(dom.n(checkAll,dom.c.CHANGE,e=>{const checked=checkAll.checked;list.setAllVisibleChecked(checked)})),this._register(dom.i(checkAll,dom.c.CLICK,e=>{(e.x||e.y)&&inputBox.setFocus()}));const extraContainer=dom.p(headerContainer,quickInput_$(".quick-input-and-message")),filterContainer=dom.p(extraContainer,quickInput_$(".quick-input-filter")),inputBox=this._register(new quickInputBox_QuickInputBox(filterContainer));inputBox.setAttribute("aria-describedby",`${this.idPrefix}message`);const visibleCountContainer=dom.p(filterContainer,quickInput_$(".quick-input-visible-count"));visibleCountContainer.setAttribute("aria-live","polite"),visibleCountContainer.setAttribute("aria-atomic","true");const visibleCount=new countBadge.a(visibleCountContainer,{countFormat:Object(nls.a)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),countContainer=dom.p(filterContainer,quickInput_$(".quick-input-count"));countContainer.setAttribute("aria-live","polite");const count=new countBadge.a(countContainer,{countFormat:Object(nls.a)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),okContainer=dom.p(headerContainer,quickInput_$(".quick-input-action")),ok=new button_Button(okContainer);ok.label=Object(nls.a)("ok","OK"),this._register(ok.onDidClick(e=>{this.onDidAcceptEmitter.fire()}));const customButtonContainer=dom.p(headerContainer,quickInput_$(".quick-input-action")),customButton=new button_Button(customButtonContainer);customButton.label=Object(nls.a)("custom","Custom"),this._register(customButton.onDidClick(e=>{this.onDidCustomEmitter.fire()}));const message=dom.p(extraContainer,quickInput_$(`#${this.idPrefix}message.quick-input-message`)),progressBar=new progressbar_ProgressBar(container);dom.e(progressBar.getContainer(),"quick-input-progress");const list=this._register(new quickInputList_QuickInputList(container,this.idPrefix+"list",this.options));this._register(list.onChangedAllVisibleChecked(checked=>{checkAll.checked=checked})),this._register(list.onChangedVisibleCount(c=>{visibleCount.setCount(c)})),this._register(list.onChangedCheckedCount(c=>{count.setCount(c)})),this._register(list.onLeave(()=>{setTimeout(()=>{inputBox.setFocus(),this.controller instanceof quickInput_QuickPick&&this.controller.canSelectMany&&list.clearFocus()},0)})),this._register(list.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const focusTracker=dom.bb(container);return this._register(focusTracker),this._register(dom.i(container,dom.c.FOCUS,e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0},!0)),this._register(focusTracker.onDidBlur(()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(),this.previousFocusElement=void 0})),this._register(dom.i(container,dom.c.FOCUS,e=>{inputBox.setFocus()})),this._register(dom.i(container,dom.c.KEY_DOWN,e=>{const event=new browser_keyboardEvent.a(e);switch(event.keyCode){case 3:dom.b.stop(e,!0),this.onDidAcceptEmitter.fire();break;case 9:dom.b.stop(e,!0),this.hide();break;case 2:if(!event.altKey&&!event.ctrlKey&&!event.metaKey){const selectors=[".action-label.codicon"];container.classList.contains("show-checkboxes")?selectors.push("input"):selectors.push("input[type=text]"),this.getUI().list.isDisplayed()&&selectors.push(".monaco-list");const stops=container.querySelectorAll(selectors.join(", "));event.shiftKey&&event.target===stops[0]?(dom.b.stop(e,!0),stops[stops.length-1].focus()):event.shiftKey||event.target!==stops[stops.length-1]||(dom.b.stop(e,!0),stops[0].focus())}}})),this.ui={container:container,styleSheet:styleSheet,leftActionBar:leftActionBar,titleBar:titleBar,title:title,description:description,rightActionBar:rightActionBar,checkAll:checkAll,filterContainer:filterContainer,inputBox:inputBox,visibleCountContainer:visibleCountContainer,visibleCount:visibleCount,countContainer:countContainer,count:count,okContainer:okContainer,ok:ok,message:message,customButtonContainer:customButtonContainer,customButton:customButton,progressBar:progressBar,list:list,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:controller=>this.show(controller),hide:()=>this.hide(),setVisibilities:visibilities=>this.setVisibilities(visibilities),setComboboxAccessibility:enabled=>this.setComboboxAccessibility(enabled),setEnabled:enabled=>this.setEnabled(enabled),setContextKey:contextKey=>this.options.setContextKey(contextKey)},this.updateStyles(),this.ui}pick(picks,options={},token=cancellation.a.None){return new Promise((doResolve,reject)=>{let resolve=result=>{resolve=doResolve,options.onKeyMods&&options.onKeyMods(input.keyMods),doResolve(result)};if(token.isCancellationRequested)return void resolve(void 0);const input=this.createQuickPick();let activeItem;const disposables=[input,input.onDidAccept(()=>{if(input.canSelectMany)resolve(input.selectedItems.slice()),input.hide();else{const result=input.activeItems[0];result&&(resolve(result),input.hide())}}),input.onDidChangeActive(items=>{const focused=items[0];focused&&options.onDidFocus&&options.onDidFocus(focused)}),input.onDidChangeSelection(items=>{if(!input.canSelectMany){const result=items[0];result&&(resolve(result),input.hide())}}),input.onDidTriggerItemButton(event=>options.onDidTriggerItemButton&&options.onDidTriggerItemButton(Object.assign(Object.assign({},event),{removeItem:()=>{const index=input.items.indexOf(event.item);if(-1!==index){const items=input.items.slice();items.splice(index,1),input.items=items}}}))),input.onDidChangeValue(value=>{!activeItem||value||1===input.activeItems.length&&input.activeItems[0]===activeItem||(input.activeItems=[activeItem])}),token.onCancellationRequested(()=>{input.hide()}),input.onDidHide(()=>{Object(lifecycle.f)(disposables),resolve(void 0)})];input.canSelectMany=!!options.canPickMany,input.placeholder=options.placeHolder,input.ignoreFocusOut=!!options.ignoreFocusLost,input.matchOnDescription=!!options.matchOnDescription,input.matchOnDetail=!!options.matchOnDetail,input.matchOnLabel=void 0===options.matchOnLabel||options.matchOnLabel,input.autoFocusOnList=void 0===options.autoFocusOnList||options.autoFocusOnList,input.quickNavigate=options.quickNavigate,input.contextKey=options.contextKey,input.busy=!0,Promise.all([picks,options.activeItem]).then(([items,_activeItem])=>{activeItem=_activeItem,input.busy=!1,input.items=items,input.canSelectMany&&(input.selectedItems=items.filter(item=>"separator"!==item.type&&item.picked)),activeItem&&(input.activeItems=[activeItem])}),input.show(),Promise.resolve(picks).then(void 0,err=>{reject(err),input.hide()})})}createQuickPick(){const ui=this.getUI();return new quickInput_QuickPick(ui)}show(controller){const ui=this.getUI();this.onShowEmitter.fire();const oldController=this.controller;this.controller=controller,oldController&&oldController.didHide(),this.setEnabled(!0),ui.leftActionBar.clear(),ui.title.textContent="",ui.description.textContent="",ui.rightActionBar.clear(),ui.checkAll.checked=!1,ui.inputBox.placeholder="",ui.inputBox.password=!1,ui.inputBox.showDecoration(common_severity.a.Ignore),ui.visibleCount.setCount(0),ui.count.setCount(0),ui.message.textContent="",ui.progressBar.stop(),ui.list.setElements([]),ui.list.matchOnDescription=!1,ui.list.matchOnDetail=!1,ui.list.matchOnLabel=!0,ui.list.sortByLabel=!0,ui.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),ui.inputBox.ariaLabel="";const backKeybindingLabel=this.options.backKeybindingLabel();backButton.tooltip=backKeybindingLabel?Object(nls.a)("quickInput.backWithKeybinding","Back ({0})",backKeybindingLabel):Object(nls.a)("quickInput.back","Back"),ui.container.style.display="",this.updateLayout(),ui.inputBox.setFocus()}setVisibilities(visibilities){const ui=this.getUI();ui.title.style.display=visibilities.title?"":"none",ui.description.style.display=visibilities.description?"":"none",ui.checkAll.style.display=visibilities.checkAll?"":"none",ui.filterContainer.style.display=visibilities.inputBox?"":"none",ui.visibleCountContainer.style.display=visibilities.visibleCount?"":"none",ui.countContainer.style.display=visibilities.count?"":"none",ui.okContainer.style.display=visibilities.ok?"":"none",ui.customButtonContainer.style.display=visibilities.customButton?"":"none",ui.message.style.display=visibilities.message?"":"none",ui.progressBar.getContainer().style.display=visibilities.progressBar?"":"none",ui.list.display(!!visibilities.list),ui.container.classList[visibilities.checkAll?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(enabled){if(enabled!==this.comboboxAccessibility){const ui=this.getUI();this.comboboxAccessibility=enabled,this.comboboxAccessibility?(ui.inputBox.setAttribute("role","combobox"),ui.inputBox.setAttribute("aria-haspopup","true"),ui.inputBox.setAttribute("aria-autocomplete","list"),ui.inputBox.setAttribute("aria-activedescendant",ui.list.getActiveDescendant()||"")):(ui.inputBox.removeAttribute("role"),ui.inputBox.removeAttribute("aria-haspopup"),ui.inputBox.removeAttribute("aria-autocomplete"),ui.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(enabled){if(enabled!==this.enabled){this.enabled=enabled;for(const item of this.getUI().leftActionBar.viewItems)item.getAction().enabled=enabled;for(const item of this.getUI().rightActionBar.viewItems)item.getAction().enabled=enabled;this.getUI().checkAll.disabled=!enabled,this.getUI().ok.enabled=enabled,this.getUI().list.enabled=enabled}}hide(){var _a;const controller=this.controller;if(controller){const focusChanged=!(null===(_a=this.ui)||void 0===_a?void 0:_a.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",focusChanged||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),controller.didHide()}}layout(dimension,titleBarOffset){this.dimension=dimension,this.titleBarOffset=titleBarOffset,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const style=this.ui.container.style,width=Math.min(.62*this.dimension.width,quickInput_QuickInputController.MAX_WIDTH);style.width=width+"px",style.marginLeft="-"+width/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(styles){this.styles=styles,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:quickInputTitleBackground,quickInputBackground:quickInputBackground,quickInputForeground:quickInputForeground,contrastBorder:contrastBorder,widgetShadow:widgetShadow}=this.styles.widget;this.ui.titleBar.style.backgroundColor=quickInputTitleBackground?quickInputTitleBackground.toString():"",this.ui.container.style.backgroundColor=quickInputBackground?quickInputBackground.toString():"",this.ui.container.style.color=quickInputForeground?quickInputForeground.toString():"",this.ui.container.style.border=contrastBorder?`1px solid ${contrastBorder}`:"",this.ui.container.style.boxShadow=widgetShadow?`0 5px 8px ${widgetShadow}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const content=[];this.styles.list.listInactiveFocusForeground&&(content.push(`.monaco-list .monaco-list-row.focused { color:  ${this.styles.list.listInactiveFocusForeground}; }`),content.push(`.monaco-list .monaco-list-row.focused:hover { color:  ${this.styles.list.listInactiveFocusForeground}; }`)),this.styles.list.pickerGroupBorder&&content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`);const newStyles=content.join("\n");newStyles!==this.ui.styleSheet.innerHTML&&(this.ui.styleSheet.innerHTML=newStyles)}}}quickInput_QuickInputController.MAX_WIDTH=600;var quickinput_common_quickInput=__webpack_require__(2363),quickAccess=__webpack_require__(2382),functional=__webpack_require__(2379),quickAccess_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let quickAccess_QuickAccessController=class QuickAccessController extends lifecycle.a{constructor(quickInputService,instantiationService){super(),this.quickInputService=quickInputService,this.instantiationService=instantiationService,this.registry=common_platform.a.as(quickAccess.b.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(value="",options){var _a;const[provider,descriptor]=this.getOrInstantiateProvider(value),visibleQuickAccess=this.visibleQuickAccess,visibleDescriptor=null==visibleQuickAccess?void 0:visibleQuickAccess.descriptor;if(visibleQuickAccess&&descriptor&&visibleDescriptor===descriptor)return value===descriptor.prefix||(null==options?void 0:options.preserveValue)||(visibleQuickAccess.picker.value=value),void this.adjustValueSelection(visibleQuickAccess.picker,descriptor,options);if(descriptor&&!(null==options?void 0:options.preserveValue)){let newValue=void 0;if(visibleQuickAccess&&visibleDescriptor&&visibleDescriptor!==descriptor){const newValueCandidateWithoutPrefix=visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);newValueCandidateWithoutPrefix&&(newValue=`${descriptor.prefix}${newValueCandidateWithoutPrefix}`)}if(!newValue){const defaultFilterValue=null==provider?void 0:provider.defaultFilterValue;defaultFilterValue===quickAccess.a.LAST?newValue=this.lastAcceptedPickerValues.get(descriptor):"string"==typeof defaultFilterValue&&(newValue=`${descriptor.prefix}${defaultFilterValue}`)}"string"==typeof newValue&&(value=newValue)}const disposables=new lifecycle.b,picker=disposables.add(this.quickInputService.createQuickPick());picker.value=value,this.adjustValueSelection(picker,descriptor,options),picker.placeholder=null==descriptor?void 0:descriptor.placeholder,picker.quickNavigate=null==options?void 0:options.quickNavigateConfiguration,picker.hideInput=!!picker.quickNavigate&&!visibleQuickAccess,("number"==typeof(null==options?void 0:options.itemActivation)||(null==options?void 0:options.quickNavigateConfiguration))&&(picker.itemActivation=null!==(_a=null==options?void 0:options.itemActivation)&&void 0!==_a?_a:quickinput_common_quickInput.b.SECOND),picker.contextKey=null==descriptor?void 0:descriptor.contextKey,picker.filterValue=value=>value.substring(descriptor?descriptor.prefix.length:0),(null==descriptor?void 0:descriptor.placeholder)&&(picker.ariaLabel=null==descriptor?void 0:descriptor.placeholder);const cancellationToken=this.registerPickerListeners(picker,provider,descriptor,value,disposables);provider&&disposables.add(provider.provide(picker,cancellationToken)),picker.show()}adjustValueSelection(picker,descriptor,options){var _a;let valueSelection;valueSelection=(null==options?void 0:options.preserveValue)?[picker.value.length,picker.value.length]:[null!==(_a=null==descriptor?void 0:descriptor.prefix.length)&&void 0!==_a?_a:0,picker.value.length],picker.valueSelection=valueSelection}registerPickerListeners(picker,provider,descriptor,value,disposables){const visibleQuickAccess=this.visibleQuickAccess={picker:picker,descriptor:descriptor,value:value};disposables.add(Object(lifecycle.h)(()=>{visibleQuickAccess===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),disposables.add(picker.onDidChangeValue(value=>{const[providerForValue]=this.getOrInstantiateProvider(value);providerForValue!==provider?this.show(value,{preserveValue:!0}):visibleQuickAccess.value=value})),descriptor&&disposables.add(picker.onDidAccept(()=>{this.lastAcceptedPickerValues.set(descriptor,picker.value)}));const cts=disposables.add(new cancellation.b);return Object(functional.a)(picker.onDidHide)(()=>{0===picker.selectedItems.length&&cts.cancel(),disposables.dispose()}),cts.token}getOrInstantiateProvider(value){const providerDescriptor=this.registry.getQuickAccessProvider(value);if(!providerDescriptor)return[void 0,void 0];let provider=this.mapProviderToDescriptor.get(providerDescriptor);return provider||(provider=this.instantiationService.createInstance(providerDescriptor.ctor),this.mapProviderToDescriptor.set(providerDescriptor,provider)),[provider,providerDescriptor]}};quickAccess_QuickAccessController=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([quickAccess_param(0,quickinput_common_quickInput.a),quickAccess_param(1,instantiation.a)],quickAccess_QuickAccessController);var quickInput_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let quickInput_QuickInputService=class QuickInputService extends common_themeService.d{constructor(instantiationService,contextKeyService,themeService,accessibilityService,layoutService){super(themeService),this.instantiationService=instantiationService,this.contextKeyService=contextKeyService,this.accessibilityService=accessibilityService,this.layoutService=layoutService,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(quickAccess_QuickAccessController))),this._quickAccess}createController(host=this.layoutService,options){var _a,_b;const defaultOptions={idPrefix:"quickInput_",container:host.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>void 0,setContextKey:id=>this.setContextKey(id),returnFocus:()=>host.focus(),createList:(user,container,delegate,renderers,options)=>this.instantiationService.createInstance(listService.d,user,container,delegate,renderers,options),styles:this.computeStyles()},controller=this._register(new quickInput_QuickInputController(Object.assign(Object.assign({},defaultOptions),options)));return controller.layout(host.dimension,null!==(_b=null===(_a=host.offset)||void 0===_a?void 0:_a.top)&&void 0!==_b?_b:0),this._register(host.onLayout(dimension=>{var _a,_b;return controller.layout(dimension,null!==(_b=null===(_a=host.offset)||void 0===_a?void 0:_a.top)&&void 0!==_b?_b:0)})),this._register(controller.onShow(()=>this.resetContextKeys())),this._register(controller.onHide(()=>this.resetContextKeys())),controller}setContextKey(id){let key;id&&((key=this.contexts.get(id))||(key=new contextkey.c(id,!1).bindTo(this.contextKeyService),this.contexts.set(id,key))),key&&key.get()||(this.resetContextKeys(),key&&key.set(!0))}resetContextKeys(){this.contexts.forEach(context=>{context.get()&&context.reset()})}pick(picks,options={},token=cancellation.a.None){return this.controller.pick(picks,options,token)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},Object(styler.d)(this.theme,{quickInputBackground:colorRegistry.dc,quickInputForeground:colorRegistry.ec,quickInputTitleBackground:colorRegistry.fc,contrastBorder:colorRegistry.h,widgetShadow:colorRegistry.uc})),inputBox:Object(styler.d)(this.theme,{inputForeground:colorRegistry.hb,inputBackground:colorRegistry.fb,inputBorder:colorRegistry.gb,inputValidationInfoBackground:colorRegistry.lb,inputValidationInfoForeground:colorRegistry.nb,inputValidationInfoBorder:colorRegistry.mb,inputValidationWarningBackground:colorRegistry.ob,inputValidationWarningForeground:colorRegistry.qb,inputValidationWarningBorder:colorRegistry.pb,inputValidationErrorBackground:colorRegistry.ib,inputValidationErrorForeground:colorRegistry.kb,inputValidationErrorBorder:colorRegistry.jb}),countBadge:Object(styler.d)(this.theme,{badgeBackground:colorRegistry.c,badgeForeground:colorRegistry.d,badgeBorder:colorRegistry.h}),button:Object(styler.d)(this.theme,{buttonForeground:colorRegistry.f,buttonBackground:colorRegistry.e,buttonHoverBackground:colorRegistry.g,buttonBorder:colorRegistry.h}),progressBar:Object(styler.d)(this.theme,{progressBarBackground:colorRegistry.cc}),list:Object(styler.d)(this.theme,{listBackground:colorRegistry.dc,listInactiveFocusForeground:colorRegistry.yb,listInactiveFocusBackground:colorRegistry.xb,listFocusOutline:colorRegistry.b,listInactiveFocusOutline:colorRegistry.b,pickerGroupBorder:colorRegistry.Xb,pickerGroupForeground:colorRegistry.Yb})}}};quickInput_QuickInputService=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([quickInput_param(0,instantiation.a),quickInput_param(1,contextkey.b),quickInput_param(2,common_themeService.c),quickInput_param(3,accessibility.b),quickInput_param(4,ILayoutService)],quickInput_QuickInputService);var standaloneQuickInputServiceImpl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},standaloneQuickInputServiceImpl_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let standaloneQuickInputServiceImpl_EditorScopedQuickInputServiceImpl=class EditorScopedQuickInputServiceImpl extends quickInput_QuickInputService{constructor(editor,instantiationService,contextKeyService,themeService,accessibilityService,layoutService){super(instantiationService,contextKeyService,themeService,accessibilityService,layoutService),this.host=void 0;const contribution=QuickInputEditorContribution.get(editor);this.host={_serviceBrand:void 0,get container(){return contribution.widget.getDomNode()},get dimension(){return editor.getLayoutInfo()},get onLayout(){return editor.onDidLayoutChange},focus:()=>editor.focus()}}createController(){return super.createController(this.host)}};standaloneQuickInputServiceImpl_EditorScopedQuickInputServiceImpl=standaloneQuickInputServiceImpl_decorate([standaloneQuickInputServiceImpl_param(1,instantiation.a),standaloneQuickInputServiceImpl_param(2,contextkey.b),standaloneQuickInputServiceImpl_param(3,common_themeService.c),standaloneQuickInputServiceImpl_param(4,accessibility.b),standaloneQuickInputServiceImpl_param(5,ILayoutService)],standaloneQuickInputServiceImpl_EditorScopedQuickInputServiceImpl);let standaloneQuickInputServiceImpl_StandaloneQuickInputServiceImpl=class StandaloneQuickInputServiceImpl{constructor(instantiationService,codeEditorService){this.instantiationService=instantiationService,this.codeEditorService=codeEditorService,this.mapEditorToService=new Map}get activeService(){const editor=this.codeEditorService.getFocusedCodeEditor();if(!editor)throw new Error("Quick input service needs a focused editor to work.");let quickInputService=this.mapEditorToService.get(editor);if(!quickInputService){const newQuickInputService=quickInputService=this.instantiationService.createInstance(standaloneQuickInputServiceImpl_EditorScopedQuickInputServiceImpl,editor);this.mapEditorToService.set(editor,quickInputService),Object(functional.a)(editor.onDidDispose)(()=>{newQuickInputService.dispose(),this.mapEditorToService.delete(editor)})}return quickInputService}get quickAccess(){return this.activeService.quickAccess}pick(picks,options={},token=cancellation.a.None){return this.activeService.pick(picks,options,token)}createQuickPick(){return this.activeService.createQuickPick()}};standaloneQuickInputServiceImpl_StandaloneQuickInputServiceImpl=standaloneQuickInputServiceImpl_decorate([standaloneQuickInputServiceImpl_param(0,instantiation.a),standaloneQuickInputServiceImpl_param(1,services_codeEditorService.a)],standaloneQuickInputServiceImpl_StandaloneQuickInputServiceImpl);class QuickInputEditorContribution{constructor(editor){this.editor=editor,this.widget=new QuickInputEditorWidget(this.editor)}static get(editor){return editor.getContribution(QuickInputEditorContribution.ID)}dispose(){this.widget.dispose()}}QuickInputEditorContribution.ID="editor.controller.quickInput";class QuickInputEditorWidget{constructor(codeEditor){this.codeEditor=codeEditor,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return QuickInputEditorWidget.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}QuickInputEditorWidget.ID="editor.contrib.quickInputWidget",Object(editorExtensions.m)(QuickInputEditorContribution.ID,QuickInputEditorContribution);var standaloneServices_StaticServices,storageKeys=__webpack_require__(2439);!function(StaticServices){const _serviceCollection=new serviceCollection.a;class LazyStaticService{constructor(serviceId,factory){this._serviceId=serviceId,this._factory=factory,this._value=null}get id(){return this._serviceId}get(overrides){if(!this._value){if(overrides&&(this._value=overrides[this._serviceId.toString()]),this._value||(this._value=this._factory(overrides)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");_serviceCollection.set(this._serviceId,this._value)}return this._value}}StaticServices.LazyStaticService=LazyStaticService;let _all=[];function define(serviceId,factory){let r=new LazyStaticService(serviceId,factory);return _all.push(r),r}StaticServices.init=function init(overrides){let result=new serviceCollection.a;for(const[id,descriptor]of Object(extensions.a)())result.set(id,descriptor);for(let serviceId in overrides)overrides.hasOwnProperty(serviceId)&&result.set(Object(instantiation.c)(serviceId),overrides[serviceId]);_all.forEach(service=>result.set(service.id,service.get(overrides)));let instantiationService=new instantiationService_InstantiationService(result,!0);return result.set(instantiation.a,instantiationService),[result,instantiationService]},StaticServices.instantiationService=define(instantiation.a,()=>new instantiationService_InstantiationService(_serviceCollection,!0));const configurationServiceImpl=new simpleServices_SimpleConfigurationService;StaticServices.configurationService=define(common_configuration.a,()=>configurationServiceImpl),StaticServices.resourceConfigurationService=define(textResourceConfigurationService.a,()=>new simpleServices_SimpleResourceConfigurationService(configurationServiceImpl)),StaticServices.resourcePropertiesService=define(textResourceConfigurationService.b,()=>new simpleServices_SimpleResourcePropertiesService(configurationServiceImpl)),StaticServices.contextService=define(workspace.a,()=>new simpleServices_SimpleWorkspaceContextService),StaticServices.labelService=define(common_label.a,()=>new SimpleUriLabelService),StaticServices.telemetryService=define(telemetry.a,()=>new StandaloneTelemetryService),StaticServices.dialogService=define(dialogs.a,()=>new SimpleDialogService),StaticServices.notificationService=define(common_notification.a,()=>new simpleServices_SimpleNotificationService),StaticServices.markerService=define(common_markers.b,()=>new markerService_MarkerService),StaticServices.modeService=define(services_modeService.a,o=>new modeServiceImpl_ModeServiceImpl),StaticServices.standaloneThemeService=define(common_standaloneThemeService.a,()=>new standaloneThemeServiceImpl_StandaloneThemeServiceImpl),StaticServices.logService=define(log.b,()=>new log.a),StaticServices.undoRedoService=define(undoRedo.a,o=>new undoRedoService_UndoRedoService(StaticServices.dialogService.get(o),StaticServices.notificationService.get(o))),StaticServices.modelService=define(services_modelService.a,o=>new modelServiceImpl.a(StaticServices.configurationService.get(o),StaticServices.resourcePropertiesService.get(o),StaticServices.standaloneThemeService.get(o),StaticServices.logService.get(o),StaticServices.undoRedoService.get(o))),StaticServices.markerDecorationsService=define(markersDecorationService.a,o=>new markerDecorationsServiceImpl_MarkerDecorationsService(StaticServices.modelService.get(o),StaticServices.markerService.get(o))),StaticServices.codeEditorService=define(services_codeEditorService.a,o=>new standaloneCodeServiceImpl_StandaloneCodeEditorServiceImpl(StaticServices.standaloneThemeService.get(o))),StaticServices.editorProgressService=define(progress.a,()=>new SimpleEditorProgressService),StaticServices.storageService=define(storage.a,()=>new storage.b),StaticServices.storageSyncService=define(storageKeys.a,()=>new storageKeys.b),StaticServices.editorWorkerService=define(services_editorWorkerService.a,o=>new editorWorkerServiceImpl_EditorWorkerServiceImpl(StaticServices.modelService.get(o),StaticServices.resourceConfigurationService.get(o),StaticServices.logService.get(o)))}(standaloneServices_StaticServices||(standaloneServices_StaticServices={}));class standaloneServices_DynamicStandaloneServices extends lifecycle.a{constructor(domElement,overrides){super();const[_serviceCollection,_instantiationService]=standaloneServices_StaticServices.init(overrides);this._serviceCollection=_serviceCollection,this._instantiationService=_instantiationService;const configurationService=this.get(common_configuration.a),notificationService=this.get(common_notification.a),telemetryService=this.get(telemetry.a),themeService=this.get(common_themeService.c),logService=this.get(log.b);let ensure=(serviceId,factory)=>{let value=null;return overrides&&(value=overrides[serviceId.toString()]),value||(value=factory()),this._serviceCollection.set(serviceId,value),value},contextKeyService=ensure(contextkey.b,()=>this._register(new contextKeyService_ContextKeyService(configurationService)));ensure(accessibility.b,()=>new accessibilityService_AccessibilityService(contextKeyService,configurationService)),ensure(listService.a,()=>new listService.b(themeService));let commandService=ensure(commands.b,()=>new simpleServices_StandaloneCommandService(this._instantiationService)),keybindingService=ensure(common_keybinding.a,()=>this._register(new simpleServices_StandaloneKeybindingService(contextKeyService,commandService,telemetryService,notificationService,logService,domElement))),layoutService=ensure(ILayoutService,()=>new simpleServices_SimpleLayoutService(standaloneServices_StaticServices.codeEditorService.get(services_codeEditorService.a),domElement));ensure(quickinput_common_quickInput.a,()=>new standaloneQuickInputServiceImpl_StandaloneQuickInputServiceImpl(_instantiationService,standaloneServices_StaticServices.codeEditorService.get(services_codeEditorService.a)));let contextViewService=ensure(contextView.b,()=>this._register(new contextViewService_ContextViewService(layoutService)));ensure(common_clipboardService.a,()=>new clipboardService_BrowserClipboardService),ensure(contextView.a,()=>{const contextMenuService=new contextMenuService_ContextMenuService(telemetryService,notificationService,contextViewService,keybindingService,themeService);return contextMenuService.configure({blockMouse:!1}),this._register(contextMenuService)}),ensure(actions_common_actions.a,()=>new MenuService(commandService)),ensure(bulkEditService.a,()=>new simpleServices_SimpleBulkEditService(standaloneServices_StaticServices.modelService.get(services_modelService.a)))}get(serviceId){let r=this._serviceCollection.get(serviceId);if(!r)throw new Error("Missing service "+serviceId);return r}set(serviceId,instance){this._serviceCollection.set(serviceId,instance)}has(serviceId){return this._serviceCollection.has(serviceId)}}function withAllStandaloneServices(domElement,override,callback){let services=new standaloneServices_DynamicStandaloneServices(domElement,override),simpleEditorModelResolverService=null;services.has(resolverService.a)||(simpleEditorModelResolverService=new simpleServices_SimpleEditorModelResolverService(standaloneServices_StaticServices.modelService.get()),services.set(resolverService.a,simpleEditorModelResolverService)),services.has(common_opener.a)||services.set(common_opener.a,new openerService_OpenerService(services.get(services_codeEditorService.a),services.get(commands.b)));let result=callback(services);return simpleEditorModelResolverService&&simpleEditorModelResolverService.setEditor(result),result}function standaloneEditor_create(domElement,options,override){return withAllStandaloneServices(domElement,override||{},services=>new standaloneCodeEditor_StandaloneEditor(domElement,options,services,services.get(instantiation.a),services.get(services_codeEditorService.a),services.get(commands.b),services.get(contextkey.b),services.get(common_keybinding.a),services.get(contextView.b),services.get(common_standaloneThemeService.a),services.get(common_notification.a),services.get(common_configuration.a),services.get(accessibility.b)))}function onDidCreateEditor(listener){return standaloneServices_StaticServices.codeEditorService.get().onCodeEditorAdd(editor=>{listener(editor)})}function createDiffEditor(domElement,options,override){return withAllStandaloneServices(domElement,override||{},services=>new standaloneCodeEditor_StandaloneDiffEditor(domElement,options,services,services.get(instantiation.a),services.get(contextkey.b),services.get(common_keybinding.a),services.get(contextView.b),services.get(services_editorWorkerService.a),services.get(services_codeEditorService.a),services.get(common_standaloneThemeService.a),services.get(common_notification.a),services.get(common_configuration.a),services.get(contextView.a),services.get(progress.a),services.get(common_clipboardService.a)))}function createDiffNavigator(diffEditor,opts){return new diffNavigator_DiffNavigator(diffEditor,opts)}function doCreateModel(value,languageSelection,uri){return standaloneServices_StaticServices.modelService.get().createModel(value,languageSelection,uri)}function createModel(value,language,uri){if(value=value||"",!language){let firstLF=value.indexOf("\n"),firstLine=value;return-1!==firstLF&&(firstLine=value.substring(0,firstLF)),doCreateModel(value,standaloneServices_StaticServices.modeService.get().createByFilepathOrFirstLine(uri||null,firstLine),uri)}return doCreateModel(value,standaloneServices_StaticServices.modeService.get().create(language),uri)}function setModelLanguage(model,languageId){standaloneServices_StaticServices.modelService.get().setMode(model,standaloneServices_StaticServices.modeService.get().create(languageId))}function setModelMarkers(model,owner,markers){model&&standaloneServices_StaticServices.markerService.get().changeOne(owner,model.uri,markers)}function getModelMarkers(filter){return standaloneServices_StaticServices.markerService.get().read(filter)}function getModel(uri){return standaloneServices_StaticServices.modelService.get().getModel(uri)}function getModels(){return standaloneServices_StaticServices.modelService.get().getModels()}function onDidCreateModel(listener){return standaloneServices_StaticServices.modelService.get().onModelAdded(listener)}function onWillDisposeModel(listener){return standaloneServices_StaticServices.modelService.get().onModelRemoved(listener)}function onDidChangeModelLanguage(listener){return standaloneServices_StaticServices.modelService.get().onModelModeChanged(e=>{listener({model:e.model,oldLanguage:e.oldModeId})})}function standaloneEditor_createWebWorker(opts){return function createWebWorker(modelService,opts){return new webWorker_MonacoWebWorkerImpl(modelService,opts)}(standaloneServices_StaticServices.modelService.get(),opts)}function colorizeElement(domNode,options){const themeService=standaloneServices_StaticServices.standaloneThemeService.get();return themeService.registerEditorContainer(domNode),colorizer_Colorizer.colorizeElement(themeService,standaloneServices_StaticServices.modeService.get(),domNode,options)}function colorize(text,languageId,options){return standaloneServices_StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),colorizer_Colorizer.colorize(standaloneServices_StaticServices.modeService.get(),text,languageId,options)}function colorizeModelLine(model,lineNumber,tabSize=4){return standaloneServices_StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),colorizer_Colorizer.colorizeModelLine(model,lineNumber,tabSize)}function tokenize(text,languageId){standaloneServices_StaticServices.modeService.get().triggerMode(languageId);let tokenizationSupport=function getSafeTokenizationSupport(language){let tokenizationSupport=modes.C.get(language);return tokenizationSupport||{getInitialState:()=>nullMode.c,tokenize:(line,state,deltaOffset)=>Object(nullMode.d)(language,line,state,deltaOffset)}}(languageId),lines=text.split(/\r\n|\r|\n/),result=[],state=tokenizationSupport.getInitialState();for(let i=0,len=lines.length;i<len;i++){let line=lines[i],tokenizationResult=tokenizationSupport.tokenize(line,state,0);result[i]=tokenizationResult.tokens,state=tokenizationResult.endState}return result}function defineTheme(themeName,themeData){standaloneServices_StaticServices.standaloneThemeService.get().defineTheme(themeName,themeData)}function setTheme(themeName){standaloneServices_StaticServices.standaloneThemeService.get().setTheme(themeName)}function remeasureFonts(){Object(config_configuration.b)()}function bool(prop,defValue){return"boolean"==typeof prop?prop:defValue}function string(prop,defValue){return"string"==typeof prop?prop:defValue}function createKeywordMatcher(arr,caseInsensitive=!1){caseInsensitive&&(arr=arr.map(function(x){return x.toLowerCase()}));const hash=function arrayToHash(array){const result={};for(const e of array)result[e]=!0;return result}(arr);return caseInsensitive?function(word){return void 0!==hash[word.toLowerCase()]&&hash.hasOwnProperty(word.toLowerCase())}:function(word){return void 0!==hash[word]&&hash.hasOwnProperty(word)}}function compileRegExp(lexer,str){let n=0;for(;str.indexOf("@")>=0&&n<5;)n++,str=str.replace(/@(\w+)/g,function(s,attr){let sub="";if("string"==typeof lexer[attr])sub=lexer[attr];else{if(!(lexer[attr]&&lexer[attr]instanceof RegExp))throw void 0===lexer[attr]?createError(lexer,"language definition does not contain attribute '"+attr+"', used at: "+str):createError(lexer,"attribute reference '"+attr+"' must be a string, used at: "+str);sub=lexer[attr].source}return empty(sub)?"":"(?:"+sub+")"});let flags=(lexer.ignoreCase?"i":"")+(lexer.unicode?"u":"");return new RegExp(str,flags)}function createGuard(lexer,ruleName,tkey,val){let scrut=-1,oppat=tkey,matches=tkey.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);matches&&(matches[3]&&(scrut=parseInt(matches[3]),matches[2]&&(scrut+=100)),oppat=matches[4]);let tester,op="~",pat=oppat;if(oppat&&0!==oppat.length?/^\w*$/.test(pat)?op="==":(matches=oppat.match(/^(@|!@|~|!~|==|!=)(.*)$/))&&(op=matches[1],pat=matches[2]):(op="!=",pat=""),"~"!==op&&"!~"!==op||!/^(\w|\|)*$/.test(pat))if("@"===op||"!@"===op){let words=lexer[pat];if(!words)throw createError(lexer,"the @ match target '"+pat+"' is not defined, in rule: "+ruleName);if(!function isArrayOf(elemType,obj){if(!obj)return!1;if(!Array.isArray(obj))return!1;for(const el of obj)if(!elemType(el))return!1;return!0}(function(elem){return"string"==typeof elem},words))throw createError(lexer,"the @ match target '"+pat+"' must be an array of strings, in rule: "+ruleName);let inWords=createKeywordMatcher(words,lexer.ignoreCase);tester=function(s){return"@"===op?inWords(s):!inWords(s)}}else if("~"===op||"!~"===op)if(pat.indexOf("$")<0){let re=compileRegExp(lexer,"^"+pat+"$");tester=function(s){return"~"===op?re.test(s):!re.test(s)}}else tester=function(s,id,matches,state){return compileRegExp(lexer,"^"+substituteMatches(lexer,pat,id,matches,state)+"$").test(s)};else if(pat.indexOf("$")<0){let patx=fixCase(lexer,pat);tester=function(s){return"=="===op?s===patx:s!==patx}}else{let patx=fixCase(lexer,pat);tester=function(s,id,matches,state,eos){let patexp=substituteMatches(lexer,patx,id,matches,state);return"=="===op?s===patexp:s!==patexp}}else{let inWords=createKeywordMatcher(pat.split("|"),lexer.ignoreCase);tester=function(s){return"~"===op?inWords(s):!inWords(s)}}return-1===scrut?{name:tkey,value:val,test:function(id,matches,state,eos){return tester(id,id,matches,state,eos)}}:{name:tkey,value:val,test:function(id,matches,state,eos){let scrutinee=function selectScrutinee(id,matches,state,num){if(num<0)return id;if(num<matches.length)return matches[num];if(num>=100){num-=100;let parts=state.split(".");if(parts.unshift(state),num<parts.length)return parts[num]}return null}(id,matches,state,scrut);return tester(scrutinee||"",id,matches,state,eos)}}}class monarchCompile_Rule{constructor(name){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=name}setRegex(lexer,re){let sregex;if("string"==typeof re)sregex=re;else{if(!(re instanceof RegExp))throw createError(lexer,"rules must start with a match string or regular expression: "+this.name);sregex=re.source}this.matchOnlyAtLineStart=sregex.length>0&&"^"===sregex[0],this.name=this.name+": "+sregex,this.regex=compileRegExp(lexer,"^(?:"+(this.matchOnlyAtLineStart?sregex.substr(1):sregex)+")")}setAction(lexer,act){this.action=function compileAction(lexer,ruleName,action){if(action){if("string"==typeof action)return action;if(action.token||""===action.token){if("string"!=typeof action.token)throw createError(lexer,"a 'token' attribute must be of type string, in rule: "+ruleName);{let newAction={token:action.token};if(action.token.indexOf("$")>=0&&(newAction.tokenSubst=!0),"string"==typeof action.bracket)if("@open"===action.bracket)newAction.bracket=1;else{if("@close"!==action.bracket)throw createError(lexer,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+ruleName);newAction.bracket=-1}if(action.next){if("string"!=typeof action.next)throw createError(lexer,"the next state must be a string value in rule: "+ruleName);{let next=action.next;if(!/^(@pop|@push|@popall)$/.test(next)&&("@"===next[0]&&(next=next.substr(1)),next.indexOf("$")<0&&!function stateExists(lexer,inState){let state=inState;for(;state&&state.length>0;){if(lexer.stateNames[state])return!0;const idx=state.lastIndexOf(".");state=idx<0?null:state.substr(0,idx)}return!1}(lexer,substituteMatches(lexer,next,"",[],""))))throw createError(lexer,"the next state '"+action.next+"' is not defined in rule: "+ruleName);newAction.next=next}}return"number"==typeof action.goBack&&(newAction.goBack=action.goBack),"string"==typeof action.switchTo&&(newAction.switchTo=action.switchTo),"string"==typeof action.log&&(newAction.log=action.log),"string"==typeof action.nextEmbedded&&(newAction.nextEmbedded=action.nextEmbedded,lexer.usesEmbedded=!0),newAction}}if(Array.isArray(action)){let results=[];for(let i=0,len=action.length;i<len;i++)results[i]=compileAction(lexer,ruleName,action[i]);return{group:results}}if(action.cases){let cases=[];for(let tkey in action.cases)if(action.cases.hasOwnProperty(tkey)){const val=compileAction(lexer,ruleName,action.cases[tkey]);"@default"===tkey||"@"===tkey||""===tkey?cases.push({test:void 0,value:val,name:tkey}):"@eos"===tkey?cases.push({test:function(id,matches,state,eos){return eos},value:val,name:tkey}):cases.push(createGuard(lexer,ruleName,tkey,val))}const def=lexer.defaultToken;return{test:function(id,matches,state,eos){for(const _case of cases)if(!_case.test||_case.test(id,matches,state,eos))return _case.value;return def}}}throw createError(lexer,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+ruleName)}return{token:""}}(lexer,this.name,act)}}function register(language){modesRegistry.a.registerLanguage(language)}function getLanguages(){let result=[];return result=result.concat(modesRegistry.a.getLanguages())}function getEncodedLanguageId(languageId){let lid=standaloneServices_StaticServices.modeService.get().getLanguageIdentifier(languageId);return lid?lid.id:0}function onLanguage(languageId,callback){let disposable=standaloneServices_StaticServices.modeService.get().onDidCreateMode(mode=>{mode.getId()===languageId&&(disposable.dispose(),callback())});return disposable}function setLanguageConfiguration(languageId,configuration){let languageIdentifier=standaloneServices_StaticServices.modeService.get().getLanguageIdentifier(languageId);if(!languageIdentifier)throw new Error(`Cannot set configuration for unknown language ${languageId}`);return languageConfigurationRegistry.a.register(languageIdentifier,configuration)}class standaloneLanguages_EncodedTokenizationSupport2Adapter{constructor(actual){this._actual=actual}getInitialState(){return this._actual.getInitialState()}tokenize(line,state,offsetDelta){throw new Error("Not supported!")}tokenize2(line,state){let result=this._actual.tokenizeEncoded(line,state);return new core_token.c(result.tokens,result.endState)}}class standaloneLanguages_TokenizationSupport2Adapter{constructor(standaloneThemeService,languageIdentifier,actual){this._standaloneThemeService=standaloneThemeService,this._languageIdentifier=languageIdentifier,this._actual=actual}getInitialState(){return this._actual.getInitialState()}_toClassicTokens(tokens,language,offsetDelta){let result=[],previousStartIndex=0;for(let i=0,len=tokens.length;i<len;i++){const t=tokens[i];let startIndex=t.startIndex;0===i?startIndex=0:startIndex<previousStartIndex&&(startIndex=previousStartIndex),result[i]=new core_token.a(startIndex+offsetDelta,t.scopes,language),previousStartIndex=startIndex}return result}tokenize(line,state,offsetDelta){let endState,actualResult=this._actual.tokenize(line,state),tokens=this._toClassicTokens(actualResult.tokens,this._languageIdentifier.language,offsetDelta);return endState=actualResult.endState.equals(state)?state:actualResult.endState,new core_token.b(tokens,endState)}_toBinaryTokens(tokens,offsetDelta){const languageId=this._languageIdentifier.id,tokenTheme=this._standaloneThemeService.getColorTheme().tokenTheme;let result=[],resultLen=0,previousStartIndex=0;for(let i=0,len=tokens.length;i<len;i++){const t=tokens[i],metadata=tokenTheme.match(languageId,t.scopes);if(resultLen>0&&result[resultLen-1]===metadata)continue;let startIndex=t.startIndex;0===i?startIndex=0:startIndex<previousStartIndex&&(startIndex=previousStartIndex),result[resultLen++]=startIndex+offsetDelta,result[resultLen++]=metadata,previousStartIndex=startIndex}let actualResult=new Uint32Array(resultLen);for(let i=0;i<resultLen;i++)actualResult[i]=result[i];return actualResult}tokenize2(line,state,offsetDelta){let endState,actualResult=this._actual.tokenize(line,state),tokens=this._toBinaryTokens(actualResult.tokens,offsetDelta);return endState=actualResult.endState.equals(state)?state:actualResult.endState,new core_token.c(tokens,endState)}}function isThenable(obj){return obj&&"function"==typeof obj.then}function setTokensProvider(languageId,provider){let languageIdentifier=standaloneServices_StaticServices.modeService.get().getLanguageIdentifier(languageId);if(!languageIdentifier)throw new Error(`Cannot set tokens provider for unknown language ${languageId}`);const create=provider=>(function isEncodedTokensProvider(provider){return"tokenizeEncoded"in provider})(provider)?new standaloneLanguages_EncodedTokenizationSupport2Adapter(provider):new standaloneLanguages_TokenizationSupport2Adapter(standaloneServices_StaticServices.standaloneThemeService.get(),languageIdentifier,provider);return isThenable(provider)?modes.C.registerPromise(languageId,provider.then(provider=>create(provider))):modes.C.register(languageId,create(provider))}function setMonarchTokensProvider(languageId,languageDef){const create=languageDef=>(function createTokenizationSupport(modeService,standaloneThemeService,modeId,lexer){return new monarchLexer_MonarchTokenizer(modeService,standaloneThemeService,modeId,lexer)})(standaloneServices_StaticServices.modeService.get(),standaloneServices_StaticServices.standaloneThemeService.get(),languageId,function compile(languageId,json){if(!json||"object"!=typeof json)throw new Error("Monarch: expecting a language definition object");let lexer={};lexer.languageId=languageId,lexer.noThrow=!1,lexer.maxStack=100,lexer.start="string"==typeof json.start?json.start:null,lexer.ignoreCase=bool(json.ignoreCase,!1),lexer.unicode=bool(json.unicode,!1),lexer.tokenPostfix=string(json.tokenPostfix,"."+lexer.languageId),lexer.defaultToken=string(json.defaultToken,"source"),lexer.usesEmbedded=!1;let lexerMin=json;function addRules(state,newrules,rules){for(const rule of rules){let include=rule.include;if(include){if("string"!=typeof include)throw createError(lexer,"an 'include' attribute must be a string at: "+state);if("@"===include[0]&&(include=include.substr(1)),!json.tokenizer[include])throw createError(lexer,"include target '"+include+"' is not defined at: "+state);addRules(state+"."+include,newrules,json.tokenizer[include])}else{const newrule=new monarchCompile_Rule(state);if(Array.isArray(rule)&&rule.length>=1&&rule.length<=3)if(newrule.setRegex(lexerMin,rule[0]),rule.length>=3)if("string"==typeof rule[1])newrule.setAction(lexerMin,{token:rule[1],next:rule[2]});else{if("object"!=typeof rule[1])throw createError(lexer,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+state);{const rule1=rule[1];rule1.next=rule[2],newrule.setAction(lexerMin,rule1)}}else newrule.setAction(lexerMin,rule[1]);else{if(!rule.regex)throw createError(lexer,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+state);rule.name&&"string"==typeof rule.name&&(newrule.name=rule.name),rule.matchOnlyAtStart&&(newrule.matchOnlyAtLineStart=bool(rule.matchOnlyAtLineStart,!1)),newrule.setRegex(lexerMin,rule.regex),newrule.setAction(lexerMin,rule.action)}newrules.push(newrule)}}}if(lexerMin.languageId=languageId,lexerMin.ignoreCase=lexer.ignoreCase,lexerMin.unicode=lexer.unicode,lexerMin.noThrow=lexer.noThrow,lexerMin.usesEmbedded=lexer.usesEmbedded,lexerMin.stateNames=json.tokenizer,lexerMin.defaultToken=lexer.defaultToken,!json.tokenizer||"object"!=typeof json.tokenizer)throw createError(lexer,"a language definition must define the 'tokenizer' attribute as an object");lexer.tokenizer=[];for(let key in json.tokenizer)if(json.tokenizer.hasOwnProperty(key)){lexer.start||(lexer.start=key);const rules=json.tokenizer[key];lexer.tokenizer[key]=new Array,addRules("tokenizer."+key,lexer.tokenizer[key],rules)}if(lexer.usesEmbedded=lexerMin.usesEmbedded,json.brackets){if(!Array.isArray(json.brackets))throw createError(lexer,"the 'brackets' attribute must be defined as an array")}else json.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let brackets=[];for(let el of json.brackets){let desc=el;if(desc&&Array.isArray(desc)&&3===desc.length&&(desc={token:desc[2],open:desc[0],close:desc[1]}),desc.open===desc.close)throw createError(lexer,"open and close brackets in a 'brackets' attribute must be different: "+desc.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof desc.open||"string"!=typeof desc.token||"string"!=typeof desc.close)throw createError(lexer,"every element in the 'brackets' array must be a '{open,close,token}' object or array");brackets.push({token:desc.token+lexer.tokenPostfix,open:fixCase(lexer,desc.open),close:fixCase(lexer,desc.close)})}return lexer.brackets=brackets,lexer.noThrow=!0,lexer}(languageId,languageDef));return isThenable(languageDef)?modes.C.registerPromise(languageId,languageDef.then(languageDef=>create(languageDef))):modes.C.register(languageId,create(languageDef))}function registerReferenceProvider(languageId,provider){return modes.v.register(languageId,provider)}function registerRenameProvider(languageId,provider){return modes.w.register(languageId,provider)}function registerSignatureHelpProvider(languageId,provider){return modes.y.register(languageId,provider)}function registerHoverProvider(languageId,provider){return modes.p.register(languageId,{provideHover:(model,position,token)=>{let word=model.getWordAtPosition(position);return Promise.resolve(provider.provideHover(model,position,token)).then(value=>{if(value)return!value.range&&word&&(value.range=new core_range.a(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn)),value.range||(value.range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column)),value})}})}function registerDocumentSymbolProvider(languageId,provider){return modes.m.register(languageId,provider)}function registerDocumentHighlightProvider(languageId,provider){return modes.i.register(languageId,provider)}function registerOnTypeRenameProvider(languageId,provider){return modes.u.register(languageId,provider)}function registerDefinitionProvider(languageId,provider){return modes.f.register(languageId,provider)}function registerImplementationProvider(languageId,provider){return modes.q.register(languageId,provider)}function registerTypeDefinitionProvider(languageId,provider){return modes.D.register(languageId,provider)}function registerCodeLensProvider(languageId,provider){return modes.b.register(languageId,provider)}function registerCodeActionProvider(languageId,provider){return modes.a.register(languageId,{provideCodeActions:(model,range,context,token)=>{let markers=standaloneServices_StaticServices.markerService.get().read({resource:model.uri}).filter(m=>core_range.a.areIntersectingOrTouching(m,range));return provider.provideCodeActions(model,range,{markers:markers,only:context.only},token)}})}function registerDocumentFormattingEditProvider(languageId,provider){return modes.g.register(languageId,provider)}function registerDocumentRangeFormattingEditProvider(languageId,provider){return modes.j.register(languageId,provider)}function registerOnTypeFormattingEditProvider(languageId,provider){return modes.t.register(languageId,provider)}function registerLinkProvider(languageId,provider){return modes.s.register(languageId,provider)}function registerCompletionItemProvider(languageId,provider){return modes.d.register(languageId,provider)}function registerColorProvider(languageId,provider){return modes.c.register(languageId,provider)}function registerFoldingRangeProvider(languageId,provider){return modes.o.register(languageId,provider)}function registerDeclarationProvider(languageId,provider){return modes.e.register(languageId,provider)}function registerSelectionRangeProvider(languageId,provider){return modes.x.register(languageId,provider)}function registerDocumentSemanticTokensProvider(languageId,provider){return modes.l.register(languageId,provider)}function registerDocumentRangeSemanticTokensProvider(languageId,provider){return modes.k.register(languageId,provider)}__webpack_require__.d(__webpack_exports__,"CancellationTokenSource",function(){return CancellationTokenSource}),__webpack_require__.d(__webpack_exports__,"Emitter",function(){return Emitter}),__webpack_require__.d(__webpack_exports__,"KeyCode",function(){return editor_api_KeyCode}),__webpack_require__.d(__webpack_exports__,"KeyMod",function(){return editor_api_KeyMod}),__webpack_require__.d(__webpack_exports__,"Position",function(){return Position}),__webpack_require__.d(__webpack_exports__,"Range",function(){return Range}),__webpack_require__.d(__webpack_exports__,"Selection",function(){return Selection}),__webpack_require__.d(__webpack_exports__,"SelectionDirection",function(){return editor_api_SelectionDirection}),__webpack_require__.d(__webpack_exports__,"MarkerSeverity",function(){return editor_api_MarkerSeverity}),__webpack_require__.d(__webpack_exports__,"MarkerTag",function(){return editor_api_MarkerTag}),__webpack_require__.d(__webpack_exports__,"Uri",function(){return Uri}),__webpack_require__.d(__webpack_exports__,"Token",function(){return Token}),__webpack_require__.d(__webpack_exports__,"editor",function(){return editor_api_editor}),__webpack_require__.d(__webpack_exports__,"languages",function(){return languages});const global=self;editorOptions.g.wrappingIndent.defaultValue=0,editorOptions.g.glyphMargin.defaultValue=!1,editorOptions.g.autoIndent.defaultValue=3,editorOptions.g.overviewRulerLanes.defaultValue=2;const api=createMonacoBaseAPI();api.editor=function createMonacoEditorAPI(){return{create:standaloneEditor_create,onDidCreateEditor:onDidCreateEditor,createDiffEditor:createDiffEditor,createDiffNavigator:createDiffNavigator,createModel:createModel,setModelLanguage:setModelLanguage,setModelMarkers:setModelMarkers,getModelMarkers:getModelMarkers,getModels:getModels,getModel:getModel,onDidCreateModel:onDidCreateModel,onWillDisposeModel:onWillDisposeModel,onDidChangeModelLanguage:onDidChangeModelLanguage,createWebWorker:standaloneEditor_createWebWorker,colorizeElement:colorizeElement,colorize:colorize,colorizeModelLine:colorizeModelLine,tokenize:tokenize,defineTheme:defineTheme,setTheme:setTheme,remeasureFonts:remeasureFonts,AccessibilitySupport:AccessibilitySupport,ContentWidgetPositionPreference:ContentWidgetPositionPreference,CursorChangeReason:CursorChangeReason,DefaultEndOfLine:DefaultEndOfLine,EditorAutoIndentStrategy:EditorAutoIndentStrategy,EditorOption:EditorOption,EndOfLinePreference:EndOfLinePreference,EndOfLineSequence:EndOfLineSequence,MinimapPosition:MinimapPosition,MouseTargetType:MouseTargetType,OverlayWidgetPositionPreference:OverlayWidgetPositionPreference,OverviewRulerLane:OverviewRulerLane,RenderLineNumbersType:RenderLineNumbersType,RenderMinimap:RenderMinimap,ScrollbarVisibility:ScrollbarVisibility,ScrollType:ScrollType,TextEditorCursorBlinkingStyle:TextEditorCursorBlinkingStyle,TextEditorCursorStyle:TextEditorCursorStyle,TrackedRangeStickiness:TrackedRangeStickiness,WrappingIndent:WrappingIndent,ConfigurationChangedEvent:editorOptions.b,BareFontInfo:config_fontInfo.a,FontInfo:config_fontInfo.b,TextModelResolvedOptions:common_model.e,FindMatch:common_model.b,EditorType:editorCommon.a,EditorOptions:editorOptions.g}}(),api.languages=function createMonacoLanguagesAPI(){return{register:register,getLanguages:getLanguages,onLanguage:onLanguage,getEncodedLanguageId:getEncodedLanguageId,setLanguageConfiguration:setLanguageConfiguration,setTokensProvider:setTokensProvider,setMonarchTokensProvider:setMonarchTokensProvider,registerReferenceProvider:registerReferenceProvider,registerRenameProvider:registerRenameProvider,registerCompletionItemProvider:registerCompletionItemProvider,registerSignatureHelpProvider:registerSignatureHelpProvider,registerHoverProvider:registerHoverProvider,registerDocumentSymbolProvider:registerDocumentSymbolProvider,registerDocumentHighlightProvider:registerDocumentHighlightProvider,registerOnTypeRenameProvider:registerOnTypeRenameProvider,registerDefinitionProvider:registerDefinitionProvider,registerImplementationProvider:registerImplementationProvider,registerTypeDefinitionProvider:registerTypeDefinitionProvider,registerCodeLensProvider:registerCodeLensProvider,registerCodeActionProvider:registerCodeActionProvider,registerDocumentFormattingEditProvider:registerDocumentFormattingEditProvider,registerDocumentRangeFormattingEditProvider:registerDocumentRangeFormattingEditProvider,registerOnTypeFormattingEditProvider:registerOnTypeFormattingEditProvider,registerLinkProvider:registerLinkProvider,registerColorProvider:registerColorProvider,registerFoldingRangeProvider:registerFoldingRangeProvider,registerDeclarationProvider:registerDeclarationProvider,registerSelectionRangeProvider:registerSelectionRangeProvider,registerDocumentSemanticTokensProvider:registerDocumentSemanticTokensProvider,registerDocumentRangeSemanticTokensProvider:registerDocumentRangeSemanticTokensProvider,DocumentHighlightKind:DocumentHighlightKind,CompletionItemKind:CompletionItemKind,CompletionItemTag:CompletionItemTag,CompletionItemInsertTextRule:CompletionItemInsertTextRule,SymbolKind:SymbolKind,SymbolTag:SymbolTag,IndentAction:IndentAction,CompletionTriggerKind:CompletionTriggerKind,SignatureHelpTriggerKind:SignatureHelpTriggerKind,FoldingRangeKind:modes.n}}();const CancellationTokenSource=api.CancellationTokenSource,Emitter=api.Emitter,editor_api_KeyCode=api.KeyCode,editor_api_KeyMod=api.KeyMod,Position=api.Position,Range=api.Range,Selection=api.Selection,editor_api_SelectionDirection=api.SelectionDirection,editor_api_MarkerSeverity=api.MarkerSeverity,editor_api_MarkerTag=api.MarkerTag,Uri=api.Uri,Token=api.Token,editor_api_editor=api.editor,languages=api.languages;global.monaco=api,void 0!==global.require&&"function"==typeof global.require.config&&global.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},2691:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var aria=__webpack_require__(2335),arrays=__webpack_require__(2309),errors=__webpack_require__(2302),keyCodes=__webpack_require__(2329),lifecycle=__webpack_require__(2294),editorState=__webpack_require__(2357),editorExtensions=__webpack_require__(2301),editOperation=__webpack_require__(2350),core_range=__webpack_require__(2295),editorContextKeys=__webpack_require__(2312),snippetController2=__webpack_require__(2452),snippetParser=__webpack_require__(2418),map=__webpack_require__(2349),storage=__webpack_require__(2362),modes=__webpack_require__(2308),common_async=__webpack_require__(2306),instantiation=__webpack_require__(2300),configuration=__webpack_require__(2332),extensions=__webpack_require__(2361),services_modeService=__webpack_require__(2366),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};class Memory{constructor(name){this.name=name}select(model,pos,items){if(0===items.length)return 0;let topScore=items[0].score[0];for(let i=0;i<items.length;i++){const{score:score,completion:suggestion}=items[i];if(score[0]!==topScore)break;if(suggestion.preselect)return i}return 0}}class NoMemory extends Memory{constructor(){super("first")}memorize(model,pos,item){}toJSON(){}fromJSON(){}}let suggestMemory_SuggestMemoryService=class SuggestMemoryService{constructor(_storageService,_modeService,_configService){this._storageService=_storageService,this._modeService=_modeService,this._configService=_configService,this._disposables=new lifecycle.b,this._persistSoon=new common_async.d(()=>this._saveState(),500),this._disposables.add(_storageService.onWillSaveState(e=>{e.reason===storage.c.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(model,pos,item){this._withStrategy(model,pos).memorize(model,pos,item),this._persistSoon.schedule()}select(model,pos,items){return this._withStrategy(model,pos).select(model,pos,items)}_withStrategy(model,pos){var _a,_b;const mode=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(_a=this._modeService.getLanguageIdentifier(model.getLanguageIdAtPosition(pos.lineNumber,pos.column)))||void 0===_a?void 0:_a.language,resource:model.uri});if((null===(_b=this._strategy)||void 0===_b?void 0:_b.name)!==mode){this._saveState();const ctor=SuggestMemoryService._strategyCtors.get(mode)||NoMemory;this._strategy=new ctor;try{const scope=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,raw=this._storageService.get(`${SuggestMemoryService._storagePrefix}/${mode}`,scope);raw&&this._strategy.fromJSON(JSON.parse(raw))}catch(e){}}return this._strategy}_saveState(){if(this._strategy){const scope=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,raw=JSON.stringify(this._strategy);this._storageService.store(`${SuggestMemoryService._storagePrefix}/${this._strategy.name}`,raw,scope)}}};suggestMemory_SuggestMemoryService._strategyCtors=new Map([["recentlyUsedByPrefix",class suggestMemory_PrefixMemory extends Memory{constructor(){super("recentlyUsedByPrefix"),this._trie=map.c.forStrings(),this._seq=0}memorize(model,pos,item){const{word:word}=model.getWordUntilPosition(pos),key=`${model.getLanguageIdentifier().language}/${word}`;this._trie.set(key,{type:item.completion.kind,insertText:item.completion.insertText,touch:this._seq++})}select(model,pos,items){let{word:word}=model.getWordUntilPosition(pos);if(!word)return super.select(model,pos,items);let key=`${model.getLanguageIdentifier().language}/${word}`,item=this._trie.get(key);if(item||(item=this._trie.findSubstr(key)),item)for(let i=0;i<items.length;i++){let{kind:kind,insertText:insertText}=items[i].completion;if(kind===item.type&&insertText===item.insertText)return i}return super.select(model,pos,items)}toJSON(){let entries=[];return this._trie.forEach((value,key)=>entries.push([key,value])),entries.sort((a,b)=>-(a[1].touch-b[1].touch)).forEach((value,i)=>value[1].touch=i),entries.slice(0,200)}fromJSON(data){if(this._trie.clear(),data.length>0){this._seq=data[0][1].touch+1;for(const[key,value]of data)value.type="number"==typeof value.type?value.type:Object(modes.E)(value.type),this._trie.set(key,value)}}}],["recentlyUsed",class suggestMemory_LRUMemory extends Memory{constructor(){super("recentlyUsed"),this._cache=new map.a(300,.66),this._seq=0}memorize(model,pos,item){const{label:label}=item.completion,key=`${model.getLanguageIdentifier().language}/${label}`;this._cache.set(key,{touch:this._seq++,type:item.completion.kind,insertText:item.completion.insertText})}select(model,pos,items){if(0===items.length)return 0;const lineSuffix=model.getLineContent(pos.lineNumber).substr(pos.column-10,pos.column-1);if(/\s$/.test(lineSuffix))return super.select(model,pos,items);let topScore=items[0].score[0],indexPreselect=-1,indexRecency=-1,seq=-1;for(let i=0;i<items.length&&items[i].score[0]===topScore;i++){const key=`${model.getLanguageIdentifier().language}/${items[i].completion.label}`,item=this._cache.peek(key);if(item&&item.touch>seq&&item.type===items[i].completion.kind&&item.insertText===items[i].completion.insertText&&(seq=item.touch,indexRecency=i),items[i].completion.preselect&&-1===indexPreselect)return i}return-1!==indexRecency?indexRecency:-1!==indexPreselect?indexPreselect:0}toJSON(){return this._cache.toJSON()}fromJSON(data){this._cache.clear();for(const[key,value]of data)value.touch=0,value.type="number"==typeof value.type?value.type:Object(modes.E)(value.type),this._cache.set(key,value);this._seq=this._cache.size}}],["first",NoMemory]]),suggestMemory_SuggestMemoryService._storagePrefix="suggest/memories",suggestMemory_SuggestMemoryService=__decorate([__param(0,storage.a),__param(1,services_modeService.a),__param(2,configuration.a)],suggestMemory_SuggestMemoryService);const ISuggestMemoryService=Object(instantiation.c)("ISuggestMemories");Object(extensions.b)(ISuggestMemoryService,suggestMemory_SuggestMemoryService,!0);var nls=__webpack_require__(2297),commands=__webpack_require__(2318),contextkey=__webpack_require__(2307),keybindingsRegistry=__webpack_require__(2367),suggest=__webpack_require__(2417),suggestAlternatives_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},suggestAlternatives_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let suggestAlternatives_SuggestAlternatives=class SuggestAlternatives{constructor(_editor,contextKeyService){this._editor=_editor,this._index=0,this._ckOtherSuggestions=SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService)}dispose(){this.reset()}reset(){this._ckOtherSuggestions.reset(),Object(lifecycle.f)(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:model,index:index},acceptNext){if(0===model.items.length)return void this.reset();SuggestAlternatives._moveIndex(!0,model,index)!==index?(this._acceptNext=acceptNext,this._model=model,this._index=index,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(fwd,model,index){let newIndex=index;for(;(newIndex=(newIndex+model.items.length+(fwd?1:-1))%model.items.length)!==index&&model.items[newIndex].completion.additionalTextEdits;);return newIndex}next(){this._move(!0)}prev(){this._move(!1)}_move(fwd){if(this._model)try{this._ignore=!0,this._index=SuggestAlternatives._moveIndex(fwd,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};suggestAlternatives_SuggestAlternatives.OtherSuggestions=new contextkey.c("hasOtherSuggestions",!1),suggestAlternatives_SuggestAlternatives=suggestAlternatives_decorate([suggestAlternatives_param(1,contextkey.b)],suggestAlternatives_SuggestAlternatives);var common_event=__webpack_require__(2296),selection=__webpack_require__(2311),filters=__webpack_require__(2354),strings=__webpack_require__(2299);class completionModel_CompletionModel{constructor(items,column,lineContext,wordDistance,options,snippetSuggestions,clipboardText){this.clipboardText=clipboardText,this._snippetCompareFn=completionModel_CompletionModel._compareCompletionItems,this._items=items,this._column=column,this._wordDistance=wordDistance,this._options=options,this._refilterKind=1,this._lineContext=lineContext,"top"===snippetSuggestions?this._snippetCompareFn=completionModel_CompletionModel._compareCompletionItemsSnippetsUp:"bottom"===snippetSuggestions&&(this._snippetCompareFn=completionModel_CompletionModel._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(value){this._lineContext.leadingLineContent===value.leadingLineContent&&this._lineContext.characterCountDelta===value.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<value.characterCountDelta&&this._filteredItems?2:1,this._lineContext=value)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._allProvider}get incomplete(){return this._ensureCachedState(),this._isIncomplete}adopt(except){let res=[];for(let i=0;i<this._items.length;)except.has(this._items[i].provider)?i++:(res.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,res}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._isIncomplete=new Set,this._allProvider=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};const{leadingLineContent:leadingLineContent,characterCountDelta:characterCountDelta}=this._lineContext;let word="",wordLow="";const source=1===this._refilterKind?this._items:this._filteredItems,target=[],scoreFn=!this._options.filterGraceful||source.length>2e3?filters.d:filters.e;for(let i=0;i<source.length;i++){const item=source[i];if(item.isInvalid)continue;item.container.incomplete&&this._isIncomplete.add(item.provider),this._allProvider.add(item.provider);const overwriteBefore=item.position.column-item.editStart.column,wordLen=overwriteBefore+characterCountDelta-(item.position.column-this._column);if(word.length!==wordLen&&(wordLow=(word=0===wordLen?"":leadingLineContent.slice(-wordLen)).toLowerCase()),item.word=word,0===wordLen)item.score=filters.a.Default;else{let wordPos=0;for(;wordPos<overwriteBefore;){const ch=word.charCodeAt(wordPos);if(32!==ch&&9!==ch)break;wordPos+=1}const textLabel="string"==typeof item.completion.label?item.completion.label:item.completion.label.name;if(wordPos>=wordLen)item.score=filters.a.Default;else if("string"==typeof item.completion.filterText){let match=scoreFn(word,wordLow,wordPos,item.completion.filterText,item.filterTextLow,0,!1);if(!match)continue;0===Object(strings.g)(item.completion.filterText,textLabel)?item.score=match:(item.score=Object(filters.b)(word,wordLow,wordPos,textLabel,item.labelLow,0),item.score[0]=match[0])}else{let match=scoreFn(word,wordLow,wordPos,textLabel,item.labelLow,0,!1);if(!match)continue;item.score=match}}switch(item.idx=i,item.distance=this._wordDistance.distance(item.position,item.completion),target.push(item),this._stats.suggestionCount++,item.completion.kind){case 27:this._stats.snippetCount++;break;case 18:this._stats.textCount++}}this._filteredItems=target.sort(this._snippetCompareFn),this._refilterKind=0}static _compareCompletionItems(a,b){return a.score[0]>b.score[0]?-1:a.score[0]<b.score[0]?1:a.distance<b.distance?-1:a.distance>b.distance?1:a.idx<b.idx?-1:a.idx>b.idx?1:0}static _compareCompletionItemsSnippetsDown(a,b){if(a.completion.kind!==b.completion.kind){if(27===a.completion.kind)return 1;if(27===b.completion.kind)return-1}return completionModel_CompletionModel._compareCompletionItems(a,b)}static _compareCompletionItemsSnippetsUp(a,b){if(a.completion.kind!==b.completion.kind){if(27===a.completion.kind)return-1;if(27===b.completion.kind)return 1}return completionModel_CompletionModel._compareCompletionItems(a,b)}}var cancellation=__webpack_require__(2315),bracketSelections=__webpack_require__(2491),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class wordDistance_WordDistance{static create(service,editor){return __awaiter(this,void 0,void 0,function*(){if(!editor.getOption(96).localityBonus)return wordDistance_WordDistance.None;if(!editor.hasModel())return wordDistance_WordDistance.None;const model=editor.getModel(),position=editor.getPosition();if(!service.canComputeWordRanges(model.uri))return wordDistance_WordDistance.None;const[ranges]=yield(new bracketSelections.a).provideSelectionRanges(model,[position]);if(0===ranges.length)return wordDistance_WordDistance.None;const wordRanges=yield service.computeWordRanges(model.uri,ranges[0].range);if(!wordRanges)return wordDistance_WordDistance.None;const wordUntilPos=model.getWordUntilPosition(position);return delete wordRanges[wordUntilPos.word],new class extends wordDistance_WordDistance{distance(anchor,suggestion){if(!position.equals(editor.getPosition()))return 0;if(17===suggestion.kind)return 2<<20;let word="string"==typeof suggestion.label?suggestion.label:suggestion.label.name,wordLines=wordRanges[word];if(Object(arrays.n)(wordLines))return 2<<20;let idx=Object(arrays.c)(wordLines,core_range.a.fromPositions(anchor),core_range.a.compareRangesUsingStarts),bestWordRange=idx>=0?wordLines[idx]:wordLines[Math.max(0,~idx-1)],blockDistance=ranges.length;for(const range of ranges){if(!core_range.a.containsRange(range.range,bestWordRange))break;blockDistance-=1}return blockDistance}}})}}wordDistance_WordDistance.None=new class extends wordDistance_WordDistance{distance(){return 0}};var suggestModel_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class suggestModel_LineContext{constructor(model,position,auto,shy){this.leadingLineContent=model.getLineContent(position.lineNumber).substr(0,position.column-1),this.leadingWord=model.getWordUntilPosition(position),this.lineNumber=position.lineNumber,this.column=position.column,this.auto=auto,this.shy=shy}static shouldAutoTrigger(editor){if(!editor.hasModel())return!1;const model=editor.getModel(),pos=editor.getPosition();model.tokenizeIfCheap(pos.lineNumber);const word=model.getWordAtPosition(pos);return!!word&&(word.endColumn===pos.column&&!!isNaN(Number(word.word)))}}class suggestModel_SuggestModel{constructor(_editor,_editorWorkerService,_clipboardService){this._editor=_editor,this._editorWorkerService=_editorWorkerService,this._clipboardService=_clipboardService,this._toDispose=new lifecycle.b,this._quickSuggestDelay=10,this._triggerCharacterListener=new lifecycle.b,this._triggerQuickSuggest=new common_async.e,this._state=0,this._completionDisposables=new lifecycle.b,this._onDidCancel=new common_event.a,this._onDidTrigger=new common_event.a,this._onDidSuggest=new common_event.a,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new selection.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(modes.d.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._onCursorChange(e)}));let editorIsComposing=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{editorIsComposing=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{editorIsComposing=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{editorIsComposing||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){Object(lifecycle.f)(this._triggerCharacterListener),Object(lifecycle.f)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(71),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(72)||!this._editor.hasModel()||!this._editor.getOption(99))return;const supportsByTriggerCharacter=new Map;for(const support of modes.d.all(this._editor.getModel()))for(const ch of support.triggerCharacters||[]){let set=supportsByTriggerCharacter.get(ch);set||((set=new Set).add(Object(suggest.c)()),supportsByTriggerCharacter.set(ch,set)),set.add(support)}const checkTriggerCharacter=text=>{var _a;if(!text){const position=this._editor.getPosition();text=this._editor.getModel().getLineContent(position.lineNumber).substr(0,position.column-1)}let lastChar="";Object(strings.G)(text.charCodeAt(text.length-1))?Object(strings.F)(text.charCodeAt(text.length-2))&&(lastChar=text.substr(text.length-2)):lastChar=text.charAt(text.length-1);const supports=supportsByTriggerCharacter.get(lastChar);if(supports){const items=null===(_a=this._completionModel)||void 0===_a?void 0:_a.adopt(supports);this.trigger({auto:!0,shy:!1,triggerCharacter:lastChar},Boolean(this._completionModel),supports,items)}};this._triggerCharacterListener.add(this._editor.onDidType(checkTriggerCharacter)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(checkTriggerCharacter))}get state(){return this._state}cancel(retrigger=!1){0!==this._state&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:retrigger}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&modes.d.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const model=this._editor.getModel(),prevSelection=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(modes.d.has(model)&&0===this._state){if(!1===this._editor.getOption(70))return;if(!prevSelection.containsRange(this._currentSelection)&&!prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(96).snippetsPreventQuickSuggestions&&snippetController2.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state)return;if(!suggestModel_LineContext.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel())return;const model=this._editor.getModel(),pos=this._editor.getPosition(),quickSuggestions=this._editor.getOption(70);if(!1!==quickSuggestions){if(!0===quickSuggestions);else{model.tokenizeIfCheap(pos.lineNumber);const lineTokens=model.getLineTokens(pos.lineNumber),tokenType=lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column-1-1,0)));if(!(quickSuggestions.other&&0===tokenType||quickSuggestions.comments&&1===tokenType||quickSuggestions.strings&&2===tokenType))return}this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const model=this._editor.getModel(),position=this._editor.getPosition(),ctx=new suggestModel_LineContext(model,position,2===this._state,!1);this._onNewContext(ctx)})}trigger(context,retrigger=!1,onlyFrom,existingItems){var _a;if(!this._editor.hasModel())return;const model=this._editor.getModel(),auto=context.auto,ctx=new suggestModel_LineContext(model,this._editor.getPosition(),auto,context.shy);this.cancel(retrigger),this._state=auto?2:1,this._onDidTrigger.fire({auto:auto,shy:context.shy,position:this._editor.getPosition()}),this._context=ctx;let suggestCtx={triggerKind:null!==(_a=context.triggerKind)&&void 0!==_a?_a:0};context.triggerCharacter&&(suggestCtx={triggerKind:1,triggerCharacter:context.triggerCharacter}),this._requestToken=new cancellation.b;const snippetSuggestions=this._editor.getOption(93);let snippetSortOrder=1;switch(snippetSuggestions){case"top":snippetSortOrder=0;break;case"bottom":snippetSortOrder=2}let itemKindFilter=suggestModel_SuggestModel._createItemKindFilter(this._editor),wordDistance=wordDistance_WordDistance.create(this._editorWorkerService,this._editor),completions=Object(suggest.e)(model,this._editor.getPosition(),new suggest.a(snippetSortOrder,itemKindFilter,onlyFrom),suggestCtx,this._requestToken.token);Promise.all([completions,wordDistance]).then(([completions,wordDistance])=>suggestModel_awaiter(this,void 0,void 0,function*(){if(Object(lifecycle.f)(this._requestToken),0===this._state)return;if(!this._editor.hasModel())return;let clipboardText;(completions.needsClipboard||Object(arrays.o)(existingItems))&&(clipboardText=yield this._clipboardService.readText());const model=this._editor.getModel();let items=completions.items;if(Object(arrays.o)(existingItems)){const cmpFn=Object(suggest.d)(snippetSortOrder);items=items.concat(existingItems).sort(cmpFn)}const ctx=new suggestModel_LineContext(model,this._editor.getPosition(),auto,context.shy);this._completionModel=new completionModel_CompletionModel(items,this._context.column,{leadingLineContent:ctx.leadingLineContent,characterCountDelta:ctx.column-this._context.column},wordDistance,this._editor.getOption(96),this._editor.getOption(93),clipboardText),this._completionDisposables.add(completions.dispoables),this._onNewContext(ctx)})).catch(errors.e)}static _createItemKindFilter(editor){const result=new Set;"none"===editor.getOption(93)&&result.add(27);const suggestOptions=editor.getOption(96);return suggestOptions.showMethods||result.add(0),suggestOptions.showFunctions||result.add(1),suggestOptions.showConstructors||result.add(2),suggestOptions.showFields||result.add(3),suggestOptions.showVariables||result.add(4),suggestOptions.showClasses||result.add(5),suggestOptions.showStructs||result.add(6),suggestOptions.showInterfaces||result.add(7),suggestOptions.showModules||result.add(8),suggestOptions.showProperties||result.add(9),suggestOptions.showEvents||result.add(10),suggestOptions.showOperators||result.add(11),suggestOptions.showUnits||result.add(12),suggestOptions.showValues||result.add(13),suggestOptions.showConstants||result.add(14),suggestOptions.showEnums||result.add(15),suggestOptions.showEnumMembers||result.add(16),suggestOptions.showKeywords||result.add(17),suggestOptions.showWords||result.add(18),suggestOptions.showColors||result.add(19),suggestOptions.showFiles||result.add(20),suggestOptions.showReferences||result.add(21),suggestOptions.showColors||result.add(22),suggestOptions.showFolders||result.add(23),suggestOptions.showTypeParameters||result.add(24),suggestOptions.showSnippets||result.add(27),suggestOptions.showUsers||result.add(25),suggestOptions.showIssues||result.add(26),result}_onNewContext(ctx){if(this._context)if(ctx.lineNumber===this._context.lineNumber){if(ctx.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(ctx.column<this._context.column)ctx.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==ctx.leadingWord.word.length&&ctx.leadingWord.startColumn>this._context.leadingWord.startColumn){const inactiveProvider=new Set(modes.d.all(this._editor.getModel()));this._completionModel.allProvider.forEach(provider=>inactiveProvider.delete(provider));const items=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,inactiveProvider,items)}else if(ctx.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==ctx.leadingWord.word.length){const{incomplete:incomplete}=this._completionModel,adopted=this._completionModel.adopt(incomplete);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,incomplete,adopted)}else{let oldLineContext=this._completionModel.lineContext,isFrozen=!1;if(this._completionModel.lineContext={leadingLineContent:ctx.leadingLineContent,characterCountDelta:ctx.column-this._context.column},0===this._completionModel.items.length){if(suggestModel_LineContext.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<ctx.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=oldLineContext,(isFrozen=this._completionModel.items.length>0)&&0===ctx.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:isFrozen})}}else this.cancel()}}__webpack_require__(2621),__webpack_require__(2623),__webpack_require__(2446),__webpack_require__(2633),__webpack_require__(2635);var common_themeService=__webpack_require__(2304),colorRegistry=__webpack_require__(2310),codicons=__webpack_require__(2316);const SYMBOL_ICON_ARRAY_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.arrayForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_BOOLEAN_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.booleanForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_CLASS_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(nls.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_COLOR_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.colorForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_CONSTANT_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.constantForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(nls.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_ENUMERATOR_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(nls.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(nls.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_EVENT_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(nls.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FIELD_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(nls.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FILE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.fileForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FOLDER_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.folderForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_FUNCTION_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(nls.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_INTERFACE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(nls.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_KEY_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.keyForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_KEYWORD_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.keywordForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_METHOD_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(nls.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_MODULE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.moduleForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_NAMESPACE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.namespaceForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_NULL_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.nullForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_NUMBER_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.numberForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_OBJECT_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.objectForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_OPERATOR_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.operatorForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_PACKAGE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.packageForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_PROPERTY_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.propertyForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_REFERENCE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.referenceForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_SNIPPET_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.snippetForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_STRING_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.stringForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_STRUCT_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.structForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_TEXT_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.textForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.typeParameterForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_UNIT_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.unitForeground",{dark:colorRegistry.ab,light:colorRegistry.ab,hc:colorRegistry.ab},Object(nls.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SYMBOL_ICON_VARIABLE_FOREGROUND=Object(colorRegistry.gc)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(nls.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(common_themeService.g)((theme,collector)=>{const symbolIconArrayColor=theme.getColor(SYMBOL_ICON_ARRAY_FOREGROUND);symbolIconArrayColor&&collector.addRule(`${codicons.a.symbolArray.cssSelector} { color: ${symbolIconArrayColor}; }`);const symbolIconBooleanColor=theme.getColor(SYMBOL_ICON_BOOLEAN_FOREGROUND);symbolIconBooleanColor&&collector.addRule(`${codicons.a.symbolBoolean.cssSelector} { color: ${symbolIconBooleanColor}; }`);const symbolIconClassColor=theme.getColor(SYMBOL_ICON_CLASS_FOREGROUND);symbolIconClassColor&&collector.addRule(`${codicons.a.symbolClass.cssSelector} { color: ${symbolIconClassColor}; }`);const symbolIconMethodColor=theme.getColor(SYMBOL_ICON_METHOD_FOREGROUND);symbolIconMethodColor&&collector.addRule(`${codicons.a.symbolMethod.cssSelector} { color: ${symbolIconMethodColor}; }`);const symbolIconColorColor=theme.getColor(SYMBOL_ICON_COLOR_FOREGROUND);symbolIconColorColor&&collector.addRule(`${codicons.a.symbolColor.cssSelector} { color: ${symbolIconColorColor}; }`);const symbolIconConstantColor=theme.getColor(SYMBOL_ICON_CONSTANT_FOREGROUND);symbolIconConstantColor&&collector.addRule(`${codicons.a.symbolConstant.cssSelector} { color: ${symbolIconConstantColor}; }`);const symbolIconConstructorColor=theme.getColor(SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);symbolIconConstructorColor&&collector.addRule(`${codicons.a.symbolConstructor.cssSelector} { color: ${symbolIconConstructorColor}; }`);const symbolIconEnumeratorColor=theme.getColor(SYMBOL_ICON_ENUMERATOR_FOREGROUND);symbolIconEnumeratorColor&&collector.addRule(`\n\t\t\t${codicons.a.symbolValue.cssSelector},${codicons.a.symbolEnum.cssSelector} { color: ${symbolIconEnumeratorColor}; }`);const symbolIconEnumeratorMemberColor=theme.getColor(SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);symbolIconEnumeratorMemberColor&&collector.addRule(`${codicons.a.symbolEnumMember.cssSelector} { color: ${symbolIconEnumeratorMemberColor}; }`);const symbolIconEventColor=theme.getColor(SYMBOL_ICON_EVENT_FOREGROUND);symbolIconEventColor&&collector.addRule(`${codicons.a.symbolEvent.cssSelector} { color: ${symbolIconEventColor}; }`);const symbolIconFieldColor=theme.getColor(SYMBOL_ICON_FIELD_FOREGROUND);symbolIconFieldColor&&collector.addRule(`${codicons.a.symbolField.cssSelector} { color: ${symbolIconFieldColor}; }`);const symbolIconFileColor=theme.getColor(SYMBOL_ICON_FILE_FOREGROUND);symbolIconFileColor&&collector.addRule(`${codicons.a.symbolFile.cssSelector} { color: ${symbolIconFileColor}; }`);const symbolIconFolderColor=theme.getColor(SYMBOL_ICON_FOLDER_FOREGROUND);symbolIconFolderColor&&collector.addRule(`${codicons.a.symbolFolder.cssSelector} { color: ${symbolIconFolderColor}; }`);const symbolIconFunctionColor=theme.getColor(SYMBOL_ICON_FUNCTION_FOREGROUND);symbolIconFunctionColor&&collector.addRule(`${codicons.a.symbolFunction.cssSelector} { color: ${symbolIconFunctionColor}; }`);const symbolIconInterfaceColor=theme.getColor(SYMBOL_ICON_INTERFACE_FOREGROUND);symbolIconInterfaceColor&&collector.addRule(`${codicons.a.symbolInterface.cssSelector} { color: ${symbolIconInterfaceColor}; }`);const symbolIconKeyColor=theme.getColor(SYMBOL_ICON_KEY_FOREGROUND);symbolIconKeyColor&&collector.addRule(`${codicons.a.symbolKey.cssSelector} { color: ${symbolIconKeyColor}; }`);const symbolIconKeywordColor=theme.getColor(SYMBOL_ICON_KEYWORD_FOREGROUND);symbolIconKeywordColor&&collector.addRule(`${codicons.a.symbolKeyword.cssSelector} { color: ${symbolIconKeywordColor}; }`);const symbolIconModuleColor=theme.getColor(SYMBOL_ICON_MODULE_FOREGROUND);symbolIconModuleColor&&collector.addRule(`${codicons.a.symbolModule.cssSelector} { color: ${symbolIconModuleColor}; }`);const outlineNamespaceColor=theme.getColor(SYMBOL_ICON_NAMESPACE_FOREGROUND);outlineNamespaceColor&&collector.addRule(`${codicons.a.symbolNamespace.cssSelector} { color: ${outlineNamespaceColor}; }`);const symbolIconNullColor=theme.getColor(SYMBOL_ICON_NULL_FOREGROUND);symbolIconNullColor&&collector.addRule(`${codicons.a.symbolNull.cssSelector} { color: ${symbolIconNullColor}; }`);const symbolIconNumberColor=theme.getColor(SYMBOL_ICON_NUMBER_FOREGROUND);symbolIconNumberColor&&collector.addRule(`${codicons.a.symbolNumber.cssSelector} { color: ${symbolIconNumberColor}; }`);const symbolIconObjectColor=theme.getColor(SYMBOL_ICON_OBJECT_FOREGROUND);symbolIconObjectColor&&collector.addRule(`${codicons.a.symbolObject.cssSelector} { color: ${symbolIconObjectColor}; }`);const symbolIconOperatorColor=theme.getColor(SYMBOL_ICON_OPERATOR_FOREGROUND);symbolIconOperatorColor&&collector.addRule(`${codicons.a.symbolOperator.cssSelector} { color: ${symbolIconOperatorColor}; }`);const symbolIconPackageColor=theme.getColor(SYMBOL_ICON_PACKAGE_FOREGROUND);symbolIconPackageColor&&collector.addRule(`${codicons.a.symbolPackage.cssSelector} { color: ${symbolIconPackageColor}; }`);const symbolIconPropertyColor=theme.getColor(SYMBOL_ICON_PROPERTY_FOREGROUND);symbolIconPropertyColor&&collector.addRule(`${codicons.a.symbolProperty.cssSelector} { color: ${symbolIconPropertyColor}; }`);const symbolIconReferenceColor=theme.getColor(SYMBOL_ICON_REFERENCE_FOREGROUND);symbolIconReferenceColor&&collector.addRule(`${codicons.a.symbolReference.cssSelector} { color: ${symbolIconReferenceColor}; }`);const symbolIconSnippetColor=theme.getColor(SYMBOL_ICON_SNIPPET_FOREGROUND);symbolIconSnippetColor&&collector.addRule(`${codicons.a.symbolSnippet.cssSelector} { color: ${symbolIconSnippetColor}; }`);const symbolIconStringColor=theme.getColor(SYMBOL_ICON_STRING_FOREGROUND);symbolIconStringColor&&collector.addRule(`${codicons.a.symbolString.cssSelector} { color: ${symbolIconStringColor}; }`);const symbolIconStructColor=theme.getColor(SYMBOL_ICON_STRUCT_FOREGROUND);symbolIconStructColor&&collector.addRule(`${codicons.a.symbolStruct.cssSelector} { color: ${symbolIconStructColor}; }`);const symbolIconTextColor=theme.getColor(SYMBOL_ICON_TEXT_FOREGROUND);symbolIconTextColor&&collector.addRule(`${codicons.a.symbolText.cssSelector} { color: ${symbolIconTextColor}; }`);const symbolIconTypeParameterColor=theme.getColor(SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);symbolIconTypeParameterColor&&collector.addRule(`${codicons.a.symbolTypeParameter.cssSelector} { color: ${symbolIconTypeParameterColor}; }`);const symbolIconUnitColor=theme.getColor(SYMBOL_ICON_UNIT_FOREGROUND);symbolIconUnitColor&&collector.addRule(`${codicons.a.symbolUnit.cssSelector} { color: ${symbolIconUnitColor}; }`);const symbolIconVariableColor=theme.getColor(SYMBOL_ICON_VARIABLE_FOREGROUND);symbolIconVariableColor&&collector.addRule(`${codicons.a.symbolVariable.cssSelector} { color: ${symbolIconVariableColor}; }`)});var FileKind,dom=__webpack_require__(2298),listWidget=__webpack_require__(2425),scrollableElement=__webpack_require__(2356),keybinding=__webpack_require__(2325),telemetry=__webpack_require__(2368),styler=__webpack_require__(2392),markdown_markdownRenderer=__webpack_require__(2426),common_opener=__webpack_require__(2344),iconLabel=__webpack_require__(2443),network=__webpack_require__(2330),resources=__webpack_require__(2331),modesRegistry=__webpack_require__(2419);function getIconClasses(modelService,modeService,resource,fileKind){const classes=fileKind===FileKind.ROOT_FOLDER?["rootfolder-icon"]:fileKind===FileKind.FOLDER?["folder-icon"]:["file-icon"];if(resource){let name;if(resource.scheme===network.b.data){name=resources.a.parseMetaData(resource).get(resources.a.META_DATA_LABEL)}else name=cssEscape(Object(resources.c)(resource).toLowerCase());if(fileKind===FileKind.FOLDER)classes.push(`${name}-name-folder-icon`);else{if(name){classes.push(`${name}-name-file-icon`);const dotSegments=name.split(".");for(let i=1;i<dotSegments.length;i++)classes.push(`${dotSegments.slice(i).join(".")}-ext-file-icon`);classes.push("ext-file-icon")}const detectedModeId=function detectModeId(modelService,modeService,resource){if(!resource)return null;let modeId=null;if(resource.scheme===network.b.data){const metadata=resources.a.parseMetaData(resource),mime=metadata.get(resources.a.META_DATA_MIME);mime&&(modeId=modeService.getModeId(mime))}else{const model=modelService.getModel(resource);model&&(modeId=model.getModeId())}if(modeId&&modeId!==modesRegistry.c)return modeId;return modeService.getModeIdByFilepathOrFirstLine(resource)}(modelService,modeService,resource);detectedModeId&&classes.push(`${cssEscape(detectedModeId)}-lang-file-icon`)}}return classes}function cssEscape(val){return val.replace(/\s/g,"\\$&")}!function(FileKind){FileKind[FileKind.FILE=0]="FILE",FileKind[FileKind.FOLDER=1]="FOLDER",FileKind[FileKind.ROOT_FOLDER=2]="ROOT_FOLDER"}(FileKind||(FileKind={}));var services_modelService=__webpack_require__(2336),uri=__webpack_require__(2313),htmlContent=__webpack_require__(2369),actions=__webpack_require__(2323),actionbar=__webpack_require__(2373),actionViewItems=__webpack_require__(2380),suggestWidget_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},suggestWidget_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},suggestWidget_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const suggestMoreInfoIcon=Object(codicons.e)("suggest-more-info",codicons.a.chevronRight),editorSuggestWidgetBackground=Object(colorRegistry.gc)("editorSuggestWidget.background",{dark:colorRegistry.U,light:colorRegistry.U,hc:colorRegistry.U},nls.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),editorSuggestWidgetBorder=Object(colorRegistry.gc)("editorSuggestWidget.border",{dark:colorRegistry.V,light:colorRegistry.V,hc:colorRegistry.V},nls.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),editorSuggestWidgetForeground=Object(colorRegistry.gc)("editorSuggestWidget.foreground",{dark:colorRegistry.B,light:colorRegistry.B,hc:colorRegistry.B},nls.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),editorSuggestWidgetSelectedBackground=Object(colorRegistry.gc)("editorSuggestWidget.selectedBackground",{dark:colorRegistry.xb,light:colorRegistry.xb,hc:colorRegistry.xb},nls.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),editorSuggestWidgetHighlightForeground=Object(colorRegistry.gc)("editorSuggestWidget.highlightForeground",{dark:colorRegistry.zb,light:colorRegistry.zb,hc:colorRegistry.zb},nls.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),colorRegExp=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function canExpandCompletionItem(item){if(!item)return!1;const suggestion=item.completion;return!!suggestion.documentation||suggestion.detail&&suggestion.detail!==suggestion.label}function getAriaId(index){return`suggest-aria-id:${index}`}let suggestWidget_ItemRenderer=class ItemRenderer{constructor(widget,editor,triggerKeybindingLabel,_modelService,_modeService,_themeService){this.widget=widget,this.editor=editor,this.triggerKeybindingLabel=triggerKeybindingLabel,this._modelService=_modelService,this._modeService=_modeService,this._themeService=_themeService}get templateId(){return"suggestion"}renderTemplate(container){const data=Object.create(null);data.disposables=new lifecycle.b,data.root=container,data.root.classList.add("show-file-icons"),data.icon=Object(dom.p)(container,Object(dom.a)(".icon")),data.colorspan=Object(dom.p)(data.icon,Object(dom.a)("span.colorspan"));const text=Object(dom.p)(container,Object(dom.a)(".contents")),main=Object(dom.p)(text,Object(dom.a)(".main"));data.iconContainer=Object(dom.p)(main,Object(dom.a)(".icon-label.codicon")),data.left=Object(dom.p)(main,Object(dom.a)("span.left")),data.right=Object(dom.p)(main,Object(dom.a)("span.right")),data.iconLabel=new iconLabel.a(data.left,{supportHighlights:!0,supportCodicons:!0}),data.disposables.add(data.iconLabel),data.parametersLabel=Object(dom.p)(data.left,Object(dom.a)("span.signature-label")),data.qualifierLabel=Object(dom.p)(data.left,Object(dom.a)("span.qualifier-label")),data.detailsLabel=Object(dom.p)(data.right,Object(dom.a)("span.details-label")),data.readMore=Object(dom.p)(data.right,Object(dom.a)("span.readMore"+suggestMoreInfoIcon.cssSelector)),data.readMore.title=nls.a("readMore","Read More ({0})",this.triggerKeybindingLabel);const configureFont=()=>{const options=this.editor.getOptions(),fontInfo=options.get(36),fontFamily=fontInfo.fontFamily,fontFeatureSettings=fontInfo.fontFeatureSettings,fontSize=options.get(97)||fontInfo.fontSize,lineHeight=options.get(98)||fontInfo.lineHeight,fontWeight=fontInfo.fontWeight,fontSizePx=`${fontSize}px`,lineHeightPx=`${lineHeight}px`;data.root.style.fontSize=fontSizePx,data.root.style.fontWeight=fontWeight,main.style.fontFamily=fontFamily,main.style.fontFeatureSettings=fontFeatureSettings,main.style.lineHeight=lineHeightPx,data.icon.style.height=lineHeightPx,data.icon.style.width=lineHeightPx,data.readMore.style.height=lineHeightPx,data.readMore.style.width=lineHeightPx};return configureFont(),data.disposables.add(common_event.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(36)||e.hasChanged(97)||e.hasChanged(98)).on(configureFont,null)),data}renderElement(element,index,templateData){const data=templateData,suggestion=element.completion,textLabel="string"==typeof suggestion.label?suggestion.label:suggestion.label.name;data.root.id=getAriaId(index),data.colorspan.style.backgroundColor="";const labelOptions={labelEscapeNewLines:!0,matches:Object(filters.c)(element.score)};let color=[];if(19===suggestion.kind&&function extractColor(item,out){const label="string"==typeof item.completion.label?item.completion.label:item.completion.label.name;return label.match(colorRegExp)?(out[0]=label,!0):!("string"!=typeof item.completion.documentation||!item.completion.documentation.match(colorRegExp)||(out[0]=item.completion.documentation,0))}(element,color))data.icon.className="icon customcolor",data.iconContainer.className="icon hide",data.colorspan.style.backgroundColor=color[0];else if(20===suggestion.kind&&this._themeService.getFileIconTheme().hasFileIcons){data.icon.className="icon hide",data.iconContainer.className="icon hide";const labelClasses=getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:textLabel}),FileKind.FILE),detailClasses=getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:suggestion.detail}),FileKind.FILE);labelOptions.extraClasses=labelClasses.length>detailClasses.length?labelClasses:detailClasses}else 23===suggestion.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(data.icon.className="icon hide",data.iconContainer.className="icon hide",labelOptions.extraClasses=Object(arrays.l)([getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:textLabel}),FileKind.FOLDER),getIconClasses(this._modelService,this._modeService,uri.a.from({scheme:"fake",path:suggestion.detail}),FileKind.FOLDER)])):(data.icon.className="icon hide",data.iconContainer.className="",Object(dom.f)(data.iconContainer,`suggest-icon ${Object(modes.F)(suggestion.kind)}`));suggestion.tags&&suggestion.tags.indexOf(1)>=0&&(labelOptions.extraClasses=(labelOptions.extraClasses||[]).concat(["deprecated"]),labelOptions.matches=[]),data.iconLabel.setLabel(textLabel,void 0,labelOptions),"string"==typeof suggestion.label?(data.parametersLabel.textContent="",data.qualifierLabel.textContent="",data.detailsLabel.textContent=(suggestion.detail||"").replace(/\n.*$/m,""),data.root.classList.add("string-label")):(data.parametersLabel.textContent=(suggestion.label.parameters||"").replace(/\n.*$/m,""),data.qualifierLabel.textContent=(suggestion.label.qualifier||"").replace(/\n.*$/m,""),data.detailsLabel.textContent=(suggestion.label.type||"").replace(/\n.*$/m,""),data.root.classList.remove("string-label")),canExpandCompletionItem(element)?(data.right.classList.add("can-expand-details"),Object(dom.Z)(data.readMore),data.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},data.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this.widget.toggleDetails()}):(data.right.classList.remove("can-expand-details"),Object(dom.K)(data.readMore),data.readMore.onmousedown=null,data.readMore.onclick=null)}disposeTemplate(templateData){templateData.disposables.dispose()}};suggestWidget_ItemRenderer=suggestWidget_decorate([suggestWidget_param(3,services_modelService.a),suggestWidget_param(4,services_modeService.a),suggestWidget_param(5,common_themeService.c)],suggestWidget_ItemRenderer);class suggestWidget_SuggestionDetails{constructor(container,widget,editor,markdownRenderer,kbToggleDetails){this.widget=widget,this.editor=editor,this.markdownRenderer=markdownRenderer,this.kbToggleDetails=kbToggleDetails,this.borderWidth=1,this.disposables=new lifecycle.b,this.el=Object(dom.p)(container,Object(dom.a)(".details")),this.disposables.add(Object(lifecycle.h)(()=>container.removeChild(this.el))),this.body=Object(dom.a)(".body"),this.scrollbar=new scrollableElement.a(this.body,{}),Object(dom.p)(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Object(dom.p)(this.body,Object(dom.a)(".header")),this.close=Object(dom.p)(this.header,Object(dom.a)("span"+codicons.a.close.cssSelector)),this.close.title=nls.a("readLess","Read Less ({0})",this.kbToggleDetails),this.type=Object(dom.p)(this.header,Object(dom.a)("p.type")),this.docs=Object(dom.p)(this.body,Object(dom.a)("p.docs")),this.configureFont(),common_event.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(36)).on(this.configureFont,this,this.disposables),markdownRenderer.onDidRenderCodeBlock(()=>this.scrollbar.scanDomNode(),this,this.disposables)}get element(){return this.el}renderLoading(){this.type.textContent=nls.a("loading","Loading..."),this.docs.textContent=""}renderItem(item,explainMode){Object(lifecycle.f)(this.renderDisposeable),this.renderDisposeable=void 0;let{documentation:documentation,detail:detail}=item.completion;if(explainMode){let md="";md+=`score: ${item.score[0]}${item.word?`, compared '${item.completion.filterText&&item.completion.filterText+" (filterText)"||item.completion.label}' with '${item.word}'`:" (no prefix)"}\n`,md+=`distance: ${item.distance}, see localityBonus-setting\n`,md+=`index: ${item.idx}, based on ${item.completion.sortText&&`sortText: "${item.completion.sortText}"`||"label"}\n`,documentation=(new htmlContent.a).appendCodeblock("empty",md),detail=`Provider: ${item.provider._debugDisplayName}`}if(!explainMode&&!canExpandCompletionItem(item))return this.type.textContent="",this.docs.textContent="",void this.el.classList.add("no-docs");if(this.el.classList.remove("no-docs"),"string"==typeof documentation)this.docs.classList.remove("markdown-docs"),this.docs.textContent=documentation;else{this.docs.classList.add("markdown-docs"),this.docs.innerText="";const renderedContents=this.markdownRenderer.render(documentation);this.renderDisposeable=renderedContents,this.docs.appendChild(renderedContents.element)}detail?(this.type.innerText=detail.length>1e5?`${detail.substr(0,1e5)}`:detail,Object(dom.Z)(this.type)):(this.type.innerText="",Object(dom.K)(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this.close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode()}scrollDown(much=8){this.body.scrollTop+=much}scrollUp(much=8){this.body.scrollTop-=much}scrollTop(){this.body.scrollTop=0}scrollBottom(){this.body.scrollTop=this.body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}setBorderWidth(width){this.borderWidth=width}configureFont(){const options=this.editor.getOptions(),fontInfo=options.get(36),fontFamily=fontInfo.fontFamily,fontSize=options.get(97)||fontInfo.fontSize,lineHeight=options.get(98)||fontInfo.lineHeight,fontWeight=fontInfo.fontWeight,fontSizePx=`${fontSize}px`,lineHeightPx=`${lineHeight}px`;this.el.style.fontSize=fontSizePx,this.el.style.fontWeight=fontWeight,this.el.style.fontFeatureSettings=fontInfo.fontFeatureSettings,this.type.style.fontFamily=fontFamily,this.close.style.height=lineHeightPx,this.close.style.width=lineHeightPx}dispose(){this.disposables.dispose(),Object(lifecycle.f)(this.renderDisposeable),this.renderDisposeable=void 0}}let suggestWidget_SuggestWidget=class SuggestWidget{constructor(editor,telemetryService,keybindingService,contextKeyService,themeService,storageService,modeService,openerService,menuService,instantiationService){var _a,_b;this.editor=editor,this.telemetryService=telemetryService,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=0,this.isAddedAsContentWidget=!1,this.isAuto=!1,this.loadingTimeout=lifecycle.a.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new common_async.e,this.toDispose=new lifecycle.b,this.onDidSelectEmitter=new common_event.a,this.onDidFocusEmitter=new common_event.a,this.onDidHideEmitter=new common_event.a,this.onDidShowEmitter=new common_event.a,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new common_event.a,this.onDetailsKeyDown=this._onDetailsKeydown.event;const markdownRenderer=this.toDispose.add(new markdown_markdownRenderer.a(editor,modeService,openerService)),kbToggleDetails=null!==(_b=null===(_a=keybindingService.lookupKeybinding("toggleSuggestionDetails"))||void 0===_a?void 0:_a.getLabel())&&void 0!==_b?_b:"";this.isAuto=!1,this.focusedItem=null,this.storageService=storageService,this.element=Object(dom.a)(".editor-widget.suggest-widget"),this.toDispose.add(Object(dom.i)(this.element,"click",e=>{e.target===this.element&&this.hideWidget()})),this.messageElement=Object(dom.p)(this.element,Object(dom.a)(".message")),this.listElement=Object(dom.p)(this.element,Object(dom.a)(".tree"));const applyStatusBarStyle=()=>this.element.classList.toggle("with-status-bar",this.editor.getOption(96).statusBar.visible);applyStatusBarStyle(),this.statusBarElement=Object(dom.p)(this.element,Object(dom.a)(".suggest-status-bar"));const actionViewItemProvider=action=>{const kb=keybindingService.lookupKeybindings(action.id);return new class extends actionViewItems.a{constructor(){super(void 0,action,{label:!0,icon:!1})}updateLabel(){if(Object(arrays.n)(kb)||!this.label)return super.updateLabel();const{label:label}=this.getAction();this.label.textContent=/{\d}/.test(label)?strings.x(this.getAction().label,kb[0].getLabel()):`${this.getAction().label} (${kb[0].getLabel()})`}}},leftActions=new actionbar.a(this.statusBarElement,{actionViewItemProvider:actionViewItemProvider}),rightActions=new actionbar.a(this.statusBarElement,{actionViewItemProvider:actionViewItemProvider}),menu=menuService.createMenu(suggest.g,contextKeyService);this.toDispose.add(menu.onDidChange(()=>(()=>{const left=[],right=[];for(let[group,actions]of menu.getActions())"left"===group?left.push(...actions):right.push(...actions);leftActions.clear(),leftActions.push(left),rightActions.clear(),rightActions.push(right)})())),this.toDispose.add(menu),this.details=instantiationService.createInstance(suggestWidget_SuggestionDetails,this.element,this,this.editor,markdownRenderer,kbToggleDetails);const applyIconStyle=()=>this.element.classList.toggle("no-icons",!this.editor.getOption(96).showIcons);applyIconStyle();let renderer=instantiationService.createInstance(suggestWidget_ItemRenderer,this,this.editor,kbToggleDetails);this.list=new listWidget.c("SuggestWidget",this.listElement,this,[renderer],{useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:item=>{const textLabel="string"==typeof item.completion.label?item.completion.label:item.completion.label.name;if(item.isResolved&&this.expandDocsSettingFromStorage()){const{documentation:documentation,detail:detail}=item.completion,docs=strings.x("{0}{1}",detail||"",documentation?"string"==typeof documentation?documentation:documentation.value:"");return nls.a("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",textLabel,docs)}return textLabel},getWidgetAriaLabel:()=>nls.a("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this.toDispose.add(Object(styler.b)(this.list,themeService,{listInactiveFocusBackground:editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:colorRegistry.b})),this.toDispose.add(themeService.onDidColorThemeChange(t=>this.onThemeChange(t))),this.toDispose.add(editor.onDidLayoutChange(()=>this.onEditorLayoutChange())),this.toDispose.add(this.list.onMouseDown(e=>this.onListMouseDownOrTap(e))),this.toDispose.add(this.list.onTap(e=>this.onListMouseDownOrTap(e))),this.toDispose.add(this.list.onDidChangeSelection(e=>this.onListSelection(e))),this.toDispose.add(this.list.onDidChangeFocus(e=>this.onListFocus(e))),this.toDispose.add(this.editor.onDidChangeCursorSelection(()=>this.onCursorSelectionChanged())),this.toDispose.add(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(96)&&(applyStatusBarStyle(),applyIconStyle())})),this.ctxSuggestWidgetVisible=suggest.b.Visible.bindTo(contextKeyService),this.ctxSuggestWidgetDetailsVisible=suggest.b.DetailsVisible.bindTo(contextKeyService),this.ctxSuggestWidgetMultipleSuggestions=suggest.b.MultipleSuggestions.bindTo(contextKeyService),this.onThemeChange(themeService.getColorTheme()),this.toDispose.add(Object(dom.n)(this.details.element,"keydown",e=>{this._onDetailsKeydown.fire(e)})),this.toDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e)))}onEditorMouseDown(mouseEvent){this.details.element.contains(mouseEvent.target.element)?this.details.element.focus():this.element.contains(mouseEvent.target.element)&&this.editor.focus()}onCursorSelectionChanged(){0!==this.state&&this.editor.layoutContentWidget(this)}onEditorLayoutChange(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()}onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))}onListSelection(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])}select(item,index){const completionModel=this.completionModel;completionModel&&(this.onDidSelectEmitter.fire({item:item,index:index,model:completionModel}),this.editor.focus())}onThemeChange(theme){const backgroundColor=theme.getColor(editorSuggestWidgetBackground);backgroundColor&&(this.listElement.style.backgroundColor=backgroundColor.toString(),this.statusBarElement.style.backgroundColor=backgroundColor.toString(),this.details.element.style.backgroundColor=backgroundColor.toString(),this.messageElement.style.backgroundColor=backgroundColor.toString());const borderColor=theme.getColor(editorSuggestWidgetBorder);borderColor&&(this.listElement.style.borderColor=borderColor.toString(),this.statusBarElement.style.borderColor=borderColor.toString(),this.details.element.style.borderColor=borderColor.toString(),this.messageElement.style.borderColor=borderColor.toString(),this.detailsBorderColor=borderColor.toString());const focusBorderColor=theme.getColor(colorRegistry.Z);focusBorderColor&&(this.detailsFocusBorderColor=focusBorderColor.toString()),this.details.setBorderWidth("hc"===theme.type?2:1)}onListFocus(e){if(this.ignoreFocusEvents)return;if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this.completionModel)return;const item=e.elements[0],index=e.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,item!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=item,this.list.reveal(index),this.currentSuggestionDetails=Object(common_async.f)(token=>suggestWidget_awaiter(this,void 0,void 0,function*(){const loading=Object(common_async.g)(()=>this.showDetails(!0),250);token.onCancellationRequested(()=>loading.dispose());const result=yield item.resolve(token);return loading.dispose(),result})),this.currentSuggestionDetails.then(()=>{index>=this.list.length||item!==this.list.element(index)||(this.ignoreFocusEvents=!0,this.list.splice(index,1,[item]),this.list.setFocus([index]),this.ignoreFocusEvents=!1,this.expandDocsSettingFromStorage()?this.showDetails(!1):this.element.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:getAriaId(index)}))}).catch(errors.e)),this.onDidFocusEmitter.fire({item:item,index:index,model:this.completionModel})}setState(state){if(!this.element)return;this.isAddedAsContentWidget||0===state||(this.isAddedAsContentWidget=!0,this.editor.addContentWidget(this));const stateChanged=this.state!==state;switch(this.state=state,this.element.classList.toggle("frozen",4===state),state){case 0:Object(dom.K)(this.messageElement,this.details.element,this.listElement,this.statusBarElement),this.hide(),this.listHeight=0,stateChanged&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=SuggestWidget.LOADING_MESSAGE,Object(dom.K)(this.listElement,this.details.element,this.statusBarElement),Object(dom.Z)(this.messageElement),this.element.classList.remove("docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=SuggestWidget.NO_SUGGESTIONS_MESSAGE,Object(dom.K)(this.listElement,this.details.element,this.statusBarElement),Object(dom.Z)(this.messageElement),this.element.classList.remove("docs-side"),this.show(),this.focusedItem=null;break;case 3:Object(dom.K)(this.messageElement),Object(dom.Z)(this.listElement,this.statusBarElement),this.show();break;case 4:Object(dom.K)(this.messageElement),Object(dom.Z)(this.listElement),this.show();break;case 5:Object(dom.K)(this.messageElement),Object(dom.Z)(this.details.element,this.listElement,this.statusBarElement),this.show()}}showTriggered(auto,delay){0===this.state&&(this.isAuto=!!auto,this.isAuto||(this.loadingTimeout=Object(common_async.g)(()=>this.setState(1),delay)))}showSuggestions(completionModel,selectionIndex,isFrozen,isAuto){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==completionModel&&(this.completionModel=completionModel),isFrozen&&2!==this.state&&0!==this.state)return void this.setState(4);let visibleCount=this.completionModel.items.length;const isEmpty=0===visibleCount;if(this.ctxSuggestWidgetMultipleSuggestions.set(visibleCount>1),isEmpty)isAuto?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){const{stats:stats}=this.completionModel;stats.wasAutomaticallyTriggered=!!isAuto,this.telemetryService.publicLog("suggestWidget",Object.assign({},stats))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),isFrozen?this.setState(4):this.setState(3),this.list.reveal(selectionIndex,0),this.list.setFocus([selectionIndex]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}selectNextPage(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}}selectNext(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}}selectLast(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}}selectPreviousPage(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}}selectPrevious(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}}selectFirst(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}}getFocusedItem(){if(0!==this.state&&2!==this.state&&1!==this.state&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}}toggleDetailsFocus(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")}toggleDetails(){if(canExpandCompletionItem(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.ctxSuggestWidgetDetailsVisible.set(!1),this.updateExpandDocsSetting(!1),Object(dom.K)(this.details.element),this.element.classList.remove("docs-side","doc-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.ctxSuggestWidgetDetailsVisible.set(!0),this.updateExpandDocsSetting(!0),this.showDetails(!1),this.telemetryService.publicLog2("suggestWidget:expandDetails")}}showDetails(loading){loading||this.expandSideOrBelow(),Object(dom.Z)(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",loading?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()}toggleExplainMode(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))}show(){const newHeight=this.updateListHeight();newHeight!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=newHeight),this.ctxSuggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet(()=>{this.element.classList.add("visible"),this.onDidShowEmitter.fire(this)},100)}hide(){this.editor.layoutContentWidget(this),this.ctxSuggestWidgetVisible.reset(),this.ctxSuggestWidgetMultipleSuggestions.reset(),this.element.classList.remove("visible")}hideWidget(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)}getPosition(){if(0===this.state)return null;let preference=[2,1];return this.preferDocPositionTop&&(preference=[1]),{position:this.editor.getPosition(),preference:preference}}getDomNode(){return this.element}getId(){return SuggestWidget.ID}isFrozen(){return 4===this.state}updateListHeight(){let height=0;if(2===this.state||1===this.state)height=this.unfocusedHeight;else{const suggestionCount=this.list.contentHeight/this.unfocusedHeight,{maxVisibleSuggestions:maxVisibleSuggestions}=this.editor.getOption(96);height=Math.min(suggestionCount,maxVisibleSuggestions)*this.unfocusedHeight}return this.element.style.lineHeight=`${this.unfocusedHeight}px`,this.listElement.style.height=`${height}px`,this.statusBarElement.style.top=`${height}px`,this.list.layout(height),height}adjustDocsPosition(){if(!this.editor.hasModel())return;const lineHeight=this.editor.getOption(51),cursorCoords=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),editorCoords=Object(dom.C)(this.editor.getDomNode()),cursorX=editorCoords.left+cursorCoords.left,cursorY=editorCoords.top+cursorCoords.top+cursorCoords.height,widgetCoords=Object(dom.C)(this.element),widgetX=widgetCoords.left,widgetY=widgetCoords.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<widgetY&&!this.preferDocPositionTop)return this.preferDocPositionTop=!0,void this.adjustDocsPosition();this.docsPositionPreviousWidgetY=widgetY,widgetX<cursorX-this.listWidth?this.element.classList.add("list-right"):this.element.classList.remove("list-right"),this.element.classList.contains("docs-side")&&cursorY-lineHeight>widgetY&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=`${this.details.element.offsetHeight-this.listElement.offsetHeight}px`)}expandSideOrBelow(){if(!canExpandCompletionItem(this.focusedItem)&&this.firstFocusInCurrentList)return void this.element.classList.remove("docs-side","docs-below");let matches=this.element.style.maxWidth.match(/(\d+)px/);!matches||Number(matches[1])<this.maxWidgetWidth?(this.element.classList.add("docs-below"),this.element.classList.remove("docs-side")):canExpandCompletionItem(this.focusedItem)&&(this.element.classList.add("docs-side"),this.element.classList.remove("docs-below"))}get maxWidgetHeight(){return this.unfocusedHeight*this.editor.getOption(96).maxVisibleSuggestions}get unfocusedHeight(){const options=this.editor.getOptions();return options.get(98)||options.get(36).lineHeight}getHeight(element){return this.unfocusedHeight}getTemplateId(element){return"suggestion"}expandDocsSettingFromStorage(){return this.storageService.getBoolean("expandSuggestionDocs",0,!1)}updateExpandDocsSetting(value){this.storageService.store("expandSuggestionDocs",value,0)}dispose(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose(),this.editor.removeContentWidget(this)}};suggestWidget_SuggestWidget.ID="editor.widget.suggestWidget",suggestWidget_SuggestWidget.LOADING_MESSAGE=nls.a("suggestWidget.loading","Loading..."),suggestWidget_SuggestWidget.NO_SUGGESTIONS_MESSAGE=nls.a("suggestWidget.noSuggestions","No suggestions."),suggestWidget_SuggestWidget=suggestWidget_decorate([suggestWidget_param(1,telemetry.a),suggestWidget_param(2,keybinding.a),suggestWidget_param(3,contextkey.b),suggestWidget_param(4,common_themeService.c),suggestWidget_param(5,storage.a),suggestWidget_param(6,services_modeService.a),suggestWidget_param(7,common_opener.a),suggestWidget_param(8,actions.a),suggestWidget_param(9,instantiation.a)],suggestWidget_SuggestWidget),Object(common_themeService.g)((theme,collector)=>{const matchHighlight=theme.getColor(editorSuggestWidgetHighlightForeground);matchHighlight&&collector.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${matchHighlight}; }`);const foreground=theme.getColor(editorSuggestWidgetForeground);foreground&&collector.addRule(`.monaco-editor .suggest-widget { color: ${foreground}; }`);const link=theme.getColor(colorRegistry.rc);link&&collector.addRule(`.monaco-editor .suggest-widget a { color: ${link}; }`);const codeBackground=theme.getColor(colorRegistry.qc);codeBackground&&collector.addRule(`.monaco-editor .suggest-widget code { background-color: ${codeBackground}; }`)});var wordContextKey_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},wordContextKey_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let wordContextKey_WordContextKey=class WordContextKey extends lifecycle.a{constructor(_editor,contextKeyService){super(),this._editor=_editor,this._enabled=!1,this._ckAtEnd=WordContextKey.AtEnd.bindTo(contextKeyService),this._register(this._editor.onDidChangeConfiguration(e=>e.hasChanged(101)&&this._update())),this._update()}dispose(){super.dispose(),Object(lifecycle.f)(this._selectionListener),this._ckAtEnd.reset()}_update(){const enabled="on"===this._editor.getOption(101);if(this._enabled!==enabled)if(this._enabled=enabled,this._enabled){const checkForWordEnd=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const model=this._editor.getModel(),selection=this._editor.getSelection(),word=model.getWordAtPosition(selection.getStartPosition());word?this._ckAtEnd.set(word.endColumn===selection.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(checkForWordEnd),checkForWordEnd()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};wordContextKey_WordContextKey.AtEnd=new contextkey.c("atEndOfWord",!1),wordContextKey_WordContextKey=wordContextKey_decorate([wordContextKey_param(1,contextkey.b)],wordContextKey_WordContextKey);var editorWorkerService=__webpack_require__(2364),types=__webpack_require__(2314),characterClassifier=__webpack_require__(2377);class suggestCommitCharacters_CommitCharacterController{constructor(editor,widget,accept){this._disposables=new lifecycle.b,this._disposables.add(widget.onDidShow(()=>this._onItem(widget.getFocusedItem()))),this._disposables.add(widget.onDidFocus(this._onItem,this)),this._disposables.add(widget.onDidHide(this.reset,this)),this._disposables.add(editor.onWillType(text=>{if(this._active&&!widget.isFrozen()){const ch=text.charCodeAt(text.length-1);this._active.acceptCharacters.has(ch)&&editor.getOption(0)&&accept(this._active.item)}}))}_onItem(selected){if(!selected||!Object(arrays.o)(selected.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===selected.item)return;const acceptCharacters=new characterClassifier.b;for(const ch of selected.item.completion.commitCharacters)ch.length>0&&acceptCharacters.add(ch.charCodeAt(0));this._active={acceptCharacters:acceptCharacters,item:selected}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class suggestOvertypingCapturer_OvertypingCapturer{constructor(editor,suggestModel){this._disposables=new lifecycle.b,this._lastOvertyped=[],this._empty=!0,this._disposables.add(editor.onWillType(()=>{if(!this._empty)return;if(!editor.hasModel())return;const selections=editor.getSelections(),selectionsLength=selections.length;let willOvertype=!1;for(let i=0;i<selectionsLength;i++)if(!selections[i].isEmpty()){willOvertype=!0;break}if(!willOvertype)return;this._lastOvertyped=[];const model=editor.getModel();for(let i=0;i<selectionsLength;i++){const selection=selections[i];if(model.getValueLengthInRange(selection)>suggestOvertypingCapturer_OvertypingCapturer._maxSelectionLength)return;this._lastOvertyped[i]={value:model.getValueInRange(selection),multiline:selection.startLineNumber!==selection.endLineNumber}}this._empty=!1})),this._disposables.add(suggestModel.onDidCancel(e=>{this._empty||(this._empty=!0)}))}getLastOvertypedInfo(idx){if(!this._empty&&idx>=0&&idx<this._lastOvertyped.length)return this._lastOvertyped[idx]}dispose(){this._disposables.dispose()}}suggestOvertypingCapturer_OvertypingCapturer._maxSelectionLength=51200;var core_position=__webpack_require__(2303),platform=__webpack_require__(2305),log=__webpack_require__(2374),stopwatch=__webpack_require__(2431),common_clipboardService=__webpack_require__(2370);__webpack_require__.d(__webpack_exports__,"SuggestController",function(){return suggestController_SuggestController}),__webpack_require__.d(__webpack_exports__,"TriggerSuggestAction",function(){return suggestController_TriggerSuggestAction});var suggestController_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},suggestController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};class suggestController_LineSuffix{constructor(_model,_position){if(this._model=_model,this._position=_position,_model.getLineMaxColumn(_position.lineNumber)!==_position.column){const offset=_model.getOffsetAt(_position),end=_model.getPositionAt(offset+1);this._marker=_model.deltaDecorations([],[{range:core_range.a.fromPositions(_position,end),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(position){if(this._model.isDisposed()||this._position.lineNumber!==position.lineNumber)return 0;if(this._marker){const range=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(range.getStartPosition())-this._model.getOffsetAt(position)}return this._model.getLineMaxColumn(position.lineNumber)-position.column}}let suggestController_SuggestController=class SuggestController{constructor(editor,editorWorker,_memoryService,_commandService,_contextKeyService,_instantiationService,_logService,clipboardService){this._memoryService=_memoryService,this._commandService=_commandService,this._contextKeyService=_contextKeyService,this._instantiationService=_instantiationService,this._logService=_logService,this._lineSuffix=new lifecycle.d,this._toDispose=new lifecycle.b,this.editor=editor,this.model=new suggestModel_SuggestModel(this.editor,editorWorker,clipboardService),this.widget=this._toDispose.add(new common_async.b(()=>{const widget=this._instantiationService.createInstance(suggestWidget_SuggestWidget,this.editor);this._toDispose.add(widget),this._toDispose.add(widget.onDidSelect(item=>this._insertSuggestion(item,0),this));const commitCharacterController=new suggestCommitCharacters_CommitCharacterController(this.editor,widget,item=>this._insertSuggestion(item,2));this._toDispose.add(commitCharacterController),this._toDispose.add(this.model.onDidSuggest(e=>{0===e.completionModel.items.length&&commitCharacterController.reset()}));const ctxMakesTextEdit=suggest.b.MakesTextEdit.bindTo(this._contextKeyService),ctxHasInsertAndReplace=suggest.b.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ctxCanResolve=suggest.b.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Object(lifecycle.h)(()=>{ctxMakesTextEdit.reset(),ctxHasInsertAndReplace.reset(),ctxCanResolve.reset()})),this._toDispose.add(widget.onDidFocus(({item:item})=>{const position=this.editor.getPosition(),startColumn=item.editStart.column,endColumn=position.column;let value=!0;if(!("smart"!==this.editor.getOption(1)||2!==this.model.state||item.completion.command||item.completion.additionalTextEdits||4&item.completion.insertTextRules||endColumn-startColumn!==item.completion.insertText.length)){value=this.editor.getModel().getValueInRange({startLineNumber:position.lineNumber,startColumn:startColumn,endLineNumber:position.lineNumber,endColumn:endColumn})!==item.completion.insertText}ctxMakesTextEdit.set(value),ctxHasInsertAndReplace.set(!core_position.a.equals(item.editInsertEnd,item.editReplaceEnd)),ctxCanResolve.set(Boolean(item.provider.resolveCompletionItem)||Boolean(item.completion.documentation)||item.completion.detail!==item.completion.label)})),this._toDispose.add(widget.onDetailsKeyDown(e=>{e.toKeybinding().equals(new keyCodes.e(!0,!1,!1,!1,33))||platform.f&&e.toKeybinding().equals(new keyCodes.e(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()})),widget})),this._overtypingCapturer=this._toDispose.add(new common_async.b(()=>this._toDispose.add(new suggestOvertypingCapturer_OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new common_async.b(()=>this._toDispose.add(new suggestAlternatives_SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(_instantiationService.createInstance(wordContextKey_WordContextKey,editor)),this._toDispose.add(this.model.onDidTrigger(e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new suggestController_LineSuffix(this.editor.getModel(),e.position)})),this._toDispose.add(this.model.onDidSuggest(e=>{if(!e.shy){let index=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items);this.widget.value.showSuggestions(e.completionModel,index,e.isFrozen,e.auto)}})),this._toDispose.add(this.model.onDidCancel(e=>{e.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let acceptSuggestionsOnEnter=suggest.b.AcceptSuggestionsOnEnter.bindTo(_contextKeyService),updateFromConfig=()=>{const acceptSuggestionOnEnter=this.editor.getOption(1);acceptSuggestionsOnEnter.set("on"===acceptSuggestionOnEnter||"smart"===acceptSuggestionOnEnter)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>updateFromConfig())),updateFromConfig()}static get(editor){return editor.getContribution(SuggestController.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(event,flags){if(!event||!event.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const model=this.editor.getModel(),modelVersionNow=model.getAlternativeVersionId(),{item:item}=event,tasks=[],cts=new cancellation.b;1&flags||this.editor.pushUndoStop();const info=this.getOverwriteInfo(item,Boolean(8&flags));if(this._memoryService.memorize(model,this.editor.getPosition(),item),Array.isArray(item.completion.additionalTextEdits)){const scrollState=editorState.c.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",item.completion.additionalTextEdits.map(edit=>editOperation.a.replace(core_range.a.lift(edit.range),edit.text))),scrollState.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!item.isResolved){const sw=new stopwatch.a(!0);let position;const docListener=model.onDidChangeContent(e=>{if(e.isFlush)return cts.cancel(),void docListener.dispose();for(let change of e.changes){const thisPosition=core_range.a.getEndPosition(change.range);position&&!core_position.a.isBefore(thisPosition,position)||(position=thisPosition)}});let oldFlags=flags;flags|=2;let didType=!1,typeListener=this.editor.onWillType(()=>{typeListener.dispose(),didType=!0,2&oldFlags||this.editor.pushUndoStop()});tasks.push(item.resolve(cts.token).then(()=>{if(!item.completion.additionalTextEdits||cts.token.isCancellationRequested)return!1;if(position&&item.completion.additionalTextEdits.some(edit=>core_position.a.isBefore(position,core_range.a.getStartPosition(edit.range))))return!1;didType&&this.editor.pushUndoStop();const scrollState=editorState.c.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",item.completion.additionalTextEdits.map(edit=>editOperation.a.replace(core_range.a.lift(edit.range),edit.text))),scrollState.restoreRelativeVerticalPositionOfCursor(this.editor),!didType&&2&oldFlags||this.editor.pushUndoStop(),!0}).then(applied=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",sw.elapsed(),applied),docListener.dispose(),typeListener.dispose()}))}let{insertText:insertText}=item.completion;4&item.completion.insertTextRules||(insertText=snippetParser.c.escape(insertText)),snippetController2.SnippetController2.get(this.editor).insert(insertText,{overwriteBefore:info.overwriteBefore,overwriteAfter:info.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&item.completion.insertTextRules),clipboardText:event.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&flags||this.editor.pushUndoStop(),item.completion.command?item.completion.command.id===suggestController_TriggerSuggestAction.id?this.model.trigger({auto:!0,shy:!1},!0):(tasks.push(this._commandService.executeCommand(item.completion.command.id,...item.completion.command.arguments?[...item.completion.command.arguments]:[]).catch(errors.e)),this.model.cancel()):this.model.cancel(),4&flags&&this._alternatives.value.set(event,next=>{for(cts.cancel();model.canUndo();){modelVersionNow!==model.getAlternativeVersionId()&&model.undo(),this._insertSuggestion(next,3|(8&flags?8:0));break}}),this._alertCompletionItem(item),Promise.all(tasks).finally(()=>{this.model.clear(),cts.dispose()})}getOverwriteInfo(item,toggleMode){Object(types.b)(this.editor.hasModel());let replace="replace"===this.editor.getOption(96).insertMode;toggleMode&&(replace=!replace);const overwriteBefore=item.position.column-item.editStart.column,overwriteAfter=(replace?item.editReplaceEnd.column:item.editInsertEnd.column)-item.position.column;return{overwriteBefore:overwriteBefore+(this.editor.getPosition().column-item.position.column),overwriteAfter:overwriteAfter+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem({completion:suggestion}){const textLabel="string"==typeof suggestion.label?suggestion.label:suggestion.label.name;if(Object(arrays.o)(suggestion.additionalTextEdits)){let msg=nls.a("arai.alert.snippet","Accepting '{0}' made {1} additional edits",textLabel,suggestion.additionalTextEdits.length);Object(aria.a)(msg)}}triggerSuggest(onlyFrom){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,onlyFrom),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(arg){if(!this.editor.hasModel())return;const positionNow=this.editor.getPosition(),fallback=()=>{positionNow.equals(this.editor.getPosition())&&this._commandService.executeCommand(arg.fallback)},makesTextEdit=item=>{if(4&item.completion.insertTextRules||item.completion.additionalTextEdits)return!0;const position=this.editor.getPosition(),startColumn=item.editStart.column,endColumn=position.column;return endColumn-startColumn!==item.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:position.lineNumber,startColumn:startColumn,endLineNumber:position.lineNumber,endColumn:endColumn})!==item.completion.insertText};common_event.b.once(this.model.onDidTrigger)(_=>{let listener=[];common_event.b.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{Object(lifecycle.f)(listener),fallback()},void 0,listener),this.model.onDidSuggest(({completionModel:completionModel})=>{if(Object(lifecycle.f)(listener),0===completionModel.items.length)return void fallback();const index=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),completionModel.items),item=completionModel.items[index];makesTextEdit(item)?(this.editor.pushUndoStop(),this._insertSuggestion({index:index,item:item,model:completionModel},7)):fallback()},void 0,listener)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(positionNow.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(keepAlternativeSuggestions,alternativeOverwriteConfig){const item=this.widget.value.getFocusedItem();let flags=0;keepAlternativeSuggestions&&(flags|=4),alternativeOverwriteConfig&&(flags|=8),this._insertSuggestion(item,flags)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}};suggestController_SuggestController.ID="editor.contrib.suggestController",suggestController_SuggestController=suggestController_decorate([suggestController_param(1,editorWorkerService.a),suggestController_param(2,ISuggestMemoryService),suggestController_param(3,commands.b),suggestController_param(4,contextkey.b),suggestController_param(5,instantiation.a),suggestController_param(6,log.b),suggestController_param(7,common_clipboardService.a)],suggestController_SuggestController);class suggestController_TriggerSuggestAction extends editorExtensions.b{constructor(){super({id:suggestController_TriggerSuggestAction.id,label:nls.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasCompletionItemProvider),kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})}run(accessor,editor){const controller=suggestController_SuggestController.get(editor);controller&&controller.triggerSuggest()}}suggestController_TriggerSuggestAction.id="editor.action.triggerSuggest",Object(editorExtensions.m)(suggestController_SuggestController.ID,suggestController_SuggestController),Object(editorExtensions.k)(suggestController_TriggerSuggestAction);const SuggestCommand=editorExtensions.c.bindToContribution(suggestController_SuggestController.get);Object(editorExtensions.l)(new SuggestCommand({id:"acceptSelectedSuggestion",precondition:suggest.b.Visible,handler(x){x.acceptSelectedSuggestion(!0,!1)}})),keybindingsRegistry.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:contextkey.a.and(suggest.b.Visible,editorContextKeys.a.textInputFocus),primary:2,weight:190}),keybindingsRegistry.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:contextkey.a.and(suggest.b.Visible,editorContextKeys.a.textInputFocus,suggest.b.AcceptSuggestionsOnEnter,suggest.b.MakesTextEdit),primary:3,weight:190}),actions.d.appendMenuItem(suggest.g,{command:{id:"acceptSelectedSuggestion",title:nls.a({key:"accept.accept",comment:['{0} will be a keybinding, e.g "Enter to insert"']},"{0} to insert")},group:"left",order:1,when:suggest.b.HasInsertAndReplaceRange.toNegated()}),actions.d.appendMenuItem(suggest.g,{command:{id:"acceptSelectedSuggestion",title:nls.a({key:"accept.insert",comment:['{0} will be a keybinding, e.g "Enter to insert"']},"{0} to insert")},group:"left",order:1,when:contextkey.a.and(suggest.b.HasInsertAndReplaceRange,contextkey.a.equals("config.editor.suggest.insertMode","insert"))}),actions.d.appendMenuItem(suggest.g,{command:{id:"acceptSelectedSuggestion",title:nls.a({key:"accept.replace",comment:['{0} will be a keybinding, e.g "Enter to replace"']},"{0} to replace")},group:"left",order:1,when:contextkey.a.and(suggest.b.HasInsertAndReplaceRange,contextkey.a.equals("config.editor.suggest.insertMode","replace"))}),Object(editorExtensions.l)(new SuggestCommand({id:"acceptAlternativeSelectedSuggestion",precondition:contextkey.a.and(suggest.b.Visible,editorContextKeys.a.textInputFocus),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:1027,secondary:[1026]},handler(x){x.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:suggest.g,group:"left",order:2,when:contextkey.a.and(suggest.b.HasInsertAndReplaceRange,contextkey.a.equals("config.editor.suggest.insertMode","insert")),title:nls.a({key:"accept.replace",comment:['{0} will be a keybinding, e.g "Enter to replace"']},"{0} to replace")},{menuId:suggest.g,group:"left",order:2,when:contextkey.a.and(suggest.b.HasInsertAndReplaceRange,contextkey.a.equals("config.editor.suggest.insertMode","replace")),title:nls.a({key:"accept.insert",comment:['{0} will be a keybinding, e.g "Enter to insert"']},"{0} to insert")}]})),commands.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(editorExtensions.l)(new SuggestCommand({id:"hideSuggestWidget",precondition:suggest.b.Visible,handler:x=>x.cancelSuggestWidget(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:9,secondary:[1033]}})),Object(editorExtensions.l)(new SuggestCommand({id:"selectNextSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:c=>c.selectNextSuggestion(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(editorExtensions.l)(new SuggestCommand({id:"selectNextPageSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:c=>c.selectNextPageSuggestion(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:12,secondary:[2060]}})),Object(editorExtensions.l)(new SuggestCommand({id:"selectLastSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:c=>c.selectLastSuggestion()})),Object(editorExtensions.l)(new SuggestCommand({id:"selectPrevSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:c=>c.selectPrevSuggestion(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(editorExtensions.l)(new SuggestCommand({id:"selectPrevPageSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:c=>c.selectPrevPageSuggestion(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:11,secondary:[2059]}})),Object(editorExtensions.l)(new SuggestCommand({id:"selectFirstSuggestion",precondition:contextkey.a.and(suggest.b.Visible,suggest.b.MultipleSuggestions),handler:c=>c.selectFirstSuggestion()})),Object(editorExtensions.l)(new SuggestCommand({id:"toggleSuggestionDetails",precondition:suggest.b.Visible,handler:x=>x.toggleSuggestionDetails(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:suggest.g,group:"right",order:1,when:contextkey.a.and(suggest.b.DetailsVisible,suggest.b.CanResolve),title:nls.a("detail.more","show less")},{menuId:suggest.g,group:"right",order:1,when:contextkey.a.and(suggest.b.DetailsVisible.toNegated(),suggest.b.CanResolve),title:nls.a("detail.less","show more")}]})),Object(editorExtensions.l)(new SuggestCommand({id:"toggleExplainMode",precondition:suggest.b.Visible,handler:x=>x.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),Object(editorExtensions.l)(new SuggestCommand({id:"toggleSuggestionFocus",precondition:suggest.b.Visible,handler:x=>x.toggleSuggestionFocus(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(editorExtensions.l)(new SuggestCommand({id:"insertBestCompletion",precondition:contextkey.a.and(editorContextKeys.a.textInputFocus,contextkey.a.equals("config.editor.tabCompletion","on"),wordContextKey_WordContextKey.AtEnd,suggest.b.Visible.toNegated(),suggestAlternatives_SuggestAlternatives.OtherSuggestions.toNegated(),snippetController2.SnippetController2.InSnippetMode.toNegated()),handler:(x,arg)=>{x.triggerSuggestAndAcceptBest(Object(types.i)(arg)?Object.assign({fallback:"tab"},arg):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),Object(editorExtensions.l)(new SuggestCommand({id:"insertNextSuggestion",precondition:contextkey.a.and(editorContextKeys.a.textInputFocus,contextkey.a.equals("config.editor.tabCompletion","on"),suggestAlternatives_SuggestAlternatives.OtherSuggestions,suggest.b.Visible.toNegated(),snippetController2.SnippetController2.InSnippetMode.toNegated()),handler:x=>x.acceptNextSuggestion(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:2}})),Object(editorExtensions.l)(new SuggestCommand({id:"insertPrevSuggestion",precondition:contextkey.a.and(editorContextKeys.a.textInputFocus,contextkey.a.equals("config.editor.tabCompletion","on"),suggestAlternatives_SuggestAlternatives.OtherSuggestions,suggest.b.Visible.toNegated(),snippetController2.SnippetController2.InSnippetMode.toNegated()),handler:x=>x.acceptPrevSuggestion(),kbOpts:{weight:190,kbExpr:editorContextKeys.a.textInputFocus,primary:1026}}))},2692:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),keyCodes=__webpack_require__(2329),lifecycle=__webpack_require__(2294),editorExtensions=__webpack_require__(2301),core_range=__webpack_require__(2295),editorContextKeys=__webpack_require__(2312),services_modeService=__webpack_require__(2366),dom=__webpack_require__(2298),cancellation=__webpack_require__(2315),common_color=__webpack_require__(2320),htmlContent=__webpack_require__(2369),core_position=__webpack_require__(2303),textModel=__webpack_require__(2321),modes=__webpack_require__(2308),colorPicker_color=__webpack_require__(2471),colorPicker_colorDetector=__webpack_require__(2470),common_event=__webpack_require__(2296);class colorPickerModel_ColorPickerModel{constructor(color,availableColorPresentations,presentationIndex){this.presentationIndex=presentationIndex,this._onColorFlushed=new common_event.a,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new common_event.a,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new common_event.a,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=color,this._color=color,this._colorPresentations=availableColorPresentations}get color(){return this._color}set color(color){this._color.equals(color)||(this._color=color,this._onDidChangeColor.fire(color))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(colorPresentations){this._colorPresentations=colorPresentations,this.presentationIndex>colorPresentations.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(color,originalText){for(let i=0;i<this.colorPresentations.length;i++)if(originalText.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}__webpack_require__(2596);var browser=__webpack_require__(2326),globalMouseMoveMonitor=__webpack_require__(2378),ui_widget=__webpack_require__(2343),colorRegistry=__webpack_require__(2310),common_themeService=__webpack_require__(2304);const $=dom.a;class colorPickerWidget_ColorPickerHeader extends lifecycle.a{constructor(container,model,themeService){super(),this.model=model,this.domNode=$(".colorpicker-header"),dom.p(container,this.domNode),this.pickedColorNode=dom.p(this.domNode,$(".picked-color"));const colorBox=dom.p(this.domNode,$(".original-color"));colorBox.style.backgroundColor=common_color.a.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=themeService.getColorTheme().getColor(colorRegistry.E)||common_color.a.white,this._register(Object(common_themeService.g)((theme,collector)=>{this.backgroundColor=theme.getColor(colorRegistry.E)||common_color.a.white})),this._register(dom.i(this.pickedColorNode,dom.c.CLICK,()=>this.model.selectNextColorPresentation())),this._register(dom.i(colorBox,dom.c.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(model.onDidChangeColor(this.onDidChangeColor,this)),this._register(model.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=common_color.a.Format.CSS.format(model.color)||"",dom.ab(this.pickedColorNode,"light",model.color.rgba.a<.5?this.backgroundColor.isLighter():model.color.isLighter())}onDidChangeColor(color){this.pickedColorNode.style.backgroundColor=common_color.a.Format.CSS.format(color)||"",dom.ab(this.pickedColorNode,"light",color.rgba.a<.5?this.backgroundColor.isLighter():color.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}class colorPickerWidget_ColorPickerBody extends lifecycle.a{constructor(container,model,pixelRatio){super(),this.model=model,this.pixelRatio=pixelRatio,this.domNode=$(".colorpicker-body"),dom.p(container,this.domNode),this.saturationBox=new colorPickerWidget_SaturationBox(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new colorPickerWidget_OpacityStrip(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new colorPickerWidget_HueStrip(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:s,v:v}){const hsva=this.model.color.hsva;this.model.color=new common_color.a(new common_color.b(hsva.h,s,v,hsva.a))}onDidOpacityChange(a){const hsva=this.model.color.hsva;this.model.color=new common_color.a(new common_color.b(hsva.h,hsva.s,hsva.v,a))}onDidHueChange(value){const hsva=this.model.color.hsva,h=360*(1-value);this.model.color=new common_color.a(new common_color.b(360===h?0:h,hsva.s,hsva.v,hsva.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class colorPickerWidget_SaturationBox extends lifecycle.a{constructor(container,model,pixelRatio){super(),this.model=model,this.pixelRatio=pixelRatio,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new common_event.a,this.onColorFlushed=this._onColorFlushed.event,this.domNode=$(".saturation-wrap"),dom.p(container,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",dom.p(this.domNode,this.canvas),this.selection=$(".saturation-selection"),dom.p(this.domNode,this.selection),this.layout(),this._register(dom.g(this.domNode,e=>this.onMouseDown(e))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new globalMouseMoveMonitor.a);const origin=dom.C(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,globalMouseMoveMonitor.b,event=>this.onDidChangePosition(event.posx-origin.left,event.posy-origin.top),()=>null);const mouseUpListener=dom.h(document,()=>{this._onColorFlushed.fire(),mouseUpListener.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(left,top){const s=Math.max(0,Math.min(1,left/this.width)),v=Math.max(0,Math.min(1,1-top/this.height));this.paintSelection(s,v),this._onDidChange.fire({s:s,v:v})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const hsva=this.model.color.hsva;this.paintSelection(hsva.s,hsva.v)}paint(){const hsva=this.model.color.hsva,saturatedColor=new common_color.a(new common_color.b(hsva.h,1,1,1)),ctx=this.canvas.getContext("2d"),whiteGradient=ctx.createLinearGradient(0,0,this.canvas.width,0);whiteGradient.addColorStop(0,"rgba(255, 255, 255, 1)"),whiteGradient.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),whiteGradient.addColorStop(1,"rgba(255, 255, 255, 0)");const blackGradient=ctx.createLinearGradient(0,0,0,this.canvas.height);blackGradient.addColorStop(0,"rgba(0, 0, 0, 0)"),blackGradient.addColorStop(1,"rgba(0, 0, 0, 1)"),ctx.rect(0,0,this.canvas.width,this.canvas.height),ctx.fillStyle=common_color.a.Format.CSS.format(saturatedColor),ctx.fill(),ctx.fillStyle=whiteGradient,ctx.fill(),ctx.fillStyle=blackGradient,ctx.fill()}paintSelection(s,v){this.selection.style.left=`${s*this.width}px`,this.selection.style.top=`${this.height-v*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class colorPickerWidget_Strip extends lifecycle.a{constructor(container,model){super(),this.model=model,this._onDidChange=new common_event.a,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new common_event.a,this.onColorFlushed=this._onColorFlushed.event,this.domNode=dom.p(container,$(".strip")),this.overlay=dom.p(this.domNode,$(".overlay")),this.slider=dom.p(this.domNode,$(".slider")),this.slider.style.top="0px",this._register(dom.g(this.domNode,e=>this.onMouseDown(e))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const value=this.getValue(this.model.color);this.updateSliderPosition(value)}onMouseDown(e){const monitor=this._register(new globalMouseMoveMonitor.a),origin=dom.C(this.domNode);dom.e(this.domNode,"grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),monitor.startMonitoring(e.target,e.buttons,globalMouseMoveMonitor.b,event=>this.onDidChangeTop(event.posy-origin.top),()=>null);const mouseUpListener=dom.h(document,()=>{this._onColorFlushed.fire(),mouseUpListener.dispose(),monitor.stopMonitoring(!0),dom.Q(this.domNode,"grabbing")},!0)}onDidChangeTop(top){const value=Math.max(0,Math.min(1,1-top/this.height));this.updateSliderPosition(value),this._onDidChange.fire(value)}updateSliderPosition(value){this.slider.style.top=`${(1-value)*this.height}px`}}class colorPickerWidget_OpacityStrip extends colorPickerWidget_Strip{constructor(container,model){super(container,model),dom.e(this.domNode,"opacity-strip"),this._register(model.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(color){const{r:r,g:g,b:b}=color.rgba,opaque=new common_color.a(new common_color.c(r,g,b,1)),transparent=new common_color.a(new common_color.c(r,g,b,0));this.overlay.style.background=`linear-gradient(to bottom, ${opaque} 0%, ${transparent} 100%)`}getValue(color){return color.hsva.a}}class colorPickerWidget_HueStrip extends colorPickerWidget_Strip{constructor(container,model){super(container,model),dom.e(this.domNode,"hue-strip")}getValue(color){return 1-color.hsva.h/360}}class colorPickerWidget_ColorPickerWidget extends ui_widget.a{constructor(container,model,pixelRatio,themeService){super(),this.model=model,this.pixelRatio=pixelRatio,this._register(Object(browser.n)(()=>this.layout()));const element=$(".colorpicker-widget");container.appendChild(element);const header=new colorPickerWidget_ColorPickerHeader(element,this.model,themeService);this.body=new colorPickerWidget_ColorPickerBody(element,this.model,this.pixelRatio),this._register(header),this._register(this.body)}layout(){this.body.layout()}}var arrays=__webpack_require__(2309),errors=__webpack_require__(2302);function getHover(model,position,token){const promises=modes.p.ordered(model).map(support=>Promise.resolve(support.provideHover(model,position,token)).then(hover=>hover&&function isValid(result){const hasRange=void 0!==result.range,hasHtmlContent=void 0!==result.contents&&result.contents&&result.contents.length>0;return hasRange&&hasHtmlContent}(hover)?hover:void 0,err=>{Object(errors.f)(err)}));return Promise.all(promises).then(arrays.d)}Object(editorExtensions.p)("_executeHoverProvider",(model,position)=>getHover(model,position,cancellation.a.None));var common_async=__webpack_require__(2306);class hoverOperation_HoverOperation{constructor(computer,success,error,progress,hoverTime){this._computer=computer,this._state=0,this._hoverTime=hoverTime,this._firstWaitScheduler=new common_async.d(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new common_async.d(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new common_async.d(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=success,this._errorCallback=error,this._progressCallback=progress}setHoverTime(hoverTime){this._hoverTime=hoverTime}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(common_async.f)(token=>this._computer.computeAsync(token)),this._asyncComputationPromise.then(asyncResult=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(asyncResult)},e=>this._onError(e))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(asyncResult){asyncResult&&this._computer.onResult(asyncResult,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(value){this._completeCallback(value)}_onError(error){this._errorCallback?this._errorCallback(error):Object(errors.e)(error)}_onProgress(value){this._progressCallback(value)}start(mode){if(0===mode)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}__webpack_require__(2598);var scrollableElement=__webpack_require__(2356);const hoverWidget_$=dom.a;class hoverWidget_HoverWidget extends lifecycle.a{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new scrollableElement.a(this.contentsDomNode,{})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class hoverWidgets_ContentHoverWidget extends ui_widget.a{constructor(id,editor,_hoverVisibleKey,_keybindingService){super(),this._hoverVisibleKey=_hoverVisibleKey,this._keybindingService=_keybindingService,this.allowEditorOverflow=!0,this._hover=this._register(new hoverWidget_HoverWidget),this._id=id,this._editor=editor,this._isVisible=!1,this._stoleFocus=!1,this.onkeydown(this._hover.containerDomNode,e=>{e.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(36)&&this.updateFont()})),this._editor.onDidLayoutChange(e=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1}get isVisible(){return this._isVisible}set isVisible(value){this._isVisible=value,dom.ab(this._hover.containerDomNode,"hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(position,range,focus){this._showAtPosition=position,this._showAtRange=range,this._hoverVisibleKey.set(!0),this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=focus,focus&&this._hover.containerDomNode.focus()}hide(){this.isVisible&&(setTimeout(()=>{this.isVisible||this._hoverVisibleKey.set(!1)},0),this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())}getPosition(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}dispose(){this._editor.removeContentWidget(this),super.dispose()}updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(node=>this._editor.applyFontInfo(node))}updateContents(node){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(node),this.updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_renderAction(parent,actionOptions){const keybinding=this._keybindingService.lookupKeybinding(actionOptions.commandId);return function renderHoverAction(parent,actionOptions,keybindingLabel){const actionContainer=dom.p(parent,hoverWidget_$("div.action-container")),action=dom.p(actionContainer,hoverWidget_$("a.action"));return action.setAttribute("href","#"),action.setAttribute("role","button"),actionOptions.iconClass&&dom.p(action,hoverWidget_$(`span.icon.${actionOptions.iconClass}`)),dom.p(action,hoverWidget_$("span")).textContent=keybindingLabel?`${actionOptions.label} (${keybindingLabel})`:actionOptions.label,dom.i(actionContainer,dom.c.CLICK,e=>{e.stopPropagation(),e.preventDefault(),actionOptions.run(actionContainer)})}(parent,actionOptions,keybinding?keybinding.getLabel():null)}layout(){const height=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:fontSize,lineHeight:lineHeight}=this._editor.getOption(36);this._hover.contentsDomNode.style.fontSize=`${fontSize}px`,this._hover.contentsDomNode.style.lineHeight=`${lineHeight}px`,this._hover.contentsDomNode.style.maxHeight=`${height}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}}class hoverWidgets_GlyphHoverWidget extends ui_widget.a{constructor(id,editor){super(),this._id=id,this._editor=editor,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(36)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(value){this._isVisible=value,dom.ab(this._domNode,"hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(lineNumber){this._showAtLineNumber=lineNumber,this.isVisible||(this.isVisible=!0);const editorLayout=this._editor.getLayoutInfo(),topForLineNumber=this._editor.getTopForLineNumber(this._showAtLineNumber),editorScrollTop=this._editor.getScrollTop(),lineHeight=this._editor.getOption(51),top=topForLineNumber-editorScrollTop-(this._domNode.clientHeight-lineHeight)/2;this._domNode.style.left=`${editorLayout.glyphMarginLeft+editorLayout.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(top),0)}px`}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){[...Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),...Array.prototype.slice.call(this._domNode.getElementsByClassName("code"))].forEach(node=>this._editor.applyFontInfo(node))}updateContents(node){this._domNode.textContent="",this._domNode.appendChild(node),this.updateFont()}}var markdownRenderer=__webpack_require__(2426),markers=__webpack_require__(2371),resources=__webpack_require__(2331),common_opener=__webpack_require__(2344),gotoError=__webpack_require__(2499),codeAction=__webpack_require__(2402),codeActionCommands=__webpack_require__(2498),types=__webpack_require__(2403),common_progress=__webpack_require__(2345);const modesContentHover_$=dom.a;class ColorHover{constructor(range,color,provider){this.range=range,this.color=color,this.provider=provider}}class MarkerHover{constructor(range,marker){this.range=range,this.marker=marker}}class modesContentHover_ModesContentComputer{constructor(editor,_markerDecorationsService){this._markerDecorationsService=_markerDecorationsService,this._editor=editor,this._result=[]}setRange(range){this._range=range,this._result=[]}clearResult(){this._result=[]}computeAsync(token){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);const model=this._editor.getModel();return modes.p.has(model)?getHover(model,new core_position.a(this._range.startLineNumber,this._range.startColumn),token):Promise.resolve([])}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const model=this._editor.getModel(),lineNumber=this._range.startLineNumber;if(lineNumber>this._editor.getModel().getLineCount())return[];const colorDetector=colorPicker_colorDetector.ColorDetector.get(this._editor),maxColumn=model.getLineMaxColumn(lineNumber),lineDecorations=this._editor.getLineDecorations(lineNumber);let didFindColor=!1;const hoverRange=this._range,result=lineDecorations.map(d=>{const startColumn=d.range.startLineNumber===lineNumber?d.range.startColumn:1,endColumn=d.range.endLineNumber===lineNumber?d.range.endColumn:maxColumn;if(startColumn>hoverRange.startColumn||hoverRange.endColumn>endColumn)return null;const range=new core_range.a(hoverRange.startLineNumber,startColumn,hoverRange.startLineNumber,endColumn),marker=this._markerDecorationsService.getMarker(model,d);if(marker)return new MarkerHover(range,marker);const colorData=colorDetector.getColorData(d.range.getStartPosition());if(!didFindColor&&colorData){didFindColor=!0;const{color:color,range:range}=colorData.colorInfo;return new ColorHover(range,color,colorData.provider)}if(Object(htmlContent.b)(d.options.hoverMessage))return null;return{contents:d.options.hoverMessage?Object(arrays.b)(d.options.hoverMessage):[],range:range}});return Object(arrays.d)(result)}onResult(result,isFromSynchronousComputation){this._result=isFromSynchronousComputation?result.concat(this._result.sort((a,b)=>a instanceof ColorHover?-1:b instanceof ColorHover?1:0)):this._result.concat(result)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){return this._result.slice(0).concat([this._getLoadingMessage()])}_getLoadingMessage(){return{range:this._range,contents:[(new htmlContent.a).appendText(nls.a("modesContentHover.loading","Loading..."))]}}}const markerCodeActionTrigger={type:2,filter:{include:types.b.QuickFix}};class modesContentHover_ModesContentHoverWidget extends hoverWidgets_ContentHoverWidget{constructor(editor,_hoverVisibleKey,markerDecorationsService,keybindingService,_themeService,_modeService,_openerService=common_opener.b){super(modesContentHover_ModesContentHoverWidget.ID,editor,_hoverVisibleKey,keybindingService),this._themeService=_themeService,this._modeService=_modeService,this._openerService=_openerService,this.renderDisposable=this._register(new lifecycle.d),this._messages=[],this._lastRange=null,this._computer=new modesContentHover_ModesContentComputer(this._editor,markerDecorationsService),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new hoverOperation_HoverOperation(this._computer,result=>this._withResult(result,!0),null,result=>this._withResult(result,!1),this._editor.getOption(46).delay),this._register(dom.n(this.getDomNode(),dom.c.FOCUS,()=>{this._colorPicker&&dom.e(this.getDomNode(),"colorpicker-hover")})),this._register(dom.n(this.getDomNode(),dom.c.BLUR,()=>{dom.Q(this.getDomNode(),"colorpicker-hover")})),this._register(editor.onDidChangeConfiguration(e=>{this._hoverOperation.setHoverTime(this._editor.getOption(46).delay)})),this._register(modes.C.onDidChange(e=>{this.isVisible&&this._lastRange&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(range,mode,focus){if(!this._lastRange||!this._lastRange.equalsRange(range)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===range.startLineNumber){let filteredMessages=[];for(let i=0,len=this._messages.length;i<len;i++){const msg=this._messages[i],rng=msg.range;rng&&rng.startColumn<=range.startColumn&&rng.endColumn>=range.endColumn&&filteredMessages.push(msg)}if(filteredMessages.length>0){if(function hoverContentsEquals(first,second){if(!first&&second||first&&!second||first.length!==second.length)return!1;for(let i=0;i<first.length;i++){const firstElement=first[i],secondElement=second[i];if(firstElement instanceof MarkerHover&&secondElement instanceof MarkerHover)return markers.a.makeKey(firstElement.marker)===markers.a.makeKey(secondElement.marker);if(firstElement instanceof ColorHover||secondElement instanceof ColorHover)return!1;if(firstElement instanceof MarkerHover||secondElement instanceof MarkerHover)return!1;if(!Object(htmlContent.c)(firstElement.contents,secondElement.contents))return!1}return!0}(filteredMessages,this._messages))return;this._renderMessages(range,filteredMessages)}else this.hide()}else this.hide();this._lastRange=range,this._computer.setRange(range),this._shouldFocus=focus,this._hoverOperation.start(mode)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),super.hide(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}_withResult(result,complete){this._messages=result,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):complete&&this.hide()}_renderMessages(renderRange,messages){this.renderDisposable.dispose(),this._colorPicker=null;let renderColumn=1073741824,highlightRange=messages[0].range?core_range.a.lift(messages[0].range):null,fragment=document.createDocumentFragment(),isEmptyHoverContent=!0,containColorPicker=!1;const markdownDisposeables=new lifecycle.b,markerMessages=[];if(messages.forEach(msg=>{if(msg.range)if(renderColumn=Math.min(renderColumn,msg.range.startColumn),highlightRange=highlightRange?core_range.a.plusRange(highlightRange,msg.range):core_range.a.lift(msg.range),msg instanceof ColorHover){containColorPicker=!0;const{red:red,green:green,blue:blue,alpha:alpha}=msg.color,rgba=new common_color.c(Math.round(255*red),Math.round(255*green),Math.round(255*blue),alpha),color=new common_color.a(rgba);if(!this._editor.hasModel())return;const editorModel=this._editor.getModel();let range=new core_range.a(msg.range.startLineNumber,msg.range.startColumn,msg.range.endLineNumber,msg.range.endColumn),colorInfo={range:msg.range,color:msg.color};const model=new colorPickerModel_ColorPickerModel(color,[],0),widget=new colorPickerWidget_ColorPickerWidget(fragment,model,this._editor.getOption(115),this._themeService);Object(colorPicker_color.a)(editorModel,colorInfo,msg.provider,cancellation.a.None).then(colorPresentations=>{if(model.colorPresentations=colorPresentations||[],!this._editor.hasModel())return;const originalText=this._editor.getModel().getValueInRange(msg.range);model.guessColorPresentation(color,originalText);const updateEditorModel=()=>{let textEdits,newRange;model.presentation.textEdit?(textEdits=[model.presentation.textEdit],newRange=(newRange=new core_range.a(model.presentation.textEdit.range.startLineNumber,model.presentation.textEdit.range.startColumn,model.presentation.textEdit.range.endLineNumber,model.presentation.textEdit.range.endColumn)).setEndPosition(newRange.endLineNumber,newRange.startColumn+model.presentation.textEdit.text.length)):(textEdits=[{identifier:null,range:range,text:model.presentation.label,forceMoveMarkers:!1}],newRange=range.setEndPosition(range.endLineNumber,range.startColumn+model.presentation.label.length)),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",textEdits),model.presentation.additionalTextEdits&&(textEdits=[...model.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",textEdits),this.hide()),this._editor.pushUndoStop(),range=newRange},updateColorPresentations=color=>Object(colorPicker_color.a)(editorModel,{range:range,color:{red:color.rgba.r/255,green:color.rgba.g/255,blue:color.rgba.b/255,alpha:color.rgba.a}},msg.provider,cancellation.a.None).then(colorPresentations=>{model.colorPresentations=colorPresentations||[]}),colorListener=model.onColorFlushed(color=>{updateColorPresentations(color).then(updateEditorModel)}),colorChangeListener=model.onDidChangeColor(updateColorPresentations);this._colorPicker=widget,this.showAt(range.getStartPosition(),range,this._shouldFocus),this.updateContents(fragment),this._colorPicker.layout(),this.renderDisposable.value=Object(lifecycle.e)(colorListener,colorChangeListener,widget,markdownDisposeables)})}else msg instanceof MarkerHover?(markerMessages.push(msg),isEmptyHoverContent=!1):msg.contents.filter(contents=>!Object(htmlContent.b)(contents)).forEach(contents=>{const markdownHoverElement=modesContentHover_$("div.hover-row.markdown-hover"),hoverContentsElement=dom.p(markdownHoverElement,modesContentHover_$("div.hover-contents")),renderer=markdownDisposeables.add(new markdownRenderer.a(this._editor,this._modeService,this._openerService));markdownDisposeables.add(renderer.onDidRenderCodeBlock(()=>{hoverContentsElement.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const renderedContents=markdownDisposeables.add(renderer.render(contents));hoverContentsElement.appendChild(renderedContents.element),fragment.appendChild(markdownHoverElement),isEmptyHoverContent=!1})}),markerMessages.length){markerMessages.forEach(msg=>fragment.appendChild(this.renderMarkerHover(msg)));const markerHoverForStatusbar=1===markerMessages.length?markerMessages[0]:markerMessages.sort((a,b)=>markers.c.compare(a.marker.severity,b.marker.severity))[0];fragment.appendChild(this.renderMarkerStatusbar(markerHoverForStatusbar))}containColorPicker||isEmptyHoverContent||(this.showAt(new core_position.a(renderRange.startLineNumber,renderColumn),highlightRange,this._shouldFocus),this.updateContents(fragment)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,highlightRange?[{range:highlightRange,options:modesContentHover_ModesContentHoverWidget._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}renderMarkerHover(markerHover){const hoverElement=modesContentHover_$("div.hover-row"),markerElement=dom.p(hoverElement,modesContentHover_$("div.marker.hover-contents")),{source:source,message:message,code:code,relatedInformation:relatedInformation}=markerHover.marker;this._editor.applyFontInfo(markerElement);const messageElement=dom.p(markerElement,modesContentHover_$("span"));if(messageElement.style.whiteSpace="pre-wrap",messageElement.innerText=message,source||code)if(code&&"string"!=typeof code){const sourceAndCodeElement=modesContentHover_$("span");if(source){dom.p(sourceAndCodeElement,modesContentHover_$("span")).innerText=source}this._codeLink=dom.p(sourceAndCodeElement,modesContentHover_$("a.code-link")),this._codeLink.setAttribute("href",code.target.toString()),this._codeLink.onclick=e=>{this._openerService.open(code.target),e.preventDefault(),e.stopPropagation()},dom.p(this._codeLink,modesContentHover_$("span")).innerText=code.value;const detailsElement=dom.p(markerElement,sourceAndCodeElement);detailsElement.style.opacity="0.6",detailsElement.style.paddingLeft="6px"}else{const detailsElement=dom.p(markerElement,modesContentHover_$("span"));detailsElement.style.opacity="0.6",detailsElement.style.paddingLeft="6px",detailsElement.innerText=source&&code?`${source}(${code})`:source||`(${code})`}if(Object(arrays.o)(relatedInformation))for(const{message:message,resource:resource,startLineNumber:startLineNumber,startColumn:startColumn}of relatedInformation){const relatedInfoContainer=dom.p(markerElement,modesContentHover_$("div"));relatedInfoContainer.style.marginTop="8px";const a=dom.p(relatedInfoContainer,modesContentHover_$("a"));a.innerText=`${Object(resources.b)(resource)}(${startLineNumber}, ${startColumn}): `,a.style.cursor="pointer",a.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(resource.with({fragment:`${startLineNumber},${startColumn}`}),{fromUserGesture:!0}).catch(errors.e)};const messageElement=dom.p(relatedInfoContainer,modesContentHover_$("span"));messageElement.innerText=message,this._editor.applyFontInfo(messageElement)}return hoverElement}renderMarkerStatusbar(markerHover){const hoverElement=modesContentHover_$("div.hover-row.status-bar"),disposables=new lifecycle.b,actionsElement=dom.p(hoverElement,modesContentHover_$("div.actions"));if(markerHover.marker.severity!==markers.c.Error&&markerHover.marker.severity!==markers.c.Warning&&markerHover.marker.severity!==markers.c.Info||disposables.add(this._renderAction(actionsElement,{label:nls.a("peek problem","Peek Problem"),commandId:gotoError.NextMarkerAction.ID,run:()=>{this.hide(),gotoError.MarkerController.get(this._editor).showAtMarker(markerHover.marker),this._editor.focus()}})),!this._editor.getOption(72)){const quickfixPlaceholderElement=dom.p(actionsElement,modesContentHover_$("div"));quickfixPlaceholderElement.style.opacity="0",quickfixPlaceholderElement.style.transition="opacity 0.2s",setTimeout(()=>quickfixPlaceholderElement.style.opacity="1",200),quickfixPlaceholderElement.textContent=nls.a("checkingForQuickFixes","Checking for quick fixes..."),disposables.add(Object(lifecycle.h)(()=>quickfixPlaceholderElement.remove()));const codeActionsPromise=this.getCodeActions(markerHover.marker);disposables.add(Object(lifecycle.h)(()=>codeActionsPromise.cancel())),codeActionsPromise.then(actions=>{if(quickfixPlaceholderElement.style.transition="",quickfixPlaceholderElement.style.opacity="1",!actions.validActions.length)return actions.dispose(),void(quickfixPlaceholderElement.textContent=nls.a("noQuickFixes","No quick fixes available"));quickfixPlaceholderElement.remove();let showing=!1;disposables.add(Object(lifecycle.h)(()=>{showing||actions.dispose()})),disposables.add(this._renderAction(actionsElement,{label:nls.a("quick fixes","Quick Fix..."),commandId:codeActionCommands.e.Id,run:target=>{showing=!0;const controller=codeActionCommands.f.get(this._editor),elementPosition=dom.C(target);this.hide(),controller.showCodeActions(markerCodeActionTrigger,actions,{x:elementPosition.left+6,y:elementPosition.top+elementPosition.height+6})}}))})}return this.renderDisposable.value=disposables,hoverElement}getCodeActions(marker){return Object(common_async.f)(cancellationToken=>Object(codeAction.c)(this._editor.getModel(),new core_range.a(marker.startLineNumber,marker.startColumn,marker.endLineNumber,marker.endColumn),markerCodeActionTrigger,common_progress.b.None,cancellationToken))}}modesContentHover_ModesContentHoverWidget.ID="editor.contrib.modesContentHoverWidget",modesContentHover_ModesContentHoverWidget._DECORATION_OPTIONS=textModel.a.register({className:"hoverHighlight"}),Object(common_themeService.g)((theme,collector)=>{const linkFg=theme.getColor(colorRegistry.rc);linkFg&&collector.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${linkFg}; }`)});class modesGlyphHover_MarginComputer{constructor(editor){this._editor=editor,this._lineNumber=-1,this._result=[]}setLineNumber(lineNumber){this._lineNumber=lineNumber,this._result=[]}clearResult(){this._result=[]}computeSync(){const toHoverMessage=contents=>({value:contents}),lineDecorations=this._editor.getLineDecorations(this._lineNumber),result=[];if(!lineDecorations)return result;for(const d of lineDecorations){if(!d.options.glyphMarginClassName)continue;const hoverMessage=d.options.glyphMarginHoverMessage;hoverMessage&&!Object(htmlContent.b)(hoverMessage)&&result.push(...Object(arrays.b)(hoverMessage).map(toHoverMessage))}return result}onResult(result,isFromSynchronousComputation){this._result=this._result.concat(result)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class modesGlyphHover_ModesGlyphHoverWidget extends hoverWidgets_GlyphHoverWidget{constructor(editor,modeService,openerService=common_opener.b){super(modesGlyphHover_ModesGlyphHoverWidget.ID,editor),this._renderDisposeables=this._register(new lifecycle.b),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new markdownRenderer.a(this._editor,modeService,openerService)),this._computer=new modesGlyphHover_MarginComputer(this._editor),this._hoverOperation=new hoverOperation_HoverOperation(this._computer,result=>this._withResult(result),void 0,result=>this._withResult(result),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(lineNumber){this._lastLineNumber!==lineNumber&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=lineNumber,this._computer.setLineNumber(lineNumber),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(result){this._messages=result,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(lineNumber,messages){this._renderDisposeables.clear();const fragment=document.createDocumentFragment();for(const msg of messages){const renderedContents=this._markdownRenderer.render(msg.value);this._renderDisposeables.add(renderedContents),fragment.appendChild(Object(dom.a)("div.hover-row",void 0,renderedContents.element))}this.updateContents(fragment),this.showAt(lineNumber)}}modesGlyphHover_ModesGlyphHoverWidget.ID="editor.contrib.modesGlyphHoverWidget";var markersDecorationService=__webpack_require__(2489),common_keybinding=__webpack_require__(2325),goToDefinitionAtPosition=__webpack_require__(2486),contextkey=__webpack_require__(2307);__webpack_require__.d(__webpack_exports__,"ModesHoverController",function(){return hover_ModesHoverController});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let hover_ModesHoverController=class ModesHoverController{constructor(_editor,_openerService,_modeService,_markerDecorationsService,_keybindingService,_themeService,_contextKeyService){this._editor=_editor,this._openerService=_openerService,this._modeService=_modeService,this._markerDecorationsService=_markerDecorationsService,this._keybindingService=_keybindingService,this._themeService=_themeService,this._toUnhook=new lifecycle.b,this._contentWidget=new lifecycle.d,this._glyphWidget=new lifecycle.d,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(e=>{e.hasChanged(46)&&(this._hideWidgets(),this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=editorContextKeys.a.hoverVisible.bindTo(_contextKeyService)}get contentWidget(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value}get glyphWidget(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value}static get(editor){return editor.getContribution(ModesHoverController.ID)}_hookEvents(){const hideWidgetsEventHandler=()=>this._hideWidgets(),hoverOpts=this._editor.getOption(46);this._isHoverEnabled=hoverOpts.enabled,this._isHoverSticky=hoverOpts.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._toUnhook.add(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._toUnhook.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._toUnhook.add(this._editor.onKeyDown(e=>this._onKeyDown(e))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler)),this._toUnhook.add(this._editor.onDidScrollChange(e=>this._onEditorScrollChanged(e)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(mouseEvent){this._isMouseDown=!0;const targetType=mouseEvent.target.type;9!==targetType||mouseEvent.target.detail!==modesContentHover_ModesContentHoverWidget.ID?12===targetType&&mouseEvent.target.detail===modesGlyphHover_ModesGlyphHoverWidget.ID||(12!==targetType&&mouseEvent.target.detail!==modesGlyphHover_ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(mouseEvent){this._isMouseDown=!1}_onEditorMouseMove(mouseEvent){let targetType=mouseEvent.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible()||this._isHoverSticky&&9===targetType&&mouseEvent.target.detail===modesContentHover_ModesContentHoverWidget.ID||this._isHoverSticky&&12===targetType&&mouseEvent.target.detail===modesGlyphHover_ModesGlyphHoverWidget.ID)){if(7===targetType){const epsilon=this._editor.getOption(36).typicalHalfwidthCharacterWidth/2,data=mouseEvent.target.detail;data&&!data.isAfterLines&&"number"==typeof data.horizontalDistanceToText&&data.horizontalDistanceToText<epsilon&&(targetType=6)}6===targetType?(this.glyphWidget.hide(),this._isHoverEnabled&&mouseEvent.target.range&&this.contentWidget.startShowingAt(mouseEvent.target.range,0,!1)):2===targetType?(this.contentWidget.hide(),this._isHoverEnabled&&mouseEvent.target.position&&this.glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber)):this._hideWidgets()}}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())}_createHoverWidgets(){this._contentWidget.value=new modesContentHover_ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._markerDecorationsService,this._keybindingService,this._themeService,this._modeService,this._openerService),this._glyphWidget.value=new modesGlyphHover_ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)}showContentHover(range,mode,focus){this.contentWidget.startShowingAt(range,mode,focus)}dispose(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()}};hover_ModesHoverController.ID="editor.contrib.hover",hover_ModesHoverController=__decorate([__param(1,common_opener.a),__param(2,services_modeService.a),__param(3,markersDecorationService.a),__param(4,common_keybinding.a),__param(5,common_themeService.c),__param(6,contextkey.b)],hover_ModesHoverController);Object(editorExtensions.m)(hover_ModesHoverController.ID,hover_ModesHoverController),Object(editorExtensions.k)(class hover_ShowHoverAction extends editorExtensions.b{constructor(){super({id:"editor.action.showHover",label:nls.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2087),weight:100}})}run(accessor,editor){if(!editor.hasModel())return;let controller=hover_ModesHoverController.get(editor);if(!controller)return;const position=editor.getPosition(),range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),focus=2===editor.getOption(2);controller.showContentHover(range,1,focus)}}),Object(editorExtensions.k)(class hover_ShowDefinitionPreviewHoverAction extends editorExtensions.b{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:nls.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(accessor,editor){let controller=hover_ModesHoverController.get(editor);if(!controller)return;const position=editor.getPosition();if(!position)return;const range=new core_range.a(position.lineNumber,position.column,position.lineNumber,position.column),promise=goToDefinitionAtPosition.GotoDefinitionAtPositionEditorContribution.get(editor).startFindDefinitionFromCursor(position);promise?promise.then(()=>{controller.showContentHover(range,1,!0)}):controller.showContentHover(range,1,!0)}}),Object(common_themeService.g)((theme,collector)=>{const editorHoverHighlightColor=theme.getColor(colorRegistry.H);editorHoverHighlightColor&&collector.addRule(`.monaco-editor .hoverHighlight { background-color: ${editorHoverHighlightColor}; }`);const hoverBackground=theme.getColor(colorRegistry.E);hoverBackground&&collector.addRule(`.monaco-editor .monaco-hover { background-color: ${hoverBackground}; }`);const hoverBorder=theme.getColor(colorRegistry.F);hoverBorder&&(collector.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${hoverBorder}; }`),collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(.5)}; }`),collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(.5)}; }`),collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(.5)}; }`));const link=theme.getColor(colorRegistry.rc);link&&collector.addRule(`.monaco-editor .monaco-hover a { color: ${link}; }`);const hoverForeground=theme.getColor(colorRegistry.G);hoverForeground&&collector.addRule(`.monaco-editor .monaco-hover { color: ${hoverForeground}; }`);const actionsBackground=theme.getColor(colorRegistry.I);actionsBackground&&collector.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${actionsBackground}; }`);const codeBackground=theme.getColor(colorRegistry.qc);codeBackground&&collector.addRule(`.monaco-editor .monaco-hover code { background-color: ${codeBackground}; }`)})},2693:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(2539);var nls=__webpack_require__(2297),common_types=__webpack_require__(2314),strings=__webpack_require__(2299),common_async=__webpack_require__(2306),keyCodes=__webpack_require__(2329),lifecycle=__webpack_require__(2294),editorExtensions=__webpack_require__(2301),common_event=__webpack_require__(2296);const MAX_FOLDING_REGIONS=65535,MAX_LINE_NUMBER=16777215,MASK_INDENT=4278190080;class FoldingRegions{constructor(startIndexes,endIndexes,types){if(startIndexes.length!==endIndexes.length||startIndexes.length>MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=startIndexes,this._endIndexes=endIndexes,this._collapseStates=new Uint32Array(Math.ceil(startIndexes.length/32)),this._types=types,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let parentIndexes=[],isInsideLast=(startLineNumber,endLineNumber)=>{let index=parentIndexes[parentIndexes.length-1];return this.getStartLineNumber(index)<=startLineNumber&&this.getEndLineNumber(index)>=endLineNumber};for(let i=0,len=this._startIndexes.length;i<len;i++){let startLineNumber=this._startIndexes[i],endLineNumber=this._endIndexes[i];if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+MAX_LINE_NUMBER);for(;parentIndexes.length>0&&!isInsideLast(startLineNumber,endLineNumber);)parentIndexes.pop();let parentIndex=parentIndexes.length>0?parentIndexes[parentIndexes.length-1]:-1;parentIndexes.push(i),this._startIndexes[i]=startLineNumber+((255&parentIndex)<<24),this._endIndexes[i]=endLineNumber+((65280&parentIndex)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(index){return this._startIndexes[index]&MAX_LINE_NUMBER}getEndLineNumber(index){return this._endIndexes[index]&MAX_LINE_NUMBER}getType(index){return this._types?this._types[index]:void 0}hasTypes(){return!!this._types}isCollapsed(index){let arrayIndex=index/32|0,bit=index%32;return 0!=(this._collapseStates[arrayIndex]&1<<bit)}setCollapsed(index,newState){let arrayIndex=index/32|0,bit=index%32,value=this._collapseStates[arrayIndex];this._collapseStates[arrayIndex]=newState?value|1<<bit:value&~(1<<bit)}toRegion(index){return new FoldingRegion(this,index)}getParentIndex(index){this.ensureParentIndices();let parent=((this._startIndexes[index]&MASK_INDENT)>>>24)+((this._endIndexes[index]&MASK_INDENT)>>>16);return parent===MAX_FOLDING_REGIONS?-1:parent}contains(index,line){return this.getStartLineNumber(index)<=line&&this.getEndLineNumber(index)>=line}findIndex(line){let low=0,high=this._startIndexes.length;if(0===high)return-1;for(;low<high;){let mid=Math.floor((low+high)/2);line<this.getStartLineNumber(mid)?high=mid:low=mid+1}return low-1}findRange(line){let index=this.findIndex(line);if(index>=0){if(this.getEndLineNumber(index)>=line)return index;for(index=this.getParentIndex(index);-1!==index;){if(this.contains(index,line))return index;index=this.getParentIndex(index)}}return-1}toString(){let res=[];for(let i=0;i<this.length;i++)res[i]=`[${this.isCollapsed(i)?"+":"-"}] ${this.getStartLineNumber(i)}/${this.getEndLineNumber(i)}`;return res.join(", ")}}class FoldingRegion{constructor(ranges,index){this.ranges=ranges,this.index=index}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(range){return range.startLineNumber<=this.startLineNumber&&range.endLineNumber>=this.endLineNumber}containsLine(lineNumber){return this.startLineNumber<=lineNumber&&lineNumber<=this.endLineNumber}}class foldingModel_FoldingModel{constructor(textModel,decorationProvider){this._updateEventEmitter=new common_event.a,this.onDidChange=this._updateEventEmitter.event,this._textModel=textModel,this._decorationProvider=decorationProvider,this._regions=new FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(toggledRegions){if(!toggledRegions.length)return;toggledRegions=toggledRegions.sort((r1,r2)=>r1.regionIndex-r2.regionIndex);const processed={};this._decorationProvider.changeDecorations(accessor=>{let k=0,dirtyRegionEndLine=-1,lastHiddenLine=-1;const updateDecorationsUntil=index=>{for(;k<index;){const endLineNumber=this._regions.getEndLineNumber(k),isCollapsed=this._regions.isCollapsed(k);endLineNumber<=dirtyRegionEndLine&&accessor.changeDecorationOptions(this._editorDecorationIds[k],this._decorationProvider.getDecorationOption(isCollapsed,endLineNumber<=lastHiddenLine)),isCollapsed&&endLineNumber>lastHiddenLine&&(lastHiddenLine=endLineNumber),k++}};for(let region of toggledRegions){let index=region.regionIndex,editorDecorationId=this._editorDecorationIds[index];if(editorDecorationId&&!processed[editorDecorationId]){processed[editorDecorationId]=!0,updateDecorationsUntil(index);let newCollapseState=!this._regions.isCollapsed(index);this._regions.setCollapsed(index,newCollapseState),dirtyRegionEndLine=Math.max(dirtyRegionEndLine,this._regions.getEndLineNumber(index))}}updateDecorationsUntil(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:toggledRegions})}update(newRegions,blockedLineNumers=[]){let newEditorDecorations=[],lastHiddenLine=-1,initRange=(index,isCollapsed)=>{const startLineNumber=newRegions.getStartLineNumber(index),endLineNumber=newRegions.getEndLineNumber(index);isCollapsed&&((startLineNumber,endLineNumber)=>{for(let blockedLineNumber of blockedLineNumers)if(startLineNumber<blockedLineNumber&&blockedLineNumber<=endLineNumber)return!0;return!1})(startLineNumber,endLineNumber)&&(isCollapsed=!1),newRegions.setCollapsed(index,isCollapsed);const maxColumn=this._textModel.getLineMaxColumn(startLineNumber),decorationRange={startLineNumber:startLineNumber,startColumn:maxColumn,endLineNumber:startLineNumber,endColumn:maxColumn};newEditorDecorations.push({range:decorationRange,options:this._decorationProvider.getDecorationOption(isCollapsed,endLineNumber<=lastHiddenLine)}),isCollapsed&&endLineNumber>lastHiddenLine&&(lastHiddenLine=endLineNumber)},i=0,nextCollapsed=()=>{for(;i<this._regions.length;){let isCollapsed=this._regions.isCollapsed(i);if(i++,isCollapsed)return i-1}return-1},k=0,collapsedIndex=nextCollapsed();for(;-1!==collapsedIndex&&k<newRegions.length;){let decRange=this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);if(decRange){let collapsedStartLineNumber=decRange.startLineNumber;if(this._textModel.getLineMaxColumn(collapsedStartLineNumber)===decRange.startColumn)for(;k<newRegions.length;){let startLineNumber=newRegions.getStartLineNumber(k);if(!(collapsedStartLineNumber>=startLineNumber))break;initRange(k,collapsedStartLineNumber===startLineNumber),k++}}collapsedIndex=nextCollapsed()}for(;k<newRegions.length;)initRange(k,!1),k++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,newEditorDecorations),this._regions=newRegions,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let collapsedRanges=[];for(let i=0;i<this._regions.length;i++)if(this._regions.isCollapsed(i)){let range=this._textModel.getDecorationRange(this._editorDecorationIds[i]);if(range){let startLineNumber=range.startLineNumber,endLineNumber=range.endLineNumber+this._regions.getEndLineNumber(i)-this._regions.getStartLineNumber(i);collapsedRanges.push({startLineNumber:startLineNumber,endLineNumber:endLineNumber})}}if(collapsedRanges.length>0)return collapsedRanges}applyMemento(state){if(!Array.isArray(state))return;let toToogle=[];for(let range of state){let region=this.getRegionAtLine(range.startLineNumber);region&&!region.isCollapsed&&toToogle.push(region)}this.toggleCollapseState(toToogle)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(lineNumber,filter){let result=[];if(this._regions){let index=this._regions.findRange(lineNumber),level=1;for(;index>=0;){let current=this._regions.toRegion(index);filter&&!filter(current,level)||result.push(current),level++,index=current.parentIndex}}return result}getRegionAtLine(lineNumber){if(this._regions){let index=this._regions.findRange(lineNumber);if(index>=0)return this._regions.toRegion(index)}return null}getRegionsInside(region,filter){let result=[],index=region?region.regionIndex+1:0,endLineNumber=region?region.endLineNumber:Number.MAX_VALUE;if(filter&&2===filter.length){const levelStack=[];for(let i=index,len=this._regions.length;i<len;i++){let current=this._regions.toRegion(i);if(!(this._regions.getStartLineNumber(i)<endLineNumber))break;for(;levelStack.length>0&&!current.containedBy(levelStack[levelStack.length-1]);)levelStack.pop();levelStack.push(current),filter(current,levelStack.length)&&result.push(current)}}else for(let i=index,len=this._regions.length;i<len;i++){let current=this._regions.toRegion(i);if(!(this._regions.getStartLineNumber(i)<endLineNumber))break;filter&&!filter(current)||result.push(current)}return result}}function setCollapseStateLevelsDown(foldingModel,doCollapse,levels=Number.MAX_VALUE,lineNumbers){let toToggle=[];if(lineNumbers&&lineNumbers.length>0)for(let lineNumber of lineNumbers){let region=foldingModel.getRegionAtLine(lineNumber);if(region&&(region.isCollapsed!==doCollapse&&toToggle.push(region),levels>1)){let regionsInside=foldingModel.getRegionsInside(region,(r,level)=>r.isCollapsed!==doCollapse&&level<levels);toToggle.push(...regionsInside)}}else{let regionsInside=foldingModel.getRegionsInside(null,(r,level)=>r.isCollapsed!==doCollapse&&level<levels);toToggle.push(...regionsInside)}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateLevelsUp(foldingModel,doCollapse,levels,lineNumbers){let toToggle=[];for(let lineNumber of lineNumbers){let regions=foldingModel.getAllRegionsAtLine(lineNumber,(region,level)=>region.isCollapsed!==doCollapse&&level<=levels);toToggle.push(...regions)}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateForMatchingLines(foldingModel,regExp,doCollapse){let editorModel=foldingModel.textModel,regions=foldingModel.regions,toToggle=[];for(let i=regions.length-1;i>=0;i--)if(doCollapse!==regions.isCollapsed(i)){let startLineNumber=regions.getStartLineNumber(i);regExp.test(editorModel.getLineContent(startLineNumber))&&toToggle.push(regions.toRegion(i))}foldingModel.toggleCollapseState(toToggle)}function setCollapseStateForType(foldingModel,type,doCollapse){let regions=foldingModel.regions,toToggle=[];for(let i=regions.length-1;i>=0;i--)doCollapse!==regions.isCollapsed(i)&&type===regions.getType(i)&&toToggle.push(regions.toRegion(i));foldingModel.toggleCollapseState(toToggle)}var model_textModel=__webpack_require__(2321),codicons=__webpack_require__(2316);const foldingExpandedIcon=Object(codicons.e)("folding-expanded",codicons.a.chevronDown),foldingCollapsedIcon=Object(codicons.e)("folding-collapsed",codicons.a.chevronRight);class FoldingDecorationProvider{constructor(editor){this.editor=editor,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(isCollapsed,isHidden){return isHidden?FoldingDecorationProvider.HIDDEN_RANGE_DECORATION:isCollapsed?this.showFoldingHighlights?FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION}deltaDecorations(oldDecorations,newDecorations){return this.editor.deltaDecorations(oldDecorations,newDecorations)}changeDecorations(callback){return this.editor.changeDecorations(callback)}}FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:foldingCollapsedIcon.classNames}),FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:foldingCollapsedIcon.classNames}),FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:foldingExpandedIcon.classNames}),FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION=model_textModel.a.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+foldingExpandedIcon.classNames}),FoldingDecorationProvider.HIDDEN_RANGE_DECORATION=model_textModel.a.register({stickiness:1});var editorContextKeys=__webpack_require__(2312),core_range=__webpack_require__(2295),arrays=__webpack_require__(2309);class hiddenRangeModel_HiddenRangeModel{constructor(model){this._updateEventEmitter=new common_event.a,this._foldingModel=model,this._foldingModelListener=model.onDidChange(_=>this.updateHiddenRanges()),this._hiddenRanges=[],model.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let updateHiddenAreas=!1,newHiddenAreas=[],i=0,k=0,lastCollapsedStart=Number.MAX_VALUE,lastCollapsedEnd=-1,ranges=this._foldingModel.regions;for(;i<ranges.length;i++){if(!ranges.isCollapsed(i))continue;let startLineNumber=ranges.getStartLineNumber(i)+1,endLineNumber=ranges.getEndLineNumber(i);lastCollapsedStart<=startLineNumber&&endLineNumber<=lastCollapsedEnd||(!updateHiddenAreas&&k<this._hiddenRanges.length&&this._hiddenRanges[k].startLineNumber===startLineNumber&&this._hiddenRanges[k].endLineNumber===endLineNumber?(newHiddenAreas.push(this._hiddenRanges[k]),k++):(updateHiddenAreas=!0,newHiddenAreas.push(new core_range.a(startLineNumber,1,endLineNumber,1))),lastCollapsedStart=startLineNumber,lastCollapsedEnd=endLineNumber)}(updateHiddenAreas||k<this._hiddenRanges.length)&&this.applyHiddenRanges(newHiddenAreas)}applyMemento(state){if(!Array.isArray(state)||0===state.length)return!1;let hiddenRanges=[];for(let r of state){if(!r.startLineNumber||!r.endLineNumber)return!1;hiddenRanges.push(new core_range.a(r.startLineNumber+1,1,r.endLineNumber,1))}return this.applyHiddenRanges(hiddenRanges),!0}getMemento(){return this._hiddenRanges.map(r=>({startLineNumber:r.startLineNumber-1,endLineNumber:r.endLineNumber}))}applyHiddenRanges(newHiddenAreas){this._hiddenRanges=newHiddenAreas,this._updateEventEmitter.fire(newHiddenAreas)}hasRanges(){return this._hiddenRanges.length>0}isHidden(line){return null!==findRange(this._hiddenRanges,line)}adjustSelections(selections){let hasChanges=!1,editorModel=this._foldingModel.textModel,lastRange=null,adjustLine=line=>(lastRange&&function isInside(line,range){return line>=range.startLineNumber&&line<=range.endLineNumber}(line,lastRange)||(lastRange=findRange(this._hiddenRanges,line)),lastRange?lastRange.startLineNumber-1:null);for(let i=0,len=selections.length;i<len;i++){let selection=selections[i],adjustedStartLine=adjustLine(selection.startLineNumber);adjustedStartLine&&(selection=selection.setStartPosition(adjustedStartLine,editorModel.getLineMaxColumn(adjustedStartLine)),hasChanges=!0);let adjustedEndLine=adjustLine(selection.endLineNumber);adjustedEndLine&&(selection=selection.setEndPosition(adjustedEndLine,editorModel.getLineMaxColumn(adjustedEndLine)),hasChanges=!0),selections[i]=selection}return hasChanges}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function findRange(ranges,line){let i=Object(arrays.h)(ranges,r=>line<r.startLineNumber)-1;return i>=0&&ranges[i].endLineNumber>=line?ranges[i]:null}var languageConfigurationRegistry=__webpack_require__(2334);const MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT=5e3,ID_INDENT_PROVIDER="indent";class indentRangeProvider_IndentRangeProvider{constructor(editorModel){this.editorModel=editorModel,this.id=ID_INDENT_PROVIDER}dispose(){}compute(cancelationToken){let foldingRules=languageConfigurationRegistry.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),offSide=foldingRules&&!!foldingRules.offSide,markers=foldingRules&&foldingRules.markers;return Promise.resolve(function computeRanges(model,offSide,markers,foldingRangesLimit=MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT){const tabSize=model.getOptions().tabSize;let result=new indentRangeProvider_RangesCollector(foldingRangesLimit),pattern=void 0;markers&&(pattern=new RegExp(`(${markers.start.source})|(?:${markers.end.source})`));let previousRegions=[],line=model.getLineCount()+1;previousRegions.push({indent:-1,endAbove:line,line:line});for(let line=model.getLineCount();line>0;line--){let m,lineContent=model.getLineContent(line),indent=model_textModel.b.computeIndentLevel(lineContent,tabSize),previous=previousRegions[previousRegions.length-1];if(-1!==indent){if(pattern&&(m=lineContent.match(pattern))){if(!m[1]){previousRegions.push({indent:-2,endAbove:line,line:line});continue}{let i=previousRegions.length-1;for(;i>0&&-2!==previousRegions[i].indent;)i--;if(i>0){previousRegions.length=i+1,previous=previousRegions[i],result.insertFirst(line,previous.line,indent),previous.line=line,previous.indent=indent,previous.endAbove=line;continue}}}if(previous.indent>indent){do{previousRegions.pop(),previous=previousRegions[previousRegions.length-1]}while(previous.indent>indent);let endLineNumber=previous.endAbove-1;endLineNumber-line>=1&&result.insertFirst(line,endLineNumber,indent)}previous.indent===indent?previous.endAbove=line:previousRegions.push({indent:indent,endAbove:line,line:line})}else offSide&&(previous.endAbove=line)}return result.toIndentRanges(model)}(this.editorModel,offSide,markers))}}class indentRangeProvider_RangesCollector{constructor(foldingRangesLimit){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=foldingRangesLimit}insertFirst(startLineNumber,endLineNumber,indent){if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER)return;let index=this._length;this._startIndexes[index]=startLineNumber,this._endIndexes[index]=endLineNumber,this._length++,indent<1e3&&(this._indentOccurrences[indent]=(this._indentOccurrences[indent]||0)+1)}toIndentRanges(model){if(this._length<=this._foldingRangesLimit){let startIndexes=new Uint32Array(this._length),endIndexes=new Uint32Array(this._length);for(let i=this._length-1,k=0;i>=0;i--,k++)startIndexes[k]=this._startIndexes[i],endIndexes[k]=this._endIndexes[i];return new FoldingRegions(startIndexes,endIndexes)}{let entries=0,maxIndent=this._indentOccurrences.length;for(let i=0;i<this._indentOccurrences.length;i++){let n=this._indentOccurrences[i];if(n){if(n+entries>this._foldingRangesLimit){maxIndent=i;break}entries+=n}}const tabSize=model.getOptions().tabSize;let startIndexes=new Uint32Array(this._foldingRangesLimit),endIndexes=new Uint32Array(this._foldingRangesLimit);for(let i=this._length-1,k=0;i>=0;i--){let startIndex=this._startIndexes[i],lineContent=model.getLineContent(startIndex),indent=model_textModel.b.computeIndentLevel(lineContent,tabSize);(indent<maxIndent||indent===maxIndent&&entries++<this._foldingRangesLimit)&&(startIndexes[k]=startIndex,endIndexes[k]=this._endIndexes[i],k++)}return new FoldingRegions(startIndexes,endIndexes)}}}var modes=__webpack_require__(2308),errors=__webpack_require__(2302);const syntaxRangeProvider_MAX_FOLDING_REGIONS=5e3,foldingContext={},ID_SYNTAX_PROVIDER="syntax";class SyntaxRangeProvider{constructor(editorModel,providers,limit=syntaxRangeProvider_MAX_FOLDING_REGIONS){this.editorModel=editorModel,this.providers=providers,this.limit=limit,this.id=ID_SYNTAX_PROVIDER}compute(cancellationToken){return function collectSyntaxRanges(providers,model,cancellationToken){let rangeData=null,promises=providers.map((provider,i)=>Promise.resolve(provider.provideFoldingRanges(model,foldingContext,cancellationToken)).then(ranges=>{if(!cancellationToken.isCancellationRequested&&Array.isArray(ranges)){Array.isArray(rangeData)||(rangeData=[]);let nLines=model.getLineCount();for(let r of ranges)r.start>0&&r.end>r.start&&r.end<=nLines&&rangeData.push({start:r.start,end:r.end,rank:i,kind:r.kind})}},errors.f));return Promise.all(promises).then(_=>rangeData)}(this.providers,this.editorModel,cancellationToken).then(ranges=>{if(ranges){return sanitizeRanges(ranges,this.limit)}return null})}dispose(){}}class syntaxRangeProvider_RangesCollector{constructor(foldingRangesLimit){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=foldingRangesLimit}add(startLineNumber,endLineNumber,type,nestingLevel){if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER)return;let index=this._length;this._startIndexes[index]=startLineNumber,this._endIndexes[index]=endLineNumber,this._nestingLevels[index]=nestingLevel,this._types[index]=type,this._length++,nestingLevel<30&&(this._nestingLevelCounts[nestingLevel]=(this._nestingLevelCounts[nestingLevel]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let startIndexes=new Uint32Array(this._length),endIndexes=new Uint32Array(this._length);for(let i=0;i<this._length;i++)startIndexes[i]=this._startIndexes[i],endIndexes[i]=this._endIndexes[i];return new FoldingRegions(startIndexes,endIndexes,this._types)}{let entries=0,maxLevel=this._nestingLevelCounts.length;for(let i=0;i<this._nestingLevelCounts.length;i++){let n=this._nestingLevelCounts[i];if(n){if(n+entries>this._foldingRangesLimit){maxLevel=i;break}entries+=n}}let startIndexes=new Uint32Array(this._foldingRangesLimit),endIndexes=new Uint32Array(this._foldingRangesLimit),types=[];for(let i=0,k=0;i<this._length;i++){let level=this._nestingLevels[i];(level<maxLevel||level===maxLevel&&entries++<this._foldingRangesLimit)&&(startIndexes[k]=this._startIndexes[i],endIndexes[k]=this._endIndexes[i],types[k]=this._types[i],k++)}return new FoldingRegions(startIndexes,endIndexes,types)}}}function sanitizeRanges(rangeData,limit){let sorted=rangeData.sort((d1,d2)=>{let diff=d1.start-d2.start;return 0===diff&&(diff=d1.rank-d2.rank),diff}),collector=new syntaxRangeProvider_RangesCollector(limit),top=void 0,previous=[];for(let entry of sorted)if(top){if(entry.start>top.start)if(entry.end<=top.end)previous.push(top),top=entry,collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);else{if(entry.start>top.end){do{top=previous.pop()}while(top&&entry.start>top.end);top&&previous.push(top),top=entry}collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length)}}else top=entry,collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);return collector.toIndentRanges()}const ID_INIT_PROVIDER="init";class intializingRangeProvider_InitializingRangeProvider{constructor(editorModel,initialRanges,onTimeout,timeoutTime){if(this.editorModel=editorModel,this.id=ID_INIT_PROVIDER,initialRanges.length){let toDecorationRange=range=>({range:{startLineNumber:range.startLineNumber,startColumn:0,endLineNumber:range.endLineNumber,endColumn:editorModel.getLineLength(range.endLineNumber)},options:{stickiness:1}});this.decorationIds=editorModel.deltaDecorations([],initialRanges.map(toDecorationRange)),this.timeout=setTimeout(onTimeout,timeoutTime)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(cancelationToken){let foldingRangeData=[];if(this.decorationIds)for(let id of this.decorationIds){let range=this.editorModel.getDecorationRange(id);range&&foldingRangeData.push({start:range.startLineNumber,end:range.endLineNumber,rank:1})}return Promise.resolve(sanitizeRanges(foldingRangeData,Number.MAX_VALUE))}}var contextkey=__webpack_require__(2307),themeService=__webpack_require__(2304),colorRegistry=__webpack_require__(2310);__webpack_require__.d(__webpack_exports__,"FoldingController",function(){return folding_FoldingController}),__webpack_require__.d(__webpack_exports__,"foldBackgroundBackground",function(){return foldBackgroundBackground}),__webpack_require__.d(__webpack_exports__,"editorFoldForeground",function(){return editorFoldForeground});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const CONTEXT_FOLDING_ENABLED=new contextkey.c("foldingEnabled",!1);let folding_FoldingController=class FoldingController extends lifecycle.a{constructor(editor,contextKeyService){super(),this.contextKeyService=contextKeyService,this.localToDispose=this._register(new lifecycle.b),this.editor=editor;const options=this.editor.getOptions();this._isEnabled=options.get(31),this._useFoldingProviders="indentation"!==options.get(32),this._unfoldOnClickAfterEndOfLine=options.get(34),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new FoldingDecorationProvider(editor),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===options.get(91),this.foldingDecorationProvider.showFoldingHighlights=options.get(33),this.foldingEnabled=CONTEXT_FOLDING_ENABLED.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(e=>{if(e.hasChanged(31)&&(this._isEnabled=this.editor.getOptions().get(31),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(91)||e.hasChanged(33)){const options=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===options.get(91),this.foldingDecorationProvider.showFoldingHighlights=options.get(33),this.onModelContentChanged()}e.hasChanged(32)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(32),this.onFoldingStrategyChanged()),e.hasChanged(34)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(34))})),this.onModelChanged()}static get(editor){return editor.getContribution(FoldingController.ID)}saveViewState(){let model=this.editor.getModel();if(!model||!this._isEnabled||model.isTooLargeForTokenization())return{};if(this.foldingModel){let collapsedRegions=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),provider=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:collapsedRegions,lineCount:model.getLineCount(),provider:provider}}}restoreViewState(state){let model=this.editor.getModel();if(!model||!this._isEnabled||model.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!state||!state.collapsedRegions||state.lineCount!==model.getLineCount())return;state.provider!==ID_SYNTAX_PROVIDER&&state.provider!==ID_INIT_PROVIDER||(this.foldingStateMemento=state);const collapsedRegions=state.collapsedRegions;if(this.hiddenRangeModel.applyMemento(collapsedRegions)){const foldingModel=this.getFoldingModel();foldingModel&&foldingModel.then(foldingModel=>{foldingModel&&foldingModel.applyMemento(collapsedRegions)}).then(void 0,errors.e)}}onModelChanged(){this.localToDispose.clear();let model=this.editor.getModel();this._isEnabled&&model&&!model.isTooLargeForTokenization()&&(this.foldingModel=new foldingModel_FoldingModel(model,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new hiddenRangeModel_HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(hr=>this.onHiddenRangesChanges(hr))),this.updateScheduler=new common_async.a(200),this.cursorChangedScheduler=new common_async.d(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(modes.o.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(editorModel){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new indentRangeProvider_IndentRangeProvider(editorModel),this._useFoldingProviders&&this.foldingModel){let foldingProviders=modes.o.ordered(this.foldingModel.textModel);if(0===foldingProviders.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){return this.rangeProvider=new intializingRangeProvider_InitializingRangeProvider(editorModel,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4)}foldingProviders.length>0&&(this.rangeProvider=new SyntaxRangeProvider(editorModel,foldingProviders))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const foldingModel=this.foldingModel;if(!foldingModel)return null;let foldingRegionPromise=this.foldingRegionPromise=Object(common_async.f)(token=>this.getRangeProvider(foldingModel.textModel).compute(token));return foldingRegionPromise.then(foldingRanges=>{if(foldingRanges&&foldingRegionPromise===this.foldingRegionPromise){let selections=this.editor.getSelections(),selectionLineNumbers=selections?selections.map(s=>s.startLineNumber):[];foldingModel.update(foldingRanges,selectionLineNumbers)}return foldingModel})}).then(void 0,err=>(Object(errors.e)(err),null)))}onHiddenRangesChanges(hiddenRanges){if(this.hiddenRangeModel&&hiddenRanges.length){let selections=this.editor.getSelections();selections&&this.hiddenRangeModel.adjustSelections(selections)&&this.editor.setSelections(selections)}this.editor.setHiddenAreas(hiddenRanges)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const foldingModel=this.getFoldingModel();foldingModel&&foldingModel.then(foldingModel=>{if(foldingModel){let selections=this.editor.getSelections();if(selections&&selections.length>0){let toToggle=[];for(let selection of selections){let lineNumber=selection.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(lineNumber)&&toToggle.push(...foldingModel.getAllRegionsAtLine(lineNumber,r=>r.isCollapsed&&lineNumber>r.startLineNumber))}toToggle.length&&(foldingModel.toggleCollapseState(toToggle),this.reveal(selections[0].getPosition()))}}}).then(void 0,errors.e)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const range=e.target.range;let iconClicked=!1;switch(e.target.type){case 4:const data=e.target.detail,offsetLeftInGutter=e.target.element.offsetLeft;if(data.offsetX-offsetLeftInGutter<5)return;iconClicked=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!e.target.detail.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){let model=this.editor.getModel();if(model&&range.startColumn===model.getLineMaxColumn(range.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:range.startLineNumber,iconClicked:iconClicked}}onEditorMouseUp(e){const foldingModel=this.getFoldingModel();if(!foldingModel||!this.mouseDownInfo||!e.target)return;let lineNumber=this.mouseDownInfo.lineNumber,iconClicked=this.mouseDownInfo.iconClicked,range=e.target.range;if(range&&range.startLineNumber===lineNumber){if(iconClicked){if(4!==e.target.type)return}else{let model=this.editor.getModel();if(!model||range.startColumn!==model.getLineMaxColumn(lineNumber))return}foldingModel.then(foldingModel=>{if(foldingModel){let region=foldingModel.getRegionAtLine(lineNumber);if(region&&region.startLineNumber===lineNumber){let isCollapsed=region.isCollapsed;if(iconClicked||isCollapsed){let toToggle=[],recursive=e.event.middleButton||e.event.shiftKey;if(recursive)for(const r of foldingModel.getRegionsInside(region))r.isCollapsed===isCollapsed&&toToggle.push(r);!isCollapsed&&recursive&&0!==toToggle.length||toToggle.push(region),foldingModel.toggleCollapseState(toToggle),this.reveal({lineNumber:lineNumber,column:1})}}}}).then(void 0,errors.e)}}reveal(position){this.editor.revealPositionInCenterIfOutsideViewport(position,0)}};folding_FoldingController.ID="editor.contrib.folding",folding_FoldingController=__decorate([__param(1,contextkey.b)],folding_FoldingController);class folding_FoldingAction extends editorExtensions.b{runEditorCommand(accessor,editor,args){let foldingController=folding_FoldingController.get(editor);if(!foldingController)return;let foldingModelPromise=foldingController.getFoldingModel();return foldingModelPromise?(this.reportTelemetry(accessor,editor),foldingModelPromise.then(foldingModel=>{if(foldingModel){this.invoke(foldingController,foldingModel,editor,args);const selection=editor.getSelection();selection&&foldingController.reveal(selection.getStartPosition())}})):void 0}getSelectedLines(editor){let selections=editor.getSelections();return selections?selections.map(s=>s.startLineNumber):[]}getLineNumbers(args,editor){return args&&args.selectionLines?args.selectionLines.map(l=>l+1):this.getSelectedLines(editor)}run(_accessor,_editor){}}function foldingArgumentsConstraint(args){if(!common_types.k(args)){if(!common_types.i(args))return!1;const foldingArgs=args;if(!common_types.k(foldingArgs.levels)&&!common_types.h(foldingArgs.levels))return!1;if(!common_types.k(foldingArgs.direction)&&!common_types.j(foldingArgs.direction))return!1;if(!(common_types.k(foldingArgs.selectionLines)||common_types.e(foldingArgs.selectionLines)&&foldingArgs.selectionLines.every(common_types.h)))return!1}return!0}class folding_FoldLevelAction extends folding_FoldingAction{getFoldingLevel(){return parseInt(this.id.substr(folding_FoldLevelAction.ID_PREFIX.length))}invoke(_foldingController,foldingModel,editor){!function setCollapseStateAtLevel(foldingModel,foldLevel,doCollapse,blockedLineNumbers){let toToggle=foldingModel.getRegionsInside(null,(region,level)=>level===foldLevel&&region.isCollapsed!==doCollapse&&!blockedLineNumbers.some(line=>region.containsLine(line)));foldingModel.toggleCollapseState(toToggle)}(foldingModel,this.getFoldingLevel(),!0,this.getSelectedLines(editor))}}folding_FoldLevelAction.ID_PREFIX="editor.foldLevel",folding_FoldLevelAction.ID=level=>folding_FoldLevelAction.ID_PREFIX+level,Object(editorExtensions.m)(folding_FoldingController.ID,folding_FoldingController),Object(editorExtensions.k)(class folding_UnfoldAction extends folding_FoldingAction{constructor(){super({id:"editor.unfold",label:nls.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:foldingArgumentsConstraint,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(_foldingController,foldingModel,editor,args){let levels=args&&args.levels||1,lineNumbers=this.getLineNumbers(args,editor);args&&"up"===args.direction?setCollapseStateLevelsUp(foldingModel,!1,levels,lineNumbers):setCollapseStateLevelsDown(foldingModel,!1,levels,lineNumbers)}}),Object(editorExtensions.k)(class folding_UnFoldRecursivelyAction extends folding_FoldingAction{constructor(){super({id:"editor.unfoldRecursively",label:nls.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2137),weight:100}})}invoke(_foldingController,foldingModel,editor,_args){setCollapseStateLevelsDown(foldingModel,!1,Number.MAX_VALUE,this.getSelectedLines(editor))}}),Object(editorExtensions.k)(class folding_FoldAction extends folding_FoldingAction{constructor(){super({id:"editor.fold",label:nls.a("foldAction.label","Fold"),alias:"Fold",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:foldingArgumentsConstraint,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(_foldingController,foldingModel,editor,args){let lineNumbers=this.getLineNumbers(args,editor);const levels=args&&args.levels,direction=args&&args.direction;"number"!=typeof levels&&"string"!=typeof direction?function setCollapseStateUp(foldingModel,doCollapse,lineNumbers){let toToggle=[];for(let lineNumber of lineNumbers){let regions=foldingModel.getAllRegionsAtLine(lineNumber,region=>region.isCollapsed!==doCollapse);regions.length>0&&toToggle.push(regions[0])}foldingModel.toggleCollapseState(toToggle)}(foldingModel,!0,lineNumbers):"up"===direction?setCollapseStateLevelsUp(foldingModel,!0,levels||1,lineNumbers):setCollapseStateLevelsDown(foldingModel,!0,levels||1,lineNumbers)}}),Object(editorExtensions.k)(class folding_FoldRecursivelyAction extends folding_FoldingAction{constructor(){super({id:"editor.foldRecursively",label:nls.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2135),weight:100}})}invoke(_foldingController,foldingModel,editor){let selectedLines=this.getSelectedLines(editor);setCollapseStateLevelsDown(foldingModel,!0,Number.MAX_VALUE,selectedLines)}}),Object(editorExtensions.k)(class folding_FoldAllAction extends folding_FoldingAction{constructor(){super({id:"editor.foldAll",label:nls.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2069),weight:100}})}invoke(_foldingController,foldingModel,_editor){setCollapseStateLevelsDown(foldingModel,!0)}}),Object(editorExtensions.k)(class folding_UnfoldAllAction extends folding_FoldingAction{constructor(){super({id:"editor.unfoldAll",label:nls.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2088),weight:100}})}invoke(_foldingController,foldingModel,_editor){setCollapseStateLevelsDown(foldingModel,!1)}}),Object(editorExtensions.k)(class folding_FoldAllBlockCommentsAction extends folding_FoldingAction{constructor(){super({id:"editor.foldAllBlockComments",label:nls.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2133),weight:100}})}invoke(_foldingController,foldingModel,editor){if(foldingModel.regions.hasTypes())setCollapseStateForType(foldingModel,modes.n.Comment.value,!0);else{const editorModel=editor.getModel();if(!editorModel)return;let comments=languageConfigurationRegistry.a.getComments(editorModel.getLanguageIdentifier().id);comments&&comments.blockCommentStartToken&&setCollapseStateForMatchingLines(foldingModel,new RegExp("^\\s*"+Object(strings.v)(comments.blockCommentStartToken)),!0)}}}),Object(editorExtensions.k)(class folding_FoldAllRegionsAction extends folding_FoldingAction{constructor(){super({id:"editor.foldAllMarkerRegions",label:nls.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2077),weight:100}})}invoke(_foldingController,foldingModel,editor){if(foldingModel.regions.hasTypes())setCollapseStateForType(foldingModel,modes.n.Region.value,!0);else{const editorModel=editor.getModel();if(!editorModel)return;let foldingRules=languageConfigurationRegistry.a.getFoldingRules(editorModel.getLanguageIdentifier().id);foldingRules&&foldingRules.markers&&foldingRules.markers.start&&setCollapseStateForMatchingLines(foldingModel,new RegExp(foldingRules.markers.start),!0)}}}),Object(editorExtensions.k)(class folding_UnfoldAllRegionsAction extends folding_FoldingAction{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:nls.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2078),weight:100}})}invoke(_foldingController,foldingModel,editor){if(foldingModel.regions.hasTypes())setCollapseStateForType(foldingModel,modes.n.Region.value,!1);else{const editorModel=editor.getModel();if(!editorModel)return;let foldingRules=languageConfigurationRegistry.a.getFoldingRules(editorModel.getLanguageIdentifier().id);foldingRules&&foldingRules.markers&&foldingRules.markers.start&&setCollapseStateForMatchingLines(foldingModel,new RegExp(foldingRules.markers.start),!1)}}}),Object(editorExtensions.k)(class folding_ToggleFoldAction extends folding_FoldingAction{constructor(){super({id:"editor.toggleFold",label:nls.a("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2090),weight:100}})}invoke(_foldingController,foldingModel,editor){!function toggleCollapseState(foldingModel,levels,lineNumbers){let toToggle=[];for(let lineNumber of lineNumbers){let region=foldingModel.getRegionAtLine(lineNumber);if(region){const doCollapse=!region.isCollapsed;if(toToggle.push(region),levels>1){let regionsInside=foldingModel.getRegionsInside(region,(r,level)=>r.isCollapsed!==doCollapse&&level<levels);toToggle.push(...regionsInside)}}}foldingModel.toggleCollapseState(toToggle)}(foldingModel,1,this.getSelectedLines(editor))}});for(let i=1;i<=7;i++)Object(editorExtensions.n)(new folding_FoldLevelAction({id:folding_FoldLevelAction.ID(i),label:nls.a("foldLevelAction.label","Fold Level {0}",i),alias:`Fold Level ${i}`,precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2048|21+i),weight:100}}));const foldBackgroundBackground=Object(colorRegistry.gc)("editor.foldBackground",{light:Object(colorRegistry.sc)(colorRegistry.O,.3),dark:Object(colorRegistry.sc)(colorRegistry.O,.3),hc:null},nls.a("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),editorFoldForeground=Object(colorRegistry.gc)("editorGutter.foldingControlForeground",{dark:colorRegistry.bb,light:colorRegistry.bb,hc:colorRegistry.bb},nls.a("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Object(themeService.g)((theme,collector)=>{const foldBackground=theme.getColor(foldBackgroundBackground);foldBackground&&collector.addRule(`.monaco-editor .folded-background { background-color: ${foldBackground}; }`);const editorFoldColor=theme.getColor(editorFoldForeground);editorFoldColor&&collector.addRule(`\n\t\t.monaco-editor .cldr${foldingExpandedIcon.cssSelector},\n\t\t.monaco-editor .cldr${foldingCollapsedIcon.cssSelector} {\n\t\t\tcolor: ${editorFoldColor} !important;\n\t\t}\n\t\t`)})},2694:function(module,__webpack_exports__,__webpack_require__){"use strict";var editor_api=__webpack_require__(2346),prop_types=__webpack_require__(3),react=__webpack_require__(0);function processSize(size){return/^\d+$/.test(size)?size+"px":size}function noop(){}var extendStatics,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},lib_editor=function(_super){function MonacoEditor(props){var _this=_super.call(this,props)||this;return _this.assignRef=function(component){_this.containerElement=component},_this.containerElement=void 0,_this}return __extends(MonacoEditor,_super),MonacoEditor.prototype.componentDidMount=function(){this.initMonaco()},MonacoEditor.prototype.componentDidUpdate=function(prevProps){var _a=this.props,value=_a.value,language=_a.language,theme=_a.theme,height=_a.height,options=_a.options,width=_a.width,editor=this.editor,model=editor.getModel();if(null!=this.props.value&&this.props.value!==model.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.pushUndoStop(),model.pushEditOperations([],[{range:model.getFullModelRange(),text:value}]),this.editor.pushUndoStop(),this.__prevent_trigger_change_event=!1),prevProps.language!==language&&editor_api.editor.setModelLanguage(model,language),prevProps.theme!==theme&&editor_api.editor.setTheme(theme),!editor||width===prevProps.width&&height===prevProps.height||editor.layout(),prevProps.options!==options){options.model;var optionsWithoutModel=__rest(options,["model"]);editor.updateOptions(optionsWithoutModel)}},MonacoEditor.prototype.componentWillUnmount=function(){this.destroyMonaco()},MonacoEditor.prototype.destroyMonaco=function(){if(this.editor){this.editor.dispose();var model=this.editor.getModel();model&&model.dispose()}this._subscription&&this._subscription.dispose()},MonacoEditor.prototype.initMonaco=function(){var value=null!=this.props.value?this.props.value:this.props.defaultValue,_a=this.props,language=_a.language,theme=_a.theme,overrideServices=_a.overrideServices;if(this.containerElement){var options=__assign(__assign({},this.props.options),this.editorWillMount());this.editor=editor_api.editor.create(this.containerElement,__assign(__assign({value:value,language:language},options),theme?{theme:theme}:{}),overrideServices),this.editorDidMount(this.editor)}},MonacoEditor.prototype.editorWillMount=function(){return(0,this.props.editorWillMount)(editor_api)||{}},MonacoEditor.prototype.editorDidMount=function(editor){var _this=this;this.props.editorDidMount(editor,editor_api),this._subscription=editor.onDidChangeModelContent(function(event){_this.__prevent_trigger_change_event||_this.props.onChange(editor.getValue(),event)})},MonacoEditor.prototype.render=function(){var _a=this.props,width=_a.width,height=_a.height,style={width:processSize(width),height:processSize(height)};return react.createElement("div",{ref:this.assignRef,style:style,className:"react-monaco-editor-container"})},MonacoEditor.propTypes={width:prop_types.oneOfType([prop_types.string,prop_types.number]),height:prop_types.oneOfType([prop_types.string,prop_types.number]),value:prop_types.string,defaultValue:prop_types.string,language:prop_types.string,theme:prop_types.string,options:prop_types.object,overrideServices:prop_types.object,editorDidMount:prop_types.func,editorWillMount:prop_types.func,onChange:prop_types.func},MonacoEditor.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:noop,editorWillMount:noop,onChange:noop},MonacoEditor}(react.Component),diff_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),diff_assign=function(){return(diff_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};!function(_super){function MonacoDiffEditor(props){var _this=_super.call(this,props)||this;return _this.assignRef=function(component){_this.containerElement=component},_this.containerElement=void 0,_this}diff_extends(MonacoDiffEditor,_super),MonacoDiffEditor.prototype.componentDidMount=function(){this.initMonaco()},MonacoDiffEditor.prototype.componentDidUpdate=function(prevProps){var _a=this.props,language=_a.language,theme=_a.theme,height=_a.height,options=_a.options,width=_a.width,_b=this.editor.getModel(),original=_b.original,modified=_b.modified;this.props.original!==original.getValue()&&original.setValue(this.props.original),null!=this.props.value&&this.props.value!==modified.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.modifiedEditor.pushUndoStop(),modified.pushEditOperations([],[{range:modified.getFullModelRange(),text:this.props.value}]),this.editor.modifiedEditor.pushUndoStop(),this.__prevent_trigger_change_event=!1),prevProps.language!==language&&(editor_api.editor.setModelLanguage(original,language),editor_api.editor.setModelLanguage(modified,language)),prevProps.theme!==theme&&editor_api.editor.setTheme(theme),!this.editor||width===prevProps.width&&height===prevProps.height||this.editor.layout(),prevProps.options!==options&&this.editor.updateOptions(options)},MonacoDiffEditor.prototype.componentWillUnmount=function(){this.destroyMonaco()},MonacoDiffEditor.prototype.editorWillMount=function(){return(0,this.props.editorWillMount)(editor_api)||{}},MonacoDiffEditor.prototype.editorDidMount=function(editor){var _this=this;this.props.editorDidMount(editor,editor_api);var modified=editor.getModel().modified;this._subscription=modified.onDidChangeContent(function(event){_this.__prevent_trigger_change_event||_this.props.onChange(modified.getValue(),event)})},MonacoDiffEditor.prototype.initModels=function(value,original){var language=this.props.language,originalModel=editor_api.editor.createModel(original,language),modifiedModel=editor_api.editor.createModel(value,language);this.editor.setModel({original:originalModel,modified:modifiedModel})},MonacoDiffEditor.prototype.initMonaco=function(){var value=null!=this.props.value?this.props.value:this.props.defaultValue,_a=this.props,original=_a.original,theme=_a.theme,options=_a.options,overrideServices=_a.overrideServices;this.containerElement&&(this.editorWillMount(),this.editor=editor_api.editor.createDiffEditor(this.containerElement,diff_assign(diff_assign({},options),theme?{theme:theme}:{}),overrideServices),this.initModels(value,original),this.editorDidMount(this.editor))},MonacoDiffEditor.prototype.destroyMonaco=function(){if(this.editor){this.editor.dispose();var _a=this.editor.getModel(),original=_a.original,modified=_a.modified;original&&original.dispose(),modified&&modified.dispose()}this._subscription&&this._subscription.dispose()},MonacoDiffEditor.prototype.render=function(){var _a=this.props,width=_a.width,height=_a.height,style={width:processSize(width),height:processSize(height)};return react.createElement("div",{ref:this.assignRef,style:style,className:"react-monaco-editor-container"})},MonacoDiffEditor.propTypes={width:prop_types.oneOfType([prop_types.string,prop_types.number]),height:prop_types.oneOfType([prop_types.string,prop_types.number]),original:prop_types.string,value:prop_types.string,defaultValue:prop_types.string,language:prop_types.string,theme:prop_types.string,options:prop_types.object,overrideServices:prop_types.object,editorDidMount:prop_types.func,editorWillMount:prop_types.func,onChange:prop_types.func},MonacoDiffEditor.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:noop,editorWillMount:noop,onChange:noop}}(react.Component);__webpack_require__.d(__webpack_exports__,"a",function(){return lib_editor})},2695:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),keyCodes=__webpack_require__(2329),coreCommands=__webpack_require__(2455),editorExtensions=__webpack_require__(2301),replaceCommand=__webpack_require__(2381),strings=__webpack_require__(2299),editOperation=__webpack_require__(2350),core_range=__webpack_require__(2295);class TrimTrailingWhitespaceCommand{constructor(selection,cursors){this._selection=selection,this._cursors=cursors,this._selectionId=null}getEditOperations(model,builder){let ops=function trimTrailingWhitespace(model,cursors){cursors.sort((a,b)=>a.lineNumber===b.lineNumber?a.column-b.column:a.lineNumber-b.lineNumber);for(let i=cursors.length-2;i>=0;i--)cursors[i].lineNumber===cursors[i+1].lineNumber&&cursors.splice(i,1);let r=[],rLen=0,cursorIndex=0,cursorLen=cursors.length;for(let lineNumber=1,lineCount=model.getLineCount();lineNumber<=lineCount;lineNumber++){let lineContent=model.getLineContent(lineNumber),maxLineColumn=lineContent.length+1,minEditColumn=0;if(cursorIndex<cursorLen&&cursors[cursorIndex].lineNumber===lineNumber&&(minEditColumn=cursors[cursorIndex].column,cursorIndex++,minEditColumn===maxLineColumn))continue;if(0===lineContent.length)continue;let lastNonWhitespaceIndex=strings.J(lineContent),fromColumn=0;if(-1===lastNonWhitespaceIndex)fromColumn=1;else{if(lastNonWhitespaceIndex===lineContent.length-1)continue;fromColumn=lastNonWhitespaceIndex+2}fromColumn=Math.max(minEditColumn,fromColumn),r[rLen++]=editOperation.a.delete(new core_range.a(lineNumber,fromColumn,lineNumber,maxLineColumn))}return r}(model,this._cursors);for(let i=0,len=ops.length;i<len;i++){let op=ops[i];builder.addEditOperation(op.range,op.text)}this._selectionId=builder.trackSelection(this._selection)}computeCursorState(model,helper){return helper.getTrackedSelection(this._selectionId)}}var cursorTypeOperations=__webpack_require__(2456),position=__webpack_require__(2303),core_selection=__webpack_require__(2311),editorContextKeys=__webpack_require__(2312);class copyLinesCommand_CopyLinesCommand{constructor(selection,isCopyingDown){this._selection=selection,this._isCopyingDown=isCopyingDown,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(model,builder){let s=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(this._endLineNumberDelta=1,s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1)));let sourceLines=[];for(let i=s.startLineNumber;i<=s.endLineNumber;i++)sourceLines.push(model.getLineContent(i));const sourceText=sourceLines.join("\n");""===sourceText&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?builder.addEditOperation(new core_range.a(s.startLineNumber,1,s.startLineNumber,1),sourceText+"\n"):builder.addEditOperation(new core_range.a(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),"\n"+sourceText),this._selectionId=builder.trackSelection(s),this._selectionDirection=this._selection.getDirection()}computeCursorState(model,helper){let result=helper.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let startLineNumber=result.startLineNumber,startColumn=result.startColumn,endLineNumber=result.endLineNumber,endColumn=result.endColumn;0!==this._startLineNumberDelta&&(startLineNumber+=this._startLineNumberDelta,startColumn=1),0!==this._endLineNumberDelta&&(endLineNumber+=this._endLineNumberDelta,endColumn=1),result=core_selection.a.createWithDirection(startLineNumber,startColumn,endLineNumber,endColumn,this._selectionDirection)}return result}}var shiftCommand=__webpack_require__(2437),languageConfiguration=__webpack_require__(2388),languageConfigurationRegistry=__webpack_require__(2334),indentUtils=__webpack_require__(2490);class moveLinesCommand_MoveLinesCommand{constructor(selection,isMovingDown,autoIndent){this._selection=selection,this._isMovingDown=isMovingDown,this._autoIndent=autoIndent,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(model,builder){let modelLineCount=model.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===modelLineCount)return void(this._selectionId=builder.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=builder.trackSelection(this._selection));this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces}=model.getOptions();let indentConverter=this.buildIndentConverter(tabSize,indentSize,insertSpaces),virtualModel={getLineTokens:lineNumber=>model.getLineTokens(lineNumber),getLanguageIdentifier:()=>model.getLanguageIdentifier(),getLanguageIdAtPosition:(lineNumber,column)=>model.getLanguageIdAtPosition(lineNumber,column),getLineContent:null};if(s.startLineNumber===s.endLineNumber&&1===model.getLineMaxColumn(s.startLineNumber)){let lineNumber=s.startLineNumber,otherLineNumber=this._isMovingDown?lineNumber+1:lineNumber-1;1===model.getLineMaxColumn(otherLineNumber)?builder.addEditOperation(new core_range.a(1,1,1,1),null):(builder.addEditOperation(new core_range.a(lineNumber,1,lineNumber,1),model.getLineContent(otherLineNumber)),builder.addEditOperation(new core_range.a(otherLineNumber,1,otherLineNumber,model.getLineMaxColumn(otherLineNumber)),null)),s=new core_selection.a(otherLineNumber,1,otherLineNumber,1)}else{let movingLineNumber,movingLineText;if(this._isMovingDown){movingLineNumber=s.endLineNumber+1,movingLineText=model.getLineContent(movingLineNumber),builder.addEditOperation(new core_range.a(movingLineNumber-1,model.getLineMaxColumn(movingLineNumber-1),movingLineNumber,model.getLineMaxColumn(movingLineNumber)),null);let insertingText=movingLineText;if(this.shouldAutoIndent(model,s)){let movingLineMatchResult=this.matchEnterRule(model,indentConverter,tabSize,movingLineNumber,s.startLineNumber-1);if(null!==movingLineMatchResult){let oldIndentation=strings.z(model.getLineContent(movingLineNumber)),newSpaceCnt=movingLineMatchResult+indentUtils.b(oldIndentation,tabSize),newIndentation=indentUtils.a(newSpaceCnt,tabSize,insertSpaces);insertingText=newIndentation+this.trimLeft(movingLineText)}else{virtualModel.getLineContent=lineNumber=>lineNumber===s.startLineNumber?model.getLineContent(movingLineNumber):model.getLineContent(lineNumber);let indentOfMovingLine=languageConfigurationRegistry.a.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(movingLineNumber,1),s.startLineNumber,indentConverter);if(null!==indentOfMovingLine){let oldIndentation=strings.z(model.getLineContent(movingLineNumber)),newSpaceCnt=indentUtils.b(indentOfMovingLine,tabSize);if(newSpaceCnt!==indentUtils.b(oldIndentation,tabSize)){let newIndentation=indentUtils.a(newSpaceCnt,tabSize,insertSpaces);insertingText=newIndentation+this.trimLeft(movingLineText)}}}builder.addEditOperation(new core_range.a(s.startLineNumber,1,s.startLineNumber,1),insertingText+"\n");let ret=this.matchEnterRule(model,indentConverter,tabSize,s.startLineNumber,s.startLineNumber,insertingText);if(null!==ret)0!==ret&&this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,ret);else{virtualModel.getLineContent=lineNumber=>lineNumber===s.startLineNumber?insertingText:lineNumber>=s.startLineNumber+1&&lineNumber<=s.endLineNumber+1?model.getLineContent(lineNumber-1):model.getLineContent(lineNumber);let newIndentatOfMovingBlock=languageConfigurationRegistry.a.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(movingLineNumber,1),s.startLineNumber+1,indentConverter);if(null!==newIndentatOfMovingBlock){const oldIndentation=strings.z(model.getLineContent(s.startLineNumber)),newSpaceCnt=indentUtils.b(newIndentatOfMovingBlock,tabSize),oldSpaceCnt=indentUtils.b(oldIndentation,tabSize);if(newSpaceCnt!==oldSpaceCnt){const spaceCntOffset=newSpaceCnt-oldSpaceCnt;this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,spaceCntOffset)}}}}else builder.addEditOperation(new core_range.a(s.startLineNumber,1,s.startLineNumber,1),insertingText+"\n")}else if(movingLineNumber=s.startLineNumber-1,movingLineText=model.getLineContent(movingLineNumber),builder.addEditOperation(new core_range.a(movingLineNumber,1,movingLineNumber+1,1),null),builder.addEditOperation(new core_range.a(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),"\n"+movingLineText),this.shouldAutoIndent(model,s)){virtualModel.getLineContent=lineNumber=>lineNumber===movingLineNumber?model.getLineContent(s.startLineNumber):model.getLineContent(lineNumber);let ret=this.matchEnterRule(model,indentConverter,tabSize,s.startLineNumber,s.startLineNumber-2);if(null!==ret)0!==ret&&this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,ret);else{let indentOfFirstLine=languageConfigurationRegistry.a.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(s.startLineNumber,1),movingLineNumber,indentConverter);if(null!==indentOfFirstLine){let oldIndent=strings.z(model.getLineContent(s.startLineNumber)),newSpaceCnt=indentUtils.b(indentOfFirstLine,tabSize),oldSpaceCnt=indentUtils.b(oldIndent,tabSize);if(newSpaceCnt!==oldSpaceCnt){let spaceCntOffset=newSpaceCnt-oldSpaceCnt;this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,spaceCntOffset)}}}}}this._selectionId=builder.trackSelection(s)}buildIndentConverter(tabSize,indentSize,insertSpaces){return{shiftIndent:indentation=>shiftCommand.a.shiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces),unshiftIndent:indentation=>shiftCommand.a.unshiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces)}}matchEnterRule(model,indentConverter,tabSize,line,oneLineAbove,oneLineAboveText){let validPrecedingLine=oneLineAbove;for(;validPrecedingLine>=1;){let lineContent;if(lineContent=validPrecedingLine===oneLineAbove&&void 0!==oneLineAboveText?oneLineAboveText:model.getLineContent(validPrecedingLine),strings.J(lineContent)>=0)break;validPrecedingLine--}if(validPrecedingLine<1||line>model.getLineCount())return null;let maxColumn=model.getLineMaxColumn(validPrecedingLine),enter=languageConfigurationRegistry.a.getEnterAction(this._autoIndent,model,new core_range.a(validPrecedingLine,maxColumn,validPrecedingLine,maxColumn));if(enter){let enterPrefix=enter.indentation;enter.indentAction===languageConfiguration.a.None?enterPrefix=enter.indentation+enter.appendText:enter.indentAction===languageConfiguration.a.Indent?enterPrefix=enter.indentation+enter.appendText:enter.indentAction===languageConfiguration.a.IndentOutdent?enterPrefix=enter.indentation:enter.indentAction===languageConfiguration.a.Outdent&&(enterPrefix=indentConverter.unshiftIndent(enter.indentation)+enter.appendText);let movingLineText=model.getLineContent(line);if(this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix))>=0){let oldIndentation=strings.z(model.getLineContent(line)),newIndentation=strings.z(enterPrefix),indentMetadataOfMovelingLine=languageConfigurationRegistry.a.getIndentMetadata(model,line);return null!==indentMetadataOfMovelingLine&&2&indentMetadataOfMovelingLine&&(newIndentation=indentConverter.unshiftIndent(newIndentation)),indentUtils.b(newIndentation,tabSize)-indentUtils.b(oldIndentation,tabSize)}}return null}trimLeft(str){return str.replace(/^\s+/,"")}shouldAutoIndent(model,selection){if(this._autoIndent<4)return!1;if(!model.isCheapToTokenize(selection.startLineNumber))return!1;let languageAtSelectionStart=model.getLanguageIdAtPosition(selection.startLineNumber,1);return languageAtSelectionStart===model.getLanguageIdAtPosition(selection.endLineNumber,1)&&null!==languageConfigurationRegistry.a.getIndentRulesSupport(languageAtSelectionStart)}getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,offset){for(let i=s.startLineNumber;i<=s.endLineNumber;i++){let lineContent=model.getLineContent(i),originalIndent=strings.z(lineContent),newSpacesCnt=indentUtils.b(originalIndent,tabSize)+offset,newIndent=indentUtils.a(newSpacesCnt,tabSize,insertSpaces);newIndent!==originalIndent&&(builder.addEditOperation(new core_range.a(i,1,i,originalIndent.length+1),newIndent),i===s.endLineNumber&&s.endColumn<=originalIndent.length+1&&""===newIndent&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(model,helper){let result=helper.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(result=result.setEndPosition(result.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&result.startLineNumber<result.endLineNumber&&(result=result.setEndPosition(result.endLineNumber,2)),result}}class SortLinesCommand{constructor(selection,descending){this.selection=selection,this.descending=descending,this.selectionId=null}static getCollator(){return SortLinesCommand._COLLATOR||(SortLinesCommand._COLLATOR=new Intl.Collator),SortLinesCommand._COLLATOR}getEditOperations(model,builder){let op=function sortLines(model,selection,descending){let data=getSortData(model,selection,descending);if(!data)return null;return editOperation.a.replace(new core_range.a(data.startLineNumber,1,data.endLineNumber,model.getLineMaxColumn(data.endLineNumber)),data.after.join("\n"))}(model,this.selection,this.descending);op&&builder.addEditOperation(op.range,op.text),this.selectionId=builder.trackSelection(this.selection)}computeCursorState(model,helper){return helper.getTrackedSelection(this.selectionId)}static canRun(model,selection,descending){if(null===model)return!1;let data=getSortData(model,selection,descending);if(!data)return!1;for(let i=0,len=data.before.length;i<len;i++)if(data.before[i]!==data.after[i])return!0;return!1}}function getSortData(model,selection,descending){let startLineNumber=selection.startLineNumber,endLineNumber=selection.endLineNumber;if(1===selection.endColumn&&endLineNumber--,startLineNumber>=endLineNumber)return null;let linesToSort=[];for(let lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++)linesToSort.push(model.getLineContent(lineNumber));let sorted=linesToSort.slice(0);return sorted.sort(SortLinesCommand.getCollator().compare),!0===descending&&(sorted=sorted.reverse()),{startLineNumber:startLineNumber,endLineNumber:endLineNumber,before:linesToSort,after:sorted}}SortLinesCommand._COLLATOR=null;var actions=__webpack_require__(2323);__webpack_require__.d(__webpack_exports__,"DuplicateSelectionAction",function(){return linesOperations_DuplicateSelectionAction}),__webpack_require__.d(__webpack_exports__,"AbstractSortLinesAction",function(){return linesOperations_AbstractSortLinesAction}),__webpack_require__.d(__webpack_exports__,"SortLinesAscendingAction",function(){return linesOperations_SortLinesAscendingAction}),__webpack_require__.d(__webpack_exports__,"SortLinesDescendingAction",function(){return linesOperations_SortLinesDescendingAction}),__webpack_require__.d(__webpack_exports__,"TrimTrailingWhitespaceAction",function(){return linesOperations_TrimTrailingWhitespaceAction}),__webpack_require__.d(__webpack_exports__,"DeleteLinesAction",function(){return linesOperations_DeleteLinesAction}),__webpack_require__.d(__webpack_exports__,"IndentLinesAction",function(){return linesOperations_IndentLinesAction}),__webpack_require__.d(__webpack_exports__,"InsertLineBeforeAction",function(){return linesOperations_InsertLineBeforeAction}),__webpack_require__.d(__webpack_exports__,"InsertLineAfterAction",function(){return linesOperations_InsertLineAfterAction}),__webpack_require__.d(__webpack_exports__,"AbstractDeleteAllToBoundaryAction",function(){return linesOperations_AbstractDeleteAllToBoundaryAction}),__webpack_require__.d(__webpack_exports__,"DeleteAllLeftAction",function(){return linesOperations_DeleteAllLeftAction}),__webpack_require__.d(__webpack_exports__,"DeleteAllRightAction",function(){return linesOperations_DeleteAllRightAction}),__webpack_require__.d(__webpack_exports__,"JoinLinesAction",function(){return linesOperations_JoinLinesAction}),__webpack_require__.d(__webpack_exports__,"TransposeAction",function(){return linesOperations_TransposeAction}),__webpack_require__.d(__webpack_exports__,"AbstractCaseAction",function(){return linesOperations_AbstractCaseAction}),__webpack_require__.d(__webpack_exports__,"UpperCaseAction",function(){return linesOperations_UpperCaseAction}),__webpack_require__.d(__webpack_exports__,"LowerCaseAction",function(){return linesOperations_LowerCaseAction}),__webpack_require__.d(__webpack_exports__,"TitleCaseAction",function(){return linesOperations_TitleCaseAction});class linesOperations_AbstractCopyLinesAction extends editorExtensions.b{constructor(down,opts){super(opts),this.down=down}run(_accessor,editor){if(!editor.hasModel())return;const selections=editor.getSelections().map((selection,index)=>({selection:selection,index:index,ignore:!1}));selections.sort((a,b)=>core_range.a.compareRangesUsingStarts(a.selection,b.selection));let prev=selections[0];for(let i=1;i<selections.length;i++){const curr=selections[i];prev.selection.endLineNumber===curr.selection.startLineNumber&&(prev.index<curr.index?curr.ignore=!0:(prev.ignore=!0,prev=curr))}const commands=[];for(const selection of selections)selection.ignore||commands.push(new copyLinesCommand_CopyLinesCommand(selection.selection,this.down));editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class linesOperations_DuplicateSelectionAction extends editorExtensions.b{constructor(){super({id:"editor.action.duplicateSelection",label:nls.a("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:editorContextKeys.a.writable,menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"2_line",title:nls.a({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(accessor,editor,args){if(!editor.hasModel())return;const commands=[],selections=editor.getSelections(),model=editor.getModel();for(const selection of selections)if(selection.isEmpty())commands.push(new copyLinesCommand_CopyLinesCommand(selection,!0));else{const insertSelection=new core_selection.a(selection.endLineNumber,selection.endColumn,selection.endLineNumber,selection.endColumn);commands.push(new replaceCommand.c(insertSelection,model.getValueInRange(selection)))}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class linesOperations_AbstractMoveLinesAction extends editorExtensions.b{constructor(down,opts){super(opts),this.down=down}run(_accessor,editor){let commands=[],selections=editor.getSelections()||[];const autoIndent=editor.getOption(8);for(const selection of selections)commands.push(new moveLinesCommand_MoveLinesCommand(selection,this.down,autoIndent));editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class linesOperations_AbstractSortLinesAction extends editorExtensions.b{constructor(descending,opts){super(opts),this.descending=descending}run(_accessor,editor){const selections=editor.getSelections()||[];for(const selection of selections)if(!SortLinesCommand.canRun(editor.getModel(),selection,this.descending))return;let commands=[];for(let i=0,len=selections.length;i<len;i++)commands[i]=new SortLinesCommand(selections[i],this.descending);editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class linesOperations_SortLinesAscendingAction extends linesOperations_AbstractSortLinesAction{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:nls.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:editorContextKeys.a.writable})}}class linesOperations_SortLinesDescendingAction extends linesOperations_AbstractSortLinesAction{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:nls.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:editorContextKeys.a.writable})}}class linesOperations_TrimTrailingWhitespaceAction extends editorExtensions.b{constructor(){super({id:linesOperations_TrimTrailingWhitespaceAction.ID,label:nls.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2102),weight:100}})}run(_accessor,editor,args){let cursors=[];"auto-save"===args.reason&&(cursors=(editor.getSelections()||[]).map(s=>new position.a(s.positionLineNumber,s.positionColumn)));let selection=editor.getSelection();if(null===selection)return;let command=new TrimTrailingWhitespaceCommand(selection,cursors);editor.pushUndoStop(),editor.executeCommands(this.id,[command]),editor.pushUndoStop()}}linesOperations_TrimTrailingWhitespaceAction.ID="editor.action.trimTrailingWhitespace";class linesOperations_DeleteLinesAction extends editorExtensions.b{constructor(){super({id:"editor.action.deleteLines",label:nls.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:3113,weight:100}})}run(_accessor,editor){if(!editor.hasModel())return;let ops=this._getLinesToRemove(editor),model=editor.getModel();if(1===model.getLineCount()&&1===model.getLineMaxColumn(1))return;let linesDeleted=0,edits=[],cursorState=[];for(let i=0,len=ops.length;i<len;i++){const op=ops[i];let startLineNumber=op.startLineNumber,endLineNumber=op.endLineNumber,startColumn=1,endColumn=model.getLineMaxColumn(endLineNumber);endLineNumber<model.getLineCount()?(endLineNumber+=1,endColumn=1):startLineNumber>1&&(startLineNumber-=1,startColumn=model.getLineMaxColumn(startLineNumber)),edits.push(editOperation.a.replace(new core_selection.a(startLineNumber,startColumn,endLineNumber,endColumn),"")),cursorState.push(new core_selection.a(startLineNumber-linesDeleted,op.positionColumn,startLineNumber-linesDeleted,op.positionColumn)),linesDeleted+=op.endLineNumber-op.startLineNumber+1}editor.pushUndoStop(),editor.executeEdits(this.id,edits,cursorState),editor.pushUndoStop()}_getLinesToRemove(editor){let operations=editor.getSelections().map(s=>{let endLineNumber=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(endLineNumber-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:endLineNumber,positionColumn:s.positionColumn}});operations.sort((a,b)=>a.startLineNumber===b.startLineNumber?a.endLineNumber-b.endLineNumber:a.startLineNumber-b.startLineNumber);let mergedOperations=[],previousOperation=operations[0];for(let i=1;i<operations.length;i++)previousOperation.endLineNumber+1>=operations[i].startLineNumber?previousOperation.endLineNumber=operations[i].endLineNumber:(mergedOperations.push(previousOperation),previousOperation=operations[i]);return mergedOperations.push(previousOperation),mergedOperations}}class linesOperations_IndentLinesAction extends editorExtensions.b{constructor(){super({id:"editor.action.indentLines",label:nls.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2137,weight:100}})}run(_accessor,editor){const viewModel=editor._getViewModel();viewModel&&(editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.indent(viewModel.cursorConfig,editor.getModel(),editor.getSelections())),editor.pushUndoStop())}}class linesOperations_InsertLineBeforeAction extends editorExtensions.b{constructor(){super({id:"editor.action.insertLineBefore",label:nls.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3075,weight:100}})}run(_accessor,editor){const viewModel=editor._getViewModel();viewModel&&(editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.lineInsertBefore(viewModel.cursorConfig,editor.getModel(),editor.getSelections())))}}class linesOperations_InsertLineAfterAction extends editorExtensions.b{constructor(){super({id:"editor.action.insertLineAfter",label:nls.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2051,weight:100}})}run(_accessor,editor){const viewModel=editor._getViewModel();viewModel&&(editor.pushUndoStop(),editor.executeCommands(this.id,cursorTypeOperations.a.lineInsertAfter(viewModel.cursorConfig,editor.getModel(),editor.getSelections())))}}class linesOperations_AbstractDeleteAllToBoundaryAction extends editorExtensions.b{run(_accessor,editor){if(!editor.hasModel())return;const primaryCursor=editor.getSelection();let rangesToDelete=this._getRangesToDelete(editor),effectiveRanges=[];for(let i=0,count=rangesToDelete.length-1;i<count;i++){let range=rangesToDelete[i],nextRange=rangesToDelete[i+1];null===core_range.a.intersectRanges(range,nextRange)?effectiveRanges.push(range):rangesToDelete[i+1]=core_range.a.plusRange(range,nextRange)}effectiveRanges.push(rangesToDelete[rangesToDelete.length-1]);let endCursorState=this._getEndCursorState(primaryCursor,effectiveRanges),edits=effectiveRanges.map(range=>editOperation.a.replace(range,""));editor.pushUndoStop(),editor.executeEdits(this.id,edits,endCursorState),editor.pushUndoStop()}}class linesOperations_DeleteAllLeftAction extends linesOperations_AbstractDeleteAllToBoundaryAction{constructor(){super({id:"deleteAllLeft",label:nls.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(primaryCursor,rangesToDelete){let endPrimaryCursor=null,endCursorState=[],deletedLines=0;return rangesToDelete.forEach(range=>{let endCursor;if(1===range.endColumn&&deletedLines>0){let newStartLine=range.startLineNumber-deletedLines;endCursor=new core_selection.a(newStartLine,range.startColumn,newStartLine,range.startColumn)}else endCursor=new core_selection.a(range.startLineNumber,range.startColumn,range.startLineNumber,range.startColumn);deletedLines+=range.endLineNumber-range.startLineNumber,range.intersectRanges(primaryCursor)?endPrimaryCursor=endCursor:endCursorState.push(endCursor)}),endPrimaryCursor&&endCursorState.unshift(endPrimaryCursor),endCursorState}_getRangesToDelete(editor){let selections=editor.getSelections();if(null===selections)return[];let rangesToDelete=selections,model=editor.getModel();return null===model?[]:(rangesToDelete.sort(core_range.a.compareRangesUsingStarts),rangesToDelete=rangesToDelete.map(selection=>{if(selection.isEmpty()){if(1===selection.startColumn){let deleteFromLine=Math.max(1,selection.startLineNumber-1),deleteFromColumn=1===selection.startLineNumber?1:model.getLineContent(deleteFromLine).length+1;return new core_range.a(deleteFromLine,deleteFromColumn,selection.startLineNumber,1)}return new core_range.a(selection.startLineNumber,1,selection.startLineNumber,selection.startColumn)}return new core_range.a(selection.startLineNumber,1,selection.endLineNumber,selection.endColumn)}))}}class linesOperations_DeleteAllRightAction extends linesOperations_AbstractDeleteAllToBoundaryAction{constructor(){super({id:"deleteAllRight",label:nls.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(primaryCursor,rangesToDelete){let endPrimaryCursor=null,endCursorState=[];for(let i=0,len=rangesToDelete.length,offset=0;i<len;i++){let range=rangesToDelete[i],endCursor=new core_selection.a(range.startLineNumber-offset,range.startColumn,range.startLineNumber-offset,range.startColumn);range.intersectRanges(primaryCursor)?endPrimaryCursor=endCursor:endCursorState.push(endCursor)}return endPrimaryCursor&&endCursorState.unshift(endPrimaryCursor),endCursorState}_getRangesToDelete(editor){let model=editor.getModel();if(null===model)return[];let selections=editor.getSelections();if(null===selections)return[];let rangesToDelete=selections.map(sel=>{if(sel.isEmpty()){const maxColumn=model.getLineMaxColumn(sel.startLineNumber);return sel.startColumn===maxColumn?new core_range.a(sel.startLineNumber,sel.startColumn,sel.startLineNumber+1,1):new core_range.a(sel.startLineNumber,sel.startColumn,sel.startLineNumber,maxColumn)}return sel});return rangesToDelete.sort(core_range.a.compareRangesUsingStarts),rangesToDelete}}class linesOperations_JoinLinesAction extends editorExtensions.b{constructor(){super({id:"editor.action.joinLines",label:nls.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(_accessor,editor){let selections=editor.getSelections();if(null===selections)return;let primaryCursor=editor.getSelection();if(null===primaryCursor)return;selections.sort(core_range.a.compareRangesUsingStarts);let reducedSelections=[],lastSelection=selections.reduce((previousValue,currentValue)=>previousValue.isEmpty()?previousValue.endLineNumber===currentValue.startLineNumber?(primaryCursor.equalsSelection(previousValue)&&(primaryCursor=currentValue),currentValue):currentValue.startLineNumber>previousValue.endLineNumber+1?(reducedSelections.push(previousValue),currentValue):new core_selection.a(previousValue.startLineNumber,previousValue.startColumn,currentValue.endLineNumber,currentValue.endColumn):currentValue.startLineNumber>previousValue.endLineNumber?(reducedSelections.push(previousValue),currentValue):new core_selection.a(previousValue.startLineNumber,previousValue.startColumn,currentValue.endLineNumber,currentValue.endColumn));reducedSelections.push(lastSelection);let model=editor.getModel();if(null===model)return;let edits=[],endCursorState=[],endPrimaryCursor=primaryCursor,lineOffset=0;for(let i=0,len=reducedSelections.length;i<len;i++){let endLineNumber,endColumn,selection=reducedSelections[i],startLineNumber=selection.startLineNumber,startColumn=1,columnDeltaOffset=0,selectionEndPositionOffset=model.getLineContent(selection.endLineNumber).length-selection.endColumn;if(selection.isEmpty()||selection.startLineNumber===selection.endLineNumber){let position=selection.getStartPosition();position.lineNumber<model.getLineCount()?(endLineNumber=startLineNumber+1,endColumn=model.getLineMaxColumn(endLineNumber)):(endLineNumber=position.lineNumber,endColumn=model.getLineMaxColumn(position.lineNumber))}else endLineNumber=selection.endLineNumber,endColumn=model.getLineMaxColumn(endLineNumber);let trimmedLinesContent=model.getLineContent(startLineNumber);for(let i=startLineNumber+1;i<=endLineNumber;i++){let lineText=model.getLineContent(i),firstNonWhitespaceIdx=model.getLineFirstNonWhitespaceColumn(i);if(firstNonWhitespaceIdx>=1){let insertSpace=!0;""===trimmedLinesContent&&(insertSpace=!1),!insertSpace||" "!==trimmedLinesContent.charAt(trimmedLinesContent.length-1)&&"\t"!==trimmedLinesContent.charAt(trimmedLinesContent.length-1)||(insertSpace=!1,trimmedLinesContent=trimmedLinesContent.replace(/[\s\uFEFF\xA0]+$/g," "));let lineTextWithoutIndent=lineText.substr(firstNonWhitespaceIdx-1);trimmedLinesContent+=(insertSpace?" ":"")+lineTextWithoutIndent,columnDeltaOffset=insertSpace?lineTextWithoutIndent.length+1:lineTextWithoutIndent.length}else columnDeltaOffset=0}let deleteSelection=new core_range.a(startLineNumber,startColumn,endLineNumber,endColumn);if(!deleteSelection.isEmpty()){let resultSelection;selection.isEmpty()?(edits.push(editOperation.a.replace(deleteSelection,trimmedLinesContent)),resultSelection=new core_selection.a(deleteSelection.startLineNumber-lineOffset,trimmedLinesContent.length-columnDeltaOffset+1,startLineNumber-lineOffset,trimmedLinesContent.length-columnDeltaOffset+1)):selection.startLineNumber===selection.endLineNumber?(edits.push(editOperation.a.replace(deleteSelection,trimmedLinesContent)),resultSelection=new core_selection.a(selection.startLineNumber-lineOffset,selection.startColumn,selection.endLineNumber-lineOffset,selection.endColumn)):(edits.push(editOperation.a.replace(deleteSelection,trimmedLinesContent)),resultSelection=new core_selection.a(selection.startLineNumber-lineOffset,selection.startColumn,selection.startLineNumber-lineOffset,trimmedLinesContent.length-selectionEndPositionOffset)),null!==core_range.a.intersectRanges(deleteSelection,primaryCursor)?endPrimaryCursor=resultSelection:endCursorState.push(resultSelection)}lineOffset+=deleteSelection.endLineNumber-deleteSelection.startLineNumber}endCursorState.unshift(endPrimaryCursor),editor.pushUndoStop(),editor.executeEdits(this.id,edits,endCursorState),editor.pushUndoStop()}}class linesOperations_TransposeAction extends editorExtensions.b{constructor(){super({id:"editor.action.transpose",label:nls.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:editorContextKeys.a.writable})}run(_accessor,editor){let selections=editor.getSelections();if(null===selections)return;let model=editor.getModel();if(null===model)return;let commands=[];for(let i=0,len=selections.length;i<len;i++){let selection=selections[i];if(!selection.isEmpty())continue;let cursor=selection.getStartPosition(),maxColumn=model.getLineMaxColumn(cursor.lineNumber);if(cursor.column>=maxColumn){if(cursor.lineNumber===model.getLineCount())continue;let deleteSelection=new core_range.a(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber+1,1),chars=model.getValueInRange(deleteSelection).split("").reverse().join("");commands.push(new replaceCommand.a(new core_selection.a(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber+1,1),chars))}else{let deleteSelection=new core_range.a(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber,cursor.column+1),chars=model.getValueInRange(deleteSelection).split("").reverse().join("");commands.push(new replaceCommand.b(deleteSelection,chars,new core_selection.a(cursor.lineNumber,cursor.column+1,cursor.lineNumber,cursor.column+1)))}}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class linesOperations_AbstractCaseAction extends editorExtensions.b{run(_accessor,editor){let selections=editor.getSelections();if(null===selections)return;let model=editor.getModel();if(null===model)return;let wordSeparators=editor.getOption(105),commands=[];for(let i=0,len=selections.length;i<len;i++){let selection=selections[i];if(selection.isEmpty()){let cursor=selection.getStartPosition();const word=editor.getConfiguredWordAtPosition(cursor);if(!word)continue;let wordRange=new core_range.a(cursor.lineNumber,word.startColumn,cursor.lineNumber,word.endColumn),text=model.getValueInRange(wordRange);commands.push(new replaceCommand.b(wordRange,this._modifyText(text,wordSeparators),new core_selection.a(cursor.lineNumber,cursor.column,cursor.lineNumber,cursor.column)))}else{let text=model.getValueInRange(selection);commands.push(new replaceCommand.b(selection,this._modifyText(text,wordSeparators),selection))}}editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}class linesOperations_UpperCaseAction extends linesOperations_AbstractCaseAction{constructor(){super({id:"editor.action.transformToUppercase",label:nls.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:editorContextKeys.a.writable})}_modifyText(text,wordSeparators){return text.toLocaleUpperCase()}}class linesOperations_LowerCaseAction extends linesOperations_AbstractCaseAction{constructor(){super({id:"editor.action.transformToLowercase",label:nls.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:editorContextKeys.a.writable})}_modifyText(text,wordSeparators){return text.toLocaleLowerCase()}}class linesOperations_TitleCaseAction extends linesOperations_AbstractCaseAction{constructor(){super({id:"editor.action.transformToTitlecase",label:nls.a("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:editorContextKeys.a.writable})}_modifyText(text,wordSeparators){const excludedChars=("\r\n\t "+wordSeparators).split("");let title="",startUpperCase=!0;for(let i=0;i<text.length;i++){let currentChar=text[i];excludedChars.indexOf(currentChar)>=0?(startUpperCase=!0,title+=currentChar):startUpperCase?(startUpperCase=!1,title+=currentChar.toLocaleUpperCase()):title+=currentChar.toLocaleLowerCase()}return title}}Object(editorExtensions.k)(class linesOperations_CopyLinesUpAction extends linesOperations_AbstractCopyLinesAction{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:nls.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"2_line",title:nls.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),Object(editorExtensions.k)(class linesOperations_CopyLinesDownAction extends linesOperations_AbstractCopyLinesAction{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:nls.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"2_line",title:nls.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),Object(editorExtensions.k)(linesOperations_DuplicateSelectionAction),Object(editorExtensions.k)(class linesOperations_MoveLinesUpAction extends linesOperations_AbstractMoveLinesAction{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:nls.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"2_line",title:nls.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),Object(editorExtensions.k)(class linesOperations_MoveLinesDownAction extends linesOperations_AbstractMoveLinesAction{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:nls.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"2_line",title:nls.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),Object(editorExtensions.k)(linesOperations_SortLinesAscendingAction),Object(editorExtensions.k)(linesOperations_SortLinesDescendingAction),Object(editorExtensions.k)(linesOperations_TrimTrailingWhitespaceAction),Object(editorExtensions.k)(linesOperations_DeleteLinesAction),Object(editorExtensions.k)(linesOperations_IndentLinesAction),Object(editorExtensions.k)(class linesOperations_OutdentLinesAction extends editorExtensions.b{constructor(){super({id:"editor.action.outdentLines",label:nls.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2135,weight:100}})}run(_accessor,editor){coreCommands.CoreEditingCommands.Outdent.runEditorCommand(_accessor,editor,null)}}),Object(editorExtensions.k)(linesOperations_InsertLineBeforeAction),Object(editorExtensions.k)(linesOperations_InsertLineAfterAction),Object(editorExtensions.k)(linesOperations_DeleteAllLeftAction),Object(editorExtensions.k)(linesOperations_DeleteAllRightAction),Object(editorExtensions.k)(linesOperations_JoinLinesAction),Object(editorExtensions.k)(linesOperations_TransposeAction),Object(editorExtensions.k)(linesOperations_UpperCaseAction),Object(editorExtensions.k)(linesOperations_LowerCaseAction),Object(editorExtensions.k)(linesOperations_TitleCaseAction)},2696:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var TriggerAction,platform=__webpack_require__(2324),quickAccess=__webpack_require__(2382),standaloneStrings=__webpack_require__(2353),codeEditorService=__webpack_require__(2317),nls=__webpack_require__(2297),cancellation=__webpack_require__(2315),lifecycle=__webpack_require__(2294),common_async=__webpack_require__(2306),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function isPicksWithActive(obj){const candidate=obj;return Array.isArray(candidate.items)}!function(TriggerAction){TriggerAction[TriggerAction.NO_ACTION=0]="NO_ACTION",TriggerAction[TriggerAction.CLOSE_PICKER=1]="CLOSE_PICKER",TriggerAction[TriggerAction.REFRESH_PICKER=2]="REFRESH_PICKER",TriggerAction[TriggerAction.REMOVE_ITEM=3]="REMOVE_ITEM"}(TriggerAction||(TriggerAction={}));class pickerQuickAccess_PickerQuickAccessProvider extends lifecycle.a{constructor(prefix,options){super(),this.prefix=prefix,this.options=options}provide(picker,token){var _a;const disposables=new lifecycle.b;picker.canAcceptInBackground=!!(null===(_a=this.options)||void 0===_a?void 0:_a.canAcceptInBackground),picker.matchOnLabel=picker.matchOnDescription=picker.matchOnDetail=picker.sortByLabel=!1;let picksCts=void 0;const picksDisposable=disposables.add(new lifecycle.d),updatePickerItems=()=>__awaiter(this,void 0,void 0,function*(){const picksDisposables=picksDisposable.value=new lifecycle.b;null==picksCts||picksCts.dispose(!0),picker.busy=!1;const picksToken=(picksCts=new cancellation.b(token)).token,picksFilter=picker.value.substr(this.prefix.length).trim(),providedPicks=this.getPicks(picksFilter,picksDisposables,picksToken),applyPicks=(picks,skipEmpty)=>{var _a;let items,activeItem=void 0;if(isPicksWithActive(picks)?(items=picks.items,activeItem=picks.active):items=picks,0===items.length){if(skipEmpty)return!1;picksFilter.length>0&&(null===(_a=this.options)||void 0===_a?void 0:_a.noResultsPick)&&(items=[this.options.noResultsPick])}return picker.items=items,activeItem&&(picker.activeItems=[activeItem]),!0};if(null===providedPicks);else if(function isFastAndSlowPicks(obj){const candidate=obj;return!!candidate.picks&&candidate.additionalPicks instanceof Promise}(providedPicks)){let fastPicksApplied=!1,slowPicksApplied=!1;yield Promise.all([(()=>__awaiter(this,void 0,void 0,function*(){yield Object(common_async.l)(pickerQuickAccess_PickerQuickAccessProvider.FAST_PICKS_RACE_DELAY),picksToken.isCancellationRequested||slowPicksApplied||(fastPicksApplied=applyPicks(providedPicks.picks,!0))}))(),(()=>__awaiter(this,void 0,void 0,function*(){picker.busy=!0;try{const awaitedAdditionalPicks=yield providedPicks.additionalPicks;if(picksToken.isCancellationRequested)return;let picks,additionalPicks,activePick=void 0;isPicksWithActive(providedPicks.picks)?(picks=providedPicks.picks.items,activePick=providedPicks.picks.active):picks=providedPicks.picks;let additionalActivePick=void 0;if(isPicksWithActive(awaitedAdditionalPicks)?(additionalPicks=awaitedAdditionalPicks.items,additionalActivePick=awaitedAdditionalPicks.active):additionalPicks=awaitedAdditionalPicks,additionalPicks.length>0||!fastPicksApplied){let fallbackActivePick=void 0;if(!activePick&&!additionalActivePick){const fallbackActivePickCandidate=picker.activeItems[0];fallbackActivePickCandidate&&-1!==picks.indexOf(fallbackActivePickCandidate)&&(fallbackActivePick=fallbackActivePickCandidate)}applyPicks({items:[...picks,...additionalPicks],active:activePick||additionalActivePick||fallbackActivePick})}}finally{picksToken.isCancellationRequested||(picker.busy=!1),slowPicksApplied=!0}}))()])}else if(providedPicks instanceof Promise){picker.busy=!0;try{const awaitedPicks=yield providedPicks;if(picksToken.isCancellationRequested)return;applyPicks(awaitedPicks)}finally{picksToken.isCancellationRequested||(picker.busy=!1)}}else applyPicks(providedPicks)});return disposables.add(picker.onDidChangeValue(()=>updatePickerItems())),updatePickerItems(),disposables.add(picker.onDidAccept(event=>{const[item]=picker.selectedItems;"function"==typeof(null==item?void 0:item.accept)&&(event.inBackground||picker.hide(),item.accept(picker.keyMods,event))})),disposables.add(picker.onDidTriggerItemButton(({button:button,item:item})=>__awaiter(this,void 0,void 0,function*(){var _b,_c;if("function"==typeof item.trigger){const buttonIndex=null!==(_c=null===(_b=item.buttons)||void 0===_b?void 0:_b.indexOf(button))&&void 0!==_c?_c:-1;if(buttonIndex>=0){const result=item.trigger(buttonIndex,picker.keyMods),action="number"==typeof result?result:yield result;if(token.isCancellationRequested)return;switch(action){case TriggerAction.NO_ACTION:break;case TriggerAction.CLOSE_PICKER:picker.hide();break;case TriggerAction.REFRESH_PICKER:updatePickerItems();break;case TriggerAction.REMOVE_ITEM:const index=picker.items.indexOf(item);if(-1!==index){const items=picker.items.slice();items.splice(index,1),picker.items=items}}}}}))),disposables}}pickerQuickAccess_PickerQuickAccessProvider.FAST_PICKS_RACE_DELAY=200;var filters=__webpack_require__(2354),types=__webpack_require__(2314),map=__webpack_require__(2349),storage=__webpack_require__(2362),configuration=__webpack_require__(2332),instantiation=__webpack_require__(2300),common_keybinding=__webpack_require__(2325),commands=__webpack_require__(2318),telemetry=__webpack_require__(2368),common_errors=__webpack_require__(2302),notification=__webpack_require__(2322),arrays=__webpack_require__(2309);function exceptionToErrorMessage(exception,verbose){return verbose&&(exception.stack||exception.stacktrace)?nls.a("stackTrace.format","{0}: {1}",detectSystemErrorMessage(exception),stackToString(exception.stack)||stackToString(exception.stacktrace)):detectSystemErrorMessage(exception)}function stackToString(stack){return Array.isArray(stack)?stack.join("\n"):stack}function detectSystemErrorMessage(exception){return"string"==typeof exception.code&&"number"==typeof exception.errno&&"string"==typeof exception.syscall?nls.a("nodeExceptionMessage","A system error occurred ({0})",exception.message):exception.message||nls.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function toErrorMessage(error=null,verbose=!1){if(!error)return nls.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(error)){const errors=arrays.d(error),msg=toErrorMessage(errors[0],verbose);return errors.length>1?nls.a("error.moreErrors","{0} ({1} errors in total)",msg,errors.length):msg}if(types.j(error))return error;if(error.detail){const detail=error.detail;if(detail.error)return exceptionToErrorMessage(detail.error,verbose);if(detail.exception)return exceptionToErrorMessage(detail.exception,verbose)}return error.stack?exceptionToErrorMessage(error,verbose):error.message?error.message:nls.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var storageKeys=__webpack_require__(2439),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},commandsQuickAccess_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let commandsQuickAccess_AbstractCommandsQuickAccessProvider=class AbstractCommandsQuickAccessProvider extends pickerQuickAccess_PickerQuickAccessProvider{constructor(options,instantiationService,keybindingService,commandService,telemetryService,notificationService){super(AbstractCommandsQuickAccessProvider.PREFIX,options),this.options=options,this.instantiationService=instantiationService,this.keybindingService=keybindingService,this.commandService=commandService,this.telemetryService=telemetryService,this.notificationService=notificationService,this.commandsHistory=this._register(this.instantiationService.createInstance(commandsQuickAccess_CommandsHistory))}getPicks(filter,disposables,token){return commandsQuickAccess_awaiter(this,void 0,void 0,function*(){const allCommandPicks=yield this.getCommandPicks(disposables,token);if(token.isCancellationRequested)return[];const filteredCommandPicks=[];for(const commandPick of allCommandPicks){const labelHighlights=Object(types.n)(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter,commandPick.label)),aliasHighlights=commandPick.commandAlias?Object(types.n)(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter,commandPick.commandAlias)):void 0;labelHighlights||aliasHighlights?(commandPick.highlights={label:labelHighlights,detail:this.options.showAlias?aliasHighlights:void 0},filteredCommandPicks.push(commandPick)):filter===commandPick.commandId&&filteredCommandPicks.push(commandPick)}const mapLabelToCommand=new Map;for(const commandPick of filteredCommandPicks){const existingCommandForLabel=mapLabelToCommand.get(commandPick.label);existingCommandForLabel?(commandPick.description=commandPick.commandId,existingCommandForLabel.description=existingCommandForLabel.commandId):mapLabelToCommand.set(commandPick.label,commandPick)}filteredCommandPicks.sort((commandPickA,commandPickB)=>{const commandACounter=this.commandsHistory.peek(commandPickA.commandId),commandBCounter=this.commandsHistory.peek(commandPickB.commandId);return commandACounter&&commandBCounter?commandACounter>commandBCounter?-1:1:commandACounter?-1:commandBCounter?1:commandPickA.label.localeCompare(commandPickB.label)});const commandPicks=[];let addSeparator=!1;for(let i=0;i<filteredCommandPicks.length;i++){const commandPick=filteredCommandPicks[i],keybinding=this.keybindingService.lookupKeybinding(commandPick.commandId),ariaLabel=keybinding?Object(nls.a)("commandPickAriaLabelWithKeybinding","{0}, {1}",commandPick.label,keybinding.getAriaLabel()):commandPick.label;0===i&&this.commandsHistory.peek(commandPick.commandId)&&(commandPicks.push({type:"separator",label:Object(nls.a)("recentlyUsed","recently used")}),addSeparator=!0),0!==i&&addSeparator&&!this.commandsHistory.peek(commandPick.commandId)&&(commandPicks.push({type:"separator",label:Object(nls.a)("morecCommands","other commands")}),addSeparator=!1),commandPicks.push(Object.assign(Object.assign({},commandPick),{ariaLabel:ariaLabel,detail:this.options.showAlias&&commandPick.commandAlias!==commandPick.label?commandPick.commandAlias:void 0,keybinding:keybinding,accept:()=>commandsQuickAccess_awaiter(this,void 0,void 0,function*(){this.commandsHistory.push(commandPick.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:commandPick.commandId,from:"quick open"});try{yield this.commandService.executeCommand(commandPick.commandId)}catch(error){Object(common_errors.d)(error)||this.notificationService.error(Object(nls.a)("canNotRun","Command '{0}' resulted in an error ({1})",commandPick.label,toErrorMessage(error)))}})}))}return commandPicks})}};commandsQuickAccess_AbstractCommandsQuickAccessProvider.PREFIX=">",commandsQuickAccess_AbstractCommandsQuickAccessProvider.WORD_FILTER=Object(filters.j)(filters.h,filters.i,filters.f),commandsQuickAccess_AbstractCommandsQuickAccessProvider=__decorate([__param(1,instantiation.a),__param(2,common_keybinding.a),__param(3,commands.b),__param(4,telemetry.a),__param(5,notification.a)],commandsQuickAccess_AbstractCommandsQuickAccessProvider);let commandsQuickAccess_CommandsHistory=class CommandsHistory extends lifecycle.a{constructor(storageService,configurationService,storageKeysSyncRegistryService){super(),this.storageService=storageService,this.configurationService=configurationService,this.configuredCommandsHistoryLength=0,storageKeysSyncRegistryService.registerStorageKey({key:CommandsHistory.PREF_KEY_CACHE,version:1}),storageKeysSyncRegistryService.registerStorageKey({key:CommandsHistory.PREF_KEY_COUNTER,version:1}),this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=CommandsHistory.getConfiguredCommandHistoryLength(this.configurationService),CommandsHistory.cache&&CommandsHistory.cache.limit!==this.configuredCommandsHistoryLength&&(CommandsHistory.cache.limit=this.configuredCommandsHistoryLength,CommandsHistory.saveState(this.storageService))}load(){const raw=this.storageService.get(CommandsHistory.PREF_KEY_CACHE,0);let serializedCache;if(raw)try{serializedCache=JSON.parse(raw)}catch(error){}const cache=CommandsHistory.cache=new map.a(this.configuredCommandsHistoryLength,1);if(serializedCache){let entries;(entries=serializedCache.usesLRU?serializedCache.entries:serializedCache.entries.sort((a,b)=>a.value-b.value)).forEach(entry=>cache.set(entry.key,entry.value))}CommandsHistory.counter=this.storageService.getNumber(CommandsHistory.PREF_KEY_COUNTER,0,CommandsHistory.counter)}push(commandId){CommandsHistory.cache&&(CommandsHistory.cache.set(commandId,CommandsHistory.counter++),CommandsHistory.saveState(this.storageService))}peek(commandId){var _a;return null===(_a=CommandsHistory.cache)||void 0===_a?void 0:_a.peek(commandId)}static saveState(storageService){if(!CommandsHistory.cache)return;const serializedCache={usesLRU:!0,entries:[]};CommandsHistory.cache.forEach((value,key)=>serializedCache.entries.push({key:key,value:value})),storageService.store(CommandsHistory.PREF_KEY_CACHE,JSON.stringify(serializedCache),0),storageService.store(CommandsHistory.PREF_KEY_COUNTER,CommandsHistory.counter,0)}static getConfiguredCommandHistoryLength(configurationService){var _a,_b;const configuredCommandHistoryLength=null===(_b=null===(_a=configurationService.getValue().workbench)||void 0===_a?void 0:_a.commandPalette)||void 0===_b?void 0:_b.history;return"number"==typeof configuredCommandHistoryLength?configuredCommandHistoryLength:CommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH}};commandsQuickAccess_CommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH=50,commandsQuickAccess_CommandsHistory.PREF_KEY_CACHE="commandPalette.mru.cache",commandsQuickAccess_CommandsHistory.PREF_KEY_COUNTER="commandPalette.mru.counter",commandsQuickAccess_CommandsHistory.counter=1,commandsQuickAccess_CommandsHistory=__decorate([__param(0,storage.a),__param(1,configuration.a),__param(2,storageKeys.a)],commandsQuickAccess_CommandsHistory);var codicons=__webpack_require__(2316);class commandsQuickAccess_AbstractEditorCommandsQuickAccessProvider extends commandsQuickAccess_AbstractCommandsQuickAccessProvider{constructor(options,instantiationService,keybindingService,commandService,telemetryService,notificationService){super(options,instantiationService,keybindingService,commandService,telemetryService,notificationService)}getCodeEditorCommandPicks(){const activeTextEditorControl=this.activeTextEditorControl;if(!activeTextEditorControl)return[];const editorCommandPicks=[];for(const editorAction of activeTextEditorControl.getSupportedActions())editorCommandPicks.push({commandId:editorAction.id,commandAlias:editorAction.alias,label:Object(codicons.h)(editorAction.label)||editorAction.id});return editorCommandPicks}}var editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),quickInput=__webpack_require__(2363);__webpack_require__.d(__webpack_exports__,"StandaloneCommandsQuickAccessProvider",function(){return standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider}),__webpack_require__.d(__webpack_exports__,"GotoLineAction",function(){return standaloneCommandsQuickAccess_GotoLineAction});var standaloneCommandsQuickAccess_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},standaloneCommandsQuickAccess_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider=class StandaloneCommandsQuickAccessProvider extends commandsQuickAccess_AbstractEditorCommandsQuickAccessProvider{constructor(instantiationService,codeEditorService,keybindingService,commandService,telemetryService,notificationService){super({showAlias:!1},instantiationService,keybindingService,commandService,telemetryService,notificationService),this.codeEditorService=codeEditorService}get activeTextEditorControl(){return Object(types.n)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return standaloneCommandsQuickAccess_awaiter(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([standaloneCommandsQuickAccess_param(0,instantiation.a),standaloneCommandsQuickAccess_param(1,codeEditorService.a),standaloneCommandsQuickAccess_param(2,common_keybinding.a),standaloneCommandsQuickAccess_param(3,commands.b),standaloneCommandsQuickAccess_param(4,telemetry.a),standaloneCommandsQuickAccess_param(5,notification.a)],standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider),platform.a.as(quickAccess.b.Quickaccess).registerQuickAccessProvider({ctor:standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider,prefix:standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider.PREFIX,helpEntries:[{description:standaloneStrings.d.quickCommandHelp,needsEditor:!0}]});class standaloneCommandsQuickAccess_GotoLineAction extends editorExtensions.b{constructor(){super({id:"editor.action.quickCommand",label:standaloneStrings.d.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(accessor){accessor.get(quickInput.a).quickAccess.show(standaloneCommandsQuickAccess_StandaloneCommandsQuickAccessProvider.PREFIX)}}Object(editorExtensions.k)(standaloneCommandsQuickAccess_GotoLineAction)},2697:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var common_async=__webpack_require__(2306),errors=__webpack_require__(2302),lifecycle=__webpack_require__(2294),editorState=__webpack_require__(2357),editorExtensions=__webpack_require__(2301),modes=__webpack_require__(2308),arrays=__webpack_require__(2309),cancellation=__webpack_require__(2315),uri=__webpack_require__(2313),modelService=__webpack_require__(2336);class codelens_CodeLensModel{constructor(){this.lenses=[],this._disposables=new lifecycle.b}dispose(){this._disposables.dispose()}add(list,provider){this._disposables.add(list);for(const symbol of list.lenses)this.lenses.push({symbol:symbol,provider:provider})}}function getCodeLensData(model,token){const provider=modes.b.ordered(model),providerRanks=new Map,result=new codelens_CodeLensModel,promises=provider.map((provider,i)=>(providerRanks.set(provider,i),Promise.resolve(provider.provideCodeLenses(model,token)).then(list=>list&&result.add(list,provider)).catch(errors.f)));return Promise.all(promises).then(()=>(result.lenses=Object(arrays.p)(result.lenses,(a,b)=>a.symbol.range.startLineNumber<b.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>b.symbol.range.startLineNumber?1:providerRanks.get(a.provider)<providerRanks.get(b.provider)?-1:providerRanks.get(a.provider)>providerRanks.get(b.provider)?1:a.symbol.range.startColumn<b.symbol.range.startColumn?-1:a.symbol.range.startColumn>b.symbol.range.startColumn?1:0),result))}Object(editorExtensions.o)("_executeCodeLensProvider",function(accessor,args){let{resource:resource,itemResolveCount:itemResolveCount}=args;if(!(resource instanceof uri.a))throw Object(errors.b)();const model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)();const result=[],disposables=new lifecycle.b;return getCodeLensData(model,cancellation.a.None).then(value=>{disposables.add(value);let resolve=[];for(const item of value.lenses)void 0===itemResolveCount||Boolean(item.symbol.command)?result.push(item.symbol):itemResolveCount-- >0&&item.provider.resolveCodeLens&&resolve.push(Promise.resolve(item.provider.resolveCodeLens(model,item.symbol,cancellation.a.None)).then(symbol=>result.push(symbol||item.symbol)));return Promise.all(resolve)}).then(()=>result).finally(()=>{setTimeout(()=>disposables.dispose(),100)})});__webpack_require__(2521);var codicons=__webpack_require__(2316),strings=__webpack_require__(2299),core_range=__webpack_require__(2295),textModel=__webpack_require__(2321),editorColorRegistry=__webpack_require__(2338),colorRegistry=__webpack_require__(2310),themeService=__webpack_require__(2304);class CodeLensViewZone{constructor(afterLineNumber,onHeight){this.afterLineNumber=afterLineNumber,this._onHeight=onHeight,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(height){void 0===this._lastHeight?this._lastHeight=height:this._lastHeight!==height&&(this._lastHeight=height,this._onHeight())}}class codelensWidget_CodeLensContentWidget{constructor(editor,className,line){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=editor,this._id=`codelens.widget-${codelensWidget_CodeLensContentWidget._idPool++}`,this.updatePosition(line),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${className}`}withCommands(lenses,animate){this._commands.clear();let innerHtml="",hasSymbol=!1;for(let i=0;i<lenses.length;i++){const lens=lenses[i];if(lens&&(hasSymbol=!0,lens.command)){const title=Object(codicons.f)(Object(strings.u)(lens.command.title));lens.command.id?(innerHtml+=`<a id=${i}>${title}</a>`,this._commands.set(String(i),lens.command)):innerHtml+=`<span>${title}</span>`,i+1<lenses.length&&(innerHtml+="<span>&#160;|&#160;</span>")}}hasSymbol?(innerHtml||(innerHtml=""),this._domNode.innerHTML=innerHtml,this._isEmpty&&animate&&this._domNode.classList.add("fadein"),this._isEmpty=!1):this._domNode.innerHTML="<span>no commands</span>"}getCommand(link){return link.parentElement===this._domNode?this._commands.get(link.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(line){const column=this._editor.getModel().getLineFirstNonWhitespaceColumn(line);this._widgetPosition={position:{lineNumber:line,column:column},preference:[1]}}getPosition(){return this._widgetPosition||null}}codelensWidget_CodeLensContentWidget._idPool=0;class CodeLensHelper{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(decoration,callback){this._addDecorations.push(decoration),this._addDecorationsCallbacks.push(callback)}removeDecoration(decorationId){this._removeDecorations.push(decorationId)}commit(changeAccessor){let resultingDecorations=changeAccessor.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,len=resultingDecorations.length;i<len;i++)this._addDecorationsCallbacks[i](resultingDecorations[i])}}class codelensWidget_CodeLensWidget{constructor(data,editor,className,helper,viewZoneChangeAccessor,updateCallback){let range;this._isDisposed=!1,this._editor=editor,this._className=className,this._data=data,this._decorationIds=[];let lenses=[];this._data.forEach((codeLensData,i)=>{codeLensData.symbol.command&&lenses.push(codeLensData.symbol),helper.addDecoration({range:codeLensData.symbol.range,options:textModel.a.EMPTY},id=>this._decorationIds[i]=id),range=range?core_range.a.plusRange(range,codeLensData.symbol.range):core_range.a.lift(codeLensData.symbol.range)}),this._viewZone=new CodeLensViewZone(range.startLineNumber-1,updateCallback),this._viewZoneId=viewZoneChangeAccessor.addZone(this._viewZone),lenses.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(lenses,!1))}_createContentWidgetIfNecessary(){this._contentWidget||(this._contentWidget=new codelensWidget_CodeLensContentWidget(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(helper,viewZoneChangeAccessor){this._decorationIds.forEach(helper.removeDecoration,helper),this._decorationIds=[],viewZoneChangeAccessor&&viewZoneChangeAccessor.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((id,i)=>{const range=this._editor.getModel().getDecorationRange(id),symbol=this._data[i].symbol;return!(!range||core_range.a.isEmpty(symbol.range)!==range.isEmpty())})}updateCodeLensSymbols(data,helper){this._decorationIds.forEach(helper.removeDecoration,helper),this._decorationIds=[],this._data=data,this._data.forEach((codeLensData,i)=>{helper.addDecoration({range:codeLensData.symbol.range,options:textModel.a.EMPTY},id=>this._decorationIds[i]=id)})}computeIfNecessary(model){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let i=0;i<this._decorationIds.length;i++){const range=model.getDecorationRange(this._decorationIds[i]);range&&(this._data[i].symbol.range=range)}return this._data}updateCommands(symbols){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(symbols,!0);for(let i=0;i<this._data.length;i++){const resolved=symbols[i];if(resolved){const{symbol:symbol}=this._data[i];symbol.command=resolved.command||symbol.command}}}getCommand(link){var _a;return null===(_a=this._contentWidget)||void 0===_a?void 0:_a.getCommand(link)}getLineNumber(){const range=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return range?range.startLineNumber:-1}update(viewZoneChangeAccessor){if(this.isValid()){const range=this._editor.getModel().getDecorationRange(this._decorationIds[0]);range&&(this._viewZone.afterLineNumber=range.startLineNumber-1,viewZoneChangeAccessor.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(range.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}Object(themeService.g)((theme,collector)=>{const codeLensForeground=theme.getColor(editorColorRegistry.e);codeLensForeground&&(collector.addRule(`.monaco-editor .codelens-decoration { color: ${codeLensForeground}; }`),collector.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${codeLensForeground}; }`));const activeLinkForeground=theme.getColor(colorRegistry.r);activeLinkForeground&&(collector.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${activeLinkForeground} !important; }`),collector.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${activeLinkForeground} !important; }`))});var commands=__webpack_require__(2318),notification=__webpack_require__(2322),instantiation=__webpack_require__(2300),extensions=__webpack_require__(2361),map=__webpack_require__(2349),storage=__webpack_require__(2362),functional=__webpack_require__(2379),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const ICodeLensCache=Object(instantiation.c)("ICodeLensCache");class CacheItem{constructor(lineCount,data){this.lineCount=lineCount,this.data=data}}let codeLensCache_CodeLensCache=class CodeLensCache{constructor(storageService){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new map.a(20,.75);Object(common_async.k)(()=>storageService.remove("codelens/cache",1));const key="codelens/cache2",raw=storageService.get(key,1,"{}");this._deserialize(raw),Object(functional.a)(storageService.onWillSaveState)(e=>{e.reason===storage.c.SHUTDOWN&&storageService.store(key,this._serialize(),1)})}put(model,data){const copyItems=data.lenses.map(item=>{var _a;return{range:item.symbol.range,command:item.symbol.command&&{id:"",title:null===(_a=item.symbol.command)||void 0===_a?void 0:_a.title}}}),copyModel=new codelens_CodeLensModel;copyModel.add({lenses:copyItems,dispose:()=>{}},this._fakeProvider);const item=new CacheItem(model.getLineCount(),copyModel);this._cache.set(model.uri.toString(),item)}get(model){const item=this._cache.get(model.uri.toString());return item&&item.lineCount===model.getLineCount()?item.data:void 0}delete(model){this._cache.delete(model.uri.toString())}_serialize(){const data=Object.create(null);for(const[key,value]of this._cache){const lines=new Set;for(const d of value.data.lenses)lines.add(d.symbol.range.startLineNumber);data[key]={lineCount:value.lineCount,lines:[...lines.values()]}}return JSON.stringify(data)}_deserialize(raw){try{const data=JSON.parse(raw);for(const key in data){const element=data[key],lenses=[];for(const line of element.lines)lenses.push({range:new core_range.a(line,1,line,11)});const model=new codelens_CodeLensModel;model.add({lenses:lenses,dispose(){}},this._fakeProvider),this._cache.set(key,new CacheItem(element.lineCount,model))}}catch(_a){}}};codeLensCache_CodeLensCache=__decorate([__param(0,storage.a)],codeLensCache_CodeLensCache),Object(extensions.b)(ICodeLensCache,codeLensCache_CodeLensCache);var dom=__webpack_require__(2298),hash=__webpack_require__(2405),quickInput=__webpack_require__(2363),nls=__webpack_require__(2297),editorContextKeys=__webpack_require__(2312);__webpack_require__.d(__webpack_exports__,"CodeLensContribution",function(){return codelensController_CodeLensContribution});var codelensController_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},codelensController_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let codelensController_CodeLensContribution=class CodeLensContribution{constructor(_editor,_commandService,_notificationService,_codeLensCache){this._editor=_editor,this._commandService=_commandService,this._notificationService=_notificationService,this._codeLensCache=_codeLensCache,this._globalToDispose=new lifecycle.b,this._localToDispose=new lifecycle.b,this._lenses=[],this._oldCodeLensModels=new lifecycle.b,this._modelChangeCounter=0,this._isEnabled=this._editor.getOption(11),this._globalToDispose.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._globalToDispose.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._globalToDispose.add(this._editor.onDidChangeConfiguration(()=>{const prevIsEnabled=this._isEnabled;this._isEnabled=this._editor.getOption(11),prevIsEnabled!==this._isEnabled&&this._onModelChange()})),this._globalToDispose.add(modes.b.onDidChange(this._onModelChange,this)),this._globalToDispose.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(36)&&this._updateLensStyle()})),this._onModelChange(),this._styleClassName="_"+Object(hash.b)(this._editor.getId()).toString(16),this._styleElement=dom.v(dom.O(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),Object(lifecycle.f)(this._currentCodeLensModel)}_updateLensStyle(){const options=this._editor.getOptions(),fontInfo=options.get(36),lineHeight=options.get(51),height=Math.round(1.1*lineHeight),fontSize=Math.round(.9*fontInfo.fontSize),newStyle=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { height: ${height}px; line-height: ${lineHeight}px; font-size: ${fontSize}px; padding-right: ${Math.round(.45*fontInfo.fontSize)}px;}\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} > a > .codicon { line-height: ${lineHeight}px; font-size: ${fontSize}px; }\n\t\t`;this._styleElement.textContent=newStyle}_localDispose(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),Object(lifecycle.f)(this._currentCodeLensModel)}_onModelChange(){this._localDispose();const model=this._editor.getModel();if(!model)return;if(!this._isEnabled)return;const cachedLenses=this._codeLensCache.get(model);if(cachedLenses&&this._renderCodeLensSymbols(cachedLenses),!modes.b.has(model))return void(cachedLenses&&this._localToDispose.add(Object(common_async.g)(()=>{const cachedLensesNow=this._codeLensCache.get(model);cachedLenses===cachedLensesNow&&(this._codeLensCache.delete(model),this._onModelChange())},3e4)));for(const provider of modes.b.all(model))if("function"==typeof provider.onDidChange){let registration=provider.onDidChange(()=>scheduler.schedule());this._localToDispose.add(registration)}const detectVisibleLenses=this._detectVisibleLenses=new common_async.d(()=>this._onViewportChanged(),250),scheduler=new common_async.d(()=>{const counterValue=++this._modelChangeCounter;this._currentFindCodeLensSymbolsPromise&&this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=Object(common_async.f)(token=>getCodeLensData(model,token)),this._currentFindCodeLensSymbolsPromise.then(result=>{counterValue===this._modelChangeCounter&&(this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=result,this._codeLensCache.put(model,result),this._renderCodeLensSymbols(result),detectVisibleLenses.schedule())},errors.e)},250);this._localToDispose.add(scheduler),this._localToDispose.add(detectVisibleLenses),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(decorationsAccessor=>{this._editor.changeViewZones(viewZonesAccessor=>{let toDispose=[],lastLensLineNumber=-1;this._lenses.forEach(lens=>{lens.isValid()&&lastLensLineNumber!==lens.getLineNumber()?(lens.update(viewZonesAccessor),lastLensLineNumber=lens.getLineNumber()):toDispose.push(lens)});let helper=new CodeLensHelper;toDispose.forEach(l=>{l.dispose(helper,viewZonesAccessor),this._lenses.splice(this._lenses.indexOf(l),1)}),helper.commit(decorationsAccessor)})}),detectVisibleLenses.schedule(),scheduler.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&this._lenses.length>0&&detectVisibleLenses.schedule()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{detectVisibleLenses.schedule()})),this._localToDispose.add(Object(lifecycle.h)(()=>{if(this._editor.getModel()){const scrollState=editorState.c.capture(this._editor);this._editor.changeDecorations(decorationsAccessor=>{this._editor.changeViewZones(viewZonesAccessor=>{this._disposeAllLenses(decorationsAccessor,viewZonesAccessor)})}),scrollState.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseUp(e=>{if(9!==e.target.type)return;let target=e.target.element;if("SPAN"===(null==target?void 0:target.tagName)&&(target=target.parentElement),"A"===(null==target?void 0:target.tagName))for(const lens of this._lenses){let command=lens.getCommand(target);if(command){this._commandService.executeCommand(command.id,...command.arguments||[]).catch(err=>this._notificationService.error(err));break}}})),scheduler.schedule()}_disposeAllLenses(decChangeAccessor,viewZoneChangeAccessor){const helper=new CodeLensHelper;for(const lens of this._lenses)lens.dispose(helper,viewZoneChangeAccessor);decChangeAccessor&&helper.commit(decChangeAccessor),this._lenses=[]}_renderCodeLensSymbols(symbols){if(!this._editor.hasModel())return;let lastGroup,maxLineNumber=this._editor.getModel().getLineCount(),groups=[];for(let symbol of symbols.lenses){let line=symbol.symbol.range.startLineNumber;line<1||line>maxLineNumber||(lastGroup&&lastGroup[lastGroup.length-1].symbol.range.startLineNumber===line?lastGroup.push(symbol):(lastGroup=[symbol],groups.push(lastGroup)))}const scrollState=editorState.c.capture(this._editor);this._editor.changeDecorations(decorationsAccessor=>{this._editor.changeViewZones(viewZoneAccessor=>{const helper=new CodeLensHelper;let codeLensIndex=0,groupsIndex=0;for(;groupsIndex<groups.length&&codeLensIndex<this._lenses.length;){let symbolsLineNumber=groups[groupsIndex][0].symbol.range.startLineNumber,codeLensLineNumber=this._lenses[codeLensIndex].getLineNumber();codeLensLineNumber<symbolsLineNumber?(this._lenses[codeLensIndex].dispose(helper,viewZoneAccessor),this._lenses.splice(codeLensIndex,1)):codeLensLineNumber===symbolsLineNumber?(this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex],helper),groupsIndex++,codeLensIndex++):(this._lenses.splice(codeLensIndex,0,new codelensWidget_CodeLensWidget(groups[groupsIndex],this._editor,this._styleClassName,helper,viewZoneAccessor,()=>this._detectVisibleLenses&&this._detectVisibleLenses.schedule())),codeLensIndex++,groupsIndex++)}for(;codeLensIndex<this._lenses.length;)this._lenses[codeLensIndex].dispose(helper,viewZoneAccessor),this._lenses.splice(codeLensIndex,1);for(;groupsIndex<groups.length;)this._lenses.push(new codelensWidget_CodeLensWidget(groups[groupsIndex],this._editor,this._styleClassName,helper,viewZoneAccessor,()=>this._detectVisibleLenses&&this._detectVisibleLenses.schedule())),groupsIndex++;helper.commit(decorationsAccessor)})}),scrollState.restore(this._editor)}_onViewportChanged(){this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);const model=this._editor.getModel();if(!model)return;const toResolve=[],lenses=[];if(this._lenses.forEach(lens=>{const request=lens.computeIfNecessary(model);request&&(toResolve.push(request),lenses.push(lens))}),0===toResolve.length)return;const resolvePromise=Object(common_async.f)(token=>{const promises=toResolve.map((request,i)=>{const resolvedSymbols=new Array(request.length),promises=request.map((request,i)=>request.symbol.command||"function"!=typeof request.provider.resolveCodeLens?(resolvedSymbols[i]=request.symbol,Promise.resolve(void 0)):Promise.resolve(request.provider.resolveCodeLens(model,request.symbol,token)).then(symbol=>{resolvedSymbols[i]=symbol},errors.f));return Promise.all(promises).then(()=>{token.isCancellationRequested||lenses[i].isDisposed()||lenses[i].updateCommands(resolvedSymbols)})});return Promise.all(promises)});this._currentResolveCodeLensSymbolsPromise=resolvePromise,this._currentResolveCodeLensSymbolsPromise.then(()=>{this._currentCodeLensModel&&this._codeLensCache.put(model,this._currentCodeLensModel),this._oldCodeLensModels.clear(),resolvePromise===this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise=void 0)},err=>{Object(errors.e)(err),resolvePromise===this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise=void 0)})}getLenses(){return this._lenses}};codelensController_CodeLensContribution.ID="css.editor.codeLens",codelensController_CodeLensContribution=codelensController_decorate([codelensController_param(1,commands.b),codelensController_param(2,notification.a),codelensController_param(3,ICodeLensCache)],codelensController_CodeLensContribution),Object(editorExtensions.m)(codelensController_CodeLensContribution.ID,codelensController_CodeLensContribution),Object(editorExtensions.k)(class ShowLensesInCurrentLine extends editorExtensions.b{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:editorContextKeys.a.hasCodeLensProvider,label:Object(nls.a)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(accessor,editor){return __awaiter(this,void 0,void 0,function*(){if(!editor.hasModel())return;const quickInputService=accessor.get(quickInput.a),commandService=accessor.get(commands.b),notificationService=accessor.get(notification.a),lineNumber=editor.getSelection().positionLineNumber,codelensController=editor.getContribution(codelensController_CodeLensContribution.ID),items=[];for(let lens of codelensController.getLenses())if(lens.getLineNumber()===lineNumber)for(let item of lens.getItems()){const{command:command}=item.symbol;command&&items.push({label:command.title,command:command})}if(0===items.length)return;const item=yield quickInputService.pick(items,{canPickMany:!1});if(item)try{yield commandService.executeCommand(item.command.id,...item.command.arguments||[])}catch(err){notificationService.error(err)}})}})},2698:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var arrays=__webpack_require__(2309),cancellation=__webpack_require__(2315),keyCodes=__webpack_require__(2329),lifecycle=__webpack_require__(2294),editorExtensions=__webpack_require__(2301),codeEditorService=__webpack_require__(2317),characterClassifier=__webpack_require__(2377),core_range=__webpack_require__(2295),editorContextKeys=__webpack_require__(2312),modes=__webpack_require__(2308),editorWorkerService=__webpack_require__(2364),aria=__webpack_require__(2335),errors=__webpack_require__(2302),uri=__webpack_require__(2313),editorState=__webpack_require__(2357),editorBrowser=__webpack_require__(2389),core_position=__webpack_require__(2303),selection=__webpack_require__(2311),modelService=__webpack_require__(2336),editOperation=__webpack_require__(2350);class formattingEdit_FormattingEdit{static _handleEolEdits(editor,edits){let newEol=void 0,singleEdits=[];for(let edit of edits)"number"==typeof edit.eol&&(newEol=edit.eol),edit.range&&"string"==typeof edit.text&&singleEdits.push(edit);return"number"==typeof newEol&&editor.hasModel()&&editor.getModel().pushEOL(newEol),singleEdits}static _isFullModelReplaceEdit(editor,edit){if(!editor.hasModel())return!1;const model=editor.getModel(),editRange=model.validateRange(edit.range);return model.getFullModelRange().equalsRange(editRange)}static execute(editor,_edits,addUndoStops){addUndoStops&&editor.pushUndoStop();const edits=formattingEdit_FormattingEdit._handleEolEdits(editor,_edits);1===edits.length&&formattingEdit_FormattingEdit._isFullModelReplaceEdit(editor,edits[0])?editor.executeEdits("formatEditsCommand",edits.map(edit=>editOperation.a.replace(core_range.a.lift(edit.range),edit.text))):editor.executeEdits("formatEditsCommand",edits.map(edit=>editOperation.a.replaceMove(core_range.a.lift(edit.range),edit.text))),addUndoStops&&editor.pushUndoStop()}}var nls=__webpack_require__(2297);class ExtensionIdentifier{constructor(value){this.value=value,this._lower=value.toLowerCase()}static toKey(id){return"string"==typeof id?id.toLowerCase():id._lower}}var instantiation=__webpack_require__(2300),linkedList=__webpack_require__(2359),commands=__webpack_require__(2318),types=__webpack_require__(2314),iterator=__webpack_require__(2341),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function alertFormattingEdits(edits){if(!(edits=edits.filter(edit=>edit.range)).length)return;let{range:range}=edits[0];for(let i=1;i<edits.length;i++)range=core_range.a.plusRange(range,edits[i].range);const{startLineNumber:startLineNumber,endLineNumber:endLineNumber}=range;startLineNumber===endLineNumber?1===edits.length?Object(aria.a)(nls.a("hint11","Made 1 formatting edit on line {0}",startLineNumber)):Object(aria.a)(nls.a("hintn1","Made {0} formatting edits on line {1}",edits.length,startLineNumber)):1===edits.length?Object(aria.a)(nls.a("hint1n","Made 1 formatting edit between lines {0} and {1}",startLineNumber,endLineNumber)):Object(aria.a)(nls.a("hintnn","Made {0} formatting edits between lines {1} and {2}",edits.length,startLineNumber,endLineNumber))}function getRealAndSyntheticDocumentFormattersOrdered(model){const result=[],seen=new Set,docFormatter=modes.g.ordered(model);for(const formatter of docFormatter)result.push(formatter),formatter.extensionId&&seen.add(ExtensionIdentifier.toKey(formatter.extensionId));const rangeFormatter=modes.j.ordered(model);for(const formatter of rangeFormatter){if(formatter.extensionId){if(seen.has(ExtensionIdentifier.toKey(formatter.extensionId)))continue;seen.add(ExtensionIdentifier.toKey(formatter.extensionId))}result.push({displayName:formatter.displayName,extensionId:formatter.extensionId,provideDocumentFormattingEdits:(model,options,token)=>formatter.provideDocumentRangeFormattingEdits(model,model.getFullModelRange(),options,token)})}return result}class format_FormattingConflicts{static select(formatter,document,mode){return __awaiter(this,void 0,void 0,function*(){if(0===formatter.length)return;const selector=iterator.a.first(format_FormattingConflicts._selectors);return selector?yield selector(formatter,document,mode):formatter[0]})}}function formatDocumentRangesWithSelectedProvider(accessor,editorOrModel,rangeOrRanges,mode,progress,token){return __awaiter(this,void 0,void 0,function*(){const instaService=accessor.get(instantiation.a),model=Object(editorBrowser.b)(editorOrModel)?editorOrModel.getModel():editorOrModel,provider=modes.j.ordered(model),selected=yield format_FormattingConflicts.select(provider,model,mode);selected&&(progress.report(selected),yield instaService.invokeFunction(formatDocumentRangesWithProvider,selected,editorOrModel,rangeOrRanges,token))})}function formatDocumentRangesWithProvider(accessor,provider,editorOrModel,rangeOrRanges,token){return __awaiter(this,void 0,void 0,function*(){const workerService=accessor.get(editorWorkerService.a);let model,cts;Object(editorBrowser.b)(editorOrModel)?(model=editorOrModel.getModel(),cts=new editorState.b(editorOrModel,5,void 0,token)):(model=editorOrModel,cts=new editorState.d(editorOrModel,token));let ranges=[],len=0;for(let range of Object(arrays.b)(rangeOrRanges).sort(core_range.a.compareRangesUsingStarts))len>0&&core_range.a.areIntersectingOrTouching(ranges[len-1],range)?ranges[len-1]=core_range.a.fromPositions(ranges[len-1].getStartPosition(),range.getEndPosition()):len=ranges.push(range);const allEdits=[];for(let range of ranges)try{const rawEdits=yield provider.provideDocumentRangeFormattingEdits(model,range,model.getFormattingOptions(),cts.token),minEdits=yield workerService.computeMoreMinimalEdits(model.uri,rawEdits);if(minEdits&&allEdits.push(...minEdits),cts.token.isCancellationRequested)return!0}finally{cts.dispose()}if(0===allEdits.length)return!1;if(Object(editorBrowser.b)(editorOrModel))formattingEdit_FormattingEdit.execute(editorOrModel,allEdits,!0),alertFormattingEdits(allEdits),editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(),1);else{const[{range:range}]=allEdits,initialSelection=new selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn);model.pushEditOperations([initialSelection],allEdits.map(edit=>({text:edit.text,range:core_range.a.lift(edit.range),forceMoveMarkers:!0})),undoEdits=>{for(const{range:range}of undoEdits)if(core_range.a.areIntersectingOrTouching(range,initialSelection))return[new selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn)];return null})}return!0})}function formatDocumentWithSelectedProvider(accessor,editorOrModel,mode,progress,token){return __awaiter(this,void 0,void 0,function*(){const instaService=accessor.get(instantiation.a),model=Object(editorBrowser.b)(editorOrModel)?editorOrModel.getModel():editorOrModel,provider=getRealAndSyntheticDocumentFormattersOrdered(model),selected=yield format_FormattingConflicts.select(provider,model,mode);selected&&(progress.report(selected),yield instaService.invokeFunction(formatDocumentWithProvider,selected,editorOrModel,mode,token))})}function formatDocumentWithProvider(accessor,provider,editorOrModel,mode,token){return __awaiter(this,void 0,void 0,function*(){const workerService=accessor.get(editorWorkerService.a);let model,cts,edits;Object(editorBrowser.b)(editorOrModel)?(model=editorOrModel.getModel(),cts=new editorState.b(editorOrModel,5,void 0,token)):(model=editorOrModel,cts=new editorState.d(editorOrModel,token));try{const rawEdits=yield provider.provideDocumentFormattingEdits(model,model.getFormattingOptions(),cts.token);if(edits=yield workerService.computeMoreMinimalEdits(model.uri,rawEdits),cts.token.isCancellationRequested)return!0}finally{cts.dispose()}if(!edits||0===edits.length)return!1;if(Object(editorBrowser.b)(editorOrModel))formattingEdit_FormattingEdit.execute(editorOrModel,edits,2!==mode),2!==mode&&(alertFormattingEdits(edits),editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(),1));else{const[{range:range}]=edits,initialSelection=new selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn);model.pushEditOperations([initialSelection],edits.map(edit=>({text:edit.text,range:core_range.a.lift(edit.range),forceMoveMarkers:!0})),undoEdits=>{for(const{range:range}of undoEdits)if(core_range.a.areIntersectingOrTouching(range,initialSelection))return[new selection.a(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn)];return null})}return!0})}function getOnTypeFormattingEdits(workerService,model,position,ch,options){const providers=modes.t.ordered(model);return 0===providers.length?Promise.resolve(void 0):providers[0].autoFormatTriggerCharacters.indexOf(ch)<0?Promise.resolve(void 0):Promise.resolve(providers[0].provideOnTypeFormattingEdits(model,position,ch,options,cancellation.a.None)).catch(errors.f).then(edits=>workerService.computeMoreMinimalEdits(model.uri,edits))}format_FormattingConflicts._selectors=new linkedList.a,commands.a.registerCommand("_executeFormatRangeProvider",function(accessor,...args){const[resource,range,options]=args;Object(types.b)(uri.a.isUri(resource)),Object(types.b)(core_range.a.isIRange(range));const model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)("resource");return function getDocumentRangeFormattingEditsUntilResult(workerService,model,range,options,token){return __awaiter(this,void 0,void 0,function*(){const providers=modes.j.ordered(model);for(const provider of providers){let rawEdits=yield Promise.resolve(provider.provideDocumentRangeFormattingEdits(model,range,options,token)).catch(errors.f);if(Object(arrays.o)(rawEdits))return yield workerService.computeMoreMinimalEdits(model.uri,rawEdits)}})}(accessor.get(editorWorkerService.a),model,core_range.a.lift(range),options,cancellation.a.None)}),commands.a.registerCommand("_executeFormatDocumentProvider",function(accessor,...args){const[resource,options]=args;Object(types.b)(uri.a.isUri(resource));const model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)("resource");return function getDocumentFormattingEditsUntilResult(workerService,model,options,token){return __awaiter(this,void 0,void 0,function*(){const providers=getRealAndSyntheticDocumentFormattersOrdered(model);for(const provider of providers){let rawEdits=yield Promise.resolve(provider.provideDocumentFormattingEdits(model,options,token)).catch(errors.f);if(Object(arrays.o)(rawEdits))return yield workerService.computeMoreMinimalEdits(model.uri,rawEdits)}})}(accessor.get(editorWorkerService.a),model,options,cancellation.a.None)}),commands.a.registerCommand("_executeFormatOnTypeProvider",function(accessor,...args){const[resource,position,ch,options]=args;Object(types.b)(uri.a.isUri(resource)),Object(types.b)(core_position.a.isIPosition(position)),Object(types.b)("string"==typeof ch);const model=accessor.get(modelService.a).getModel(resource);if(!model)throw Object(errors.b)("resource");return getOnTypeFormattingEdits(accessor.get(editorWorkerService.a),model,core_position.a.lift(position),ch,options)});var contextkey=__webpack_require__(2307),common_progress=__webpack_require__(2345),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},formatActions_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};let formatActions_FormatOnType=class FormatOnType{constructor(editor,_workerService){this._workerService=_workerService,this._callOnDispose=new lifecycle.b,this._callOnModel=new lifecycle.b,this._editor=editor,this._callOnDispose.add(editor.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(editor.onDidChangeModel(()=>this._update())),this._callOnDispose.add(editor.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(modes.t.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(41))return;if(!this._editor.hasModel())return;const model=this._editor.getModel(),[support]=modes.t.ordered(model);if(!support||!support.autoFormatTriggerCharacters)return;let triggerChars=new characterClassifier.b;for(let ch of support.autoFormatTriggerCharacters)triggerChars.add(ch.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(text=>{let lastCharCode=text.charCodeAt(text.length-1);triggerChars.has(lastCharCode)&&this._trigger(String.fromCharCode(lastCharCode))}))}_trigger(ch){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1)return;const model=this._editor.getModel(),position=this._editor.getPosition();let canceled=!1;const unbind=this._editor.onDidChangeModelContent(e=>{if(e.isFlush)return canceled=!0,void unbind.dispose();for(let i=0,len=e.changes.length;i<len;i++){if(e.changes[i].range.endLineNumber<=position.lineNumber)return canceled=!0,void unbind.dispose()}});getOnTypeFormattingEdits(this._workerService,model,position,ch,model.getFormattingOptions()).then(edits=>{unbind.dispose(),canceled||Object(arrays.o)(edits)&&(formattingEdit_FormattingEdit.execute(this._editor,edits,!0),alertFormattingEdits(edits))},err=>{throw unbind.dispose(),err})}};formatActions_FormatOnType.ID="editor.contrib.autoFormat",formatActions_FormatOnType=__decorate([__param(1,editorWorkerService.a)],formatActions_FormatOnType);let formatActions_FormatOnPaste=class FormatOnPaste{constructor(editor,_instantiationService){this.editor=editor,this._instantiationService=_instantiationService,this._callOnDispose=new lifecycle.b,this._callOnModel=new lifecycle.b,this._callOnDispose.add(editor.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(editor.onDidChangeModel(()=>this._update())),this._callOnDispose.add(editor.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(modes.j.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(40)&&this.editor.hasModel()&&modes.j.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:range})=>this._trigger(range)))}_trigger(range){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(formatDocumentRangesWithSelectedProvider,this.editor,range,2,common_progress.b.None,cancellation.a.None).catch(errors.e))}};formatActions_FormatOnPaste.ID="editor.contrib.formatOnPaste",formatActions_FormatOnPaste=__decorate([__param(1,instantiation.a)],formatActions_FormatOnPaste);Object(editorExtensions.m)(formatActions_FormatOnType.ID,formatActions_FormatOnType),Object(editorExtensions.m)(formatActions_FormatOnPaste.ID,formatActions_FormatOnPaste),Object(editorExtensions.k)(class formatActions_FormatDocumentAction extends editorExtensions.b{constructor(){super({id:"editor.action.formatDocument",label:nls.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:contextkey.a.and(editorContextKeys.a.notInCompositeEditor,editorContextKeys.a.writable,editorContextKeys.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{when:editorContextKeys.a.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})}run(accessor,editor){return formatActions_awaiter(this,void 0,void 0,function*(){if(editor.hasModel()){const instaService=accessor.get(instantiation.a),progressService=accessor.get(common_progress.a);yield progressService.showWhile(instaService.invokeFunction(formatDocumentWithSelectedProvider,editor,1,common_progress.b.None,cancellation.a.None),250)}})}}),Object(editorExtensions.k)(class formatActions_FormatSelectionAction extends editorExtensions.b{constructor(){super({id:"editor.action.formatSelection",label:nls.a("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:contextkey.a.and(editorContextKeys.a.editorTextFocus,editorContextKeys.a.hasDocumentSelectionFormattingProvider),primary:Object(keyCodes.a)(2089,2084),weight:100},contextMenuOpts:{when:contextkey.a.and(editorContextKeys.a.hasDocumentSelectionFormattingProvider,editorContextKeys.a.hasNonEmptySelection),group:"1_modification",order:1.31}})}run(accessor,editor){return formatActions_awaiter(this,void 0,void 0,function*(){if(!editor.hasModel())return;const instaService=accessor.get(instantiation.a),model=editor.getModel(),ranges=editor.getSelections().map(range=>range.isEmpty()?new core_range.a(range.startLineNumber,1,range.startLineNumber,model.getLineMaxColumn(range.startLineNumber)):range),progressService=accessor.get(common_progress.a);yield progressService.showWhile(instaService.invokeFunction(formatDocumentRangesWithSelectedProvider,editor,ranges,1,common_progress.b.None,cancellation.a.None),250)})}}),commands.a.registerCommand("editor.action.format",accessor=>formatActions_awaiter(void 0,void 0,void 0,function*(){const editor=accessor.get(codeEditorService.a).getFocusedCodeEditor();if(!editor||!editor.hasModel())return;const commandService=accessor.get(commands.b);editor.getSelection().isEmpty()?yield commandService.executeCommand("editor.action.formatDocument"):yield commandService.executeCommand("editor.action.formatSelection")}))},2699:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),lifecycle=__webpack_require__(2294),instantiation=__webpack_require__(2300),editorContextKeys=__webpack_require__(2312),contextkey=__webpack_require__(2307),editorExtensions=__webpack_require__(2301),dom=__webpack_require__(2298),browser_event=__webpack_require__(2347),aria=__webpack_require__(2335),scrollableElement=__webpack_require__(2356),common_event=__webpack_require__(2296),services_modeService=(__webpack_require__(2614),__webpack_require__(2366)),markdownRenderer=__webpack_require__(2426),common_async=__webpack_require__(2306),errors=__webpack_require__(2302),modes=__webpack_require__(2308),cancellation=__webpack_require__(2315),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const Context={Visible:new contextkey.c("parameterHintsVisible",!1),MultipleSignatures:new contextkey.c("parameterHintsMultipleSignatures",!1)};function provideSignatureHelp(model,position,context,token){const supports=modes.y.ordered(model);return Object(common_async.h)(supports.map(support=>()=>Promise.resolve(support.provideSignatureHelp(model,position,token,context)).catch(e=>Object(errors.f)(e))))}Object(editorExtensions.j)("_executeSignatureHelpProvider",(model,position,args)=>__awaiter(void 0,void 0,void 0,function*(){const result=yield provideSignatureHelp(model,position,{triggerKind:modes.z.Invoke,isRetrigger:!1,triggerCharacter:args.triggerCharacter},cancellation.a.None);if(result)return setTimeout(()=>result.dispose(),0),result.value}));var ParameterHintState,common_opener=__webpack_require__(2344),colorRegistry=__webpack_require__(2310),themeService=__webpack_require__(2304),characterClassifier=__webpack_require__(2377),parameterHintsModel_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};!function(ParameterHintState){ParameterHintState.Default={type:0};ParameterHintState.Pending=class Pending{constructor(request){this.request=request,this.type=2}};ParameterHintState.Active=class Active{constructor(hints){this.hints=hints,this.type=1}}}(ParameterHintState||(ParameterHintState={}));class parameterHintsModel_ParameterHintsModel extends lifecycle.a{constructor(editor,delay=parameterHintsModel_ParameterHintsModel.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new common_event.a),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=ParameterHintState.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new lifecycle.d),this.triggerChars=new characterClassifier.b,this.retriggerChars=new characterClassifier.b,this.triggerId=0,this.editor=editor,this.throttledDelayer=new common_async.a(delay),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(_=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(modes.y.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(text=>this.onDidType(text))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(value){2===this._state.type&&this._state.request.cancel(),this._state=value}cancel(silent=!1){this.state=ParameterHintState.Default,this.throttledDelayer.cancel(),silent||this._onChangedHints.fire(void 0)}trigger(context,delay){const model=this.editor.getModel();if(!model||!modes.y.has(model))return;const triggerId=++this.triggerId;this._pendingTriggers.push(context),this.throttledDelayer.trigger(()=>this.doTrigger(triggerId),delay).catch(errors.e)}next(){if(1!==this.state.type)return;const length=this.state.hints.signatures.length,activeSignature=this.state.hints.activeSignature,last=activeSignature%length==length-1,cycle=this.editor.getOption(67).cycle;!(length<2||last)||cycle?this.updateActiveSignature(last&&cycle?0:activeSignature+1):this.cancel()}previous(){if(1!==this.state.type)return;const length=this.state.hints.signatures.length,activeSignature=this.state.hints.activeSignature,first=0===activeSignature,cycle=this.editor.getOption(67).cycle;!(length<2||first)||cycle?this.updateActiveSignature(first&&cycle?length-1:activeSignature-1):this.cancel()}updateActiveSignature(activeSignature){1===this.state.type&&(this.state=new ParameterHintState.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:activeSignature})),this._onChangedHints.fire(this.state.hints))}doTrigger(triggerId){return parameterHintsModel_awaiter(this,void 0,void 0,function*(){const isRetrigger=1===this.state.type||2===this.state.type,activeSignatureHelp=1===this.state.type?this.state.hints:void 0;if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const context=this._pendingTriggers.reduce(mergeTriggerContexts);this._pendingTriggers=[];const triggerContext={triggerKind:context.triggerKind,triggerCharacter:context.triggerCharacter,isRetrigger:isRetrigger,activeSignatureHelp:activeSignatureHelp};if(!this.editor.hasModel())return!1;const model=this.editor.getModel(),position=this.editor.getPosition();this.state=new ParameterHintState.Pending(Object(common_async.f)(token=>provideSignatureHelp(model,position,triggerContext,token)));try{const result=yield this.state.request;return triggerId!==this.triggerId?(null==result||result.dispose(),!1):result&&result.value.signatures&&0!==result.value.signatures.length?(this.state=new ParameterHintState.Active(result.value),this._lastSignatureHelpResult.value=result,this._onChangedHints.fire(this.state.hints),!0):(null==result||result.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(error){return triggerId===this.triggerId&&(this.state=ParameterHintState.Default),Object(errors.e)(error),!1}})}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new characterClassifier.b,this.retriggerChars=new characterClassifier.b;const model=this.editor.getModel();if(model)for(const support of modes.y.ordered(model)){for(const ch of support.signatureHelpTriggerCharacters||[])this.triggerChars.add(ch.charCodeAt(0)),this.retriggerChars.add(ch.charCodeAt(0));for(const ch of support.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(ch.charCodeAt(0))}}onDidType(text){if(!this.triggerOnType)return;const lastCharIndex=text.length-1,triggerCharCode=text.charCodeAt(lastCharIndex);(this.triggerChars.has(triggerCharCode)||this.isTriggered&&this.retriggerChars.has(triggerCharCode))&&this.trigger({triggerKind:modes.z.TriggerCharacter,triggerCharacter:text.charAt(lastCharIndex)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:modes.z.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:modes.z.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(67).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function mergeTriggerContexts(previous,current){switch(current.triggerKind){case modes.z.Invoke:return current;case modes.z.ContentChange:return previous;case modes.z.TriggerCharacter:default:return current}}parameterHintsModel_ParameterHintsModel.DEFAULT_DELAY=120;var strings=__webpack_require__(2299),codicons=__webpack_require__(2316),types=__webpack_require__(2314),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const $=dom.a,parameterHintsNextIcon=Object(codicons.e)("parameter-hints-next",codicons.a.chevronDown),parameterHintsPreviousIcon=Object(codicons.e)("parameter-hints-previous",codicons.a.chevronUp);let parameterHintsWidget_ParameterHintsWidget=class ParameterHintsWidget extends lifecycle.a{constructor(editor,contextKeyService,openerService,modeService){super(),this.editor=editor,this.renderDisposeables=this._register(new lifecycle.b),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new markdownRenderer.a(editor,modeService,openerService)),this.model=this._register(new parameterHintsModel_ParameterHintsModel(editor)),this.keyVisible=Context.Visible.bindTo(contextKeyService),this.keyMultipleSignatures=Context.MultipleSignatures.bindTo(contextKeyService),this._register(this.model.onChangedHints(newParameterHints=>{newParameterHints?(this.show(),this.render(newParameterHints)):this.hide()}))}createParamaterHintDOMNodes(){const element=$(".editor-widget.parameter-hints-widget"),wrapper=dom.p(element,$(".wrapper"));wrapper.tabIndex=-1;const controls=dom.p(wrapper,$(".controls")),previous=dom.p(controls,$(".button"+parameterHintsPreviousIcon.cssSelector)),overloads=dom.p(controls,$(".overloads")),next=dom.p(controls,$(".button"+parameterHintsNextIcon.cssSelector)),onPreviousClick=Object(browser_event.b)(Object(browser_event.a)(previous,"click"));this._register(onPreviousClick(this.previous,this));const onNextClick=Object(browser_event.b)(Object(browser_event.a)(next,"click"));this._register(onNextClick(this.next,this));const body=$(".body"),scrollbar=new scrollableElement.a(body,{});this._register(scrollbar),wrapper.appendChild(scrollbar.getDomNode());const signature=dom.p(body,$(".signature")),docs=dom.p(body,$(".docs"));element.style.userSelect="text",this.domNodes={element:element,signature:signature,overloads:overloads,docs:docs,scrollbar:scrollbar},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));const updateFont=()=>{if(!this.domNodes)return;const fontInfo=this.editor.getOption(36);this.domNodes.element.style.fontSize=`${fontInfo.fontSize}px`};updateFont(),this._register(common_event.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(36)).on(updateFont,null)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&dom.e(this.domNodes.element,"visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&dom.Q(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(hints){var _a;if(this.renderDisposeables.clear(),!this.domNodes)return;const multiple=hints.signatures.length>1;dom.ab(this.domNodes.element,"multiple",multiple),this.keyMultipleSignatures.set(multiple),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const signature=hints.signatures[hints.activeSignature];if(!signature)return;const code=dom.p(this.domNodes.signature,$(".code")),fontInfo=this.editor.getOption(36);code.style.fontSize=`${fontInfo.fontSize}px`,code.style.fontFamily=fontInfo.fontFamily;const hasParameters=signature.parameters.length>0,activeParameterIndex=null!==(_a=signature.activeParameter)&&void 0!==_a?_a:hints.activeParameter;if(hasParameters)this.renderParameters(code,signature,activeParameterIndex);else{dom.p(code,$("span")).textContent=signature.label}const activeParameter=signature.parameters[activeParameterIndex];if(null==activeParameter?void 0:activeParameter.documentation){const documentation=$("span.documentation");if("string"==typeof activeParameter.documentation)documentation.textContent=activeParameter.documentation;else{const renderedContents=this.renderDisposeables.add(this.markdownRenderer.render(activeParameter.documentation));dom.e(renderedContents.element,"markdown-docs"),documentation.appendChild(renderedContents.element)}dom.p(this.domNodes.docs,$("p",{},documentation))}if(void 0===signature.documentation);else if("string"==typeof signature.documentation)dom.p(this.domNodes.docs,$("p",{},signature.documentation));else{const renderedContents=this.renderDisposeables.add(this.markdownRenderer.render(signature.documentation));dom.e(renderedContents.element,"markdown-docs"),dom.p(this.domNodes.docs,renderedContents.element)}const hasDocs=this.hasDocs(signature,activeParameter);if(dom.ab(this.domNodes.signature,"has-docs",hasDocs),dom.ab(this.domNodes.docs,"empty",!hasDocs),this.domNodes.overloads.textContent=Object(strings.M)(hints.activeSignature+1,hints.signatures.length.toString().length)+"/"+hints.signatures.length,activeParameter){const labelToAnnounce=this.getParameterLabel(signature,activeParameterIndex);this.announcedLabel!==labelToAnnounce&&(aria.a(nls.a("hint","{0}, hint",labelToAnnounce)),this.announcedLabel=labelToAnnounce)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}hasDocs(signature,activeParameter){return!!(activeParameter&&"string"==typeof activeParameter.documentation&&Object(types.a)(activeParameter.documentation).length>0)||(!!(activeParameter&&"object"==typeof activeParameter.documentation&&Object(types.a)(activeParameter.documentation).value.length>0)||(!!(signature.documentation&&"string"==typeof signature.documentation&&Object(types.a)(signature.documentation).length>0)||!!(signature.documentation&&"object"==typeof signature.documentation&&Object(types.a)(signature.documentation.value).length>0)))}renderParameters(parent,signature,activeParameterIndex){const[start,end]=this.getParameterLabelOffsets(signature,activeParameterIndex),beforeSpan=document.createElement("span");beforeSpan.textContent=signature.label.substring(0,start);const paramSpan=document.createElement("span");paramSpan.textContent=signature.label.substring(start,end),paramSpan.className="parameter active";const afterSpan=document.createElement("span");afterSpan.textContent=signature.label.substring(end),dom.p(parent,beforeSpan,paramSpan,afterSpan)}getParameterLabel(signature,paramIdx){const param=signature.parameters[paramIdx];return Array.isArray(param.label)?signature.label.substring(param.label[0],param.label[1]):param.label}getParameterLabelOffsets(signature,paramIdx){const param=signature.parameters[paramIdx];if(param){if(Array.isArray(param.label))return param.label;{const idx=signature.label.lastIndexOf(param.label);return idx>=0?[idx,idx+param.label.length]:[0,0]}}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return ParameterHintsWidget.ID}trigger(context){this.model.trigger(context,0)}updateMaxHeight(){if(!this.domNodes)return;const maxHeight=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=maxHeight;const wrapper=this.domNodes.element.getElementsByClassName("wrapper");wrapper.length&&(wrapper[0].style.maxHeight=maxHeight)}};parameterHintsWidget_ParameterHintsWidget.ID="editor.widget.parameterHintsWidget",parameterHintsWidget_ParameterHintsWidget=__decorate([__param(1,contextkey.b),__param(2,common_opener.a),__param(3,services_modeService.a)],parameterHintsWidget_ParameterHintsWidget),Object(themeService.g)((theme,collector)=>{const border=theme.getColor(colorRegistry.F);if(border){const borderWidth=theme.type===themeService.b?2:1;collector.addRule(`.monaco-editor .parameter-hints-widget { border: ${borderWidth}px solid ${border}; }`),collector.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${border.transparent(.5)}; }`),collector.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${border.transparent(.5)}; }`)}const background=theme.getColor(colorRegistry.E);background&&collector.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${background}; }`);const link=theme.getColor(colorRegistry.rc);link&&collector.addRule(`.monaco-editor .parameter-hints-widget a { color: ${link}; }`);const foreground=theme.getColor(colorRegistry.G);foreground&&collector.addRule(`.monaco-editor .parameter-hints-widget { color: ${foreground}; }`);const codeBackground=theme.getColor(colorRegistry.qc);codeBackground&&collector.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${codeBackground}; }`)}),__webpack_require__.d(__webpack_exports__,"TriggerParameterHintsAction",function(){return parameterHints_TriggerParameterHintsAction});var parameterHints_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},parameterHints_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let parameterHints_ParameterHintsController=class ParameterHintsController extends lifecycle.a{constructor(editor,instantiationService){super(),this.editor=editor,this.widget=this._register(instantiationService.createInstance(parameterHintsWidget_ParameterHintsWidget,this.editor))}static get(editor){return editor.getContribution(ParameterHintsController.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(context){this.widget.trigger(context)}};parameterHints_ParameterHintsController.ID="editor.controller.parameterHints",parameterHints_ParameterHintsController=parameterHints_decorate([parameterHints_param(1,instantiation.a)],parameterHints_ParameterHintsController);class parameterHints_TriggerParameterHintsAction extends editorExtensions.b{constructor(){super({id:"editor.action.triggerParameterHints",label:nls.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:editorContextKeys.a.hasSignatureHelpProvider,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3082,weight:100}})}run(accessor,editor){const controller=parameterHints_ParameterHintsController.get(editor);controller&&controller.trigger({triggerKind:modes.z.Invoke})}}Object(editorExtensions.m)(parameterHints_ParameterHintsController.ID,parameterHints_ParameterHintsController),Object(editorExtensions.k)(parameterHints_TriggerParameterHintsAction);const ParameterHintsCommand=editorExtensions.c.bindToContribution(parameterHints_ParameterHintsController.get);Object(editorExtensions.l)(new ParameterHintsCommand({id:"closeParameterHints",precondition:Context.Visible,handler:x=>x.cancel(),kbOpts:{weight:175,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),Object(editorExtensions.l)(new ParameterHintsCommand({id:"showPrevParameterHint",precondition:contextkey.a.and(Context.Visible,Context.MultipleSignatures),handler:x=>x.previous(),kbOpts:{weight:175,kbExpr:editorContextKeys.a.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(editorExtensions.l)(new ParameterHintsCommand({id:"showNextParameterHint",precondition:contextkey.a.and(Context.Visible,Context.MultipleSignatures),handler:x=>x.next(),kbOpts:{weight:175,kbExpr:editorContextKeys.a.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},2700:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),cancellation=__webpack_require__(2315),lifecycle=__webpack_require__(2294),range=__webpack_require__(2295),editorNavigationQuickAccess=__webpack_require__(2482),modes=__webpack_require__(2308),arrays=__webpack_require__(2309),errors=__webpack_require__(2302),map=__webpack_require__(2349),iterator=__webpack_require__(2341),numbers=__webpack_require__(2414);class TreeElement{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(candidate,container){let candidateId;"string"==typeof candidate?candidateId=`${container.id}/${candidate}`:(candidateId=`${container.id}/${candidate.name}`,void 0!==container.children.get(candidateId)&&(candidateId=`${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`));let id=candidateId;for(let i=0;void 0!==container.children.get(id);i++)id=`${candidateId}_${i}`;return id}static empty(element){return 0===element.children.size}}class OutlineElement extends TreeElement{constructor(id,parent,symbol){super(),this.id=id,this.parent=parent,this.symbol=symbol,this.children=new Map}}class OutlineGroup extends TreeElement{constructor(id,parent,label,order){super(),this.id=id,this.parent=parent,this.label=label,this.order=order,this.children=new Map}}class outlineModel_OutlineModel extends TreeElement{constructor(uri){super(),this.uri=uri,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(textModel,token){let key=this._keys.for(textModel,!0),data=outlineModel_OutlineModel._requests.get(key);if(!data){let source=new cancellation.b;data={promiseCnt:0,source:source,promise:outlineModel_OutlineModel._create(textModel,source.token),model:void 0},outlineModel_OutlineModel._requests.set(key,data);const now=Date.now();data.promise.then(()=>{let key=this._keys.for(textModel,!1),avg=this._requestDurations.get(key);avg||(avg=new numbers.a,this._requestDurations.set(key,avg)),avg.update(Date.now()-now)})}return data.model?Promise.resolve(data.model):(data.promiseCnt+=1,token.onCancellationRequested(()=>{0==--data.promiseCnt&&(data.source.cancel(),outlineModel_OutlineModel._requests.delete(key))}),new Promise((resolve,reject)=>{data.promise.then(model=>{data.model=model,resolve(model)},err=>{outlineModel_OutlineModel._requests.delete(key),reject(err)})}))}static _create(textModel,token){const cts=new cancellation.b(token),result=new outlineModel_OutlineModel(textModel.uri),provider=modes.m.ordered(textModel),promises=provider.map((provider,index)=>{var _a;let id=TreeElement.findId(`provider_${index}`,result),group=new OutlineGroup(id,result,null!==(_a=provider.displayName)&&void 0!==_a?_a:"Unknown Outline Provider",index);return Promise.resolve(provider.provideDocumentSymbols(textModel,cts.token)).then(result=>{for(const info of result||[])outlineModel_OutlineModel._makeOutlineElement(info,group);return group},err=>(Object(errors.f)(err),group)).then(group=>{TreeElement.empty(group)?group.remove():result._groups.set(id,group)})}),listener=modes.m.onDidChange(()=>{const newProvider=modes.m.ordered(textModel);Object(arrays.g)(newProvider,provider)||cts.cancel()});return Promise.all(promises).then(()=>cts.token.isCancellationRequested&&!token.isCancellationRequested?outlineModel_OutlineModel._create(textModel,token):result._compact()).finally(()=>{listener.dispose()})}static _makeOutlineElement(info,container){let id=TreeElement.findId(info,container),res=new OutlineElement(id,container,info);if(info.children)for(const childInfo of info.children)outlineModel_OutlineModel._makeOutlineElement(childInfo,res);container.children.set(res.id,res)}_compact(){let count=0;for(const[key,group]of this._groups)0===group.children.size?this._groups.delete(key):count+=1;if(1!==count)this.children=this._groups;else{let group=iterator.a.first(this._groups.values());for(let[,child]of group.children)child.parent=this,this.children.set(child.id,child)}return this}}outlineModel_OutlineModel._requestDurations=new map.a(50,.7),outlineModel_OutlineModel._requests=new map.a(9,.75),outlineModel_OutlineModel._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(textModel,version){return`${textModel.id}/${version?textModel.getVersionId():""}/${this._hash(modes.m.all(textModel))}`}_hash(providers){let result="";for(const provider of providers){let n=this._data.get(provider);void 0===n&&(n=this._counter++,this._data.set(provider,n)),result+=n}return result}};var strings=__webpack_require__(2299),filters=__webpack_require__(2354),path=__webpack_require__(2352),platform=__webpack_require__(2305);const NO_SCORE2=[void 0,[]];function scoreFuzzy2(target,query,patternStart=0,wordStart=0){const preparedQuery=query;return preparedQuery.values&&preparedQuery.values.length>1?function doScoreFuzzy2Multiple(target,query,patternStart,wordStart){let totalScore=0;const totalMatches=[];for(const queryPiece of query){const[score,matches]=doScoreFuzzy2Single(target,queryPiece,patternStart,wordStart);if("number"!=typeof score)return NO_SCORE2;totalScore+=score,totalMatches.push(...matches)}return[totalScore,normalizeMatches(totalMatches)]}(target,preparedQuery.values,patternStart,wordStart):doScoreFuzzy2Single(target,query,patternStart,wordStart)}function doScoreFuzzy2Single(target,query,patternStart,wordStart){const score=Object(filters.d)(query.original,query.originalLowercase,patternStart,target,target.toLowerCase(),wordStart,!0);return score?[score[0],Object(filters.c)(score)]:NO_SCORE2}function normalizeMatches(matches){const sortedMatches=matches.sort((matchA,matchB)=>matchA.start-matchB.start),normalizedMatches=[];let currentMatch=void 0;for(const match of sortedMatches)currentMatch&&matchOverlaps(currentMatch,match)?(currentMatch.start=Math.min(currentMatch.start,match.start),currentMatch.end=Math.max(currentMatch.end,match.end)):(currentMatch=match,normalizedMatches.push(match));return normalizedMatches}function matchOverlaps(matchA,matchB){return!(matchA.end<matchB.start)&&!(matchB.end<matchA.start)}const MULTIPLE_QUERY_VALUES_SEPARATOR=" ";function prepareQuery(original){"string"!=typeof original&&(original="");const originalLowercase=original.toLowerCase(),{pathNormalized:pathNormalized,normalized:normalized,normalizedLowercase:normalizedLowercase}=normalizeQuery(original),containsPathSeparator=pathNormalized.indexOf(path.h)>=0;let values=void 0;const originalSplit=original.split(MULTIPLE_QUERY_VALUES_SEPARATOR);if(originalSplit.length>1)for(const originalPiece of originalSplit){const{pathNormalized:pathNormalizedPiece,normalized:normalizedPiece,normalizedLowercase:normalizedLowercasePiece}=normalizeQuery(originalPiece);normalizedPiece&&(values||(values=[]),values.push({original:originalPiece,originalLowercase:originalPiece.toLowerCase(),pathNormalized:pathNormalizedPiece,normalized:normalizedPiece,normalizedLowercase:normalizedLowercasePiece}))}return{original:original,originalLowercase:originalLowercase,pathNormalized:pathNormalized,normalized:normalized,normalizedLowercase:normalizedLowercase,values:values,containsPathSeparator:containsPathSeparator}}function normalizeQuery(original){let pathNormalized;pathNormalized=platform.i?original.replace(/\//g,path.h):original.replace(/\\/g,path.h);const normalized=Object(strings.V)(pathNormalized).replace(/\s/g,"");return{pathNormalized:pathNormalized,normalized:normalized,normalizedLowercase:normalized.toLowerCase()}}function pieceToQuery(arg1){return Array.isArray(arg1)?prepareQuery(arg1.map(piece=>piece.original).join(MULTIPLE_QUERY_VALUES_SEPARATOR)):prepareQuery(arg1.original)}var codicons=__webpack_require__(2316),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider extends editorNavigationQuickAccess.a{constructor(options=Object.create(null)){super(options),this.options=options,options.canAcceptInBackground=!0}provideWithoutTextEditor(picker){return this.provideLabelPick(picker,Object(nls.a)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),lifecycle.a.None}provideWithTextEditor(editor,picker,token){const model=this.getModel(editor);return model?modes.m.has(model)?this.doProvideWithEditorSymbols(editor,model,picker,token):this.doProvideWithoutEditorSymbols(editor,model,picker,token):lifecycle.a.None}doProvideWithoutEditorSymbols(editor,model,picker,token){const disposables=new lifecycle.b;return this.provideLabelPick(picker,Object(nls.a)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>__awaiter(this,void 0,void 0,function*(){(yield this.waitForLanguageSymbolRegistry(model,disposables))&&!token.isCancellationRequested&&disposables.add(this.doProvideWithEditorSymbols(editor,model,picker,token))}))(),disposables}provideLabelPick(picker,label){picker.items=[{label:label,index:0,kind:14}],picker.ariaLabel=label}waitForLanguageSymbolRegistry(model,disposables){return __awaiter(this,void 0,void 0,function*(){if(modes.m.has(model))return!0;let symbolProviderRegistryPromiseResolve;const symbolProviderRegistryPromise=new Promise(resolve=>symbolProviderRegistryPromiseResolve=resolve),symbolProviderListener=disposables.add(modes.m.onDidChange(()=>{modes.m.has(model)&&(symbolProviderListener.dispose(),symbolProviderRegistryPromiseResolve(!0))}));return disposables.add(Object(lifecycle.h)(()=>symbolProviderRegistryPromiseResolve(!1))),symbolProviderRegistryPromise})}doProvideWithEditorSymbols(editor,model,picker,token){const disposables=new lifecycle.b;disposables.add(picker.onDidAccept(event=>{const[item]=picker.selectedItems;item&&item.range&&(this.gotoLocation(editor,{range:item.range.selection,keyMods:picker.keyMods,preserveFocus:event.inBackground}),event.inBackground||picker.hide())})),disposables.add(picker.onDidTriggerItemButton(({item:item})=>{item&&item.range&&(this.gotoLocation(editor,{range:item.range.selection,keyMods:picker.keyMods,forceSideBySide:!0}),picker.hide())}));const symbolsPromise=this.getDocumentSymbols(model,!0,token);let picksCts=void 0;const updatePickerItems=()=>__awaiter(this,void 0,void 0,function*(){null==picksCts||picksCts.dispose(!0),picker.busy=!1,picksCts=new cancellation.b(token),picker.busy=!0;try{const query=prepareQuery(picker.value.substr(gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX.length).trim()),items=yield this.doGetSymbolPicks(symbolsPromise,query,void 0,picksCts.token);if(token.isCancellationRequested)return;items.length>0?picker.items=items:query.original.length>0?this.provideLabelPick(picker,Object(nls.a)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(picker,Object(nls.a)("noSymbolResults","No editor symbols"))}finally{token.isCancellationRequested||(picker.busy=!1)}});disposables.add(picker.onDidChangeValue(()=>updatePickerItems())),updatePickerItems();let ignoreFirstActiveEvent=!0;return disposables.add(picker.onDidChangeActive(()=>{const[item]=picker.activeItems;if(item&&item.range){if(ignoreFirstActiveEvent)return void(ignoreFirstActiveEvent=!1);editor.revealRangeInCenter(item.range.selection,0),this.addDecorations(editor,item.range.decoration)}})),disposables}doGetSymbolPicks(symbolsPromise,query,options,token){return __awaiter(this,void 0,void 0,function*(){const symbols=yield symbolsPromise;if(token.isCancellationRequested)return[];const filterBySymbolKind=0===query.original.indexOf(gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.SCOPE_PREFIX),filterPos=filterBySymbolKind?1:0;let symbolQuery,containerQuery;query.values&&query.values.length>1?(symbolQuery=pieceToQuery(query.values[0]),containerQuery=pieceToQuery(query.values.slice(1))):symbolQuery=query;const filteredSymbolPicks=[];for(let index=0;index<symbols.length;index++){const symbol=symbols[index],symbolLabel=Object(strings.W)(symbol.name),symbolLabelWithIcon=`$(symbol-${modes.A.toString(symbol.kind)||"property"}) ${symbolLabel}`,symbolLabelIconOffset=symbolLabelWithIcon.length-symbolLabel.length;let containerLabel=symbol.containerName;(null==options?void 0:options.extraContainerLabel)&&(containerLabel=containerLabel?`${options.extraContainerLabel}  ${containerLabel}`:options.extraContainerLabel);let symbolScore=void 0,symbolMatches=void 0,containerScore=void 0,containerMatches=void 0;if(query.original.length>filterPos){let skipContainerQuery=!1;if(symbolQuery!==query&&([symbolScore,symbolMatches]=scoreFuzzy2(symbolLabelWithIcon,Object.assign(Object.assign({},query),{values:void 0}),filterPos,symbolLabelIconOffset),"number"==typeof symbolScore&&(skipContainerQuery=!0)),"number"!=typeof symbolScore&&([symbolScore,symbolMatches]=scoreFuzzy2(symbolLabelWithIcon,symbolQuery,filterPos,symbolLabelIconOffset),"number"!=typeof symbolScore))continue;if(!skipContainerQuery&&containerQuery){if(containerLabel&&containerQuery.original.length>0&&([containerScore,containerMatches]=scoreFuzzy2(containerLabel,containerQuery)),"number"!=typeof containerScore)continue;"number"==typeof symbolScore&&(symbolScore+=containerScore)}}const deprecated=symbol.tags&&symbol.tags.indexOf(1)>=0;filteredSymbolPicks.push({index:index,kind:symbol.kind,score:symbolScore,label:symbolLabelWithIcon,ariaLabel:symbolLabel,description:containerLabel,highlights:deprecated?void 0:{label:symbolMatches,description:containerMatches},range:{selection:range.a.collapseToStart(symbol.selectionRange),decoration:symbol.range},strikethrough:deprecated,buttons:(()=>{var _a,_b;const openSideBySideDirection=(null===(_a=this.options)||void 0===_a?void 0:_a.openSideBySideDirection)?null===(_b=this.options)||void 0===_b?void 0:_b.openSideBySideDirection():void 0;if(openSideBySideDirection)return[{iconClass:"right"===openSideBySideDirection?codicons.a.splitHorizontal.classNames:codicons.a.splitVertical.classNames,tooltip:"right"===openSideBySideDirection?Object(nls.a)("openToSide","Open to the Side"):Object(nls.a)("openToBottom","Open to the Bottom")}]})()})}const sortedFilteredSymbolPicks=filteredSymbolPicks.sort((symbolA,symbolB)=>filterBySymbolKind?this.compareByKindAndScore(symbolA,symbolB):this.compareByScore(symbolA,symbolB));let symbolPicks=[];if(filterBySymbolKind){let lastSymbolKind=void 0,lastSeparator=void 0,lastSymbolKindCounter=0;function updateLastSeparatorLabel(){lastSeparator&&"number"==typeof lastSymbolKind&&lastSymbolKindCounter>0&&(lastSeparator.label=Object(strings.x)(NLS_SYMBOL_KIND_CACHE[lastSymbolKind]||FALLBACK_NLS_SYMBOL_KIND,lastSymbolKindCounter))}for(const symbolPick of sortedFilteredSymbolPicks)lastSymbolKind!==symbolPick.kind?(updateLastSeparatorLabel(),lastSymbolKind=symbolPick.kind,lastSymbolKindCounter=1,lastSeparator={type:"separator"},symbolPicks.push(lastSeparator)):lastSymbolKindCounter++,symbolPicks.push(symbolPick);updateLastSeparatorLabel()}else sortedFilteredSymbolPicks.length>0&&(symbolPicks=[{label:Object(nls.a)("symbols","symbols ({0})",filteredSymbolPicks.length),type:"separator"},...sortedFilteredSymbolPicks]);return symbolPicks})}compareByScore(symbolA,symbolB){if("number"!=typeof symbolA.score&&"number"==typeof symbolB.score)return 1;if("number"==typeof symbolA.score&&"number"!=typeof symbolB.score)return-1;if("number"==typeof symbolA.score&&"number"==typeof symbolB.score){if(symbolA.score>symbolB.score)return-1;if(symbolA.score<symbolB.score)return 1}return symbolA.index<symbolB.index?-1:symbolA.index>symbolB.index?1:0}compareByKindAndScore(symbolA,symbolB){const kindA=NLS_SYMBOL_KIND_CACHE[symbolA.kind]||FALLBACK_NLS_SYMBOL_KIND,kindB=NLS_SYMBOL_KIND_CACHE[symbolB.kind]||FALLBACK_NLS_SYMBOL_KIND,result=kindA.localeCompare(kindB);return 0===result?this.compareByScore(symbolA,symbolB):result}getDocumentSymbols(document,flatten,token){return __awaiter(this,void 0,void 0,function*(){const model=yield outlineModel_OutlineModel.create(document,token);if(token.isCancellationRequested)return[];const roots=[];for(const child of model.children.values())child instanceof OutlineElement?roots.push(child.symbol):roots.push(...iterator.a.map(child.children.values(),child=>child.symbol));let flatEntries=[];return flatten?this.flattenDocumentSymbols(flatEntries,roots,""):flatEntries=roots,flatEntries.sort((symbolA,symbolB)=>range.a.compareRangesUsingStarts(symbolA.range,symbolB.range))})}flattenDocumentSymbols(bucket,entries,overrideContainerLabel){for(const entry of entries)bucket.push({kind:entry.kind,tags:entry.tags,name:entry.name,detail:entry.detail,containerName:entry.containerName||overrideContainerLabel,range:entry.range,selectionRange:entry.selectionRange,children:void 0}),entry.children&&this.flattenDocumentSymbols(bucket,entry.children,entry.name)}}gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX="@",gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.SCOPE_PREFIX=":",gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY=`${gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX}${gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.SCOPE_PREFIX}`;const FALLBACK_NLS_SYMBOL_KIND=Object(nls.a)("property","properties ({0})"),NLS_SYMBOL_KIND_CACHE={5:Object(nls.a)("method","methods ({0})"),11:Object(nls.a)("function","functions ({0})"),8:Object(nls.a)("_constructor","constructors ({0})"),12:Object(nls.a)("variable","variables ({0})"),4:Object(nls.a)("class","classes ({0})"),22:Object(nls.a)("struct","structs ({0})"),23:Object(nls.a)("event","events ({0})"),24:Object(nls.a)("operator","operators ({0})"),10:Object(nls.a)("interface","interfaces ({0})"),2:Object(nls.a)("namespace","namespaces ({0})"),3:Object(nls.a)("package","packages ({0})"),25:Object(nls.a)("typeParameter","type parameters ({0})"),1:Object(nls.a)("modules","modules ({0})"),6:Object(nls.a)("property","properties ({0})"),9:Object(nls.a)("enum","enumerations ({0})"),21:Object(nls.a)("enumMember","enumeration members ({0})"),14:Object(nls.a)("string","strings ({0})"),0:Object(nls.a)("file","files ({0})"),17:Object(nls.a)("array","arrays ({0})"),15:Object(nls.a)("number","numbers ({0})"),16:Object(nls.a)("boolean","booleans ({0})"),18:Object(nls.a)("object","objects ({0})"),19:Object(nls.a)("key","keys ({0})"),7:Object(nls.a)("field","fields ({0})"),13:Object(nls.a)("constant","constants ({0})")};var common_platform=__webpack_require__(2324),quickAccess=__webpack_require__(2382),codeEditorService=__webpack_require__(2317),types=__webpack_require__(2314),standaloneStrings=__webpack_require__(2353),common_event=__webpack_require__(2296),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),quickInput=__webpack_require__(2363);__webpack_require__.d(__webpack_exports__,"StandaloneGotoSymbolQuickAccessProvider",function(){return standaloneGotoSymbolQuickAccess_StandaloneGotoSymbolQuickAccessProvider}),__webpack_require__.d(__webpack_exports__,"GotoLineAction",function(){return standaloneGotoSymbolQuickAccess_GotoLineAction});let standaloneGotoSymbolQuickAccess_StandaloneGotoSymbolQuickAccessProvider=class StandaloneGotoSymbolQuickAccessProvider extends gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider{constructor(editorService){super(),this.editorService=editorService,this.onDidActiveTextEditorControlChange=common_event.b.None}get activeTextEditorControl(){return Object(types.n)(this.editorService.getFocusedCodeEditor())}};standaloneGotoSymbolQuickAccess_StandaloneGotoSymbolQuickAccessProvider=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}(0,codeEditorService.a)],standaloneGotoSymbolQuickAccess_StandaloneGotoSymbolQuickAccessProvider),common_platform.a.as(quickAccess.b.Quickaccess).registerQuickAccessProvider({ctor:standaloneGotoSymbolQuickAccess_StandaloneGotoSymbolQuickAccessProvider,prefix:gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:standaloneStrings.f.quickOutlineActionLabel,prefix:gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:standaloneStrings.f.quickOutlineByCategoryActionLabel,prefix:gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class standaloneGotoSymbolQuickAccess_GotoLineAction extends editorExtensions.b{constructor(){super({id:"editor.action.quickOutline",label:standaloneStrings.f.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:editorContextKeys.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(accessor){accessor.get(quickInput.a).quickAccess.show(gotoSymbolQuickAccess_AbstractGotoSymbolQuickAccessProvider.PREFIX)}}Object(editorExtensions.k)(standaloneGotoSymbolQuickAccess_GotoLineAction)},2701:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),keyCodes=__webpack_require__(2329),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),editOperation=__webpack_require__(2350),position=__webpack_require__(2303),range=__webpack_require__(2295),core_selection=__webpack_require__(2311),languageConfigurationRegistry=__webpack_require__(2334);class blockCommentCommand_BlockCommentCommand{constructor(selection,insertSpace){this._selection=selection,this._insertSpace=insertSpace,this._usedEndToken=null}static _haystackHasNeedleAtOffset(haystack,needle,offset){if(offset<0)return!1;const needleLength=needle.length;if(offset+needleLength>haystack.length)return!1;for(let i=0;i<needleLength;i++){const codeA=haystack.charCodeAt(offset+i),codeB=needle.charCodeAt(i);if(codeA!==codeB&&!(codeA>=65&&codeA<=90&&codeA+32===codeB||codeB>=65&&codeB<=90&&codeB+32===codeA))return!1}return!0}_createOperationsForBlockComment(selection,startToken,endToken,insertSpace,model,builder){const startLineNumber=selection.startLineNumber,startColumn=selection.startColumn,endLineNumber=selection.endLineNumber,endColumn=selection.endColumn,startLineText=model.getLineContent(startLineNumber),endLineText=model.getLineContent(endLineNumber);let ops,startTokenIndex=startLineText.lastIndexOf(startToken,startColumn-1+startToken.length),endTokenIndex=endLineText.indexOf(endToken,endColumn-1-endToken.length);if(-1!==startTokenIndex&&-1!==endTokenIndex)if(startLineNumber===endLineNumber){startLineText.substring(startTokenIndex+startToken.length,endTokenIndex).indexOf(endToken)>=0&&(startTokenIndex=-1,endTokenIndex=-1)}else{const startLineAfterStartToken=startLineText.substring(startTokenIndex+startToken.length),endLineBeforeEndToken=endLineText.substring(0,endTokenIndex);(startLineAfterStartToken.indexOf(endToken)>=0||endLineBeforeEndToken.indexOf(endToken)>=0)&&(startTokenIndex=-1,endTokenIndex=-1)}-1!==startTokenIndex&&-1!==endTokenIndex?(insertSpace&&startTokenIndex+startToken.length<startLineText.length&&32===startLineText.charCodeAt(startTokenIndex+startToken.length)&&(startToken+=" "),insertSpace&&endTokenIndex>0&&32===endLineText.charCodeAt(endTokenIndex-1)&&(endToken=" "+endToken,endTokenIndex-=1),ops=blockCommentCommand_BlockCommentCommand._createRemoveBlockCommentOperations(new range.a(startLineNumber,startTokenIndex+startToken.length+1,endLineNumber,endTokenIndex+1),startToken,endToken)):(ops=blockCommentCommand_BlockCommentCommand._createAddBlockCommentOperations(selection,startToken,endToken,this._insertSpace),this._usedEndToken=1===ops.length?endToken:null);for(const op of ops)builder.addTrackedEditOperation(op.range,op.text)}static _createRemoveBlockCommentOperations(r,startToken,endToken){let res=[];return range.a.isEmpty(r)?res.push(editOperation.a.delete(new range.a(r.startLineNumber,r.startColumn-startToken.length,r.endLineNumber,r.endColumn+endToken.length))):(res.push(editOperation.a.delete(new range.a(r.startLineNumber,r.startColumn-startToken.length,r.startLineNumber,r.startColumn))),res.push(editOperation.a.delete(new range.a(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn+endToken.length)))),res}static _createAddBlockCommentOperations(r,startToken,endToken,insertSpace){let res=[];return range.a.isEmpty(r)?res.push(editOperation.a.replace(new range.a(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn),startToken+"  "+endToken)):(res.push(editOperation.a.insert(new position.a(r.startLineNumber,r.startColumn),startToken+(insertSpace?" ":""))),res.push(editOperation.a.insert(new position.a(r.endLineNumber,r.endColumn),(insertSpace?" ":"")+endToken))),res}getEditOperations(model,builder){const startLineNumber=this._selection.startLineNumber,startColumn=this._selection.startColumn;model.tokenizeIfCheap(startLineNumber);const languageId=model.getLanguageIdAtPosition(startLineNumber,startColumn),config=languageConfigurationRegistry.a.getComments(languageId);config&&config.blockCommentStartToken&&config.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,config.blockCommentStartToken,config.blockCommentEndToken,this._insertSpace,model,builder)}computeCursorState(model,helper){const inverseEditOperations=helper.getInverseEditOperations();if(2===inverseEditOperations.length){const startTokenEditOperation=inverseEditOperations[0],endTokenEditOperation=inverseEditOperations[1];return new core_selection.a(startTokenEditOperation.range.endLineNumber,startTokenEditOperation.range.endColumn,endTokenEditOperation.range.startLineNumber,endTokenEditOperation.range.startColumn)}{const srcRange=inverseEditOperations[0].range,deltaColumn=this._usedEndToken?-this._usedEndToken.length-1:0;return new core_selection.a(srcRange.endLineNumber,srcRange.endColumn+deltaColumn,srcRange.endLineNumber,srcRange.endColumn+deltaColumn)}}}var strings=__webpack_require__(2299);class lineCommentCommand_LineCommentCommand{constructor(selection,tabSize,type,insertSpace,ignoreEmptyLines){this._selection=selection,this._tabSize=tabSize,this._type=type,this._insertSpace=insertSpace,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=ignoreEmptyLines}static _gatherPreflightCommentStrings(model,startLineNumber,endLineNumber){model.tokenizeIfCheap(startLineNumber);const languageId=model.getLanguageIdAtPosition(startLineNumber,1),config=languageConfigurationRegistry.a.getComments(languageId),commentStr=config?config.lineCommentToken:null;if(!commentStr)return null;let lines=[];for(let i=0,lineCount=endLineNumber-startLineNumber+1;i<lineCount;i++)lines[i]={ignore:!1,commentStr:commentStr,commentStrOffset:0,commentStrLength:commentStr.length};return lines}static _analyzeLines(type,insertSpace,model,lines,startLineNumber,ignoreEmptyLines){let shouldRemoveComments,onlyWhitespaceLines=!0;shouldRemoveComments=0===type||1!==type;for(let i=0,lineCount=lines.length;i<lineCount;i++){const lineData=lines[i],lineNumber=startLineNumber+i,lineContent=model.getLineContent(lineNumber),lineContentStartOffset=strings.w(lineContent);if(-1!==lineContentStartOffset){if(onlyWhitespaceLines=!1,lineData.ignore=!1,lineData.commentStrOffset=lineContentStartOffset,shouldRemoveComments&&!blockCommentCommand_BlockCommentCommand._haystackHasNeedleAtOffset(lineContent,lineData.commentStr,lineContentStartOffset)&&(0===type?shouldRemoveComments=!1:1===type||(lineData.ignore=!0)),shouldRemoveComments&&insertSpace){const commentStrEndOffset=lineContentStartOffset+lineData.commentStrLength;commentStrEndOffset<lineContent.length&&32===lineContent.charCodeAt(commentStrEndOffset)&&(lineData.commentStrLength+=1)}}else lineData.ignore=ignoreEmptyLines,lineData.commentStrOffset=lineContent.length}if(0===type&&onlyWhitespaceLines){shouldRemoveComments=!1;for(let i=0,lineCount=lines.length;i<lineCount;i++)lines[i].ignore=!1}return{supported:!0,shouldRemoveComments:shouldRemoveComments,lines:lines}}static _gatherPreflightData(type,insertSpace,model,startLineNumber,endLineNumber,ignoreEmptyLines){const lines=lineCommentCommand_LineCommentCommand._gatherPreflightCommentStrings(model,startLineNumber,endLineNumber);return null===lines?{supported:!1}:lineCommentCommand_LineCommentCommand._analyzeLines(type,insertSpace,model,lines,startLineNumber,ignoreEmptyLines)}_executeLineComments(model,builder,data,s){let ops;data.shouldRemoveComments?ops=lineCommentCommand_LineCommentCommand._createRemoveLineCommentsOperations(data.lines,s.startLineNumber):(lineCommentCommand_LineCommentCommand._normalizeInsertionPoint(model,data.lines,s.startLineNumber,this._tabSize),ops=this._createAddLineCommentsOperations(data.lines,s.startLineNumber));const cursorPosition=new position.a(s.positionLineNumber,s.positionColumn);for(let i=0,len=ops.length;i<len;i++)if(builder.addEditOperation(ops[i].range,ops[i].text),range.a.isEmpty(ops[i].range)&&range.a.getStartPosition(ops[i].range).equals(cursorPosition)){model.getLineContent(cursorPosition.lineNumber).length+1===cursorPosition.column&&(this._deltaColumn=(ops[i].text||"").length)}this._selectionId=builder.trackSelection(s)}_attemptRemoveBlockComment(model,s,startToken,endToken){let startLineNumber=s.startLineNumber,endLineNumber=s.endLineNumber,startTokenAllowedBeforeColumn=endToken.length+Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn),startTokenIndex=model.getLineContent(startLineNumber).lastIndexOf(startToken,startTokenAllowedBeforeColumn-1),endTokenIndex=model.getLineContent(endLineNumber).indexOf(endToken,s.endColumn-1-startToken.length);return-1!==startTokenIndex&&-1===endTokenIndex&&(endTokenIndex=model.getLineContent(startLineNumber).indexOf(endToken,startTokenIndex+startToken.length),endLineNumber=startLineNumber),-1===startTokenIndex&&-1!==endTokenIndex&&(startTokenIndex=model.getLineContent(endLineNumber).lastIndexOf(startToken,endTokenIndex),startLineNumber=endLineNumber),!s.isEmpty()||-1!==startTokenIndex&&-1!==endTokenIndex||-1!==(startTokenIndex=model.getLineContent(startLineNumber).indexOf(startToken))&&(endTokenIndex=model.getLineContent(startLineNumber).indexOf(endToken,startTokenIndex+startToken.length)),-1!==startTokenIndex&&32===model.getLineContent(startLineNumber).charCodeAt(startTokenIndex+startToken.length)&&(startToken+=" "),-1!==endTokenIndex&&32===model.getLineContent(endLineNumber).charCodeAt(endTokenIndex-1)&&(endToken=" "+endToken,endTokenIndex-=1),-1!==startTokenIndex&&-1!==endTokenIndex?blockCommentCommand_BlockCommentCommand._createRemoveBlockCommentOperations(new range.a(startLineNumber,startTokenIndex+startToken.length+1,endLineNumber,endTokenIndex+1),startToken,endToken):null}_executeBlockComment(model,builder,s){model.tokenizeIfCheap(s.startLineNumber);let languageId=model.getLanguageIdAtPosition(s.startLineNumber,1),config=languageConfigurationRegistry.a.getComments(languageId);if(!config||!config.blockCommentStartToken||!config.blockCommentEndToken)return;const startToken=config.blockCommentStartToken,endToken=config.blockCommentEndToken;let ops=this._attemptRemoveBlockComment(model,s,startToken,endToken);if(!ops){if(s.isEmpty()){const lineContent=model.getLineContent(s.startLineNumber);let firstNonWhitespaceIndex=strings.w(lineContent);-1===firstNonWhitespaceIndex&&(firstNonWhitespaceIndex=lineContent.length),ops=blockCommentCommand_BlockCommentCommand._createAddBlockCommentOperations(new range.a(s.startLineNumber,firstNonWhitespaceIndex+1,s.startLineNumber,lineContent.length+1),startToken,endToken,this._insertSpace)}else ops=blockCommentCommand_BlockCommentCommand._createAddBlockCommentOperations(new range.a(s.startLineNumber,model.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),startToken,endToken,this._insertSpace);1===ops.length&&(this._deltaColumn=startToken.length+1)}this._selectionId=builder.trackSelection(s);for(const op of ops)builder.addEditOperation(op.range,op.text)}getEditOperations(model,builder){let s=this._selection;this._moveEndPositionDown=!1,s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1)));const data=lineCommentCommand_LineCommentCommand._gatherPreflightData(this._type,this._insertSpace,model,s.startLineNumber,s.endLineNumber,this._ignoreEmptyLines);return data.supported?this._executeLineComments(model,builder,data,s):this._executeBlockComment(model,builder,s)}computeCursorState(model,helper){let result=helper.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(result=result.setEndPosition(result.endLineNumber+1,1)),new core_selection.a(result.selectionStartLineNumber,result.selectionStartColumn+this._deltaColumn,result.positionLineNumber,result.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(lines,startLineNumber){let res=[];for(let i=0,len=lines.length;i<len;i++){const lineData=lines[i];lineData.ignore||res.push(editOperation.a.delete(new range.a(startLineNumber+i,lineData.commentStrOffset+1,startLineNumber+i,lineData.commentStrOffset+lineData.commentStrLength+1)))}return res}_createAddLineCommentsOperations(lines,startLineNumber){let res=[];const afterCommentStr=this._insertSpace?" ":"";for(let i=0,len=lines.length;i<len;i++){const lineData=lines[i];lineData.ignore||res.push(editOperation.a.insert(new position.a(startLineNumber+i,lineData.commentStrOffset+1),lineData.commentStr+afterCommentStr))}return res}static nextVisibleColumn(currentVisibleColumn,tabSize,isTab,columnSize){return isTab?currentVisibleColumn+(tabSize-currentVisibleColumn%tabSize):currentVisibleColumn+columnSize}static _normalizeInsertionPoint(model,lines,startLineNumber,tabSize){let j,lenJ,minVisibleColumn=1073741824;for(let i=0,len=lines.length;i<len;i++){if(lines[i].ignore)continue;const lineContent=model.getLineContent(startLineNumber+i);let currentVisibleColumn=0;for(let j=0,lenJ=lines[i].commentStrOffset;currentVisibleColumn<minVisibleColumn&&j<lenJ;j++)currentVisibleColumn=lineCommentCommand_LineCommentCommand.nextVisibleColumn(currentVisibleColumn,tabSize,9===lineContent.charCodeAt(j),1);currentVisibleColumn<minVisibleColumn&&(minVisibleColumn=currentVisibleColumn)}minVisibleColumn=Math.floor(minVisibleColumn/tabSize)*tabSize;for(let i=0,len=lines.length;i<len;i++){if(lines[i].ignore)continue;const lineContent=model.getLineContent(startLineNumber+i);let currentVisibleColumn=0;for(j=0,lenJ=lines[i].commentStrOffset;currentVisibleColumn<minVisibleColumn&&j<lenJ;j++)currentVisibleColumn=lineCommentCommand_LineCommentCommand.nextVisibleColumn(currentVisibleColumn,tabSize,9===lineContent.charCodeAt(j),1);lines[i].commentStrOffset=currentVisibleColumn>minVisibleColumn?j-1:j}}}var actions=__webpack_require__(2323);class comment_CommentLineAction extends editorExtensions.b{constructor(type,opts){super(opts),this._type=type}run(accessor,editor){if(!editor.hasModel())return;const model=editor.getModel(),commands=[],selections=editor.getSelections(),modelOptions=model.getOptions(),commentsOptions=editor.getOption(14);for(const selection of selections)commands.push(new lineCommentCommand_LineCommentCommand(selection,modelOptions.tabSize,this._type,commentsOptions.insertSpace,commentsOptions.ignoreEmptyLines));editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}Object(editorExtensions.k)(class comment_ToggleCommentLineAction extends comment_CommentLineAction{constructor(){super(0,{id:"editor.action.commentLine",label:nls.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:actions.b.MenubarEditMenu,group:"5_insert",title:nls.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),Object(editorExtensions.k)(class comment_AddLineCommentAction extends comment_CommentLineAction{constructor(){super(1,{id:"editor.action.addCommentLine",label:nls.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2081),weight:100}})}}),Object(editorExtensions.k)(class comment_RemoveLineCommentAction extends comment_CommentLineAction{constructor(){super(2,{id:"editor.action.removeCommentLine",label:nls.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:Object(keyCodes.a)(2089,2099),weight:100}})}}),Object(editorExtensions.k)(class comment_BlockCommentAction extends editorExtensions.b{constructor(){super({id:"editor.action.blockComment",label:nls.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:actions.b.MenubarEditMenu,group:"5_insert",title:nls.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(accessor,editor){if(!editor.hasModel())return;const commentsOptions=editor.getOption(14),commands=[],selections=editor.getSelections();for(const selection of selections)commands.push(new blockCommentCommand_BlockCommentCommand(selection,commentsOptions.insertSpace));editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}})},2702:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),range=__webpack_require__(2295),core_selection=__webpack_require__(2311);class moveCaretCommand_MoveCaretCommand{constructor(selection,isMovingLeft){this._selection=selection,this._isMovingLeft=isMovingLeft}getEditOperations(model,builder){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const lineNumber=this._selection.startLineNumber,startColumn=this._selection.startColumn,endColumn=this._selection.endColumn;if((!this._isMovingLeft||1!==startColumn)&&(this._isMovingLeft||endColumn!==model.getLineMaxColumn(lineNumber)))if(this._isMovingLeft){const rangeBefore=new range.a(lineNumber,startColumn-1,lineNumber,startColumn),charBefore=model.getValueInRange(rangeBefore);builder.addEditOperation(rangeBefore,null),builder.addEditOperation(new range.a(lineNumber,endColumn,lineNumber,endColumn),charBefore)}else{const rangeAfter=new range.a(lineNumber,endColumn,lineNumber,endColumn+1),charAfter=model.getValueInRange(rangeAfter);builder.addEditOperation(rangeAfter,null),builder.addEditOperation(new range.a(lineNumber,startColumn,lineNumber,startColumn),charAfter)}}computeCursorState(model,helper){return this._isMovingLeft?new core_selection.a(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new core_selection.a(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class caretOperations_MoveCaretAction extends editorExtensions.b{constructor(left,opts){super(opts),this.left=left}run(accessor,editor){if(!editor.hasModel())return;let commands=[],selections=editor.getSelections();for(const selection of selections)commands.push(new moveCaretCommand_MoveCaretCommand(selection,this.left));editor.pushUndoStop(),editor.executeCommands(this.id,commands),editor.pushUndoStop()}}Object(editorExtensions.k)(class caretOperations_MoveCaretLeftAction extends caretOperations_MoveCaretAction{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:nls.a("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:editorContextKeys.a.writable})}}),Object(editorExtensions.k)(class caretOperations_MoveCaretRightAction extends caretOperations_MoveCaretAction{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:nls.a("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:editorContextKeys.a.writable})}})},2703:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(2526);var lifecycle=__webpack_require__(2294),platform=__webpack_require__(2305),editorExtensions=__webpack_require__(2301),core_position=__webpack_require__(2303),range=__webpack_require__(2295),core_selection=__webpack_require__(2311);class dragAndDropCommand_DragAndDropCommand{constructor(selection,targetPosition,copy){this.selection=selection,this.targetPosition=targetPosition,this.copy=copy,this.targetSelection=null}getEditOperations(model,builder){let text=model.getValueInRange(this.selection);this.copy||builder.addEditOperation(this.selection,null),builder.addEditOperation(new range.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),text),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new core_selection.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new core_selection.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new core_selection.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new core_selection.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new core_selection.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(model,helper){return this.targetSelection}}var textModel=__webpack_require__(2321);function hasTriggerModifier(e){return platform.f?e.altKey:e.ctrlKey}__webpack_require__.d(__webpack_exports__,"DragAndDropController",function(){return dnd_DragAndDropController});class dnd_DragAndDropController extends lifecycle.a{constructor(editor){super(),this._editor=editor,this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(25)&&!this._editor.getOption(13)&&(hasTriggerModifier(e)&&(this._modifierPressed=!0),this._mouseDown&&hasTriggerModifier(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(25)&&!this._editor.getOption(13)&&(hasTriggerModifier(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===dnd_DragAndDropController.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(mouseEvent){this._mouseDown=!0}_onEditorMouseUp(mouseEvent){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(mouseEvent){let target=mouseEvent.target;if(null===this._dragSelection){let possibleSelections=(this._editor.getSelections()||[]).filter(selection=>target.position&&selection.containsPosition(target.position));if(1!==possibleSelections.length)return;this._dragSelection=possibleSelections[0]}hasTriggerModifier(mouseEvent.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),target.position&&(this._dragSelection.containsPosition(target.position)?this._removeDecoration():this.showAt(target.position))}_onEditorMouseDrop(mouseEvent){if(mouseEvent.target&&(this._hitContent(mouseEvent.target)||this._hitMargin(mouseEvent.target))&&mouseEvent.target.position){let newCursorPosition=new core_position.a(mouseEvent.target.position.lineNumber,mouseEvent.target.position.column);if(null===this._dragSelection){let newSelections=null;if(mouseEvent.event.shiftKey){let primarySelection=this._editor.getSelection();if(primarySelection){const{selectionStartLineNumber:selectionStartLineNumber,selectionStartColumn:selectionStartColumn}=primarySelection;newSelections=[new core_selection.a(selectionStartLineNumber,selectionStartColumn,newCursorPosition.lineNumber,newCursorPosition.column)]}}else newSelections=(this._editor.getSelections()||[]).map(selection=>selection.containsPosition(newCursorPosition)?new core_selection.a(newCursorPosition.lineNumber,newCursorPosition.column,newCursorPosition.lineNumber,newCursorPosition.column):selection);this._editor.setSelections(newSelections||[],"mouse")}else(!this._dragSelection.containsPosition(newCursorPosition)||(hasTriggerModifier(mouseEvent.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(newCursorPosition)||this._dragSelection.getStartPosition().equals(newCursorPosition)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(dnd_DragAndDropController.ID,new dragAndDropCommand_DragAndDropCommand(this._dragSelection,newCursorPosition,hasTriggerModifier(mouseEvent.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(position){let newDecorations=[{range:new range.a(position.lineNumber,position.column,position.lineNumber,position.column),options:dnd_DragAndDropController._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,newDecorations),this._editor.revealPosition(position,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(target){return 6===target.type||7===target.type}_hitMargin(target){return 2===target.type||3===target.type||4===target.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}dnd_DragAndDropController.ID="editor.contrib.dragAndDrop",dnd_DragAndDropController.TRIGGER_KEY_VALUE=platform.f?6:5,dnd_DragAndDropController._DECORATION_OPTIONS=textModel.a.register({className:"dnd-target"}),Object(editorExtensions.m)(dnd_DragAndDropController.ID,dnd_DragAndDropController)},2704:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),lifecycle=__webpack_require__(2294),editorNavigationQuickAccess=__webpack_require__(2482),editorBrowser=__webpack_require__(2389);class gotoLineQuickAccess_AbstractGotoLineQuickAccessProvider extends editorNavigationQuickAccess.a{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(picker){const label=Object(nls.a)("cannotRunGotoLine","Open a text editor first to go to a line.");return picker.items=[{label:label}],picker.ariaLabel=label,lifecycle.a.None}provideWithTextEditor(editor,picker,token){const disposables=new lifecycle.b;disposables.add(picker.onDidAccept(event=>{const[item]=picker.selectedItems;if(item){if(!this.isValidLineNumber(editor,item.lineNumber))return;this.gotoLocation(editor,{range:this.toRange(item.lineNumber,item.column),keyMods:picker.keyMods,preserveFocus:event.inBackground}),event.inBackground||picker.hide()}}));const updatePickerAndEditor=()=>{const position=this.parsePosition(editor,picker.value.trim().substr(gotoLineQuickAccess_AbstractGotoLineQuickAccessProvider.PREFIX.length)),label=this.getPickLabel(editor,position.lineNumber,position.column);if(picker.items=[{lineNumber:position.lineNumber,column:position.column,label:label}],picker.ariaLabel=label,!this.isValidLineNumber(editor,position.lineNumber))return void this.clearDecorations(editor);const range=this.toRange(position.lineNumber,position.column);editor.revealRangeInCenter(range,0),this.addDecorations(editor,range)};updatePickerAndEditor(),disposables.add(picker.onDidChangeValue(()=>updatePickerAndEditor()));const codeEditor=Object(editorBrowser.a)(editor);if(codeEditor){2===codeEditor.getOptions().get(52).renderType&&(codeEditor.updateOptions({lineNumbers:"on"}),disposables.add(Object(lifecycle.h)(()=>codeEditor.updateOptions({lineNumbers:"relative"}))))}return disposables}toRange(lineNumber=1,column=1){return{startLineNumber:lineNumber,startColumn:column,endLineNumber:lineNumber,endColumn:column}}parsePosition(editor,value){const numbers=value.split(/,|:|#/).map(part=>parseInt(part,10)).filter(part=>!isNaN(part)),endLine=this.lineCount(editor)+1;return{lineNumber:numbers[0]>0?numbers[0]:endLine+numbers[0],column:numbers[1]}}getPickLabel(editor,lineNumber,column){if(this.isValidLineNumber(editor,lineNumber))return this.isValidColumn(editor,lineNumber,column)?Object(nls.a)("gotoLineColumnLabel","Go to line {0} and column {1}.",lineNumber,column):Object(nls.a)("gotoLineLabel","Go to line {0}.",lineNumber);const position=editor.getPosition()||{lineNumber:1,column:1},lineCount=this.lineCount(editor);return lineCount>1?Object(nls.a)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",position.lineNumber,position.column,lineCount):Object(nls.a)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",position.lineNumber,position.column)}isValidLineNumber(editor,lineNumber){return!(!lineNumber||"number"!=typeof lineNumber)&&(lineNumber>0&&lineNumber<=this.lineCount(editor))}isValidColumn(editor,lineNumber,column){if(!column||"number"!=typeof column)return!1;const model=this.getModel(editor);if(!model)return!1;const positionCandidate={lineNumber:lineNumber,column:column};return model.validatePosition(positionCandidate).equals(positionCandidate)}lineCount(editor){var _a,_b;return null!==(_b=null===(_a=this.getModel(editor))||void 0===_a?void 0:_a.getLineCount())&&void 0!==_b?_b:0}}gotoLineQuickAccess_AbstractGotoLineQuickAccessProvider.PREFIX=":";var platform=__webpack_require__(2324),quickAccess=__webpack_require__(2382),codeEditorService=__webpack_require__(2317),types=__webpack_require__(2314),standaloneStrings=__webpack_require__(2353),common_event=__webpack_require__(2296),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),quickInput=__webpack_require__(2363);__webpack_require__.d(__webpack_exports__,"StandaloneGotoLineQuickAccessProvider",function(){return standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider}),__webpack_require__.d(__webpack_exports__,"GotoLineAction",function(){return standaloneGotoLineQuickAccess_GotoLineAction});let standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider=class StandaloneGotoLineQuickAccessProvider extends gotoLineQuickAccess_AbstractGotoLineQuickAccessProvider{constructor(editorService){super(),this.editorService=editorService,this.onDidActiveTextEditorControlChange=common_event.b.None}get activeTextEditorControl(){return Object(types.n)(this.editorService.getFocusedCodeEditor())}};standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}([function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}(0,codeEditorService.a)],standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider),platform.a.as(quickAccess.b.Quickaccess).registerQuickAccessProvider({ctor:standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider,prefix:standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider.PREFIX,helpEntries:[{description:standaloneStrings.b.gotoLineActionLabel,needsEditor:!0}]});class standaloneGotoLineQuickAccess_GotoLineAction extends editorExtensions.b{constructor(){super({id:"editor.action.gotoLine",label:standaloneStrings.b.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.focus,primary:2085,mac:{primary:293},weight:100}})}run(accessor){accessor.get(quickInput.a).quickAccess.show(standaloneGotoLineQuickAccess_StandaloneGotoLineQuickAccessProvider.PREFIX)}}Object(editorExtensions.k)(standaloneGotoLineQuickAccess_GotoLineAction)},2705:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),range=__webpack_require__(2295),core_selection=__webpack_require__(2311),editorContextKeys=__webpack_require__(2312),editorExtensions=__webpack_require__(2301),editorWorkerService=__webpack_require__(2364);class inPlaceReplaceCommand_InPlaceReplaceCommand{constructor(editRange,originalSelection,text){this._editRange=editRange,this._originalSelection=originalSelection,this._text=text}getEditOperations(model,builder){builder.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(model,helper){const srcRange=helper.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new core_selection.a(srcRange.endLineNumber,Math.min(this._originalSelection.positionColumn,srcRange.endColumn),srcRange.endLineNumber,Math.min(this._originalSelection.positionColumn,srcRange.endColumn)):new core_selection.a(srcRange.endLineNumber,srcRange.endColumn-this._text.length,srcRange.endLineNumber,srcRange.endColumn)}}var editorState=__webpack_require__(2357),themeService=__webpack_require__(2304),editorColorRegistry=__webpack_require__(2338),textModel=__webpack_require__(2321),common_async=__webpack_require__(2306),errors=__webpack_require__(2302),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let inPlaceReplace_InPlaceReplaceController=class InPlaceReplaceController{constructor(editor,editorWorkerService){this.decorationIds=[],this.editor=editor,this.editorWorkerService=editorWorkerService}static get(editor){return editor.getContribution(InPlaceReplaceController.ID)}dispose(){}run(source,up){this.currentRequest&&this.currentRequest.cancel();const editorSelection=this.editor.getSelection(),model=this.editor.getModel();if(!model||!editorSelection)return;let selection=editorSelection;if(selection.startLineNumber!==selection.endLineNumber)return;const state=new editorState.a(this.editor,5),modelURI=model.uri;return this.editorWorkerService.canNavigateValueSet(modelURI)?(this.currentRequest=Object(common_async.f)(token=>this.editorWorkerService.navigateValueSet(modelURI,selection,up)),this.currentRequest.then(result=>{if(!result||!result.range||!result.value)return;if(!state.validate(this.editor))return;let editRange=range.a.lift(result.range),highlightRange=result.range,diff=result.value.length-(selection.endColumn-selection.startColumn);highlightRange={startLineNumber:highlightRange.startLineNumber,startColumn:highlightRange.startColumn,endLineNumber:highlightRange.endLineNumber,endColumn:highlightRange.startColumn+result.value.length},diff>1&&(selection=new core_selection.a(selection.startLineNumber,selection.startColumn,selection.endLineNumber,selection.endColumn+diff-1));const command=new inPlaceReplaceCommand_InPlaceReplaceCommand(editRange,selection,result.value);this.editor.pushUndoStop(),this.editor.executeCommand(source,command),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:highlightRange,options:InPlaceReplaceController.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(common_async.l)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(errors.e)}).catch(errors.e)):Promise.resolve(void 0)}};inPlaceReplace_InPlaceReplaceController.ID="editor.contrib.inPlaceReplaceController",inPlaceReplace_InPlaceReplaceController.DECORATION=textModel.a.register({className:"valueSetReplacement"}),inPlaceReplace_InPlaceReplaceController=__decorate([__param(1,editorWorkerService.a)],inPlaceReplace_InPlaceReplaceController);Object(editorExtensions.m)(inPlaceReplace_InPlaceReplaceController.ID,inPlaceReplace_InPlaceReplaceController),Object(editorExtensions.k)(class inPlaceReplace_InPlaceReplaceUp extends editorExtensions.b{constructor(){super({id:"editor.action.inPlaceReplace.up",label:nls.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3154,weight:100}})}run(accessor,editor){const controller=inPlaceReplace_InPlaceReplaceController.get(editor);return controller?controller.run(this.id,!0):Promise.resolve(void 0)}}),Object(editorExtensions.k)(class inPlaceReplace_InPlaceReplaceDown extends editorExtensions.b{constructor(){super({id:"editor.action.inPlaceReplace.down",label:nls.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:editorContextKeys.a.writable,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:3156,weight:100}})}run(accessor,editor){const controller=inPlaceReplace_InPlaceReplaceController.get(editor);return controller?controller.run(this.id,!1):Promise.resolve(void 0)}}),Object(themeService.g)((theme,collector)=>{const border=theme.getColor(editorColorRegistry.d);border&&collector.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${border}; }`)})},2706:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(2608);var nls=__webpack_require__(2297),common_async=__webpack_require__(2306),cancellation=__webpack_require__(2315),errors=__webpack_require__(2302),htmlContent=__webpack_require__(2369),lifecycle=__webpack_require__(2294),platform=__webpack_require__(2305),editorExtensions=__webpack_require__(2301),textModel=__webpack_require__(2321),modes=__webpack_require__(2308),link_clickLinkGesture=__webpack_require__(2487),common_uri=__webpack_require__(2313),range=__webpack_require__(2295),modelService=__webpack_require__(2336),commands=__webpack_require__(2318),arrays=__webpack_require__(2309),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class Link{constructor(link,provider){this._link=link,this._provider=provider}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(token){return __awaiter(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,token)).then(value=>(this._link=value||this._link,this._link.url?this.resolve(token):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class getLinks_LinksList extends lifecycle.a{constructor(tuples){super();let links=[];for(const[list,provider]of tuples){const newLinks=list.links.map(link=>new Link(link,provider));links=getLinks_LinksList._union(links,newLinks),Object(lifecycle.g)(list)&&this._register(list)}this.links=links}static _union(oldLinks,newLinks){let oldIndex,oldLen,newIndex,newLen,result=[];for(oldIndex=0,newIndex=0,oldLen=oldLinks.length,newLen=newLinks.length;oldIndex<oldLen&&newIndex<newLen;){const oldLink=oldLinks[oldIndex],newLink=newLinks[newIndex];range.a.areIntersectingOrTouching(oldLink.range,newLink.range)?oldIndex++:range.a.compareRangesUsingStarts(oldLink.range,newLink.range)<0?(result.push(oldLink),oldIndex++):(result.push(newLink),newIndex++)}for(;oldIndex<oldLen;oldIndex++)result.push(oldLinks[oldIndex]);for(;newIndex<newLen;newIndex++)result.push(newLinks[newIndex]);return result}}function getLinks(model,token){const lists=[],promises=modes.s.ordered(model).reverse().map((provider,i)=>Promise.resolve(provider.provideLinks(model,token)).then(result=>{result&&(lists[i]=[result,provider])},errors.f));return Promise.all(promises).then(()=>{const result=new getLinks_LinksList(Object(arrays.d)(lists));return token.isCancellationRequested?(result.dispose(),new getLinks_LinksList([])):result})}commands.a.registerCommand("_executeLinkProvider",(accessor,...args)=>__awaiter(void 0,void 0,void 0,function*(){const[uri]=args;if(!(uri instanceof common_uri.a))return[];const model=accessor.get(modelService.a).getModel(uri);if(!model)return[];const list=yield getLinks(model,cancellation.a.None);if(!list)return[];const result=list.links.slice(0);return list.dispose(),result}));var notification=__webpack_require__(2322),common_opener=__webpack_require__(2344),colorRegistry=__webpack_require__(2310),themeService=__webpack_require__(2304),network=__webpack_require__(2330),resources=__webpack_require__(2331),strings=__webpack_require__(2299);__webpack_require__.d(__webpack_exports__,"LinkDetector",function(){return links_LinkDetector});var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},links_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const decoration={general:textModel.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:textModel.a.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class LinkOccurrence{constructor(link,decorationId){this.link=link,this.decorationId=decorationId}static decoration(link,useMetaKey){return{range:link.range,options:LinkOccurrence._getOptions(link,useMetaKey,!1)}}static _getOptions(link,useMetaKey,isActive){const options=Object.assign({},isActive?decoration.active:decoration.general);return options.hoverMessage=function getHoverMessage(link,useMetaKey){const executeCmd=link.url&&/^command:/i.test(link.url.toString()),label=link.tooltip?link.tooltip:executeCmd?nls.a("links.navigate.executeCmd","Execute command"):nls.a("links.navigate.follow","Follow link"),kb=useMetaKey?platform.f?nls.a("links.navigate.kb.meta.mac","cmd + click"):nls.a("links.navigate.kb.meta","ctrl + click"):platform.f?nls.a("links.navigate.kb.alt.mac","option + click"):nls.a("links.navigate.kb.alt","alt + click");if(link.url)return new htmlContent.a("",!0).appendMarkdown(`[${label}](${link.url.toString()}) (${kb})`);return(new htmlContent.a).appendText(`${label} (${kb})`)}(link,useMetaKey),options}activate(changeAccessor,useMetaKey){changeAccessor.changeDecorationOptions(this.decorationId,LinkOccurrence._getOptions(this.link,useMetaKey,!0))}deactivate(changeAccessor,useMetaKey){changeAccessor.changeDecorationOptions(this.decorationId,LinkOccurrence._getOptions(this.link,useMetaKey,!1))}}let links_LinkDetector=class LinkDetector{constructor(editor,openerService,notificationService){this.listenersToRemove=new lifecycle.b,this.editor=editor,this.openerService=openerService,this.notificationService=notificationService;let clickLinkGesture=new link_clickLinkGesture.a(editor);this.listenersToRemove.add(clickLinkGesture),this.listenersToRemove.add(clickLinkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent,keyboardEvent])=>{this._onEditorMouseMove(mouseEvent,keyboardEvent)})),this.listenersToRemove.add(clickLinkGesture.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(clickLinkGesture.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=editor.getOption(54),this.listenersToRemove.add(editor.onDidChangeConfiguration(e=>{const enabled=editor.getOption(54);this.enabled!==enabled&&(this.enabled=enabled,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(editor.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(editor.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(editor.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(modes.s.onDidChange(e=>this.onModelModeChanged())),this.timeout=new common_async.e,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(editor){return editor.getContribution(LinkDetector.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),LinkDetector.RECOMPUTE_TIME)}beginCompute(){return links_awaiter(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const model=this.editor.getModel();if(modes.s.has(model)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=common_async.f(token=>getLinks(model,token));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(err){Object(errors.e)(err)}finally{this.computePromise=null}}})}updateDecorations(links){const useMetaKey="altKey"===this.editor.getOption(61);let oldDecorations=[],keys=Object.keys(this.currentOccurrences);for(let i=0,len=keys.length;i<len;i++){let decorationId=keys[i],occurance=this.currentOccurrences[decorationId];oldDecorations.push(occurance.decorationId)}let newDecorations=[];if(links)for(const link of links)newDecorations.push(LinkOccurrence.decoration(link,useMetaKey));let decorations=this.editor.deltaDecorations(oldDecorations,newDecorations);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let i=0,len=decorations.length;i<len;i++){let occurance=new LinkOccurrence(links[i],decorations[i]);this.currentOccurrences[occurance.decorationId]=occurance}}_onEditorMouseMove(mouseEvent,withKey){const useMetaKey="altKey"===this.editor.getOption(61);if(this.isEnabled(mouseEvent,withKey)){this.cleanUpActiveLinkDecoration();const occurrence=this.getLinkOccurrence(mouseEvent.target.position);occurrence&&this.editor.changeDecorations(changeAccessor=>{occurrence.activate(changeAccessor,useMetaKey),this.activeLinkDecorationId=occurrence.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const useMetaKey="altKey"===this.editor.getOption(61);if(this.activeLinkDecorationId){const occurrence=this.currentOccurrences[this.activeLinkDecorationId];occurrence&&this.editor.changeDecorations(changeAccessor=>{occurrence.deactivate(changeAccessor,useMetaKey)}),this.activeLinkDecorationId=null}}onEditorMouseUp(mouseEvent){if(!this.isEnabled(mouseEvent))return;const occurrence=this.getLinkOccurrence(mouseEvent.target.position);occurrence&&this.openLinkOccurrence(occurrence,mouseEvent.hasSideBySideModifier,!0)}openLinkOccurrence(occurrence,openToSide,fromUserGesture=!1){if(!this.openerService)return;const{link:link}=occurrence;link.resolve(cancellation.a.None).then(uri=>{if("string"==typeof uri&&this.editor.hasModel()){const modelUri=this.editor.getModel().uri;if(modelUri.scheme===network.b.file&&strings.S(uri,"file:")){const parsedUri=common_uri.a.parse(uri);if(parsedUri.scheme===network.b.file){const fsPath=resources.i(parsedUri);let relativePath=null;strings.S(fsPath,"/./")?relativePath=`.${fsPath.substr(1)}`:strings.S(fsPath,"//./")&&(relativePath=`.${fsPath.substr(2)}`),relativePath&&(uri=resources.g(modelUri,relativePath))}}}return this.openerService.open(uri,{openToSide:openToSide,fromUserGesture:fromUserGesture})},err=>{const messageOrError=err instanceof Error?err.message:err;"invalid"===messageOrError?this.notificationService.warn(nls.a("invalid.url","Failed to open this link because it is not well-formed: {0}",link.url.toString())):"missing"===messageOrError?this.notificationService.warn(nls.a("missing.url","Failed to open this link because its target is missing.")):Object(errors.e)(err)})}getLinkOccurrence(position){if(!this.editor.hasModel()||!position)return null;const decorations=this.editor.getModel().getDecorationsInRange({startLineNumber:position.lineNumber,startColumn:position.column,endLineNumber:position.lineNumber,endColumn:position.column},0,!0);for(const decoration of decorations){const currentOccurrence=this.currentOccurrences[decoration.id];if(currentOccurrence)return currentOccurrence}return null}isEnabled(mouseEvent,withKey){return Boolean(6===mouseEvent.target.type&&(mouseEvent.hasTriggerModifier||withKey&&withKey.keyCodeIsTriggerKey))}stop(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};links_LinkDetector.ID="editor.linkDetector",links_LinkDetector.RECOMPUTE_TIME=1e3,links_LinkDetector=__decorate([__param(1,common_opener.a),__param(2,notification.a)],links_LinkDetector);Object(editorExtensions.m)(links_LinkDetector.ID,links_LinkDetector),Object(editorExtensions.k)(class links_OpenLinkAction extends editorExtensions.b{constructor(){super({id:"editor.action.openLink",label:nls.a("label","Open Link"),alias:"Open Link",precondition:void 0})}run(accessor,editor){let linkDetector=links_LinkDetector.get(editor);if(!linkDetector)return;if(!editor.hasModel())return;let selections=editor.getSelections();for(let sel of selections){let link=linkDetector.getLinkOccurrence(sel.getEndPosition());link&&linkDetector.openLinkOccurrence(link,!1)}}}),Object(themeService.g)((theme,collector)=>{const activeLinkForeground=theme.getColor(colorRegistry.r);activeLinkForeground&&collector.addRule(`.monaco-editor .detected-link-active { color: ${activeLinkForeground} !important; }`)})},2707:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var platform=__webpack_require__(2324),quickAccess=__webpack_require__(2382),standaloneStrings=__webpack_require__(2353),quickInput=__webpack_require__(2363),nls=__webpack_require__(2297),lifecycle=__webpack_require__(2294),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let helpQuickAccess_HelpQuickAccessProvider=class HelpQuickAccessProvider{constructor(quickInputService){this.quickInputService=quickInputService,this.registry=platform.a.as(quickAccess.b.Quickaccess)}provide(picker){const disposables=new lifecycle.b;disposables.add(picker.onDidAccept(()=>{const[item]=picker.selectedItems;item&&this.quickInputService.quickAccess.show(item.prefix,{preserveValue:!0})})),disposables.add(picker.onDidChangeValue(value=>{const providerDescriptor=this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider.PREFIX.length));providerDescriptor&&providerDescriptor.prefix&&providerDescriptor.prefix!==HelpQuickAccessProvider.PREFIX&&this.quickInputService.quickAccess.show(providerDescriptor.prefix,{preserveValue:!0})}));const{editorProviders:editorProviders,globalProviders:globalProviders}=this.getQuickAccessProviders();return picker.items=0===editorProviders.length||0===globalProviders.length?[...0===editorProviders.length?globalProviders:editorProviders]:[{label:Object(nls.a)("globalCommands","global commands"),type:"separator"},...globalProviders,{label:Object(nls.a)("editorCommands","editor commands"),type:"separator"},...editorProviders],disposables}getQuickAccessProviders(){const globalProviders=[],editorProviders=[];for(const provider of this.registry.getQuickAccessProviders().sort((providerA,providerB)=>providerA.prefix.localeCompare(providerB.prefix)))if(provider.prefix!==HelpQuickAccessProvider.PREFIX)for(const helpEntry of provider.helpEntries){const prefix=helpEntry.prefix||provider.prefix,label=prefix||"";(helpEntry.needsEditor?editorProviders:globalProviders).push({prefix:prefix,label:label,ariaLabel:Object(nls.a)("helpPickAriaLabel","{0}, {1}",label,helpEntry.description),description:helpEntry.description})}return{editorProviders:editorProviders,globalProviders:globalProviders}}};helpQuickAccess_HelpQuickAccessProvider.PREFIX="?",helpQuickAccess_HelpQuickAccessProvider=__decorate([__param(0,quickInput.a)],helpQuickAccess_HelpQuickAccessProvider),platform.a.as(quickAccess.b.Quickaccess).registerQuickAccessProvider({ctor:helpQuickAccess_HelpQuickAccessProvider,prefix:"",helpEntries:[{description:standaloneStrings.e.helpQuickAccessActionLabel,needsEditor:!0}]})},2708:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var nls=__webpack_require__(2297),errors=__webpack_require__(2302),contextkey=__webpack_require__(2307),progress=__webpack_require__(2345),editorExtensions=__webpack_require__(2301),editorContextKeys=__webpack_require__(2312),lifecycle=(__webpack_require__(2617),__webpack_require__(2294)),core_position=__webpack_require__(2303),colorRegistry=__webpack_require__(2310),themeService=__webpack_require__(2304),keybinding=__webpack_require__(2325),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};const CONTEXT_RENAME_INPUT_VISIBLE=new contextkey.c("renameInputVisible",!1);let renameInputField_RenameInputField=class RenameInputField{constructor(_editor,_acceptKeybindings,_themeService,_keybindingService,contextKeyService){this._editor=_editor,this._acceptKeybindings=_acceptKeybindings,this._themeService=_themeService,this._keybindingService=_keybindingService,this._disposables=new lifecycle.b,this.allowEditorOverflow=!0,this._visibleContextKey=CONTEXT_RENAME_INPUT_VISIBLE.bindTo(contextKeyService),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(36)&&this._updateFont()})),this._disposables.add(_themeService.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(nls.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const updateLabel=()=>{var _a,_b;const[accept,preview]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(accept),this._label.innerText=Object(nls.a)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(_a=this._keybindingService.lookupKeybinding(accept))||void 0===_a?void 0:_a.getLabel(),null===(_b=this._keybindingService.lookupKeybinding(preview))||void 0===_b?void 0:_b.getLabel())};updateLabel(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(updateLabel)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(theme){var _a,_b,_c,_d;if(!this._input||!this._domNode)return;const widgetShadowColor=theme.getColor(colorRegistry.uc);this._domNode.style.backgroundColor=String(null!==(_a=theme.getColor(colorRegistry.U))&&void 0!==_a?_a:""),this._domNode.style.boxShadow=widgetShadowColor?` 0 2px 8px ${widgetShadowColor}`:"",this._domNode.style.color=String(null!==(_b=theme.getColor(colorRegistry.hb))&&void 0!==_b?_b:""),this._input.style.backgroundColor=String(null!==(_c=theme.getColor(colorRegistry.fb))&&void 0!==_c?_c:"");const border=theme.getColor(colorRegistry.gb);this._input.style.borderWidth=border?"1px":"0px",this._input.style.borderStyle=border?"solid":"none",this._input.style.borderColor=null!==(_d=null==border?void 0:border.toString())&&void 0!==_d?_d:"none"}_updateFont(){if(!this._input||!this._label)return;const fontInfo=this._editor.getOption(36);this._input.style.fontFamily=fontInfo.fontFamily,this._input.style.fontWeight=fontInfo.fontWeight,this._input.style.fontSize=`${fontInfo.fontSize}px`,this._label.style.fontSize=`${.8*fontInfo.fontSize}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}acceptInput(wantsPreview){this._currentAcceptInput&&this._currentAcceptInput(wantsPreview)}cancelInput(focusEditor){this._currentCancelInput&&this._currentCancelInput(focusEditor)}getInput(where,value,selectionStart,selectionEnd,supportPreview,token){this._domNode.classList.toggle("preview",supportPreview),this._position=new core_position.a(where.startLineNumber,where.startColumn),this._input.value=value,this._input.setAttribute("selectionStart",selectionStart.toString()),this._input.setAttribute("selectionEnd",selectionEnd.toString()),this._input.size=Math.max(1.1*(where.endColumn-where.startColumn),20);const disposeOnDone=new lifecycle.b;return new Promise(resolve=>{this._currentCancelInput=focusEditor=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,resolve(focusEditor),!0),this._currentAcceptInput=wantsPreview=>{0!==this._input.value.trim().length&&this._input.value!==value?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,resolve({newName:this._input.value,wantsPreview:supportPreview&&wantsPreview})):this.cancelInput(!0)},token.onCancellationRequested(()=>this.cancelInput(!0)),disposeOnDone.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{disposeOnDone.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};renameInputField_RenameInputField=__decorate([__param(2,themeService.c),__param(3,keybinding.a),__param(4,contextkey.b)],renameInputField_RenameInputField);var modes=__webpack_require__(2308),aria=__webpack_require__(2335),range=__webpack_require__(2295),messageController=__webpack_require__(2404),editorState=__webpack_require__(2357),notification=__webpack_require__(2322),bulkEditService=__webpack_require__(2401),common_uri=__webpack_require__(2313),codeEditorService=__webpack_require__(2317),cancellation=__webpack_require__(2315),common_async=__webpack_require__(2306),log=__webpack_require__(2374),instantiation=__webpack_require__(2300),platform=__webpack_require__(2324),configurationRegistry=__webpack_require__(2375),textResourceConfigurationService=__webpack_require__(2416),types=__webpack_require__(2314);__webpack_require__.d(__webpack_exports__,"rename",function(){return rename}),__webpack_require__.d(__webpack_exports__,"RenameAction",function(){return rename_RenameAction});var rename_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},rename_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class rename_RenameSkeleton{constructor(model,position){this.model=model,this.position=position,this._providerRenameIdx=0,this._providers=modes.w.ordered(model)}hasProvider(){return this._providers.length>0}resolveRenameLocation(token){return __awaiter(this,void 0,void 0,function*(){const rejects=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const provider=this._providers[this._providerRenameIdx];if(!provider.resolveRenameLocation)break;let res=yield provider.resolveRenameLocation(this.model,this.position,token);if(res){if(!res.rejectReason)return res;rejects.push(res.rejectReason)}}const word=this.model.getWordAtPosition(this.position);return word?{range:new range.a(this.position.lineNumber,word.startColumn,this.position.lineNumber,word.endColumn),text:word.word,rejectReason:rejects.length>0?rejects.join("\n"):void 0}:{range:range.a.fromPositions(this.position),text:"",rejectReason:rejects.length>0?rejects.join("\n"):void 0}})}provideRenameEdits(newName,token){return __awaiter(this,void 0,void 0,function*(){return this._provideRenameEdits(newName,this._providerRenameIdx,[],token)})}_provideRenameEdits(newName,i,rejects,token){return __awaiter(this,void 0,void 0,function*(){const provider=this._providers[i];if(!provider)return{edits:[],rejectReason:rejects.join("\n")};const result=yield provider.provideRenameEdits(this.model,this.position,newName,token);return result?result.rejectReason?this._provideRenameEdits(newName,i+1,rejects.concat(result.rejectReason),token):result:this._provideRenameEdits(newName,i+1,rejects.concat(nls.a("no result","No result.")),token)})}}function rename(model,position,newName){return __awaiter(this,void 0,void 0,function*(){const skeleton=new rename_RenameSkeleton(model,position),loc=yield skeleton.resolveRenameLocation(cancellation.a.None);return(null==loc?void 0:loc.rejectReason)?{edits:[],rejectReason:loc.rejectReason}:skeleton.provideRenameEdits(newName,cancellation.a.None)})}let rename_RenameController=class RenameController{constructor(editor,_instaService,_notificationService,_bulkEditService,_progressService,_logService,_configService){this.editor=editor,this._instaService=_instaService,this._notificationService=_notificationService,this._bulkEditService=_bulkEditService,this._progressService=_progressService,this._logService=_logService,this._configService=_configService,this._dispoableStore=new lifecycle.b,this._cts=new cancellation.b,this._renameInputField=this._dispoableStore.add(new common_async.b(()=>this._dispoableStore.add(this._instaService.createInstance(renameInputField_RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(editor){return editor.getContribution(RenameController.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return __awaiter(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const position=this.editor.getPosition(),skeleton=new rename_RenameSkeleton(this.editor.getModel(),position);if(!skeleton.hasProvider())return;let loc;this._cts=new editorState.b(this.editor,5);try{const resolveLocationOperation=skeleton.resolveRenameLocation(this._cts.token);this._progressService.showWhile(resolveLocationOperation,250),loc=yield resolveLocationOperation}catch(e){return void messageController.a.get(this.editor).showMessage(e||nls.a("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),position)}if(!loc)return;if(loc.rejectReason)return void messageController.a.get(this.editor).showMessage(loc.rejectReason,position);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new editorState.b(this.editor,5,loc.range);let selection=this.editor.getSelection(),selectionStart=0,selectionEnd=loc.text.length;range.a.isEmpty(selection)||range.a.spansMultipleLines(selection)||!range.a.containsRange(loc.range,selection)||(selectionStart=Math.max(0,selection.startColumn-loc.range.startColumn),selectionEnd=Math.min(loc.range.endColumn,selection.endColumn)-loc.range.startColumn);const supportPreview=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),inputFieldResult=yield this._renameInputField.value.getInput(loc.range,loc.text,selectionStart,selectionEnd,supportPreview,this._cts.token);if("boolean"==typeof inputFieldResult)return void(inputFieldResult&&this.editor.focus());this.editor.focus();const renameOperation=Object(common_async.j)(skeleton.provideRenameEdits(inputFieldResult.newName,this._cts.token),this._cts.token).then(renameResult=>__awaiter(this,void 0,void 0,function*(){renameResult&&this.editor.hasModel()&&(renameResult.rejectReason?this._notificationService.info(renameResult.rejectReason):this._bulkEditService.apply(bulkEditService.b.convert(renameResult),{editor:this.editor,showPreview:inputFieldResult.wantsPreview,label:nls.a("label","Renaming '{0}'",null==loc?void 0:loc.text),quotableLabel:nls.a("quotableLabel","Renaming {0}",null==loc?void 0:loc.text)}).then(result=>{result.ariaSummary&&Object(aria.a)(nls.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",loc.text,inputFieldResult.newName,result.ariaSummary))}).catch(err=>{this._notificationService.error(nls.a("rename.failedApply","Rename failed to apply edits")),this._logService.error(err)}))}),err=>{this._notificationService.error(nls.a("rename.failed","Rename failed to compute edits")),this._logService.error(err)});return this._progressService.showWhile(renameOperation,250),renameOperation})}acceptRenameInput(wantsPreview){this._renameInputField.value.acceptInput(wantsPreview)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};rename_RenameController.ID="editor.contrib.renameController",rename_RenameController=rename_decorate([rename_param(1,instantiation.a),rename_param(2,notification.a),rename_param(3,bulkEditService.a),rename_param(4,progress.a),rename_param(5,log.b),rename_param(6,textResourceConfigurationService.a)],rename_RenameController);class rename_RenameAction extends editorExtensions.b{constructor(){super({id:"editor.action.rename",label:nls.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:contextkey.a.and(editorContextKeys.a.writable,editorContextKeys.a.hasRenameProvider),kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(accessor,args){const editorService=accessor.get(codeEditorService.a),[uri,pos]=Array.isArray(args)&&args||[void 0,void 0];return common_uri.a.isUri(uri)&&core_position.a.isIPosition(pos)?editorService.openCodeEditor({resource:uri},editorService.getActiveCodeEditor()).then(editor=>{editor&&(editor.setPosition(pos),editor.invokeWithinContext(accessor=>(this.reportTelemetry(accessor,editor),this.run(accessor,editor))))},errors.e):super.runCommand(accessor,args)}run(accessor,editor){const controller=rename_RenameController.get(editor);return controller?controller.run():Promise.resolve()}}Object(editorExtensions.m)(rename_RenameController.ID,rename_RenameController),Object(editorExtensions.k)(rename_RenameAction);const RenameCommand=editorExtensions.c.bindToContribution(rename_RenameController.get);Object(editorExtensions.l)(new RenameCommand({id:"acceptRenameInput",precondition:CONTEXT_RENAME_INPUT_VISIBLE,handler:x=>x.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:editorContextKeys.a.focus,primary:3}})),Object(editorExtensions.l)(new RenameCommand({id:"acceptRenameInputWithPreview",precondition:contextkey.a.and(CONTEXT_RENAME_INPUT_VISIBLE,contextkey.a.has("config.editor.rename.enablePreview")),handler:x=>x.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:editorContextKeys.a.focus,primary:1027}})),Object(editorExtensions.l)(new RenameCommand({id:"cancelRenameInput",precondition:CONTEXT_RENAME_INPUT_VISIBLE,handler:x=>x.cancelRenameInput(),kbOpts:{weight:199,kbExpr:editorContextKeys.a.focus,primary:9,secondary:[1033]}})),Object(editorExtensions.p)("_executeDocumentRenameProvider",function(model,position,...args){const[newName]=args;return Object(types.b)("string"==typeof newName),rename(model,position,newName)}),platform.a.as(configurationRegistry.a.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:nls.a("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},2709:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var arrays=__webpack_require__(2309),cancellation=__webpack_require__(2315),editorExtensions=__webpack_require__(2301),position=__webpack_require__(2303),core_range=__webpack_require__(2295),selection=__webpack_require__(2311),editorContextKeys=__webpack_require__(2312),modes=__webpack_require__(2308),nls=__webpack_require__(2297),actions=__webpack_require__(2323),lifecycle=__webpack_require__(2294),strings=__webpack_require__(2299);var bracketSelections=__webpack_require__(2491),commands=__webpack_require__(2318),errors=__webpack_require__(2302);__webpack_require__.d(__webpack_exports__,"provideSelectionRanges",function(){return provideSelectionRanges});var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class SelectionRanges{constructor(index,ranges){this.index=index,this.ranges=ranges}mov(fwd){let index=this.index+(fwd?1:-1);if(index<0||index>=this.ranges.length)return this;const res=new SelectionRanges(index,this.ranges);return res.ranges[index].equalsRange(this.ranges[this.index])?res.mov(fwd):res}}class smartSelect_SmartSelectController{constructor(editor){this._ignoreSelection=!1,this._editor=editor}static get(editor){return editor.getContribution(smartSelect_SmartSelectController.ID)}dispose(){Object(lifecycle.f)(this._selectionListener)}run(forward){if(!this._editor.hasModel())return;const selections=this._editor.getSelections(),model=this._editor.getModel();if(!modes.x.has(model))return;let promise=Promise.resolve(void 0);return this._state||(promise=provideSelectionRanges(model,selections.map(s=>s.getPosition()),cancellation.a.None).then(ranges=>{if(arrays.o(ranges)&&ranges.length===selections.length&&this._editor.hasModel()&&arrays.g(this._editor.getSelections(),selections,(a,b)=>a.equalsSelection(b))){for(let i=0;i<ranges.length;i++)ranges[i]=ranges[i].filter(range=>range.containsPosition(selections[i].getStartPosition())&&range.containsPosition(selections[i].getEndPosition())),ranges[i].unshift(selections[i]);this._state=ranges.map(ranges=>new SelectionRanges(0,ranges)),Object(lifecycle.f)(this._selectionListener),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{this._ignoreSelection||(Object(lifecycle.f)(this._selectionListener),this._state=void 0)})}})),promise.then(()=>{if(!this._state)return;this._state=this._state.map(state=>state.mov(forward));const selections=this._state.map(state=>selection.a.fromPositions(state.ranges[state.index].getStartPosition(),state.ranges[state.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(selections)}finally{this._ignoreSelection=!1}})}}smartSelect_SmartSelectController.ID="editor.contrib.smartSelectController";class smartSelect_AbstractSmartSelect extends editorExtensions.b{constructor(forward,opts){super(opts),this._forward=forward}run(_accessor,editor){return __awaiter(this,void 0,void 0,function*(){let controller=smartSelect_SmartSelectController.get(editor);controller&&(yield controller.run(this._forward))})}}commands.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function provideSelectionRanges(model,positions,token){const providers=modes.x.all(model);1===providers.length&&providers.unshift(new bracketSelections.a);let work=[],allRawRanges=[];for(const provider of providers)work.push(Promise.resolve(provider.provideSelectionRanges(model,positions,token)).then(allProviderRanges=>{if(arrays.o(allProviderRanges)&&allProviderRanges.length===positions.length)for(let i=0;i<positions.length;i++){allRawRanges[i]||(allRawRanges[i]=[]);for(const oneProviderRanges of allProviderRanges[i])core_range.a.isIRange(oneProviderRanges.range)&&core_range.a.containsPosition(oneProviderRanges.range,positions[i])&&allRawRanges[i].push(core_range.a.lift(oneProviderRanges.range))}},errors.f));return Promise.all(work).then(()=>allRawRanges.map(oneRawRanges=>{if(0===oneRawRanges.length)return[];oneRawRanges.sort((a,b)=>position.a.isBefore(a.getStartPosition(),b.getStartPosition())?1:position.a.isBefore(b.getStartPosition(),a.getStartPosition())?-1:position.a.isBefore(a.getEndPosition(),b.getEndPosition())?-1:position.a.isBefore(b.getEndPosition(),a.getEndPosition())?1:0);let last,oneRanges=[];for(const range of oneRawRanges)(!last||core_range.a.containsRange(range,last)&&!core_range.a.equalsRange(range,last))&&(oneRanges.push(range),last=range);let oneRangesWithTrivia=[oneRanges[0]];for(let i=1;i<oneRanges.length;i++){const prev=oneRanges[i-1],cur=oneRanges[i];if(cur.startLineNumber!==prev.startLineNumber||cur.endLineNumber!==prev.endLineNumber){const rangeNoWhitespace=new core_range.a(prev.startLineNumber,model.getLineFirstNonWhitespaceColumn(prev.startLineNumber),prev.endLineNumber,model.getLineLastNonWhitespaceColumn(prev.endLineNumber));rangeNoWhitespace.containsRange(prev)&&!rangeNoWhitespace.equalsRange(prev)&&cur.containsRange(rangeNoWhitespace)&&!cur.equalsRange(rangeNoWhitespace)&&oneRangesWithTrivia.push(rangeNoWhitespace);const rangeFull=new core_range.a(prev.startLineNumber,1,prev.endLineNumber,model.getLineMaxColumn(prev.endLineNumber));rangeFull.containsRange(prev)&&!rangeFull.equalsRange(rangeNoWhitespace)&&cur.containsRange(rangeFull)&&!cur.equalsRange(rangeFull)&&oneRangesWithTrivia.push(rangeFull)}oneRangesWithTrivia.push(cur)}return oneRangesWithTrivia}))}Object(editorExtensions.m)(smartSelect_SmartSelectController.ID,smartSelect_SmartSelectController),Object(editorExtensions.k)(class smartSelect_GrowSelectionAction extends smartSelect_AbstractSmartSelect{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:nls.a("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"1_basic",title:nls.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),Object(editorExtensions.k)(class smartSelect_ShrinkSelectionAction extends smartSelect_AbstractSmartSelect{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:nls.a("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:editorContextKeys.a.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:actions.b.MenubarSelectionMenu,group:"1_basic",title:nls.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),modes.x.register("*",new class wordSelections_WordSelectionRangeProvider{provideSelectionRanges(model,positions){const result=[];for(const position of positions){const bucket=[];result.push(bucket),this._addInWordRanges(bucket,model,position),this._addWordRanges(bucket,model,position),this._addWhitespaceLine(bucket,model,position),bucket.push({range:model.getFullModelRange()})}return result}_addInWordRanges(bucket,model,pos){const obj=model.getWordAtPosition(pos);if(!obj)return;let{word:word,startColumn:startColumn}=obj,offset=pos.column-startColumn,start=offset,end=offset,lastCh=0;for(;start>=0;start--){let ch=word.charCodeAt(start);if(start!==offset&&(95===ch||45===ch))break;if(Object(strings.H)(ch)&&Object(strings.I)(lastCh))break;lastCh=ch}for(start+=1;end<word.length;end++){let ch=word.charCodeAt(end);if(Object(strings.I)(ch)&&Object(strings.H)(lastCh))break;if(95===ch||45===ch)break;lastCh=ch}start<end&&bucket.push({range:new core_range.a(pos.lineNumber,startColumn+start,pos.lineNumber,startColumn+end)})}_addWordRanges(bucket,model,pos){const word=model.getWordAtPosition(pos);word&&bucket.push({range:new core_range.a(pos.lineNumber,word.startColumn,pos.lineNumber,word.endColumn)})}_addWhitespaceLine(bucket,model,pos){model.getLineLength(pos.lineNumber)>0&&0===model.getLineFirstNonWhitespaceColumn(pos.lineNumber)&&0===model.getLineLastNonWhitespaceColumn(pos.lineNumber)&&bucket.push({range:new core_range.a(pos.lineNumber,1,pos.lineNumber,model.getLineMaxColumn(pos.lineNumber))})}}),Object(editorExtensions.q)("_executeSelectionRangeProvider",function(model,...args){const[positions]=args;return provideSelectionRanges(model,positions,cancellation.a.None)})},2710:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(2346);var ModuleKind,JsxEmit,NewLineKind,ScriptTarget,ModuleResolutionKind,monaco_editor_core=__webpack_require__(2421);__webpack_require__.d(__webpack_exports__,"ModuleKind",function(){return ModuleKind}),__webpack_require__.d(__webpack_exports__,"JsxEmit",function(){return JsxEmit}),__webpack_require__.d(__webpack_exports__,"NewLineKind",function(){return NewLineKind}),__webpack_require__.d(__webpack_exports__,"ScriptTarget",function(){return ScriptTarget}),__webpack_require__.d(__webpack_exports__,"ModuleResolutionKind",function(){return ModuleResolutionKind}),__webpack_require__.d(__webpack_exports__,"typescriptVersion",function(){return monaco_contribution_typescriptVersion}),__webpack_require__.d(__webpack_exports__,"typescriptDefaults",function(){return typescriptDefaults}),__webpack_require__.d(__webpack_exports__,"javascriptDefaults",function(){return javascriptDefaults}),__webpack_require__.d(__webpack_exports__,"getTypeScriptWorker",function(){return getTypeScriptWorker}),__webpack_require__.d(__webpack_exports__,"getJavaScriptWorker",function(){return getJavaScriptWorker}),function(ModuleKind){ModuleKind[ModuleKind.None=0]="None",ModuleKind[ModuleKind.CommonJS=1]="CommonJS",ModuleKind[ModuleKind.AMD=2]="AMD",ModuleKind[ModuleKind.UMD=3]="UMD",ModuleKind[ModuleKind.System=4]="System",ModuleKind[ModuleKind.ES2015=5]="ES2015",ModuleKind[ModuleKind.ESNext=99]="ESNext"}(ModuleKind||(ModuleKind={})),function(JsxEmit){JsxEmit[JsxEmit.None=0]="None",JsxEmit[JsxEmit.Preserve=1]="Preserve",JsxEmit[JsxEmit.React=2]="React",JsxEmit[JsxEmit.ReactNative=3]="ReactNative"}(JsxEmit||(JsxEmit={})),function(NewLineKind){NewLineKind[NewLineKind.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",NewLineKind[NewLineKind.LineFeed=1]="LineFeed"}(NewLineKind||(NewLineKind={})),function(ScriptTarget){ScriptTarget[ScriptTarget.ES3=0]="ES3",ScriptTarget[ScriptTarget.ES5=1]="ES5",ScriptTarget[ScriptTarget.ES2015=2]="ES2015",ScriptTarget[ScriptTarget.ES2016=3]="ES2016",ScriptTarget[ScriptTarget.ES2017=4]="ES2017",ScriptTarget[ScriptTarget.ES2018=5]="ES2018",ScriptTarget[ScriptTarget.ES2019=6]="ES2019",ScriptTarget[ScriptTarget.ES2020=7]="ES2020",ScriptTarget[ScriptTarget.ESNext=99]="ESNext",ScriptTarget[ScriptTarget.JSON=100]="JSON",ScriptTarget[ScriptTarget.Latest=99]="Latest"}(ScriptTarget||(ScriptTarget={})),function(ModuleResolutionKind){ModuleResolutionKind[ModuleResolutionKind.Classic=1]="Classic",ModuleResolutionKind[ModuleResolutionKind.NodeJs=2]="NodeJs"}(ModuleResolutionKind||(ModuleResolutionKind={}));var monaco_contribution_LanguageServiceDefaultsImpl=function(){function LanguageServiceDefaultsImpl(compilerOptions,diagnosticsOptions,workerOptions){this._onDidChange=new monaco_editor_core.Emitter,this._onDidExtraLibsChange=new monaco_editor_core.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(compilerOptions),this.setDiagnosticsOptions(diagnosticsOptions),this.setWorkerOptions(workerOptions),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(LanguageServiceDefaultsImpl.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),LanguageServiceDefaultsImpl.prototype.getExtraLibs=function(){return this._extraLibs},LanguageServiceDefaultsImpl.prototype.addExtraLib=function(content,_filePath){var filePath,_this=this;if(filePath=void 0===_filePath?"ts:extralib-"+Math.random().toString(36).substring(2,15):_filePath,this._extraLibs[filePath]&&this._extraLibs[filePath].content===content)return{dispose:function(){}};var myVersion=1;return this._removedExtraLibs[filePath]&&(myVersion=this._removedExtraLibs[filePath]+1),this._extraLibs[filePath]&&(myVersion=this._extraLibs[filePath].version+1),this._extraLibs[filePath]={content:content,version:myVersion},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var extraLib=_this._extraLibs[filePath];extraLib&&extraLib.version===myVersion&&(delete _this._extraLibs[filePath],_this._removedExtraLibs[filePath]=myVersion,_this._fireOnDidExtraLibsChangeSoon())}}},LanguageServiceDefaultsImpl.prototype.setExtraLibs=function(libs){for(var filePath in this._extraLibs)this._removedExtraLibs[filePath]=this._extraLibs[filePath].version;if(this._extraLibs=Object.create(null),libs&&libs.length>0)for(var _i=0,libs_1=libs;_i<libs_1.length;_i++){var lib=libs_1[_i],content=(filePath=lib.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),lib.content),myVersion=1;this._removedExtraLibs[filePath]&&(myVersion=this._removedExtraLibs[filePath]+1),this._extraLibs[filePath]={content:content,version:myVersion}}this._fireOnDidExtraLibsChangeSoon()},LanguageServiceDefaultsImpl.prototype._fireOnDidExtraLibsChangeSoon=function(){var _this=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){_this._onDidExtraLibsChangeTimeout=-1,_this._onDidExtraLibsChange.fire(void 0)},0))},LanguageServiceDefaultsImpl.prototype.getCompilerOptions=function(){return this._compilerOptions},LanguageServiceDefaultsImpl.prototype.setCompilerOptions=function(options){this._compilerOptions=options||Object.create(null),this._onDidChange.fire(void 0)},LanguageServiceDefaultsImpl.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},LanguageServiceDefaultsImpl.prototype.setDiagnosticsOptions=function(options){this._diagnosticsOptions=options||Object.create(null),this._onDidChange.fire(void 0)},LanguageServiceDefaultsImpl.prototype.setWorkerOptions=function(options){this._workerOptions=options||Object.create(null),this._onDidChange.fire(void 0)},LanguageServiceDefaultsImpl.prototype.setMaximumWorkerIdleTime=function(value){},LanguageServiceDefaultsImpl.prototype.setEagerModelSync=function(value){this._eagerModelSync=value},LanguageServiceDefaultsImpl.prototype.getEagerModelSync=function(){return this._eagerModelSync},LanguageServiceDefaultsImpl}(),monaco_contribution_typescriptVersion="4.0.3",typescriptDefaults=new monaco_contribution_LanguageServiceDefaultsImpl({allowNonTsExtensions:!0,target:ScriptTarget.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1},{}),javascriptDefaults=new monaco_contribution_LanguageServiceDefaultsImpl({allowNonTsExtensions:!0,allowJs:!0,target:ScriptTarget.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1},{}),getTypeScriptWorker=function(){return getMode().then(function(mode){return mode.getTypeScriptWorker()})},getJavaScriptWorker=function(){return getMode().then(function(mode){return mode.getJavaScriptWorker()})};function getMode(){return __webpack_require__.e(12).then(__webpack_require__.bind(null,2711))}monaco_editor_core.languages.typescript={ModuleKind:ModuleKind,JsxEmit:JsxEmit,NewLineKind:NewLineKind,ScriptTarget:ScriptTarget,ModuleResolutionKind:ModuleResolutionKind,typescriptVersion:monaco_contribution_typescriptVersion,typescriptDefaults:typescriptDefaults,javascriptDefaults:javascriptDefaults,getTypeScriptWorker:getTypeScriptWorker,getJavaScriptWorker:getJavaScriptWorker},monaco_editor_core.languages.onLanguage("typescript",function(){return getMode().then(function(mode){return mode.setupTypeScript(typescriptDefaults)})}),monaco_editor_core.languages.onLanguage("javascript",function(){return getMode().then(function(mode){return mode.setupJavaScript(javascriptDefaults)})})}}]);
//# sourceMappingURL=5.59146761700f75027bc0.bundle.js.map