(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{2244:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function state_local_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function state_local_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function state_local_objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?state_local_ownKeys(Object(source),!0).forEach(function(key){state_local_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):state_local_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function curry(fn){return function curried(){for(var _this=this,_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return args.length>=fn.length?fn.apply(this,args):function(){for(var _len3=arguments.length,nextArgs=new Array(_len3),_key3=0;_key3<_len3;_key3++)nextArgs[_key3]=arguments[_key3];return curried.apply(_this,[].concat(args,nextArgs))}}}function isObject(value){return{}.toString.call(value).includes("Object")}function isFunction(value){return"function"==typeof value}__webpack_require__.r(__webpack_exports__);var errorHandler=curry(function throwError(errorMessages,type){throw new Error(errorMessages[type]||errorMessages.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),validators={changes:function validateChanges(initial,changes){return isObject(changes)||errorHandler("changeType"),Object.keys(changes).some(function(field){return!function state_local_hasOwnProperty(object,property){return Object.prototype.hasOwnProperty.call(object,property)}(initial,field)})&&errorHandler("changeField"),changes},selector:function validateSelector(selector){isFunction(selector)||errorHandler("selectorType")},handler:function validateHandler(handler){isFunction(handler)||isObject(handler)||errorHandler("handlerType"),isObject(handler)&&Object.values(handler).some(function(_handler){return!isFunction(_handler)})&&errorHandler("handlersType")},initial:function validateInitial(initial){initial||errorHandler("initialIsRequired"),isObject(initial)||errorHandler("initialType"),function isEmpty(obj){return!Object.keys(obj).length}(initial)&&errorHandler("initialContent")}};function extractChanges(state,causedChanges){return isFunction(causedChanges)?causedChanges(state.current):causedChanges}function updateState(state,changes){return state.current=state_local_objectSpread2(state_local_objectSpread2({},state.current),changes),changes}function didStateUpdate(state,handler,changes){return isFunction(handler)?handler(state.current):Object.keys(changes).forEach(function(field){var _handler$field;return null===(_handler$field=handler[field])||void 0===_handler$field?void 0:_handler$field.call(handler,state.current[field])}),changes}var state_local={create:function create(initial){var handler=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};validators.initial(initial),validators.handler(handler);var state={current:initial},didUpdate=curry(didStateUpdate)(state,handler),update=curry(updateState)(state),validate=curry(validators.changes)(initial),getChanges=curry(extractChanges)(state);return[function getState(){var selector=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(state){return state};return validators.selector(selector),selector(state.current)},function setState(causedChanges){!function compose(){for(var _len=arguments.length,fns=new Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(x){return fns.reduceRight(function(y,f){return f(y)},x)}}(didUpdate,update,validate,getChanges)(causedChanges)}]}},es_config={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/min/vs"}};var utils_isObject=function isObject_isObject(value){return{}.toString.call(value).includes("Object")};var validators_errorMessages={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},validators_errorHandler=function curry_curry(fn){return function curried(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.length>=fn.length?fn.apply(this,args):function(){for(var _len2=arguments.length,nextArgs=new Array(_len2),_key2=0;_key2<_len2;_key2++)nextArgs[_key2]=arguments[_key2];return curried.apply(_this,[].concat(args,nextArgs))}}}(function validators_throwError(errorMessages,type){throw new Error(errorMessages[type]||errorMessages.default)})(validators_errorMessages),es_validators={config:function validateConfig(config){return config||validators_errorHandler("configIsRequired"),utils_isObject(config)||validators_errorHandler("configType"),config.urls?(function informAboutDeprecation(){console.warn(validators_errorMessages.deprecation)}(),{paths:{vs:config.urls.monacoBase}}):config}},utils_compose=function compose(){for(var _len=arguments.length,fns=new Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(x){return fns.reduceRight(function(y,f){return f(y)},x)}};var deepMerge=function merge(target,source){return Object.keys(source).forEach(function(key){source[key]instanceof Object&&target[key]&&Object.assign(source[key],merge(target[key],source[key]))}),_objectSpread2(_objectSpread2({},target),source)},CANCELATION_MESSAGE={type:"cancelation",msg:"operation is manually canceled"};var utils_makeCancelable=function makeCancelable(promise){var hasCanceled_=!1,wrappedPromise=new Promise(function(resolve,reject){promise.then(function(val){return hasCanceled_?reject(CANCELATION_MESSAGE):resolve(val)}),promise.catch(reject)});return wrappedPromise.cancel=function(){return hasCanceled_=!0},wrappedPromise},_state$create2=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(state_local.create({config:es_config,isInitialized:!1,resolve:null,reject:null}),2),getState=_state$create2[0],setState=_state$create2[1];function injectScripts(script){return document.body.appendChild(script)}function getMonacoLoaderScript(configureLoader){var state=getState(function(_ref2){return{config:_ref2.config,reject:_ref2.reject}}),loaderScript=function createScript(src){var script=document.createElement("script");return src&&(script.src=src),script}("".concat(state.config.paths.vs,"/loader.js"));return loaderScript.onload=function(){return configureLoader()},loaderScript.onerror=state.reject,loaderScript}function configureLoader(){var state=getState(function(_ref3){return{config:_ref3.config,resolve:_ref3.resolve,reject:_ref3.reject}}),require=window.require;require.config(state.config),require(["vs/editor/editor.main"],function(monaco){state.resolve(monaco)},function(error){state.reject(error)})}var wrapperPromise=new Promise(function(resolve,reject){return setState({resolve:resolve,reject:reject})}),es_monaco={config:function monaco_config(config){setState(function(state){return{config:deepMerge(state.config,es_validators.config(config))}})},init:function init(){if(!getState(function(_ref){return{isInitialized:_ref.isInitialized}}).isInitialized){if(window.monaco&&window.monaco.editor)return utils_makeCancelable(Promise.resolve(window.monaco));utils_compose(injectScripts,getMonacoLoaderScript)(configureLoader),setState({isInitialized:!0})}return utils_makeCancelable(wrapperPromise)}},react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types);const loadingStyles={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var Loading_Loading=function Loading({content:content}){return react_default.a.createElement("div",{style:loadingStyles},content)};var MonacoContainer_styles={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function MonacoContainer({width:width,height:height,isEditorReady:isEditorReady,loading:loading,_ref:_ref,className:className,wrapperClassName:wrapperClassName}){return react_default.a.createElement("section",{style:{...MonacoContainer_styles.wrapper,width:width,height:height},className:wrapperClassName},!isEditorReady&&react_default.a.createElement(Loading_Loading,{content:loading}),react_default.a.createElement("div",{ref:_ref,style:{...MonacoContainer_styles.fullWidth,...!isEditorReady&&MonacoContainer_styles.hide},className:className}))}MonacoContainer.propTypes={width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,loading:prop_types_default.a.oneOfType([prop_types_default.a.element,prop_types_default.a.string]).isRequired,isEditorReady:prop_types_default.a.bool.isRequired,className:prop_types_default.a.string,wrapperClassName:prop_types_default.a.string};var MonacoContainer_MonacoContainer=MonacoContainer,es_MonacoContainer=Object(react.memo)(MonacoContainer_MonacoContainer);var hooks_useMount=function useMount(effect){Object(react.useEffect)(effect,[])};var hooks_useUpdate=function useUpdate(effect,deps,applyChanges=!0){const isInitialMount=Object(react.useRef)(!0);Object(react.useEffect)(isInitialMount.current||!applyChanges?()=>{isInitialMount.current=!1}:effect,deps)};function noop(){}function DiffEditor({original:original,modified:modified,language:language,originalLanguage:originalLanguage,modifiedLanguage:modifiedLanguage,editorDidMount:editorDidMount,theme:theme,width:width,height:height,loading:loading,options:options,className:className,wrapperClassName:wrapperClassName}){const[isEditorReady,setIsEditorReady]=Object(react.useState)(!1),[isMonacoMounting,setIsMonacoMounting]=Object(react.useState)(!0),editorRef=Object(react.useRef)(null),monacoRef=Object(react.useRef)(null),containerRef=Object(react.useRef)(null),editorDidMountRef=Object(react.useRef)(editorDidMount);hooks_useMount(()=>{const cancelable=es_monaco.init();return cancelable.then(monaco=>(monacoRef.current=monaco)&&setIsMonacoMounting(!1)).catch(error=>"cancelation"!==(null==error?void 0:error.type)&&console.error("Monaco initialization: error:",error)),()=>editorRef.current?disposeEditor():cancelable.cancel()}),hooks_useUpdate(()=>{editorRef.current.getModel().modified.setValue(modified)},[modified],isEditorReady),hooks_useUpdate(()=>{editorRef.current.getModel().original.setValue(original)},[original],isEditorReady),hooks_useUpdate(()=>{const{original:original,modified:modified}=editorRef.current.getModel();monacoRef.current.editor.setModelLanguage(original,originalLanguage||language),monacoRef.current.editor.setModelLanguage(modified,modifiedLanguage||language)},[language,originalLanguage,modifiedLanguage],isEditorReady),hooks_useUpdate(()=>{monacoRef.current.editor.setTheme(theme)},[theme],isEditorReady),hooks_useUpdate(()=>{editorRef.current.updateOptions(options)},[options],isEditorReady);const setModels=Object(react.useCallback)(()=>{const originalModel=monacoRef.current.editor.createModel(original,originalLanguage||language),modifiedModel=monacoRef.current.editor.createModel(modified,modifiedLanguage||language);editorRef.current.setModel({original:originalModel,modified:modifiedModel})},[language,modified,modifiedLanguage,original,originalLanguage]),createEditor=Object(react.useCallback)(()=>{editorRef.current=monacoRef.current.editor.createDiffEditor(containerRef.current,{automaticLayout:!0,...options}),setModels(),monacoRef.current.editor.setTheme(theme),setIsEditorReady(!0)},[options,theme,setModels]);Object(react.useEffect)(()=>{if(isEditorReady){const{original:original,modified:modified}=editorRef.current.getModel();editorDidMountRef.current(modified.getValue.bind(modified),original.getValue.bind(original),editorRef.current)}},[isEditorReady]),Object(react.useEffect)(()=>{!isMonacoMounting&&!isEditorReady&&createEditor()},[isMonacoMounting,isEditorReady,createEditor]);const disposeEditor=()=>editorRef.current.dispose();return react_default.a.createElement(es_MonacoContainer,{width:width,height:height,isEditorReady:isEditorReady,loading:loading,_ref:containerRef,className:className,wrapperClassName:wrapperClassName})}DiffEditor.propTypes={original:prop_types_default.a.string,modified:prop_types_default.a.string,language:prop_types_default.a.string,originalLanguage:prop_types_default.a.string,modifiedLanguage:prop_types_default.a.string,editorDidMount:prop_types_default.a.func,theme:prop_types_default.a.string,width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),loading:prop_types_default.a.oneOfType([prop_types_default.a.element,prop_types_default.a.string]),options:prop_types_default.a.object,className:prop_types_default.a.string,wrapperClassName:prop_types_default.a.string},DiffEditor.defaultProps={editorDidMount:noop,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{}};function Editor({value:value,language:language,editorDidMount:editorDidMount,theme:theme,line:line,width:width,height:height,loading:loading,options:options,overrideServices:overrideServices,_isControlledMode:_isControlledMode,className:className,wrapperClassName:wrapperClassName}){const[isEditorReady,setIsEditorReady]=Object(react.useState)(!1),[isMonacoMounting,setIsMonacoMounting]=Object(react.useState)(!0),editorRef=Object(react.useRef)(null),monacoRef=Object(react.useRef)(null),containerRef=Object(react.useRef)(null),editorDidMountRef=Object(react.useRef)(editorDidMount);hooks_useMount(()=>{const cancelable=es_monaco.init();return cancelable.then(monaco=>(monacoRef.current=monaco)&&setIsMonacoMounting(!1)).catch(error=>"cancelation"!==(null==error?void 0:error.type)&&console.error("Monaco initialization: error:",error)),()=>editorRef.current?disposeEditor():cancelable.cancel()}),hooks_useUpdate(()=>{editorRef.current.updateOptions(options)},[options],isEditorReady),hooks_useUpdate(()=>{if(editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly))editorRef.current.setValue(value);else if(value!==editorRef.current.getValue()){if(editorRef.current.executeEdits("",[{range:editorRef.current.getModel().getFullModelRange(),text:value,forceMoveMarkers:!0}]),_isControlledMode){const model=editorRef.current.getModel();model.forceTokenization(model.getLineCount())}editorRef.current.pushUndoStop()}},[value],isEditorReady),hooks_useUpdate(()=>{monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(),language)},[language],isEditorReady),hooks_useUpdate(()=>{editorRef.current.setScrollPosition({scrollTop:line})},[line],isEditorReady),hooks_useUpdate(()=>{monacoRef.current.editor.setTheme(theme)},[theme],isEditorReady);const createEditor=Object(react.useCallback)(()=>{editorRef.current=monacoRef.current.editor.create(containerRef.current,{value:value,language:language,automaticLayout:!0,...options},overrideServices),monacoRef.current.editor.setTheme(theme),setIsEditorReady(!0)},[language,options,overrideServices,theme,value]);Object(react.useEffect)(()=>{isEditorReady&&editorDidMountRef.current(editorRef.current.getValue.bind(editorRef.current),editorRef.current)},[isEditorReady]),Object(react.useEffect)(()=>{!isMonacoMounting&&!isEditorReady&&createEditor()},[isMonacoMounting,isEditorReady,createEditor]);const disposeEditor=()=>editorRef.current.dispose();return react_default.a.createElement(es_MonacoContainer,{width:width,height:height,isEditorReady:isEditorReady,loading:loading,_ref:containerRef,className:className,wrapperClassName:wrapperClassName})}Editor.propTypes={value:prop_types_default.a.string,language:prop_types_default.a.string,editorDidMount:prop_types_default.a.func,theme:prop_types_default.a.string,line:prop_types_default.a.number,width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),loading:prop_types_default.a.oneOfType([prop_types_default.a.element,prop_types_default.a.string]),options:prop_types_default.a.object,className:prop_types_default.a.string,wrapperClassName:prop_types_default.a.string,overrideServices:prop_types_default.a.object,_isControlledMode:prop_types_default.a.bool},Editor.defaultProps={editorDidMount:noop,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{},overrideServices:{},_isControlledMode:!1};var Editor_Editor=Editor,es_Editor=Object(react.memo)(Editor_Editor);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ControlledEditor({value:providedValue,onChange:onChange,editorDidMount:editorDidMount,...props}){const editor=Object(react.useRef)(null),listener=Object(react.useRef)(null),value=Object(react.useRef)(providedValue);value.current=providedValue;const handleEditorModelChange=Object(react.useCallback)(event=>{const editorValue=editor.current.getValue();if(value.current!==editorValue){const directChange=onChange(event,editorValue);"string"==typeof directChange&&editorValue!==directChange&&editor.current.setValue(directChange)}},[onChange]),attachChangeEventListener=Object(react.useCallback)(()=>{var _editor$current;listener.current=null===(_editor$current=editor.current)||void 0===_editor$current?void 0:_editor$current.onDidChangeModelContent(handleEditorModelChange)},[handleEditorModelChange]);Object(react.useEffect)(()=>(attachChangeEventListener(),()=>{var _listener$current;return null===(_listener$current=listener.current)||void 0===_listener$current?void 0:_listener$current.dispose()}),[attachChangeEventListener]);const handleEditorDidMount=Object(react.useCallback)((getValue,_editor)=>{editor.current=_editor,attachChangeEventListener(),editorDidMount(getValue,_editor)},[attachChangeEventListener,editorDidMount]);return react_default.a.createElement(es_Editor,_extends({value:providedValue,editorDidMount:handleEditorDidMount,_isControlledMode:!0},props))}ControlledEditor.propTypes={value:prop_types_default.a.string,editorDidMount:prop_types_default.a.func,onChange:prop_types_default.a.func},ControlledEditor.defaultProps={editorDidMount:noop,onChange:noop};var ControlledEditor_ControlledEditor=ControlledEditor,es_ControlledEditor=Object(react.memo)(ControlledEditor_ControlledEditor);const CodeEditor=({value:value,onChange:onChange,language:language,height:height,...attrs})=>react_default.a.createElement(es_ControlledEditor,Object.assign({height:height,language:language,value:value,onChange:onChange},attrs));CodeEditor.defaultProps={height:"600px",language:"javascript",value:""};__webpack_exports__.default=CodeEditor}}]);
//# sourceMappingURL=15.83bcf0e9b4ceace7b894.bundle.js.map