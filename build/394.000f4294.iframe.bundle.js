(self.webpackChunkblaze_react=self.webpackChunkblaze_react||[]).push([[394],{29394:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return src_Table}});var toConsumableArray=__webpack_require__(85061),slicedToArray=__webpack_require__(28481),react=(__webpack_require__(26699),__webpack_require__(32023),__webpack_require__(92222),__webpack_require__(57327),__webpack_require__(67294)),src=(__webpack_require__(19601),__webpack_require__(21249),__webpack_require__(28284)),react_tiny_virtual_list_es=__webpack_require__(47320),index_prod=__webpack_require__(18917),TableBody=function TableBody(_ref){var allRows=_ref.allRows,checkboxes=_ref.checkboxes,identification=_ref.identification,selected=_ref.selected,handleSelected=_ref.handleSelected,columns=_ref.columns,placeholder=_ref.placeholder,bodyRef=_ref.bodyRef,_ref$overScanBuffer=_ref.overScanBuffer,overScanBuffer=void 0===_ref$overScanBuffer?20:_ref$overScanBuffer,onRenderItems=_ref.onRenderItems,_ref$scrollToIndex=_ref.scrollToIndex,scrollToIndex=void 0===_ref$scrollToIndex?0:_ref$scrollToIndex,onClickRow=_ref.onClickRow;return react.createElement("div",{ref:bodyRef,className:"table-body"},bodyRef.current&&allRows.length&&react.createElement(react_tiny_virtual_list_es.Z,{width:"100%",height:bodyRef.current.offsetHeight,itemCount:allRows.length,itemSize:62,scrollToIndex:scrollToIndex,overscanCount:overScanBuffer,onItemsRendered:onRenderItems,renderItem:function renderItem(_ref2){var index=_ref2.index,style=_ref2.style;return react.createElement("div",{onClick:function onClick(){return onClickRow(Object.assign(Object.assign({},allRows[index]),{index:index}))},className:"table-row",key:"tablerow-"+(0,index_prod.x0)(),"data-testid":"tablerow-"+index,style:style},checkboxes&&react.createElement("div",{className:"table-cell--checkbox"},react.createElement(src.x,{"test-id":"row-checkbox-"+index,options:{checked:selected.includes(allRows[index][identification]),id:allRows[index][identification],value:allRows[index][identification]},onChange:function onChange(_ref3){var value=_ref3.value;return handleSelected(value,allRows[index][identification])}})),columns.map((function(column){return react.createElement("div",{className:"table-cell",key:column},react.createElement("div",{className:"table-cell--content"},allRows[index][column]))})))}}),!allRows.length&&react.createElement("div",{className:"table-body-placeholder"},react.createElement("div",null,placeholder)))},TableBody_TableBody=TableBody;try{TableBody.displayName="TableBody",TableBody.__docgenInfo={description:"",displayName:"TableBody",props:{allRows:{defaultValue:null,description:"",name:"allRows",required:!0,type:{name:"ITableRow[]"}},checkboxes:{defaultValue:null,description:"",name:"checkboxes",required:!1,type:{name:"boolean"}},identification:{defaultValue:null,description:"",name:"identification",required:!0,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"any[]"}},handleSelected:{defaultValue:null,description:"",name:"handleSelected",required:!0,type:{name:"(checked: ICheckbox[], value: string | ICheckbox[], isMultiselect?: boolean) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"string[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string | Element"}},bodyRef:{defaultValue:null,description:"",name:"bodyRef",required:!0,type:{name:"any"}},scrollToIndex:{defaultValue:{value:0},description:"",name:"scrollToIndex",required:!1,type:{name:"number"}},overScanBuffer:{defaultValue:{value:20},description:"",name:"overScanBuffer",required:!1,type:{name:"number"}},onRenderItems:{defaultValue:null,description:"",name:"onRenderItems",required:!1,type:{name:"(arg: any) => void"}},onClickRow:{defaultValue:null,description:"",name:"onClickRow",required:!0,type:{name:"(arg: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/Table/src/TableBody/TableBody.tsx#TableBody"]={docgenInfo:TableBody.__docgenInfo,name:"TableBody",path:"packages/Table/src/TableBody/TableBody.tsx#TableBody"})}catch(__react_docgen_typescript_loader_error){}var src_TableBody=TableBody_TableBody,SortableCell=(__webpack_require__(47941),__webpack_require__(69720),function SortableCell(_ref){var onSort=_ref.onSort,orderBy=_ref.orderBy,column=_ref.column,columns=_ref.columns,appliedSort=_ref.appliedSort,labels=_ref.labels,formatColumns=columns.reduce((function(acc,item){var _Object$assign;return Object.assign(Object.assign({},acc),((_Object$assign={})[item]=null,_Object$assign))}),{}),_useState=(0,react.useState)(formatColumns),_useState2=(0,slicedToArray.Z)(_useState,2),tableColumns=_useState2[0],setTableColumns=_useState2[1],sort=function sort(col){var _Object$assign2,_onSort;if(orderBy.includes(col)){var resetTableColumns=Object.keys(tableColumns).reduce((function(acc,key){return acc[key]=null,acc}),{}),sortDirection=function getSortDirection(col){return null===tableColumns[col]?"asc":"asc"===tableColumns[col]?"desc":"asc"}(column);setTableColumns(Object.assign(Object.assign({},resetTableColumns),((_Object$assign2={})[column]=sortDirection,_Object$assign2))),onSort(((_onSort={})[column]=sortDirection,_onSort))}};return(0,react.useEffect)((function(){if(appliedSort){var _Object$entries=Object.entries(appliedSort),_Object$entries2=(0,slicedToArray.Z)(_Object$entries,1),_Object$entries2$=(0,slicedToArray.Z)(_Object$entries2[0],2),col=_Object$entries2$[0],direction=_Object$entries2$[1];if(tableColumns[col]!==direction){var _Object$assign3,merged=Object.assign(Object.assign({},tableColumns),((_Object$assign3={})[col]=direction,_Object$assign3));setTableColumns(merged)}}}),[appliedSort]),react.createElement("div",{className:"sortable"},react.createElement("span",{"data-testid":"sortby-"+column,onClick:function onClick(){return sort(column)},role:"button"},labels[column]),null!==tableColumns[column]&&react.createElement("i",{className:"material-icons"},"asc"===tableColumns[column]?"keyboard_arrow_up":"keyboard_arrow_down"))}),SortableCell_SortableCell=SortableCell;try{SortableCell.displayName="SortableCell",SortableCell.__docgenInfo={description:"",displayName:"SortableCell",props:{onSort:{defaultValue:null,description:"",name:"onSort",required:!0,type:{name:"any"}},orderBy:{defaultValue:null,description:"",name:"orderBy",required:!0,type:{name:"any"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"any"}},appliedSort:{defaultValue:null,description:"",name:"appliedSort",required:!0,type:{name:"any"}},labels:{defaultValue:null,description:"",name:"labels",required:!0,type:{name:"IMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/Table/src/TableHead/SortableCell/SortableCell.tsx#SortableCell"]={docgenInfo:SortableCell.__docgenInfo,name:"SortableCell",path:"packages/Table/src/TableHead/SortableCell/SortableCell.tsx#SortableCell"})}catch(__react_docgen_typescript_loader_error){}var TableHead_SortableCell=SortableCell_SortableCell,TableHead=function TableHead(_ref){var onSort=_ref.onSort,orderBy=_ref.orderBy,columns=_ref.columns,headRef=_ref.headRef,appliedSort=_ref.appliedSort,labels=_ref.labels;return react.createElement("div",{className:"table-head",ref:headRef},react.createElement("div",{className:"table-cell--checkbox"}),columns.map((function(column,index){return react.createElement("div",{key:"tablehead-"+index,className:"table-cell"},react.createElement(TableHead_SortableCell,{appliedSort:appliedSort,onSort:onSort,orderBy:orderBy,column:column,columns:columns,labels:labels}))})))},TableHead_TableHead=TableHead;try{TableHead.displayName="TableHead",TableHead.__docgenInfo={description:"",displayName:"TableHead",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"any"}},headRef:{defaultValue:null,description:"",name:"headRef",required:!0,type:{name:"any"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!0,type:{name:"any"}},orderBy:{defaultValue:null,description:"",name:"orderBy",required:!0,type:{name:"any"}},appliedSort:{defaultValue:null,description:"",name:"appliedSort",required:!0,type:{name:"any"}},labels:{defaultValue:null,description:"",name:"labels",required:!0,type:{name:"Record<string, unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/Table/src/TableHead/TableHead.tsx#TableHead"]={docgenInfo:TableHead.__docgenInfo,name:"TableHead",path:"packages/Table/src/TableHead/TableHead.tsx#TableHead"})}catch(__react_docgen_typescript_loader_error){}var src_TableHead=TableHead_TableHead,Table=function Table(_ref){var _ref$data=_ref.data,columns=_ref$data.columns,rows=_ref$data.rows,identification=_ref$data.identification,orderBy=_ref$data.orderBy,appliedSort=_ref$data.appliedSort,labels=_ref$data.labels,_ref$onSelect=_ref.onSelect,onSelect=void 0===_ref$onSelect?function(){return{}}:_ref$onSelect,_ref$onSort=_ref.onSort,onSort=void 0===_ref$onSort?function(){return{}}:_ref$onSort,_ref$onClickRow=_ref.onClickRow,onClickRow=void 0===_ref$onClickRow?function(){return{}}:_ref$onClickRow,checkboxes=_ref.checkboxes,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"":_ref$placeholder,_ref$overScanBuffer=_ref.overScanBuffer,overScanBuffer=void 0===_ref$overScanBuffer?0:_ref$overScanBuffer,onRenderItems=_ref.onRenderItems,_ref$scrollToIndex=_ref.scrollToIndex,scrollToIndex=void 0===_ref$scrollToIndex?0:_ref$scrollToIndex,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),selected=_useState2[0],setSelected=_useState2[1],_useState3=(0,react.useState)(rows),_useState4=(0,slicedToArray.Z)(_useState3,2),allRows=_useState4[0],setAllRows=_useState4[1],_useState5=(0,react.useState)(columns),_useState6=(0,slicedToArray.Z)(_useState5,2),allColumns=_useState6[0],setAllColumns=_useState6[1],headRef=(0,react.useRef)(null),bodyRef=(0,react.useRef)(null);(0,react.useEffect)((function(){setAllRows(rows),setAllColumns(columns)}),[rows,rows&&rows.length,columns,columns&&columns.length]),(0,react.useEffect)((function(){return bodyRef&&bodyRef.current&&bodyRef.current.firstElementChild&&allRows.length&&bodyRef.current.firstElementChild.addEventListener("scroll",(function(event){return syncScroll(headRef.current,event)})),headRef&&headRef.current&&headRef.current.firstElementChild&&headRef.current.addEventListener("scroll",(function(event){return syncScroll(bodyRef.current.firstElementChild,event)})),function(){bodyRef&&bodyRef.current&&bodyRef.current.firstElementChild&&bodyRef.current.firstElementChild.removeEventListener("scroll",syncScroll),headRef.current&&headRef.current.removeEventListener("scroll",syncScroll)}}),[bodyRef.current,headRef.current,allRows]);var syncScroll=function syncScroll(ref,event){ref.scrollLeft=event.target.scrollLeft};return react.createElement("div",{className:"table-wrapper"},react.createElement(src_TableHead,{onSort:onSort,orderBy:orderBy,headRef:headRef,columns:allColumns,appliedSort:appliedSort,labels:labels}),react.createElement(src_TableBody,{scrollToIndex:scrollToIndex,onClickRow:onClickRow,bodyRef:bodyRef,allRows:allRows,checkboxes:checkboxes,identification:identification,selected:selected,handleSelected:function handleSelected(_ref2,value){var _ref3=(0,slicedToArray.Z)(_ref2,1),checked=_ref3[0],multiselect=arguments.length>2&&void 0!==arguments[2]&&arguments[2],checkedValue=[];checkedValue=checked&&!selected.includes(checked.value)?[].concat((0,toConsumableArray.Z)(selected),[checked.value]):selected.filter((function(currentValue){return currentValue!==value})),multiselect&&(checkedValue=checked?(0,toConsumableArray.Z)(checked.value):[]),setSelected(checkedValue),onSelect(checkedValue)},columns:columns,placeholder:placeholder,overScanBuffer:overScanBuffer,onRenderItems:onRenderItems}))};Table.defaultProps={checkboxes:!1,data:{columns:[],identification:"",orderBy:[],rows:[],labels:{}},placeholder:"No records available"};var src_Table=Table;try{Table.displayName="Table",Table.__docgenInfo={description:"",displayName:"Table",props:{placeholder:{defaultValue:{value:"No records available"},description:"",name:"placeholder",required:!1,type:{name:"string"}},checkboxes:{defaultValue:{value:!1},description:"",name:"checkboxes",required:!1,type:{name:"boolean"}},data:{defaultValue:{value:"{\n    columns: [],\n    identification: '',\n    orderBy: [],\n    rows: [],\n    labels: {},\n  }"},description:"",name:"data",required:!1,type:{name:"{ identification: string; columns: string[]; orderBy: string[]; rows: ITableRow[]; appliedSort?: any; labels: Record<string, unknown>; }"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},overScanBuffer:{defaultValue:{value:0},description:"",name:"overScanBuffer",required:!1,type:{name:"number"}},onSelect:{defaultValue:{value:"() => ({})"},description:"",name:"onSelect",required:!1,type:{name:"(arg: any[]) => any"}},onSort:{defaultValue:{value:"() => ({})"},description:"",name:"onSort",required:!1,type:{name:"(arg: any) => any"}},onRenderItems:{defaultValue:null,description:"",name:"onRenderItems",required:!1,type:{name:"(arg: any) => void"}},onClickRow:{defaultValue:{value:"() => ({})"},description:"",name:"onClickRow",required:!1,type:{name:"(arg: any) => void"}},scrollToIndex:{defaultValue:{value:0},description:"",name:"scrollToIndex",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/Table/src/Table.tsx#Table"]={docgenInfo:Table.__docgenInfo,name:"Table",path:"packages/Table/src/Table.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=394.000f4294.iframe.bundle.js.map